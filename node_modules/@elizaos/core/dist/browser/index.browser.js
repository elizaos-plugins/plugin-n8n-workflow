var KI=Object.create;var{getPrototypeOf:PI,defineProperty:cP,getOwnPropertyNames:bZ,getOwnPropertyDescriptor:YI}=Object,yZ=Object.prototype.hasOwnProperty;var R8=($,q,_)=>{_=$!=null?KI(PI($)):{};let P=q||!$||!$.__esModule?cP(_,"default",{value:$,enumerable:!0}):_;for(let K of bZ($))if(!yZ.call(P,K))cP(P,K,{get:()=>$[K],enumerable:!0});return P},gZ=new WeakMap,H6=($)=>{var q=gZ.get($),_;if(q)return q;if(q=cP({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")bZ($).map((P)=>!yZ.call(q,P)&&cP(q,P,{get:()=>$[P],enumerable:!(_=YI($,P))||_.enumerable}));return gZ.set($,q),q},N$=($,q)=>()=>(q||$((q={exports:{}}).exports,q),q.exports);var Rq=($,q)=>{for(var _ in q)cP($,_,{get:q[_],enumerable:!0,configurable:!0,set:(P)=>q[_]=()=>P})};var P4=($,q)=>()=>($&&(q=$($=0)),q);var I8=(($)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy($,{get:(q,_)=>(typeof require<"u"?require:q)[_]}):$)(function($){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+$+'" is not supported')});var dZ=N$((je,mZ)=>{mZ.exports=function($,q){if(typeof $!=="string")throw TypeError("Expected a string");return q=typeof q>"u"?"_":q,$.replace(/([a-z\d])([A-Z])/g,"$1"+q+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+q+"$2").toLowerCase()}});var UZ=N$((ve,PO)=>{var wI=/[\p{Lu}]/u,ZI=/[\p{Ll}]/u,lZ=/^[\p{Lu}](?![\p{Lu}])/gu,nZ=/([\p{Alpha}\p{N}_]|$)/u,iZ=/[_.\- ]+/,fI=new RegExp("^"+iZ.source),rZ=new RegExp(iZ.source+nZ.source,"gu"),oZ=new RegExp("\\d+"+nZ.source,"gu"),XI=($,q,_)=>{let P=!1,K=!1,O=!1;for(let Y=0;Y<$.length;Y++){let v=$[Y];if(P&&wI.test(v))$=$.slice(0,Y)+"-"+$.slice(Y),P=!1,O=K,K=!0,Y++;else if(K&&O&&ZI.test(v))$=$.slice(0,Y-1)+"-"+$.slice(Y-1),O=K,K=!1,P=!0;else P=q(v)===v&&_(v)!==v,O=K,K=_(v)===v&&q(v)!==v}return $},AI=($,q)=>{return lZ.lastIndex=0,$.replace(lZ,(_)=>q(_))},kI=($,q)=>{return rZ.lastIndex=0,oZ.lastIndex=0,$.replace(rZ,(_,P)=>q(P)).replace(oZ,(_)=>q(_))},BZ=($,q)=>{if(!(typeof $==="string"||Array.isArray($)))throw TypeError("Expected the input to be `string | string[]`");if(q={pascalCase:!1,preserveConsecutiveUppercase:!1,...q},Array.isArray($))$=$.map((O)=>O.trim()).filter((O)=>O.length).join("-");else $=$.trim();if($.length===0)return"";let _=q.locale===!1?(O)=>O.toLowerCase():(O)=>O.toLocaleLowerCase(q.locale),P=q.locale===!1?(O)=>O.toUpperCase():(O)=>O.toLocaleUpperCase(q.locale);if($.length===1)return q.pascalCase?P($):_($);if($!==_($))$=XI($,_,P);if($=$.replace(fI,""),q.preserveConsecutiveUppercase)$=AI($,_);else $=_($);if(q.pascalCase)$=P($.charAt(0))+$.slice(1);return kI($,P)};PO.exports=BZ;PO.exports.default=BZ});var oX=N$((g6$,xO)=>{var ph=Object.prototype.hasOwnProperty,uq="~";function aP(){}if(Object.create){if(aP.prototype=Object.create(null),!new aP().__proto__)uq=!1}function ch($,q,_){this.fn=$,this.context=q,this.once=_||!1}function rX($,q,_,P,K){if(typeof _!=="function")throw TypeError("The listener must be a function");var O=new ch(_,P||$,K),Y=uq?uq+q:q;if(!$._events[Y])$._events[Y]=O,$._eventsCount++;else if(!$._events[Y].fn)$._events[Y].push(O);else $._events[Y]=[$._events[Y],O];return $}function A9($,q){if(--$._eventsCount===0)$._events=new aP;else delete $._events[q]}function hq(){this._events=new aP,this._eventsCount=0}hq.prototype.eventNames=function(){var q=[],_,P;if(this._eventsCount===0)return q;for(P in _=this._events)if(ph.call(_,P))q.push(uq?P.slice(1):P);if(Object.getOwnPropertySymbols)return q.concat(Object.getOwnPropertySymbols(_));return q};hq.prototype.listeners=function(q){var _=uq?uq+q:q,P=this._events[_];if(!P)return[];if(P.fn)return[P.fn];for(var K=0,O=P.length,Y=Array(O);K<O;K++)Y[K]=P[K].fn;return Y};hq.prototype.listenerCount=function(q){var _=uq?uq+q:q,P=this._events[_];if(!P)return 0;if(P.fn)return 1;return P.length};hq.prototype.emit=function(q,_,P,K,O,Y){var v=uq?uq+q:q;if(!this._events[v])return!1;var W=this._events[v],T=arguments.length,Z,w;if(W.fn){if(W.once)this.removeListener(q,W.fn,void 0,!0);switch(T){case 1:return W.fn.call(W.context),!0;case 2:return W.fn.call(W.context,_),!0;case 3:return W.fn.call(W.context,_,P),!0;case 4:return W.fn.call(W.context,_,P,K),!0;case 5:return W.fn.call(W.context,_,P,K,O),!0;case 6:return W.fn.call(W.context,_,P,K,O,Y),!0}for(w=1,Z=Array(T-1);w<T;w++)Z[w-1]=arguments[w];W.fn.apply(W.context,Z)}else{var k=W.length,M;for(w=0;w<k;w++){if(W[w].once)this.removeListener(q,W[w].fn,void 0,!0);switch(T){case 1:W[w].fn.call(W[w].context);break;case 2:W[w].fn.call(W[w].context,_);break;case 3:W[w].fn.call(W[w].context,_,P);break;case 4:W[w].fn.call(W[w].context,_,P,K);break;default:if(!Z)for(M=1,Z=Array(T-1);M<T;M++)Z[M-1]=arguments[M];W[w].fn.apply(W[w].context,Z)}}}return!0};hq.prototype.on=function(q,_,P){return rX(this,q,_,P,!1)};hq.prototype.once=function(q,_,P){return rX(this,q,_,P,!0)};hq.prototype.removeListener=function(q,_,P,K){var O=uq?uq+q:q;if(!this._events[O])return this;if(!_)return A9(this,O),this;var Y=this._events[O];if(Y.fn){if(Y.fn===_&&(!K||Y.once)&&(!P||Y.context===P))A9(this,O)}else{for(var v=0,W=[],T=Y.length;v<T;v++)if(Y[v].fn!==_||K&&!Y[v].once||P&&Y[v].context!==P)W.push(Y[v]);if(W.length)this._events[O]=W.length===1?W[0]:W;else A9(this,O)}return this};hq.prototype.removeAllListeners=function(q){var _;if(q){if(_=uq?uq+q:q,this._events[_])A9(this,_)}else this._events=new aP,this._eventsCount=0;return this};hq.prototype.off=hq.prototype.removeListener;hq.prototype.addListener=hq.prototype.on;hq.prefixed=uq;hq.EventEmitter=hq;if(typeof xO<"u")xO.exports=hq});var iX=N$((b6$,nX)=>{nX.exports=($,q)=>{return q=q||(()=>{}),$.then((_)=>new Promise((P)=>{P(q())}).then(()=>_),(_)=>new Promise((P)=>{P(q())}).then(()=>{throw _}))}});var UX=N$((y6$,k9)=>{var mh=iX();class pO extends Error{constructor($){super($);this.name="TimeoutError"}}var BX=($,q,_)=>new Promise((P,K)=>{if(typeof q!=="number"||q<0)throw TypeError("Expected `milliseconds` to be a positive number");if(q===1/0){P($);return}let O=setTimeout(()=>{if(typeof _==="function"){try{P(_())}catch(W){K(W)}return}let Y=typeof _==="string"?_:`Promise timed out after ${q} milliseconds`,v=_ instanceof Error?_:new pO(Y);if(typeof $.cancel==="function")$.cancel();K(v)},q);mh($.then(P,K),()=>{clearTimeout(O)})});k9.exports=BX;k9.exports.default=BX;k9.exports.TimeoutError=pO});var FX=N$((tX)=>{Object.defineProperty(tX,"__esModule",{value:!0});function dh($,q,_){let P=0,K=$.length;while(K>0){let O=K/2|0,Y=P+O;if(_($[Y],q)<=0)P=++Y,K-=O+1;else K=O}return P}tX.default=dh});var eX=N$((aX)=>{Object.defineProperty(aX,"__esModule",{value:!0});var rh=FX();class QX{constructor(){this._queue=[]}enqueue($,q){q=Object.assign({priority:0},q);let _={priority:q.priority,run:$};if(this.size&&this._queue[this.size-1].priority>=q.priority){this._queue.push(_);return}let P=rh.default(this._queue,_,(K,O)=>O.priority-K.priority);this._queue.splice(P,0,_)}dequeue(){let $=this._queue.shift();return $===null||$===void 0?void 0:$.run}filter($){return this._queue.filter((q)=>q.priority===$.priority).map((q)=>q.run)}get size(){return this._queue.length}}aX.default=QX});var V9=N$((qA)=>{Object.defineProperty(qA,"__esModule",{value:!0});var nh=oX(),sX=UX(),ih=eX(),G9=()=>{},Bh=new sX.TimeoutError;class $A extends nh{constructor($){var q,_,P,K;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=G9,this._resolveIdle=G9,$=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:ih.default},$),!(typeof $.intervalCap==="number"&&$.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(_=(q=$.intervalCap)===null||q===void 0?void 0:q.toString())!==null&&_!==void 0?_:""}\` (${typeof $.intervalCap})`);if($.interval===void 0||!(Number.isFinite($.interval)&&$.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(K=(P=$.interval)===null||P===void 0?void 0:P.toString())!==null&&K!==void 0?K:""}\` (${typeof $.interval})`);this._carryoverConcurrencyCount=$.carryoverConcurrencyCount,this._isIntervalIgnored=$.intervalCap===1/0||$.interval===0,this._intervalCap=$.intervalCap,this._interval=$.interval,this._queue=new $.queueClass,this._queueClass=$.queueClass,this.concurrency=$.concurrency,this._timeout=$.timeout,this._throwOnTimeout=$.throwOnTimeout===!0,this._isPaused=$.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){if(this._resolveEmpty(),this._resolveEmpty=G9,this._pendingCount===0)this._resolveIdle(),this._resolveIdle=G9,this.emit("idle")}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let $=Date.now();if(this._intervalId===void 0){let q=this._intervalEnd-$;if(q<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else{if(this._timeoutId===void 0)this._timeoutId=setTimeout(()=>{this._onResumeInterval()},q);return!0}}return!1}_tryToStartAnother(){if(this._queue.size===0){if(this._intervalId)clearInterval(this._intervalId);return this._intervalId=void 0,this._resolvePromises(),!1}if(!this._isPaused){let $=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let q=this._queue.dequeue();if(!q)return!1;if(this.emit("active"),q(),$)this._initializeIntervalIfNeeded();return!0}}return!1}_initializeIntervalIfNeeded(){if(this._isIntervalIgnored||this._intervalId!==void 0)return;this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval}_onInterval(){if(this._intervalCount===0&&this._pendingCount===0&&this._intervalId)clearInterval(this._intervalId),this._intervalId=void 0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){while(this._tryToStartAnother());}get concurrency(){return this._concurrency}set concurrency($){if(!(typeof $==="number"&&$>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${$}\` (${typeof $})`);this._concurrency=$,this._processQueue()}async add($,q={}){return new Promise((_,P)=>{let K=async()=>{this._pendingCount++,this._intervalCount++;try{let O=this._timeout===void 0&&q.timeout===void 0?$():sX.default(Promise.resolve($()),q.timeout===void 0?this._timeout:q.timeout,()=>{if(q.throwOnTimeout===void 0?this._throwOnTimeout:q.throwOnTimeout)P(Bh);return});_(await O)}catch(O){P(O)}this._next()};this._queue.enqueue(K,q),this._tryToStartAnother(),this.emit("add")})}async addAll($,q){return Promise.all($.map(async(_)=>this.add(_,q)))}start(){if(!this._isPaused)return this;return this._isPaused=!1,this._processQueue(),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size===0)return;return new Promise(($)=>{let q=this._resolveEmpty;this._resolveEmpty=()=>{q(),$()}})}async onIdle(){if(this._pendingCount===0&&this._queue.size===0)return;return new Promise(($)=>{let q=this._resolveIdle;this._resolveIdle=()=>{q(),$()}})}get size(){return this._queue.size}sizeBy($){return this._queue.filter($).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout($){this._timeout=$}}qA.default=$A});var eP=N$((l6$,_A)=>{var Fh=Number.MAX_SAFE_INTEGER||9007199254740991,Qh=["major","premajor","minor","preminor","patch","prepatch","prerelease"];_A.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Fh,RELEASE_TYPES:Qh,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var sP=N$((r6$,KA)=>{var ah=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...$)=>console.error("SEMVER",...$):()=>{};KA.exports=ah});var z4=N$((t8,PA)=>{var{MAX_SAFE_COMPONENT_LENGTH:dO,MAX_SAFE_BUILD_LENGTH:eh,MAX_LENGTH:sh}=eP(),$D=sP();t8=PA.exports={};var qD=t8.re=[],_D=t8.safeRe=[],a$=t8.src=[],KD=t8.safeSrc=[],e$=t8.t={},PD=0,lO="[a-zA-Z0-9-]",YD=[["\\s",1],["\\d",sh],[lO,eh]],OD=($)=>{for(let[q,_]of YD)$=$.split(`${q}*`).join(`${q}{0,${_}}`).split(`${q}+`).join(`${q}{1,${_}}`);return $},v6=($,q,_)=>{let P=OD(q),K=PD++;$D($,K,q),e$[$]=K,a$[K]=q,KD[K]=P,qD[K]=new RegExp(q,_?"g":void 0),_D[K]=new RegExp(P,_?"g":void 0)};v6("NUMERICIDENTIFIER","0|[1-9]\\d*");v6("NUMERICIDENTIFIERLOOSE","\\d+");v6("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${lO}*`);v6("MAINVERSION",`(${a$[e$.NUMERICIDENTIFIER]})\\.(${a$[e$.NUMERICIDENTIFIER]})\\.(${a$[e$.NUMERICIDENTIFIER]})`);v6("MAINVERSIONLOOSE",`(${a$[e$.NUMERICIDENTIFIERLOOSE]})\\.(${a$[e$.NUMERICIDENTIFIERLOOSE]})\\.(${a$[e$.NUMERICIDENTIFIERLOOSE]})`);v6("PRERELEASEIDENTIFIER",`(?:${a$[e$.NONNUMERICIDENTIFIER]}|${a$[e$.NUMERICIDENTIFIER]})`);v6("PRERELEASEIDENTIFIERLOOSE",`(?:${a$[e$.NONNUMERICIDENTIFIER]}|${a$[e$.NUMERICIDENTIFIERLOOSE]})`);v6("PRERELEASE",`(?:-(${a$[e$.PRERELEASEIDENTIFIER]}(?:\\.${a$[e$.PRERELEASEIDENTIFIER]})*))`);v6("PRERELEASELOOSE",`(?:-?(${a$[e$.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a$[e$.PRERELEASEIDENTIFIERLOOSE]})*))`);v6("BUILDIDENTIFIER",`${lO}+`);v6("BUILD",`(?:\\+(${a$[e$.BUILDIDENTIFIER]}(?:\\.${a$[e$.BUILDIDENTIFIER]})*))`);v6("FULLPLAIN",`v?${a$[e$.MAINVERSION]}${a$[e$.PRERELEASE]}?${a$[e$.BUILD]}?`);v6("FULL",`^${a$[e$.FULLPLAIN]}$`);v6("LOOSEPLAIN",`[v=\\s]*${a$[e$.MAINVERSIONLOOSE]}${a$[e$.PRERELEASELOOSE]}?${a$[e$.BUILD]}?`);v6("LOOSE",`^${a$[e$.LOOSEPLAIN]}$`);v6("GTLT","((?:<|>)?=?)");v6("XRANGEIDENTIFIERLOOSE",`${a$[e$.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);v6("XRANGEIDENTIFIER",`${a$[e$.NUMERICIDENTIFIER]}|x|X|\\*`);v6("XRANGEPLAIN",`[v=\\s]*(${a$[e$.XRANGEIDENTIFIER]})(?:\\.(${a$[e$.XRANGEIDENTIFIER]})(?:\\.(${a$[e$.XRANGEIDENTIFIER]})(?:${a$[e$.PRERELEASE]})?${a$[e$.BUILD]}?)?)?`);v6("XRANGEPLAINLOOSE",`[v=\\s]*(${a$[e$.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a$[e$.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a$[e$.XRANGEIDENTIFIERLOOSE]})(?:${a$[e$.PRERELEASELOOSE]})?${a$[e$.BUILD]}?)?)?`);v6("XRANGE",`^${a$[e$.GTLT]}\\s*${a$[e$.XRANGEPLAIN]}$`);v6("XRANGELOOSE",`^${a$[e$.GTLT]}\\s*${a$[e$.XRANGEPLAINLOOSE]}$`);v6("COERCEPLAIN",`(^|[^\\d])(\\d{1,${dO}})(?:\\.(\\d{1,${dO}}))?(?:\\.(\\d{1,${dO}}))?`);v6("COERCE",`${a$[e$.COERCEPLAIN]}(?:$|[^\\d])`);v6("COERCEFULL",a$[e$.COERCEPLAIN]+`(?:${a$[e$.PRERELEASE]})?(?:${a$[e$.BUILD]})?(?:$|[^\\d])`);v6("COERCERTL",a$[e$.COERCE],!0);v6("COERCERTLFULL",a$[e$.COERCEFULL],!0);v6("LONETILDE","(?:~>?)");v6("TILDETRIM",`(\\s*)${a$[e$.LONETILDE]}\\s+`,!0);t8.tildeTrimReplace="$1~";v6("TILDE",`^${a$[e$.LONETILDE]}${a$[e$.XRANGEPLAIN]}$`);v6("TILDELOOSE",`^${a$[e$.LONETILDE]}${a$[e$.XRANGEPLAINLOOSE]}$`);v6("LONECARET","(?:\\^)");v6("CARETTRIM",`(\\s*)${a$[e$.LONECARET]}\\s+`,!0);t8.caretTrimReplace="$1^";v6("CARET",`^${a$[e$.LONECARET]}${a$[e$.XRANGEPLAIN]}$`);v6("CARETLOOSE",`^${a$[e$.LONECARET]}${a$[e$.XRANGEPLAINLOOSE]}$`);v6("COMPARATORLOOSE",`^${a$[e$.GTLT]}\\s*(${a$[e$.LOOSEPLAIN]})$|^$`);v6("COMPARATOR",`^${a$[e$.GTLT]}\\s*(${a$[e$.FULLPLAIN]})$|^$`);v6("COMPARATORTRIM",`(\\s*)${a$[e$.GTLT]}\\s*(${a$[e$.LOOSEPLAIN]}|${a$[e$.XRANGEPLAIN]})`,!0);t8.comparatorTrimReplace="$1$2$3";v6("HYPHENRANGE",`^\\s*(${a$[e$.XRANGEPLAIN]})\\s+-\\s+(${a$[e$.XRANGEPLAIN]})\\s*$`);v6("HYPHENRANGELOOSE",`^\\s*(${a$[e$.XRANGEPLAINLOOSE]})\\s+-\\s+(${a$[e$.XRANGEPLAINLOOSE]})\\s*$`);v6("STAR","(<|>)?=?\\s*\\*");v6("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");v6("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var N9=N$((o6$,YA)=>{var jD=Object.freeze({loose:!0}),vD=Object.freeze({}),zD=($)=>{if(!$)return vD;if(typeof $!=="object")return jD;return $};YA.exports=zD});var rO=N$((n6$,vA)=>{var OA=/^[0-9]+$/,jA=($,q)=>{if(typeof $==="number"&&typeof q==="number")return $===q?0:$<q?-1:1;let _=OA.test($),P=OA.test(q);if(_&&P)$=+$,q=+q;return $===q?0:_&&!P?-1:P&&!_?1:$<q?-1:1},JD=($,q)=>jA(q,$);vA.exports={compareIdentifiers:jA,rcompareIdentifiers:JD}});var Dq=N$((i6$,JA)=>{var C9=sP(),{MAX_LENGTH:zA,MAX_SAFE_INTEGER:E9}=eP(),{safeRe:R9,t:I9}=z4(),WD=N9(),{compareIdentifiers:oO}=rO();class g8{constructor($,q){if(q=WD(q),$ instanceof g8)if($.loose===!!q.loose&&$.includePrerelease===!!q.includePrerelease)return $;else $=$.version;else if(typeof $!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof $}".`);if($.length>zA)throw TypeError(`version is longer than ${zA} characters`);C9("SemVer",$,q),this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease;let _=$.trim().match(q.loose?R9[I9.LOOSE]:R9[I9.FULL]);if(!_)throw TypeError(`Invalid Version: ${$}`);if(this.raw=$,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>E9||this.major<0)throw TypeError("Invalid major version");if(this.minor>E9||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>E9||this.patch<0)throw TypeError("Invalid patch version");if(!_[4])this.prerelease=[];else this.prerelease=_[4].split(".").map((P)=>{if(/^[0-9]+$/.test(P)){let K=+P;if(K>=0&&K<E9)return K}return P});this.build=_[5]?_[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare($){if(C9("SemVer.compare",this.version,this.options,$),!($ instanceof g8)){if(typeof $==="string"&&$===this.version)return 0;$=new g8($,this.options)}if($.version===this.version)return 0;return this.compareMain($)||this.comparePre($)}compareMain($){if(!($ instanceof g8))$=new g8($,this.options);if(this.major<$.major)return-1;if(this.major>$.major)return 1;if(this.minor<$.minor)return-1;if(this.minor>$.minor)return 1;if(this.patch<$.patch)return-1;if(this.patch>$.patch)return 1;return 0}comparePre($){if(!($ instanceof g8))$=new g8($,this.options);if(this.prerelease.length&&!$.prerelease.length)return-1;else if(!this.prerelease.length&&$.prerelease.length)return 1;else if(!this.prerelease.length&&!$.prerelease.length)return 0;let q=0;do{let _=this.prerelease[q],P=$.prerelease[q];if(C9("prerelease compare",q,_,P),_===void 0&&P===void 0)return 0;else if(P===void 0)return 1;else if(_===void 0)return-1;else if(_===P)continue;else return oO(_,P)}while(++q)}compareBuild($){if(!($ instanceof g8))$=new g8($,this.options);let q=0;do{let _=this.build[q],P=$.build[q];if(C9("build compare",q,_,P),_===void 0&&P===void 0)return 0;else if(P===void 0)return 1;else if(_===void 0)return-1;else if(_===P)continue;else return oO(_,P)}while(++q)}inc($,q,_){if($.startsWith("pre")){if(!q&&_===!1)throw Error("invalid increment argument: identifier is empty");if(q){let P=`-${q}`.match(this.options.loose?R9[I9.PRERELEASELOOSE]:R9[I9.PRERELEASE]);if(!P||P[1]!==q)throw Error(`invalid identifier: ${q}`)}}switch($){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",q,_);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",q,_);break;case"prepatch":this.prerelease.length=0,this.inc("patch",q,_),this.inc("pre",q,_);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",q,_);this.inc("pre",q,_);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let P=Number(_)?1:0;if(this.prerelease.length===0)this.prerelease=[P];else{let K=this.prerelease.length;while(--K>=0)if(typeof this.prerelease[K]==="number")this.prerelease[K]++,K=-2;if(K===-1){if(q===this.prerelease.join(".")&&_===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(P)}}if(q){let K=[q,P];if(_===!1)K=[q];if(oO(this.prerelease[0],q)===0){if(isNaN(this.prerelease[1]))this.prerelease=K}else this.prerelease=K}break}default:throw Error(`invalid increment argument: ${$}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}JA.exports=g8});var MK=N$((B6$,HA)=>{var WA=Dq(),HD=($,q,_=!1)=>{if($ instanceof WA)return $;try{return new WA($,q)}catch(P){if(!_)return null;throw P}};HA.exports=HD});var wA=N$((U6$,TA)=>{var TD=MK(),wD=($,q)=>{let _=TD($,q);return _?_.version:null};TA.exports=wD});var fA=N$((t6$,ZA)=>{var ZD=MK(),fD=($,q)=>{let _=ZD($.trim().replace(/^[=v]+/,""),q);return _?_.version:null};ZA.exports=fD});var kA=N$((F6$,AA)=>{var XA=Dq(),XD=($,q,_,P,K)=>{if(typeof _==="string")K=P,P=_,_=void 0;try{return new XA($ instanceof XA?$.version:$,_).inc(q,P,K).version}catch(O){return null}};AA.exports=XD});var SA=N$((Q6$,VA)=>{var GA=MK(),AD=($,q)=>{let _=GA($,null,!0),P=GA(q,null,!0),K=_.compare(P);if(K===0)return null;let O=K>0,Y=O?_:P,v=O?P:_,W=!!Y.prerelease.length;if(!!v.prerelease.length&&!W){if(!v.patch&&!v.minor)return"major";if(v.compareMain(Y)===0){if(v.minor&&!v.patch)return"minor";return"patch"}}let Z=W?"pre":"";if(_.major!==P.major)return Z+"major";if(_.minor!==P.minor)return Z+"minor";if(_.patch!==P.patch)return Z+"patch";return"prerelease"};VA.exports=AD});var NA=N$((a6$,MA)=>{var kD=Dq(),GD=($,q)=>new kD($,q).major;MA.exports=GD});var EA=N$((e6$,CA)=>{var VD=Dq(),SD=($,q)=>new VD($,q).minor;CA.exports=SD});var IA=N$((s6$,RA)=>{var MD=Dq(),ND=($,q)=>new MD($,q).patch;RA.exports=ND});var DA=N$(($q$,hA)=>{var CD=MK(),ED=($,q)=>{let _=CD($,q);return _&&_.prerelease.length?_.prerelease:null};hA.exports=ED});var w8=N$((qq$,gA)=>{var LA=Dq(),RD=($,q,_)=>new LA($,_).compare(new LA(q,_));gA.exports=RD});var yA=N$((_q$,bA)=>{var ID=w8(),hD=($,q,_)=>ID(q,$,_);bA.exports=hD});var xA=N$((Kq$,uA)=>{var DD=w8(),LD=($,q)=>DD($,q,!0);uA.exports=LD});var h9=N$((Pq$,cA)=>{var pA=Dq(),gD=($,q,_)=>{let P=new pA($,_),K=new pA(q,_);return P.compare(K)||P.compareBuild(K)};cA.exports=gD});var dA=N$((Yq$,mA)=>{var bD=h9(),yD=($,q)=>$.sort((_,P)=>bD(_,P,q));mA.exports=yD});var rA=N$((Oq$,lA)=>{var uD=h9(),xD=($,q)=>$.sort((_,P)=>uD(P,_,q));lA.exports=xD});var $1=N$((jq$,oA)=>{var pD=w8(),cD=($,q,_)=>pD($,q,_)>0;oA.exports=cD});var D9=N$((vq$,nA)=>{var mD=w8(),dD=($,q,_)=>mD($,q,_)<0;nA.exports=dD});var nO=N$((zq$,iA)=>{var lD=w8(),rD=($,q,_)=>lD($,q,_)===0;iA.exports=rD});var iO=N$((Jq$,BA)=>{var oD=w8(),nD=($,q,_)=>oD($,q,_)!==0;BA.exports=nD});var L9=N$((Wq$,UA)=>{var iD=w8(),BD=($,q,_)=>iD($,q,_)>=0;UA.exports=BD});var g9=N$((Hq$,tA)=>{var UD=w8(),tD=($,q,_)=>UD($,q,_)<=0;tA.exports=tD});var BO=N$((Tq$,FA)=>{var FD=nO(),QD=iO(),aD=$1(),eD=L9(),sD=D9(),$L=g9(),qL=($,q,_,P)=>{switch(q){case"===":if(typeof $==="object")$=$.version;if(typeof _==="object")_=_.version;return $===_;case"!==":if(typeof $==="object")$=$.version;if(typeof _==="object")_=_.version;return $!==_;case"":case"=":case"==":return FD($,_,P);case"!=":return QD($,_,P);case">":return aD($,_,P);case">=":return eD($,_,P);case"<":return sD($,_,P);case"<=":return $L($,_,P);default:throw TypeError(`Invalid operator: ${q}`)}};FA.exports=qL});var aA=N$((wq$,QA)=>{var _L=Dq(),KL=MK(),{safeRe:b9,t:y9}=z4(),PL=($,q)=>{if($ instanceof _L)return $;if(typeof $==="number")$=String($);if(typeof $!=="string")return null;q=q||{};let _=null;if(!q.rtl)_=$.match(q.includePrerelease?b9[y9.COERCEFULL]:b9[y9.COERCE]);else{let W=q.includePrerelease?b9[y9.COERCERTLFULL]:b9[y9.COERCERTL],T;while((T=W.exec($))&&(!_||_.index+_[0].length!==$.length)){if(!_||T.index+T[0].length!==_.index+_[0].length)_=T;W.lastIndex=T.index+T[1].length+T[2].length}W.lastIndex=-1}if(_===null)return null;let P=_[2],K=_[3]||"0",O=_[4]||"0",Y=q.includePrerelease&&_[5]?`-${_[5]}`:"",v=q.includePrerelease&&_[6]?`+${_[6]}`:"";return KL(`${P}.${K}.${O}${Y}${v}`,q)};QA.exports=PL});var $k=N$((Zq$,sA)=>{class eA{constructor(){this.max=1000,this.map=new Map}get($){let q=this.map.get($);if(q===void 0)return;else return this.map.delete($),this.map.set($,q),q}delete($){return this.map.delete($)}set($,q){if(!this.delete($)&&q!==void 0){if(this.map.size>=this.max){let P=this.map.keys().next().value;this.delete(P)}this.map.set($,q)}return this}}sA.exports=eA});var Z8=N$((fq$,Pk)=>{var YL=/\s+/g;class q1{constructor($,q){if(q=jL(q),$ instanceof q1)if($.loose===!!q.loose&&$.includePrerelease===!!q.includePrerelease)return $;else return new q1($.raw,q);if($ instanceof UO)return this.raw=$.value,this.set=[[$]],this.formatted=void 0,this;if(this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease,this.raw=$.trim().replace(YL," "),this.set=this.raw.split("||").map((_)=>this.parseRange(_.trim())).filter((_)=>_.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let _=this.set[0];if(this.set=this.set.filter((P)=>!_k(P[0])),this.set.length===0)this.set=[_];else if(this.set.length>1){for(let P of this.set)if(P.length===1&&wL(P[0])){this.set=[P];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let $=0;$<this.set.length;$++){if($>0)this.formatted+="||";let q=this.set[$];for(let _=0;_<q.length;_++){if(_>0)this.formatted+=" ";this.formatted+=q[_].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange($){let _=((this.options.includePrerelease&&HL)|(this.options.loose&&TL))+":"+$,P=qk.get(_);if(P)return P;let K=this.options.loose,O=K?xq[Lq.HYPHENRANGELOOSE]:xq[Lq.HYPHENRANGE];$=$.replace(O,NL(this.options.includePrerelease)),g6("hyphen replace",$),$=$.replace(xq[Lq.COMPARATORTRIM],zL),g6("comparator trim",$),$=$.replace(xq[Lq.TILDETRIM],JL),g6("tilde trim",$),$=$.replace(xq[Lq.CARETTRIM],WL),g6("caret trim",$);let Y=$.split(" ").map((Z)=>ZL(Z,this.options)).join(" ").split(/\s+/).map((Z)=>ML(Z,this.options));if(K)Y=Y.filter((Z)=>{return g6("loose invalid filter",Z,this.options),!!Z.match(xq[Lq.COMPARATORLOOSE])});g6("range list",Y);let v=new Map,W=Y.map((Z)=>new UO(Z,this.options));for(let Z of W){if(_k(Z))return[Z];v.set(Z.value,Z)}if(v.size>1&&v.has(""))v.delete("");let T=[...v.values()];return qk.set(_,T),T}intersects($,q){if(!($ instanceof q1))throw TypeError("a Range is required");return this.set.some((_)=>{return Kk(_,q)&&$.set.some((P)=>{return Kk(P,q)&&_.every((K)=>{return P.every((O)=>{return K.intersects(O,q)})})})})}test($){if(!$)return!1;if(typeof $==="string")try{$=new vL($,this.options)}catch(q){return!1}for(let q=0;q<this.set.length;q++)if(CL(this.set[q],$,this.options))return!0;return!1}}Pk.exports=q1;var OL=$k(),qk=new OL,jL=N9(),UO=_1(),g6=sP(),vL=Dq(),{safeRe:xq,t:Lq,comparatorTrimReplace:zL,tildeTrimReplace:JL,caretTrimReplace:WL}=z4(),{FLAG_INCLUDE_PRERELEASE:HL,FLAG_LOOSE:TL}=eP(),_k=($)=>$.value==="<0.0.0-0",wL=($)=>$.value==="",Kk=($,q)=>{let _=!0,P=$.slice(),K=P.pop();while(_&&P.length)_=P.every((O)=>{return K.intersects(O,q)}),K=P.pop();return _},ZL=($,q)=>{return $=$.replace(xq[Lq.BUILD],""),g6("comp",$,q),$=AL($,q),g6("caret",$),$=fL($,q),g6("tildes",$),$=GL($,q),g6("xrange",$),$=SL($,q),g6("stars",$),$},pq=($)=>!$||$.toLowerCase()==="x"||$==="*",fL=($,q)=>{return $.trim().split(/\s+/).map((_)=>XL(_,q)).join(" ")},XL=($,q)=>{let _=q.loose?xq[Lq.TILDELOOSE]:xq[Lq.TILDE];return $.replace(_,(P,K,O,Y,v)=>{g6("tilde",$,P,K,O,Y,v);let W;if(pq(K))W="";else if(pq(O))W=`>=${K}.0.0 <${+K+1}.0.0-0`;else if(pq(Y))W=`>=${K}.${O}.0 <${K}.${+O+1}.0-0`;else if(v)g6("replaceTilde pr",v),W=`>=${K}.${O}.${Y}-${v} <${K}.${+O+1}.0-0`;else W=`>=${K}.${O}.${Y} <${K}.${+O+1}.0-0`;return g6("tilde return",W),W})},AL=($,q)=>{return $.trim().split(/\s+/).map((_)=>kL(_,q)).join(" ")},kL=($,q)=>{g6("caret",$,q);let _=q.loose?xq[Lq.CARETLOOSE]:xq[Lq.CARET],P=q.includePrerelease?"-0":"";return $.replace(_,(K,O,Y,v,W)=>{g6("caret",$,K,O,Y,v,W);let T;if(pq(O))T="";else if(pq(Y))T=`>=${O}.0.0${P} <${+O+1}.0.0-0`;else if(pq(v))if(O==="0")T=`>=${O}.${Y}.0${P} <${O}.${+Y+1}.0-0`;else T=`>=${O}.${Y}.0${P} <${+O+1}.0.0-0`;else if(W)if(g6("replaceCaret pr",W),O==="0")if(Y==="0")T=`>=${O}.${Y}.${v}-${W} <${O}.${Y}.${+v+1}-0`;else T=`>=${O}.${Y}.${v}-${W} <${O}.${+Y+1}.0-0`;else T=`>=${O}.${Y}.${v}-${W} <${+O+1}.0.0-0`;else if(g6("no pr"),O==="0")if(Y==="0")T=`>=${O}.${Y}.${v}${P} <${O}.${Y}.${+v+1}-0`;else T=`>=${O}.${Y}.${v}${P} <${O}.${+Y+1}.0-0`;else T=`>=${O}.${Y}.${v} <${+O+1}.0.0-0`;return g6("caret return",T),T})},GL=($,q)=>{return g6("replaceXRanges",$,q),$.split(/\s+/).map((_)=>VL(_,q)).join(" ")},VL=($,q)=>{$=$.trim();let _=q.loose?xq[Lq.XRANGELOOSE]:xq[Lq.XRANGE];return $.replace(_,(P,K,O,Y,v,W)=>{g6("xRange",$,P,K,O,Y,v,W);let T=pq(O),Z=T||pq(Y),w=Z||pq(v),k=w;if(K==="="&&k)K="";if(W=q.includePrerelease?"-0":"",T)if(K===">"||K==="<")P="<0.0.0-0";else P="*";else if(K&&k){if(Z)Y=0;if(v=0,K===">")if(K=">=",Z)O=+O+1,Y=0,v=0;else Y=+Y+1,v=0;else if(K==="<=")if(K="<",Z)O=+O+1;else Y=+Y+1;if(K==="<")W="-0";P=`${K+O}.${Y}.${v}${W}`}else if(Z)P=`>=${O}.0.0${W} <${+O+1}.0.0-0`;else if(w)P=`>=${O}.${Y}.0${W} <${O}.${+Y+1}.0-0`;return g6("xRange return",P),P})},SL=($,q)=>{return g6("replaceStars",$,q),$.trim().replace(xq[Lq.STAR],"")},ML=($,q)=>{return g6("replaceGTE0",$,q),$.trim().replace(xq[q.includePrerelease?Lq.GTE0PRE:Lq.GTE0],"")},NL=($)=>(q,_,P,K,O,Y,v,W,T,Z,w,k)=>{if(pq(P))_="";else if(pq(K))_=`>=${P}.0.0${$?"-0":""}`;else if(pq(O))_=`>=${P}.${K}.0${$?"-0":""}`;else if(Y)_=`>=${_}`;else _=`>=${_}${$?"-0":""}`;if(pq(T))W="";else if(pq(Z))W=`<${+T+1}.0.0-0`;else if(pq(w))W=`<${T}.${+Z+1}.0-0`;else if(k)W=`<=${T}.${Z}.${w}-${k}`;else if($)W=`<${T}.${Z}.${+w+1}-0`;else W=`<=${W}`;return`${_} ${W}`.trim()},CL=($,q,_)=>{for(let P=0;P<$.length;P++)if(!$[P].test(q))return!1;if(q.prerelease.length&&!_.includePrerelease){for(let P=0;P<$.length;P++){if(g6($[P].semver),$[P].semver===UO.ANY)continue;if($[P].semver.prerelease.length>0){let K=$[P].semver;if(K.major===q.major&&K.minor===q.minor&&K.patch===q.patch)return!0}}return!1}return!0}});var _1=N$((Xq$,Jk)=>{var K1=Symbol("SemVer ANY");class u9{static get ANY(){return K1}constructor($,q){if(q=Yk(q),$ instanceof u9)if($.loose===!!q.loose)return $;else $=$.value;if($=$.trim().split(/\s+/).join(" "),FO("comparator",$,q),this.options=q,this.loose=!!q.loose,this.parse($),this.semver===K1)this.value="";else this.value=this.operator+this.semver.version;FO("comp",this)}parse($){let q=this.options.loose?Ok[jk.COMPARATORLOOSE]:Ok[jk.COMPARATOR],_=$.match(q);if(!_)throw TypeError(`Invalid comparator: ${$}`);if(this.operator=_[1]!==void 0?_[1]:"",this.operator==="=")this.operator="";if(!_[2])this.semver=K1;else this.semver=new vk(_[2],this.options.loose)}toString(){return this.value}test($){if(FO("Comparator.test",$,this.options.loose),this.semver===K1||$===K1)return!0;if(typeof $==="string")try{$=new vk($,this.options)}catch(q){return!1}return tO($,this.operator,this.semver,this.options)}intersects($,q){if(!($ instanceof u9))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new zk($.value,q).test(this.value)}else if($.operator===""){if($.value==="")return!0;return new zk(this.value,q).test($.semver)}if(q=Yk(q),q.includePrerelease&&(this.value==="<0.0.0-0"||$.value==="<0.0.0-0"))return!1;if(!q.includePrerelease&&(this.value.startsWith("<0.0.0")||$.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&$.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&$.operator.startsWith("<"))return!0;if(this.semver.version===$.semver.version&&this.operator.includes("=")&&$.operator.includes("="))return!0;if(tO(this.semver,"<",$.semver,q)&&this.operator.startsWith(">")&&$.operator.startsWith("<"))return!0;if(tO(this.semver,">",$.semver,q)&&this.operator.startsWith("<")&&$.operator.startsWith(">"))return!0;return!1}}Jk.exports=u9;var Yk=N9(),{safeRe:Ok,t:jk}=z4(),tO=BO(),FO=sP(),vk=Dq(),zk=Z8()});var P1=N$((Aq$,Wk)=>{var EL=Z8(),RL=($,q,_)=>{try{q=new EL(q,_)}catch(P){return!1}return q.test($)};Wk.exports=RL});var Tk=N$((kq$,Hk)=>{var IL=Z8(),hL=($,q)=>new IL($,q).set.map((_)=>_.map((P)=>P.value).join(" ").trim().split(" "));Hk.exports=hL});var Zk=N$((Gq$,wk)=>{var DL=Dq(),LL=Z8(),gL=($,q,_)=>{let P=null,K=null,O=null;try{O=new LL(q,_)}catch(Y){return null}return $.forEach((Y)=>{if(O.test(Y)){if(!P||K.compare(Y)===-1)P=Y,K=new DL(P,_)}}),P};wk.exports=gL});var Xk=N$((Vq$,fk)=>{var bL=Dq(),yL=Z8(),uL=($,q,_)=>{let P=null,K=null,O=null;try{O=new yL(q,_)}catch(Y){return null}return $.forEach((Y)=>{if(O.test(Y)){if(!P||K.compare(Y)===1)P=Y,K=new bL(P,_)}}),P};fk.exports=uL});var Gk=N$((Sq$,kk)=>{var QO=Dq(),xL=Z8(),Ak=$1(),pL=($,q)=>{$=new xL($,q);let _=new QO("0.0.0");if($.test(_))return _;if(_=new QO("0.0.0-0"),$.test(_))return _;_=null;for(let P=0;P<$.set.length;++P){let K=$.set[P],O=null;if(K.forEach((Y)=>{let v=new QO(Y.semver.version);switch(Y.operator){case">":if(v.prerelease.length===0)v.patch++;else v.prerelease.push(0);v.raw=v.format();case"":case">=":if(!O||Ak(v,O))O=v;break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${Y.operator}`)}}),O&&(!_||Ak(_,O)))_=O}if(_&&$.test(_))return _;return null};kk.exports=pL});var Sk=N$((Mq$,Vk)=>{var cL=Z8(),mL=($,q)=>{try{return new cL($,q).range||"*"}catch(_){return null}};Vk.exports=mL});var x9=N$((Nq$,Ek)=>{var dL=Dq(),Ck=_1(),{ANY:lL}=Ck,rL=Z8(),oL=P1(),Mk=$1(),Nk=D9(),nL=g9(),iL=L9(),BL=($,q,_,P)=>{$=new dL($,P),q=new rL(q,P);let K,O,Y,v,W;switch(_){case">":K=Mk,O=nL,Y=Nk,v=">",W=">=";break;case"<":K=Nk,O=iL,Y=Mk,v="<",W="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(oL($,q,P))return!1;for(let T=0;T<q.set.length;++T){let Z=q.set[T],w=null,k=null;if(Z.forEach((M)=>{if(M.semver===lL)M=new Ck(">=0.0.0");if(w=w||M,k=k||M,K(M.semver,w.semver,P))w=M;else if(Y(M.semver,k.semver,P))k=M}),w.operator===v||w.operator===W)return!1;if((!k.operator||k.operator===v)&&O($,k.semver))return!1;else if(k.operator===W&&Y($,k.semver))return!1}return!0};Ek.exports=BL});var Ik=N$((Cq$,Rk)=>{var UL=x9(),tL=($,q,_)=>UL($,q,">",_);Rk.exports=tL});var Dk=N$((Eq$,hk)=>{var FL=x9(),QL=($,q,_)=>FL($,q,"<",_);hk.exports=QL});var bk=N$((Rq$,gk)=>{var Lk=Z8(),aL=($,q,_)=>{return $=new Lk($,_),q=new Lk(q,_),$.intersects(q,_)};gk.exports=aL});var uk=N$((Iq$,yk)=>{var eL=P1(),sL=w8();yk.exports=($,q,_)=>{let P=[],K=null,O=null,Y=$.sort((Z,w)=>sL(Z,w,_));for(let Z of Y)if(eL(Z,q,_)){if(O=Z,!K)K=Z}else{if(O)P.push([K,O]);O=null,K=null}if(K)P.push([K,null]);let v=[];for(let[Z,w]of P)if(Z===w)v.push(Z);else if(!w&&Z===Y[0])v.push("*");else if(!w)v.push(`>=${Z}`);else if(Z===Y[0])v.push(`<=${w}`);else v.push(`${Z} - ${w}`);let W=v.join(" || "),T=typeof q.raw==="string"?q.raw:String(q);return W.length<T.length?W:q}});var lk=N$((hq$,dk)=>{var xk=Z8(),eO=_1(),{ANY:aO}=eO,Y1=P1(),sO=w8(),$g=($,q,_={})=>{if($===q)return!0;$=new xk($,_),q=new xk(q,_);let P=!1;$:for(let K of $.set){for(let O of q.set){let Y=_g(K,O,_);if(P=P||Y!==null,Y)continue $}if(P)return!1}return!0},qg=[new eO(">=0.0.0-0")],pk=[new eO(">=0.0.0")],_g=($,q,_)=>{if($===q)return!0;if($.length===1&&$[0].semver===aO)if(q.length===1&&q[0].semver===aO)return!0;else if(_.includePrerelease)$=qg;else $=pk;if(q.length===1&&q[0].semver===aO)if(_.includePrerelease)return!0;else q=pk;let P=new Set,K,O;for(let M of $)if(M.operator===">"||M.operator===">=")K=ck(K,M,_);else if(M.operator==="<"||M.operator==="<=")O=mk(O,M,_);else P.add(M.semver);if(P.size>1)return null;let Y;if(K&&O){if(Y=sO(K.semver,O.semver,_),Y>0)return null;else if(Y===0&&(K.operator!==">="||O.operator!=="<="))return null}for(let M of P){if(K&&!Y1(M,String(K),_))return null;if(O&&!Y1(M,String(O),_))return null;for(let N of q)if(!Y1(M,String(N),_))return!1;return!0}let v,W,T,Z,w=O&&!_.includePrerelease&&O.semver.prerelease.length?O.semver:!1,k=K&&!_.includePrerelease&&K.semver.prerelease.length?K.semver:!1;if(w&&w.prerelease.length===1&&O.operator==="<"&&w.prerelease[0]===0)w=!1;for(let M of q){if(Z=Z||M.operator===">"||M.operator===">=",T=T||M.operator==="<"||M.operator==="<=",K){if(k){if(M.semver.prerelease&&M.semver.prerelease.length&&M.semver.major===k.major&&M.semver.minor===k.minor&&M.semver.patch===k.patch)k=!1}if(M.operator===">"||M.operator===">="){if(v=ck(K,M,_),v===M&&v!==K)return!1}else if(K.operator===">="&&!Y1(K.semver,String(M),_))return!1}if(O){if(w){if(M.semver.prerelease&&M.semver.prerelease.length&&M.semver.major===w.major&&M.semver.minor===w.minor&&M.semver.patch===w.patch)w=!1}if(M.operator==="<"||M.operator==="<="){if(W=mk(O,M,_),W===M&&W!==O)return!1}else if(O.operator==="<="&&!Y1(O.semver,String(M),_))return!1}if(!M.operator&&(O||K)&&Y!==0)return!1}if(K&&T&&!O&&Y!==0)return!1;if(O&&Z&&!K&&Y!==0)return!1;if(k||w)return!1;return!0},ck=($,q,_)=>{if(!$)return q;let P=sO($.semver,q.semver,_);return P>0?$:P<0?q:q.operator===">"&&$.operator===">="?q:$},mk=($,q,_)=>{if(!$)return q;let P=sO($.semver,q.semver,_);return P<0?$:P>0?q:q.operator==="<"&&$.operator==="<="?q:$};dk.exports=$g});var ik=N$((Dq$,nk)=>{var $3=z4(),rk=eP(),Kg=Dq(),ok=rO(),Pg=MK(),Yg=wA(),Og=fA(),jg=kA(),vg=SA(),zg=NA(),Jg=EA(),Wg=IA(),Hg=DA(),Tg=w8(),wg=yA(),Zg=xA(),fg=h9(),Xg=dA(),Ag=rA(),kg=$1(),Gg=D9(),Vg=nO(),Sg=iO(),Mg=L9(),Ng=g9(),Cg=BO(),Eg=aA(),Rg=_1(),Ig=Z8(),hg=P1(),Dg=Tk(),Lg=Zk(),gg=Xk(),bg=Gk(),yg=Sk(),ug=x9(),xg=Ik(),pg=Dk(),cg=bk(),mg=uk(),dg=lk();nk.exports={parse:Pg,valid:Yg,clean:Og,inc:jg,diff:vg,major:zg,minor:Jg,patch:Wg,prerelease:Hg,compare:Tg,rcompare:wg,compareLoose:Zg,compareBuild:fg,sort:Xg,rsort:Ag,gt:kg,lt:Gg,eq:Vg,neq:Sg,gte:Mg,lte:Ng,cmp:Cg,coerce:Eg,Comparator:Rg,Range:Ig,satisfies:hg,toComparators:Dg,maxSatisfying:Lg,minSatisfying:gg,minVersion:bg,validRange:yg,outside:ug,gtr:xg,ltr:pg,intersects:cg,simplifyRange:mg,subset:dg,SemVer:Kg,re:$3.re,src:$3.src,tokens:$3.t,SEMVER_SPEC_VERSION:rk.SEMVER_SPEC_VERSION,RELEASE_TYPES:rk.RELEASE_TYPES,compareIdentifiers:ok.compareIdentifiers,rcompareIdentifiers:ok.rcompareIdentifiers}});var wG=N$((G8$,TG)=>{var WG=($=0)=>(q)=>`\x1B[${38+$};5;${q}m`,HG=($=0)=>(q,_,P)=>`\x1B[${38+$};2;${q};${_};${P}m`;function Jb(){let $=new Map,q={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};q.color.gray=q.color.blackBright,q.bgColor.bgGray=q.bgColor.bgBlackBright,q.color.grey=q.color.blackBright,q.bgColor.bgGrey=q.bgColor.bgBlackBright;for(let[_,P]of Object.entries(q)){for(let[K,O]of Object.entries(P))q[K]={open:`\x1B[${O[0]}m`,close:`\x1B[${O[1]}m`},P[K]=q[K],$.set(O[0],O[1]);Object.defineProperty(q,_,{value:P,enumerable:!1})}return Object.defineProperty(q,"codes",{value:$,enumerable:!1}),q.color.close="\x1B[39m",q.bgColor.close="\x1B[49m",q.color.ansi256=WG(),q.color.ansi16m=HG(),q.bgColor.ansi256=WG(10),q.bgColor.ansi16m=HG(10),Object.defineProperties(q,{rgbToAnsi256:{value:(_,P,K)=>{if(_===P&&P===K){if(_<8)return 16;if(_>248)return 231;return Math.round((_-8)/247*24)+232}return 16+36*Math.round(_/255*5)+6*Math.round(P/255*5)+Math.round(K/255*5)},enumerable:!1},hexToRgb:{value:(_)=>{let P=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(_.toString(16));if(!P)return[0,0,0];let{colorString:K}=P.groups;if(K.length===3)K=K.split("").map((Y)=>Y+Y).join("");let O=Number.parseInt(K,16);return[O>>16&255,O>>8&255,O&255]},enumerable:!1},hexToAnsi256:{value:(_)=>q.rgbToAnsi256(...q.hexToRgb(_)),enumerable:!1}}),q}Object.defineProperty(TG,"exports",{enumerable:!0,get:Jb})});var sV=N$((uc)=>{uc.byteLength=hc;uc.toByteArray=Lc;uc.fromByteArray=yc;var O_=[],S8=[],Ic=typeof Uint8Array<"u"?Uint8Array:Array,iW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(HK=0,BW=iW.length;HK<BW;++HK)O_[HK]=iW[HK],S8[iW.charCodeAt(HK)]=HK;var HK,BW;S8[45]=62;S8[95]=63;function eV($){var q=$.length;if(q%4>0)throw Error("Invalid string. Length must be a multiple of 4");var _=$.indexOf("=");if(_===-1)_=q;var P=_===q?0:4-_%4;return[_,P]}function hc($){var q=eV($),_=q[0],P=q[1];return(_+P)*3/4-P}function Dc($,q,_){return(q+_)*3/4-_}function Lc($){var q,_=eV($),P=_[0],K=_[1],O=new Ic(Dc($,P,K)),Y=0,v=K>0?P-4:P,W;for(W=0;W<v;W+=4)q=S8[$.charCodeAt(W)]<<18|S8[$.charCodeAt(W+1)]<<12|S8[$.charCodeAt(W+2)]<<6|S8[$.charCodeAt(W+3)],O[Y++]=q>>16&255,O[Y++]=q>>8&255,O[Y++]=q&255;if(K===2)q=S8[$.charCodeAt(W)]<<2|S8[$.charCodeAt(W+1)]>>4,O[Y++]=q&255;if(K===1)q=S8[$.charCodeAt(W)]<<10|S8[$.charCodeAt(W+1)]<<4|S8[$.charCodeAt(W+2)]>>2,O[Y++]=q>>8&255,O[Y++]=q&255;return O}function gc($){return O_[$>>18&63]+O_[$>>12&63]+O_[$>>6&63]+O_[$&63]}function bc($,q,_){var P,K=[];for(var O=q;O<_;O+=3)P=($[O]<<16&16711680)+($[O+1]<<8&65280)+($[O+2]&255),K.push(gc(P));return K.join("")}function yc($){var q,_=$.length,P=_%3,K=[],O=16383;for(var Y=0,v=_-P;Y<v;Y+=O)K.push(bc($,Y,Y+O>v?v:Y+O));if(P===1)q=$[_-1],K.push(O_[q>>2]+O_[q<<4&63]+"==");else if(P===2)q=($[_-2]<<8)+$[_-1],K.push(O_[q>>10]+O_[q>>4&63]+O_[q<<2&63]+"=");return K.join("")}});var nq=N$((Pm)=>{Pm.__esModule=!0;Pm.extend=_0;Pm.indexOf=ec;Pm.escapeExpression=sc;Pm.isEmpty=$m;Pm.createFrame=qm;Pm.blockParams=_m;Pm.appendContextPath=Km;var tc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},Fc=/[&<>"'`=]/g,Qc=/[&<>"'`=]/;function ac($){return tc[$]}function _0($){for(var q=1;q<arguments.length;q++)for(var _ in arguments[q])if(Object.prototype.hasOwnProperty.call(arguments[q],_))$[_]=arguments[q][_];return $}var eW=Object.prototype.toString;Pm.toString=eW;var aW=function(q){return typeof q==="function"};if(aW(/x/))Pm.isFunction=aW=function($){return typeof $==="function"&&eW.call($)==="[object Function]"};Pm.isFunction=aW;var K0=Array.isArray||function($){return $&&typeof $==="object"?eW.call($)==="[object Array]":!1};Pm.isArray=K0;function ec($,q){for(var _=0,P=$.length;_<P;_++)if($[_]===q)return _;return-1}function sc($){if(typeof $!=="string"){if($&&$.toHTML)return $.toHTML();else if($==null)return"";else if(!$)return $+"";$=""+$}if(!Qc.test($))return $;return $.replace(Fc,ac)}function $m($){if(!$&&$!==0)return!0;else if(K0($)&&$.length===0)return!0;else return!1}function qm($){var q=_0({},$);return q._parent=$,q}function _m($,q){return $.path=q,$}function Km($,q){return($?$+".":"")+q}});var M8=N$((P0,Y0)=>{P0.__esModule=!0;var sW=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function $H($,q){var _=q&&q.loc,P=void 0,K=void 0,O=void 0,Y=void 0;if(_)P=_.start.line,K=_.end.line,O=_.start.column,Y=_.end.column,$+=" - "+P+":"+O;var v=Error.prototype.constructor.call(this,$);for(var W=0;W<sW.length;W++)this[sW[W]]=v[sW[W]];if(Error.captureStackTrace)Error.captureStackTrace(this,$H);try{if(_)if(this.lineNumber=P,this.endLineNumber=K,Object.defineProperty)Object.defineProperty(this,"column",{value:O,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:Y,enumerable:!0});else this.column=O,this.endColumn=Y}catch(T){}}$H.prototype=Error();P0.default=$H;Y0.exports=P0.default});var v0=N$((O0,j0)=>{O0.__esModule=!0;var qH=nq();O0.default=function($){$.registerHelper("blockHelperMissing",function(q,_){var{inverse:P,fn:K}=_;if(q===!0)return K(this);else if(q===!1||q==null)return P(this);else if(qH.isArray(q))if(q.length>0){if(_.ids)_.ids=[_.name];return $.helpers.each(q,_)}else return P(this);else{if(_.data&&_.ids){var O=qH.createFrame(_.data);O.contextPath=qH.appendContextPath(_.data.contextPath,_.name),_={data:O}}return K(q,_)}})};j0.exports=O0.default});var W0=N$((z0,J0)=>{z0.__esModule=!0;function Gm($){return $&&$.__esModule?$:{default:$}}var q7=nq(),Vm=M8(),Sm=Gm(Vm);z0.default=function($){$.registerHelper("each",function(q,_){if(!_)throw new Sm.default("Must pass iterator to #each");var{fn:P,inverse:K}=_,O=0,Y="",v=void 0,W=void 0;if(_.data&&_.ids)W=q7.appendContextPath(_.data.contextPath,_.ids[0])+".";if(q7.isFunction(q))q=q.call(this);if(_.data)v=q7.createFrame(_.data);function T(N,R,E){if(v){if(v.key=N,v.index=R,v.first=R===0,v.last=!!E,W)v.contextPath=W+N}Y=Y+P(q[N],{data:v,blockParams:q7.blockParams([q[N],N],[W+N,null])})}if(q&&typeof q==="object")if(q7.isArray(q)){for(var Z=q.length;O<Z;O++)if(O in q)T(O,O,O===q.length-1)}else if(typeof Symbol==="function"&&q[Symbol.iterator]){var w=[],k=q[Symbol.iterator]();for(var M=k.next();!M.done;M=k.next())w.push(M.value);q=w;for(var Z=q.length;O<Z;O++)T(O,O,O===q.length-1)}else(function(){var N=void 0;if(Object.keys(q).forEach(function(R){if(N!==void 0)T(N,O-1);N=R,O++}),N!==void 0)T(N,O-1,!0)})();if(O===0)Y=K(this);return Y})};J0.exports=z0.default});var w0=N$((H0,T0)=>{H0.__esModule=!0;function Cm($){return $&&$.__esModule?$:{default:$}}var Em=M8(),Rm=Cm(Em);H0.default=function($){$.registerHelper("helperMissing",function(){if(arguments.length===1)return;else throw new Rm.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})};T0.exports=H0.default});var k0=N$((X0,A0)=>{X0.__esModule=!0;function Dm($){return $&&$.__esModule?$:{default:$}}var Z0=nq(),Lm=M8(),f0=Dm(Lm);X0.default=function($){$.registerHelper("if",function(q,_){if(arguments.length!=2)throw new f0.default("#if requires exactly one argument");if(Z0.isFunction(q))q=q.call(this);if(!_.hash.includeZero&&!q||Z0.isEmpty(q))return _.inverse(this);else return _.fn(this)}),$.registerHelper("unless",function(q,_){if(arguments.length!=2)throw new f0.default("#unless requires exactly one argument");return $.helpers.if.call(this,q,{fn:_.inverse,inverse:_.fn,hash:_.hash})})};A0.exports=X0.default});var S0=N$((G0,V0)=>{G0.__esModule=!0;G0.default=function($){$.registerHelper("log",function(){var q=[void 0],_=arguments[arguments.length-1];for(var P=0;P<arguments.length-1;P++)q.push(arguments[P]);var K=1;if(_.hash.level!=null)K=_.hash.level;else if(_.data&&_.data.level!=null)K=_.data.level;q[0]=K,$.log.apply($,q)})};V0.exports=G0.default});var C0=N$((M0,N0)=>{M0.__esModule=!0;M0.default=function($){$.registerHelper("lookup",function(q,_,P){if(!q)return q;return P.lookupProperty(q,_)})};N0.exports=M0.default});var I0=N$((E0,R0)=>{E0.__esModule=!0;function cm($){return $&&$.__esModule?$:{default:$}}var _7=nq(),mm=M8(),dm=cm(mm);E0.default=function($){$.registerHelper("with",function(q,_){if(arguments.length!=2)throw new dm.default("#with requires exactly one argument");if(_7.isFunction(q))q=q.call(this);var P=_.fn;if(!_7.isEmpty(q)){var K=_.data;if(_.data&&_.ids)K=_7.createFrame(_.data),K.contextPath=_7.appendContextPath(_.data.contextPath,_.ids[0]);return P(q,{data:K,blockParams:_7.blockParams([q],[K&&K.contextPath])})}else return _.inverse(this)})};R0.exports=E0.default});var _H=N$((Yd)=>{Yd.__esModule=!0;Yd.registerDefaultHelpers=Kd;Yd.moveHelperToHooks=Pd;function oK($){return $&&$.__esModule?$:{default:$}}var om=v0(),nm=oK(om),im=W0(),Bm=oK(im),Um=w0(),tm=oK(Um),Fm=k0(),Qm=oK(Fm),am=S0(),em=oK(am),sm=C0(),$d=oK(sm),qd=I0(),_d=oK(qd);function Kd($){nm.default($),Bm.default($),tm.default($),Qm.default($),em.default($),$d.default($),_d.default($)}function Pd($,q,_){if($.helpers[q]){if($.hooks[q]=$.helpers[q],!_)delete $.helpers[q]}}});var L0=N$((h0,D0)=>{h0.__esModule=!0;var zd=nq();h0.default=function($){$.registerDecorator("inline",function(q,_,P,K){var O=q;if(!_.partials)_.partials={},O=function(Y,v){var W=P.partials;P.partials=zd.extend({},W,_.partials);var T=q(Y,v);return P.partials=W,T};return _.partials[K.args[0]]=K.fn,O})};D0.exports=h0.default});var g0=N$((fd)=>{fd.__esModule=!0;fd.registerDefaultDecorators=Zd;function Hd($){return $&&$.__esModule?$:{default:$}}var Td=L0(),wd=Hd(Td);function Zd($){wd.default($)}});var KH=N$((b0,y0)=>{b0.__esModule=!0;var kd=nq(),_P={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(q){if(typeof q==="string"){var _=kd.indexOf(_P.methodMap,q.toLowerCase());if(_>=0)q=_;else q=parseInt(q,10)}return q},log:function(q){if(q=_P.lookupLevel(q),typeof console<"u"&&_P.lookupLevel(_P.level)<=q){var _=_P.methodMap[q];if(!console[_])_="log";for(var P=arguments.length,K=Array(P>1?P-1:0),O=1;O<P;O++)K[O-1]=arguments[O];console[_].apply(console,K)}}};b0.default=_P;y0.exports=b0.default});var u0=N$((Nd)=>{Nd.__esModule=!0;Nd.createNewLookupObject=Md;var Sd=nq();function Md(){for(var $=arguments.length,q=Array($),_=0;_<$;_++)q[_]=arguments[_];return Sd.extend.apply(void 0,[Object.create(null)].concat(q))}});var PH=N$((yd)=>{yd.__esModule=!0;yd.createProtoAccessControl=Dd;yd.resultIsAllowed=Ld;yd.resetLoggedProperties=bd;function Rd($){return $&&$.__esModule?$:{default:$}}var x0=u0(),Id=KH(),hd=Rd(Id),X2=Object.create(null);function Dd($){var q=Object.create(null);q.constructor=!1,q.__defineGetter__=!1,q.__defineSetter__=!1,q.__lookupGetter__=!1;var _=Object.create(null);return _.__proto__=!1,{properties:{whitelist:x0.createNewLookupObject(_,$.allowedProtoProperties),defaultValue:$.allowProtoPropertiesByDefault},methods:{whitelist:x0.createNewLookupObject(q,$.allowedProtoMethods),defaultValue:$.allowProtoMethodsByDefault}}}function Ld($,q,_){if(typeof $==="function")return p0(q.methods,_);else return p0(q.properties,_)}function p0($,q){if($.whitelist[q]!==void 0)return $.whitelist[q]===!0;if($.defaultValue!==void 0)return $.defaultValue;return gd(q),!1}function gd($){if(X2[$]!==!0)X2[$]=!0,hd.default.log("error",'Handlebars: Access has been denied to resolve the property "'+$+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`)}function bd(){Object.keys(X2).forEach(function($){delete X2[$]})}});var k2=N$((Fd)=>{Fd.__esModule=!0;Fd.HandlebarsEnvironment=jH;function c0($){return $&&$.__esModule?$:{default:$}}var nK=nq(),md=M8(),YH=c0(md),dd=_H(),ld=g0(),rd=KH(),A2=c0(rd),od=PH(),nd="4.7.8";Fd.VERSION=nd;var id=8;Fd.COMPILER_REVISION=id;var Bd=7;Fd.LAST_COMPATIBLE_COMPILER_REVISION=Bd;var Ud={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};Fd.REVISION_CHANGES=Ud;var OH="[object Object]";function jH($,q,_){this.helpers=$||{},this.partials=q||{},this.decorators=_||{},dd.registerDefaultHelpers(this),ld.registerDefaultDecorators(this)}jH.prototype={constructor:jH,logger:A2.default,log:A2.default.log,registerHelper:function(q,_){if(nK.toString.call(q)===OH){if(_)throw new YH.default("Arg not supported with multiple helpers");nK.extend(this.helpers,q)}else this.helpers[q]=_},unregisterHelper:function(q){delete this.helpers[q]},registerPartial:function(q,_){if(nK.toString.call(q)===OH)nK.extend(this.partials,q);else{if(typeof _>"u")throw new YH.default('Attempting to register a partial called "'+q+'" as undefined');this.partials[q]=_}},unregisterPartial:function(q){delete this.partials[q]},registerDecorator:function(q,_){if(nK.toString.call(q)===OH){if(_)throw new YH.default("Arg not supported with multiple decorators");nK.extend(this.decorators,q)}else this.decorators[q]=_},unregisterDecorator:function(q){delete this.decorators[q]},resetLoggedPropertyAccesses:function(){od.resetLoggedProperties()}};var td=A2.default.log;Fd.log=td;Fd.createFrame=nK.createFrame;Fd.logger=A2.default});var l0=N$((m0,d0)=>{m0.__esModule=!0;function vH($){this.string=$}vH.prototype.toString=vH.prototype.toHTML=function(){return""+this.string};m0.default=vH;d0.exports=m0.default});var r0=N$((vl)=>{vl.__esModule=!0;vl.wrapHelper=jl;function jl($,q){if(typeof $!=="function")return $;var _=function(){var K=arguments[arguments.length-1];return arguments[arguments.length-1]=q(K),$.apply(this,arguments)};return _}});var U0=N$((Ml)=>{Ml.__esModule=!0;Ml.checkRevision=fl;Ml.template=Xl;Ml.wrapProgram=G2;Ml.resolvePartial=Al;Ml.invokePartial=kl;Ml.noop=i0;function Wl($){return $&&$.__esModule?$:{default:$}}function Hl($){if($&&$.__esModule)return $;else{var q={};if($!=null){for(var _ in $)if(Object.prototype.hasOwnProperty.call($,_))q[_]=$[_]}return q.default=$,q}}var Tl=nq(),E_=Hl(Tl),wl=M8(),R_=Wl(wl),I_=k2(),o0=_H(),Zl=r0(),n0=PH();function fl($){var q=$&&$[0]||1,_=I_.COMPILER_REVISION;if(q>=I_.LAST_COMPATIBLE_COMPILER_REVISION&&q<=I_.COMPILER_REVISION)return;if(q<I_.LAST_COMPATIBLE_COMPILER_REVISION){var P=I_.REVISION_CHANGES[_],K=I_.REVISION_CHANGES[q];throw new R_.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+P+") or downgrade your runtime to an older version ("+K+").")}else throw new R_.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+$[1]+").")}function Xl($,q){if(!q)throw new R_.default("No environment passed to template");if(!$||!$.main)throw new R_.default("Unknown template object: "+typeof $);$.main.decorator=$.main_d,q.VM.checkRevision($.compiler);var _=$.compiler&&$.compiler[0]===7;function P(Y,v,W){if(W.hash){if(v=E_.extend({},v,W.hash),W.ids)W.ids[0]=!0}Y=q.VM.resolvePartial.call(this,Y,v,W);var T=E_.extend({},W,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),Z=q.VM.invokePartial.call(this,Y,v,T);if(Z==null&&q.compile)W.partials[W.name]=q.compile(Y,$.compilerOptions,q),Z=W.partials[W.name](v,T);if(Z!=null){if(W.indent){var w=Z.split(`
`);for(var k=0,M=w.length;k<M;k++){if(!w[k]&&k+1===M)break;w[k]=W.indent+w[k]}Z=w.join(`
`)}return Z}else throw new R_.default("The partial "+W.name+" could not be compiled when running in runtime-only mode")}var K={strict:function(v,W,T){if(!v||!(W in v))throw new R_.default('"'+W+'" not defined in '+v,{loc:T});return K.lookupProperty(v,W)},lookupProperty:function(v,W){var T=v[W];if(T==null)return T;if(Object.prototype.hasOwnProperty.call(v,W))return T;if(n0.resultIsAllowed(T,K.protoAccessControl,W))return T;return},lookup:function(v,W){var T=v.length;for(var Z=0;Z<T;Z++){var w=v[Z]&&K.lookupProperty(v[Z],W);if(w!=null)return v[Z][W]}},lambda:function(v,W){return typeof v==="function"?v.call(W):v},escapeExpression:E_.escapeExpression,invokePartial:P,fn:function(v){var W=$[v];return W.decorator=$[v+"_d"],W},programs:[],program:function(v,W,T,Z,w){var k=this.programs[v],M=this.fn(v);if(W||w||Z||T)k=G2(this,v,M,W,T,Z,w);else if(!k)k=this.programs[v]=G2(this,v,M);return k},data:function(v,W){while(v&&W--)v=v._parent;return v},mergeIfNeeded:function(v,W){var T=v||W;if(v&&W&&v!==W)T=E_.extend({},W,v);return T},nullContext:Object.seal({}),noop:q.VM.noop,compilerInfo:$.compiler};function O(Y){var v=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],W=v.data;if(O._setup(v),!v.partial&&$.useData)W=Gl(Y,W);var T=void 0,Z=$.useBlockParams?[]:void 0;if($.useDepths)if(v.depths)T=Y!=v.depths[0]?[Y].concat(v.depths):v.depths;else T=[Y];function w(k){return""+$.main(K,k,K.helpers,K.partials,W,Z,T)}return w=B0($.main,w,K,v.depths||[],W,Z),w(Y,v)}return O.isTop=!0,O._setup=function(Y){if(!Y.partial){var v=E_.extend({},q.helpers,Y.helpers);if(Vl(v,K),K.helpers=v,$.usePartial)K.partials=K.mergeIfNeeded(Y.partials,q.partials);if($.usePartial||$.useDecorators)K.decorators=E_.extend({},q.decorators,Y.decorators);K.hooks={},K.protoAccessControl=n0.createProtoAccessControl(Y);var W=Y.allowCallsToHelperMissing||_;o0.moveHelperToHooks(K,"helperMissing",W),o0.moveHelperToHooks(K,"blockHelperMissing",W)}else K.protoAccessControl=Y.protoAccessControl,K.helpers=Y.helpers,K.partials=Y.partials,K.decorators=Y.decorators,K.hooks=Y.hooks},O._child=function(Y,v,W,T){if($.useBlockParams&&!W)throw new R_.default("must pass block params");if($.useDepths&&!T)throw new R_.default("must pass parent depths");return G2(K,Y,$[Y],v,0,W,T)},O}function G2($,q,_,P,K,O,Y){function v(W){var T=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],Z=Y;if(Y&&W!=Y[0]&&!(W===$.nullContext&&Y[0]===null))Z=[W].concat(Y);return _($,W,$.helpers,$.partials,T.data||P,O&&[T.blockParams].concat(O),Z)}return v=B0(_,v,$,Y,P,O),v.program=q,v.depth=Y?Y.length:0,v.blockParams=K||0,v}function Al($,q,_){if(!$)if(_.name==="@partial-block")$=_.data["partial-block"];else $=_.partials[_.name];else if(!$.call&&!_.name)_.name=$,$=_.partials[$];return $}function kl($,q,_){var P=_.data&&_.data["partial-block"];if(_.partial=!0,_.ids)_.data.contextPath=_.ids[0]||_.data.contextPath;var K=void 0;if(_.fn&&_.fn!==i0)(function(){_.data=I_.createFrame(_.data);var O=_.fn;if(K=_.data["partial-block"]=function(v){var W=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return W.data=I_.createFrame(W.data),W.data["partial-block"]=P,O(v,W)},O.partials)_.partials=E_.extend({},_.partials,O.partials)})();if($===void 0&&K)$=K;if($===void 0)throw new R_.default("The partial "+_.name+" could not be found");else if($ instanceof Function)return $(q,_)}function i0(){return""}function Gl($,q){if(!q||!("root"in q))q=q?I_.createFrame(q):{},q.root=$;return q}function B0($,q,_,P,K,O){if($.decorator){var Y={};q=$.decorator(q,Y,_,P&&P[0],K,O,P),E_.extend(q,Y)}return q}function Vl($,q){Object.keys($).forEach(function(_){var P=$[_];$[_]=Sl(P,q)})}function Sl($,q){var _=q.lookupProperty;return Zl.wrapHelper($,function(P){return E_.extend({lookupProperty:_},P)})}});var zH=N$((t0,F0)=>{t0.__esModule=!0;t0.default=function($){(function(){if(typeof globalThis==="object")return;Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__})();var q=globalThis.Handlebars;$.noConflict=function(){if(globalThis.Handlebars===$)globalThis.Handlebars=q;return $}};F0.exports=t0.default});var qS=N$((s0,$S)=>{s0.__esModule=!0;function WH($){return $&&$.__esModule?$:{default:$}}function HH($){if($&&$.__esModule)return $;else{var q={};if($!=null){for(var _ in $)if(Object.prototype.hasOwnProperty.call($,_))q[_]=$[_]}return q.default=$,q}}var bl=k2(),Q0=HH(bl),yl=l0(),ul=WH(yl),xl=M8(),pl=WH(xl),cl=nq(),JH=HH(cl),ml=U0(),a0=HH(ml),dl=zH(),ll=WH(dl);function e0(){var $=new Q0.HandlebarsEnvironment;return JH.extend($,Q0),$.SafeString=ul.default,$.Exception=pl.default,$.Utils=JH,$.escapeExpression=JH.escapeExpression,$.VM=a0,$.template=function(q){return a0.template(q,$)},$}var K7=e0();K7.create=e0;ll.default(K7);K7.default=K7;s0.default=K7;$S.exports=s0.default});var TH=N$((KS,PS)=>{KS.__esModule=!0;var _S={helpers:{helperExpression:function(q){return q.type==="SubExpression"||(q.type==="MustacheStatement"||q.type==="BlockStatement")&&!!(q.params&&q.params.length||q.hash)},scopedId:function(q){return/^\.|this\b/.test(q.original)},simpleId:function(q){return q.parts.length===1&&!_S.helpers.scopedId(q)&&!q.depth}}};KS.default=_S;PS.exports=KS.default});var jS=N$((YS,OS)=>{YS.__esModule=!0;var Bl=function(){var $={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(K,O,Y,v,W,T,Z){var w=T.length-1;switch(W){case 1:return T[w-1];case 2:this.$=v.prepareProgram(T[w]);break;case 3:this.$=T[w];break;case 4:this.$=T[w];break;case 5:this.$=T[w];break;case 6:this.$=T[w];break;case 7:this.$=T[w];break;case 8:this.$=T[w];break;case 9:this.$={type:"CommentStatement",value:v.stripComment(T[w]),strip:v.stripFlags(T[w],T[w]),loc:v.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:T[w],value:T[w],loc:v.locInfo(this._$)};break;case 11:this.$=v.prepareRawBlock(T[w-2],T[w-1],T[w],this._$);break;case 12:this.$={path:T[w-3],params:T[w-2],hash:T[w-1]};break;case 13:this.$=v.prepareBlock(T[w-3],T[w-2],T[w-1],T[w],!1,this._$);break;case 14:this.$=v.prepareBlock(T[w-3],T[w-2],T[w-1],T[w],!0,this._$);break;case 15:this.$={open:T[w-5],path:T[w-4],params:T[w-3],hash:T[w-2],blockParams:T[w-1],strip:v.stripFlags(T[w-5],T[w])};break;case 16:this.$={path:T[w-4],params:T[w-3],hash:T[w-2],blockParams:T[w-1],strip:v.stripFlags(T[w-5],T[w])};break;case 17:this.$={path:T[w-4],params:T[w-3],hash:T[w-2],blockParams:T[w-1],strip:v.stripFlags(T[w-5],T[w])};break;case 18:this.$={strip:v.stripFlags(T[w-1],T[w-1]),program:T[w]};break;case 19:var k=v.prepareBlock(T[w-2],T[w-1],T[w],T[w],!1,this._$),M=v.prepareProgram([k],T[w-1].loc);M.chained=!0,this.$={strip:T[w-2].strip,program:M,chain:!0};break;case 20:this.$=T[w];break;case 21:this.$={path:T[w-1],strip:v.stripFlags(T[w-2],T[w])};break;case 22:this.$=v.prepareMustache(T[w-3],T[w-2],T[w-1],T[w-4],v.stripFlags(T[w-4],T[w]),this._$);break;case 23:this.$=v.prepareMustache(T[w-3],T[w-2],T[w-1],T[w-4],v.stripFlags(T[w-4],T[w]),this._$);break;case 24:this.$={type:"PartialStatement",name:T[w-3],params:T[w-2],hash:T[w-1],indent:"",strip:v.stripFlags(T[w-4],T[w]),loc:v.locInfo(this._$)};break;case 25:this.$=v.preparePartialBlock(T[w-2],T[w-1],T[w],this._$);break;case 26:this.$={path:T[w-3],params:T[w-2],hash:T[w-1],strip:v.stripFlags(T[w-4],T[w])};break;case 27:this.$=T[w];break;case 28:this.$=T[w];break;case 29:this.$={type:"SubExpression",path:T[w-3],params:T[w-2],hash:T[w-1],loc:v.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:T[w],loc:v.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:v.id(T[w-2]),value:T[w],loc:v.locInfo(this._$)};break;case 32:this.$=v.id(T[w-1]);break;case 33:this.$=T[w];break;case 34:this.$=T[w];break;case 35:this.$={type:"StringLiteral",value:T[w],original:T[w],loc:v.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(T[w]),original:Number(T[w]),loc:v.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:T[w]==="true",original:T[w]==="true",loc:v.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:v.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:v.locInfo(this._$)};break;case 40:this.$=T[w];break;case 41:this.$=T[w];break;case 42:this.$=v.preparePath(!0,T[w],this._$);break;case 43:this.$=v.preparePath(!1,T[w],this._$);break;case 44:T[w-2].push({part:v.id(T[w]),original:T[w],separator:T[w-1]}),this.$=T[w-2];break;case 45:this.$=[{part:v.id(T[w]),original:T[w]}];break;case 46:this.$=[];break;case 47:T[w-1].push(T[w]);break;case 48:this.$=[];break;case 49:T[w-1].push(T[w]);break;case 50:this.$=[];break;case 51:T[w-1].push(T[w]);break;case 58:this.$=[];break;case 59:T[w-1].push(T[w]);break;case 64:this.$=[];break;case 65:T[w-1].push(T[w]);break;case 70:this.$=[];break;case 71:T[w-1].push(T[w]);break;case 78:this.$=[];break;case 79:T[w-1].push(T[w]);break;case 82:this.$=[];break;case 83:T[w-1].push(T[w]);break;case 86:this.$=[];break;case 87:T[w-1].push(T[w]);break;case 90:this.$=[];break;case 91:T[w-1].push(T[w]);break;case 94:this.$=[];break;case 95:T[w-1].push(T[w]);break;case 98:this.$=[T[w]];break;case 99:T[w-1].push(T[w]);break;case 100:this.$=[T[w]];break;case 101:T[w-1].push(T[w]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(K,O){throw Error(K)},parse:function(K){var O=this,Y=[0],v=[null],W=[],T=this.table,Z="",w=0,k=0,M=0,N=2,R=1;if(this.lexer.setInput(K),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u")this.lexer.yylloc={};var E=this.lexer.yylloc;W.push(E);var D=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function h(f){Y.length=Y.length-2*f,v.length=v.length-f,W.length=W.length-f}function L(){var f=O.lexer.lex()||1;if(typeof f!=="number")f=O.symbols_[f]||f;return f}var b,y,p,i,$$,Q,c={},a,j,J,X;while(!0){if(p=Y[Y.length-1],this.defaultActions[p])i=this.defaultActions[p];else{if(b===null||typeof b>"u")b=L();i=T[p]&&T[p][b]}if(typeof i>"u"||!i.length||!i[0]){var H="";if(!M){X=[];for(a in T[p])if(this.terminals_[a]&&a>2)X.push("'"+this.terminals_[a]+"'");if(this.lexer.showPosition)H="Parse error on line "+(w+1)+`:
`+this.lexer.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[b]||b)+"'";else H="Parse error on line "+(w+1)+": Unexpected "+(b==1?"end of input":"'"+(this.terminals_[b]||b)+"'");this.parseError(H,{text:this.lexer.match,token:this.terminals_[b]||b,line:this.lexer.yylineno,loc:E,expected:X})}}if(i[0]instanceof Array&&i.length>1)throw Error("Parse Error: multiple actions possible at state: "+p+", token: "+b);switch(i[0]){case 1:if(Y.push(b),v.push(this.lexer.yytext),W.push(this.lexer.yylloc),Y.push(i[1]),b=null,!y){if(k=this.lexer.yyleng,Z=this.lexer.yytext,w=this.lexer.yylineno,E=this.lexer.yylloc,M>0)M--}else b=y,y=null;break;case 2:if(j=this.productions_[i[1]][1],c.$=v[v.length-j],c._$={first_line:W[W.length-(j||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(j||1)].first_column,last_column:W[W.length-1].last_column},D)c._$.range=[W[W.length-(j||1)].range[0],W[W.length-1].range[1]];if(Q=this.performAction.call(c,Z,k,w,this.yy,i[1],v,W),typeof Q<"u")return Q;if(j)Y=Y.slice(0,-1*j*2),v=v.slice(0,-1*j),W=W.slice(0,-1*j);Y.push(this.productions_[i[1]][0]),v.push(c.$),W.push(c._$),J=T[Y[Y.length-2]][Y[Y.length-1]],Y.push(J);break;case 3:return!0}}return!0}},q=function(){var P={EOF:1,parseError:function(O,Y){if(this.yy.parser)this.yy.parser.parseError(O,Y);else throw Error(O)},setInput:function(O){if(this._input=O,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var O=this._input[0];this.yytext+=O,this.yyleng++,this.offset++,this.match+=O,this.matched+=O;var Y=O.match(/(?:\r\n?|\n).*/g);if(Y)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),O},unput:function(O){var Y=O.length,v=O.split(/(?:\r\n?|\n)/g);this._input=O+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Y-1),this.offset-=Y;var W=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1)this.yylineno-=v.length-1;var T=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===W.length?this.yylloc.first_column:0)+W[W.length-v.length].length-v[0].length:this.yylloc.first_column-Y},this.options.ranges)this.yylloc.range=[T[0],T[0]+this.yyleng-Y];return this},more:function(){return this._more=!0,this},less:function(O){this.unput(this.match.slice(O))},pastInput:function(){var O=this.matched.substr(0,this.matched.length-this.match.length);return(O.length>20?"...":"")+O.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var O=this.match;if(O.length<20)O+=this._input.substr(0,20-O.length);return(O.substr(0,20)+(O.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var O=this.pastInput(),Y=Array(O.length+1).join("-");return O+this.upcomingInput()+`
`+Y+"^"},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var O,Y,v,W,T,Z;if(!this._more)this.yytext="",this.match="";var w=this._currentRules();for(var k=0;k<w.length;k++)if(v=this._input.match(this.rules[w[k]]),v&&(!Y||v[0].length>Y[0].length)){if(Y=v,W=k,!this.options.flex)break}if(Y){if(Z=Y[0].match(/(?:\r\n?|\n).*/g),Z)this.yylineno+=Z.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y[0].length},this.yytext+=Y[0],this.match+=Y[0],this.matches=Y,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._input=this._input.slice(Y[0].length),this.matched+=Y[0],O=this.performAction.call(this,this.yy,this,w[W],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(O)return O;else return}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var O=this.next();if(typeof O<"u")return O;else return this.lex()},begin:function(O){this.conditionStack.push(O)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(O){this.begin(O)}};return P.options={},P.performAction=function(O,Y,v,W){function T(w,k){return Y.yytext=Y.yytext.substring(w,Y.yyleng-k+w)}var Z=W;switch(v){case 0:if(Y.yytext.slice(-2)==="\\\\")T(0,1),this.begin("mu");else if(Y.yytext.slice(-1)==="\\")T(0,1),this.begin("emu");else this.begin("mu");if(Y.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;break;case 3:return this.begin("raw"),15;break;case 4:if(this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw")return 15;else return T(5,9),"END_RAW_BLOCK";break;case 5:return 15;case 6:return this.popState(),14;break;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;break;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;break;case 16:return this.popState(),44;break;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(Y.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;break;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;break;case 30:return this.popState(),33;break;case 31:return Y.yytext=T(1,2).replace(/\\"/g,'"'),80;break;case 32:return Y.yytext=T(1,2).replace(/\\'/g,"'"),80;break;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return Y.yytext=Y.yytext.replace(/\\([\\\]])/g,"$1"),72;break;case 43:return"INVALID";case 44:return 5}},P.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],P.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},P}();$.lexer=q;function _(){this.yy={}}return _.prototype=$,$.Parser=_,new _}();YS.default=Bl;OS.exports=YS.default});var M2=N$((JS,WS)=>{JS.__esModule=!0;function Fl($){return $&&$.__esModule?$:{default:$}}var Ql=M8(),wH=Fl(Ql);function V2(){this.parents=[]}V2.prototype={constructor:V2,mutating:!1,acceptKey:function(q,_){var P=this.accept(q[_]);if(this.mutating){if(P&&!V2.prototype[P.type])throw new wH.default('Unexpected node type "'+P.type+'" found when accepting '+_+" on "+q.type);q[_]=P}},acceptRequired:function(q,_){if(this.acceptKey(q,_),!q[_])throw new wH.default(q.type+" requires "+_)},acceptArray:function(q){for(var _=0,P=q.length;_<P;_++)if(this.acceptKey(q,_),!q[_])q.splice(_,1),_--,P--},accept:function(q){if(!q)return;if(!this[q.type])throw new wH.default("Unknown type: "+q.type,q);if(this.current)this.parents.unshift(this.current);this.current=q;var _=this[q.type](q);if(this.current=this.parents.shift(),!this.mutating||_)return _;else if(_!==!1)return q},Program:function(q){this.acceptArray(q.body)},MustacheStatement:S2,Decorator:S2,BlockStatement:vS,DecoratorBlock:vS,PartialStatement:zS,PartialBlockStatement:function(q){zS.call(this,q),this.acceptKey(q,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:S2,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(q){this.acceptArray(q.pairs)},HashPair:function(q){this.acceptRequired(q,"value")}};function S2($){this.acceptRequired($,"path"),this.acceptArray($.params),this.acceptKey($,"hash")}function vS($){S2.call(this,$),this.acceptKey($,"program"),this.acceptKey($,"inverse")}function zS($){this.acceptRequired($,"name"),this.acceptArray($.params),this.acceptKey($,"hash")}JS.default=V2;WS.exports=JS.default});var wS=N$((HS,TS)=>{HS.__esModule=!0;function sl($){return $&&$.__esModule?$:{default:$}}var $r=M2(),qr=sl($r);function j_(){var $=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=$}j_.prototype=new qr.default;j_.prototype.Program=function($){var q=!this.options.ignoreStandalone,_=!this.isRootSeen;this.isRootSeen=!0;var P=$.body;for(var K=0,O=P.length;K<O;K++){var Y=P[K],v=this.accept(Y);if(!v)continue;var W=ZH(P,K,_),T=fH(P,K,_),Z=v.openStandalone&&W,w=v.closeStandalone&&T,k=v.inlineStandalone&&W&&T;if(v.close)iK(P,K,!0);if(v.open)TK(P,K,!0);if(q&&k){if(iK(P,K),TK(P,K)){if(Y.type==="PartialStatement")Y.indent=/([ \t]+$)/.exec(P[K-1].original)[1]}}if(q&&Z)iK((Y.program||Y.inverse).body),TK(P,K);if(q&&w)iK(P,K),TK((Y.inverse||Y.program).body)}return $};j_.prototype.BlockStatement=j_.prototype.DecoratorBlock=j_.prototype.PartialBlockStatement=function($){this.accept($.program),this.accept($.inverse);var q=$.program||$.inverse,_=$.program&&$.inverse,P=_,K=_;if(_&&_.chained){P=_.body[0].program;while(K.chained)K=K.body[K.body.length-1].program}var O={open:$.openStrip.open,close:$.closeStrip.close,openStandalone:fH(q.body),closeStandalone:ZH((P||q).body)};if($.openStrip.close)iK(q.body,null,!0);if(_){var Y=$.inverseStrip;if(Y.open)TK(q.body,null,!0);if(Y.close)iK(P.body,null,!0);if($.closeStrip.open)TK(K.body,null,!0);if(!this.options.ignoreStandalone&&ZH(q.body)&&fH(P.body))TK(q.body),iK(P.body)}else if($.closeStrip.open)TK(q.body,null,!0);return O};j_.prototype.Decorator=j_.prototype.MustacheStatement=function($){return $.strip};j_.prototype.PartialStatement=j_.prototype.CommentStatement=function($){var q=$.strip||{};return{inlineStandalone:!0,open:q.open,close:q.close}};function ZH($,q,_){if(q===void 0)q=$.length;var P=$[q-1],K=$[q-2];if(!P)return _;if(P.type==="ContentStatement")return(K||!_?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(P.original)}function fH($,q,_){if(q===void 0)q=-1;var P=$[q+1],K=$[q+2];if(!P)return _;if(P.type==="ContentStatement")return(K||!_?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(P.original)}function iK($,q,_){var P=$[q==null?0:q+1];if(!P||P.type!=="ContentStatement"||!_&&P.rightStripped)return;var K=P.value;P.value=P.value.replace(_?/^\s+/:/^[ \t]*\r?\n?/,""),P.rightStripped=P.value!==K}function TK($,q,_){var P=$[q==null?$.length-1:q-1];if(!P||P.type!=="ContentStatement"||!_&&P.leftStripped)return;var K=P.value;return P.value=P.value.replace(_?/\s+$/:/[ \t]+$/,""),P.leftStripped=P.value!==K,P.leftStripped}HS.default=j_;TS.exports=HS.default});var ZS=N$((fr)=>{fr.__esModule=!0;fr.SourceLocation=Or;fr.id=jr;fr.stripFlags=vr;fr.stripComment=zr;fr.preparePath=Jr;fr.prepareMustache=Wr;fr.prepareRawBlock=Hr;fr.prepareBlock=Tr;fr.prepareProgram=wr;fr.preparePartialBlock=Zr;function Pr($){return $&&$.__esModule?$:{default:$}}var Yr=M8(),XH=Pr(Yr);function AH($,q){if(q=q.path?q.path.original:q,$.path.original!==q){var _={loc:$.path.loc};throw new XH.default($.path.original+" doesn't match "+q,_)}}function Or($,q){this.source=$,this.start={line:q.first_line,column:q.first_column},this.end={line:q.last_line,column:q.last_column}}function jr($){if(/^\[.*\]$/.test($))return $.substring(1,$.length-1);else return $}function vr($,q){return{open:$.charAt(2)==="~",close:q.charAt(q.length-3)==="~"}}function zr($){return $.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function Jr($,q,_){_=this.locInfo(_);var P=$?"@":"",K=[],O=0;for(var Y=0,v=q.length;Y<v;Y++){var W=q[Y].part,T=q[Y].original!==W;if(P+=(q[Y].separator||"")+W,!T&&(W===".."||W==="."||W==="this")){if(K.length>0)throw new XH.default("Invalid path: "+P,{loc:_});else if(W==="..")O++}else K.push(W)}return{type:"PathExpression",data:$,depth:O,parts:K,original:P,loc:_}}function Wr($,q,_,P,K,O){var Y=P.charAt(3)||P.charAt(2),v=Y!=="{"&&Y!=="&",W=/\*/.test(P);return{type:W?"Decorator":"MustacheStatement",path:$,params:q,hash:_,escaped:v,strip:K,loc:this.locInfo(O)}}function Hr($,q,_,P){AH($,_),P=this.locInfo(P);var K={type:"Program",body:q,strip:{},loc:P};return{type:"BlockStatement",path:$.path,params:$.params,hash:$.hash,program:K,openStrip:{},inverseStrip:{},closeStrip:{},loc:P}}function Tr($,q,_,P,K,O){if(P&&P.path)AH($,P);var Y=/\*/.test($.open);q.blockParams=$.blockParams;var v=void 0,W=void 0;if(_){if(Y)throw new XH.default("Unexpected inverse block on decorator",_);if(_.chain)_.program.body[0].closeStrip=P.strip;W=_.strip,v=_.program}if(K)K=v,v=q,q=K;return{type:Y?"DecoratorBlock":"BlockStatement",path:$.path,params:$.params,hash:$.hash,program:q,inverse:v,openStrip:$.strip,inverseStrip:W,closeStrip:P&&P.strip,loc:this.locInfo(O)}}function wr($,q){if(!q&&$.length){var _=$[0].loc,P=$[$.length-1].loc;if(_&&P)q={source:_.source,start:{line:_.start.line,column:_.start.column},end:{line:P.end.line,column:P.end.column}}}return{type:"Program",body:$,strip:{},loc:q}}function Zr($,q,_,P){return AH($,_),{type:"PartialBlockStatement",name:$.path,params:$.params,hash:$.hash,program:q,openStrip:$.strip,closeStrip:_&&_.strip,loc:this.locInfo(P)}}});var AS=N$((xr)=>{xr.__esModule=!0;xr.parseWithoutProcessing=XS;xr.parse=ur;function Ir($){if($&&$.__esModule)return $;else{var q={};if($!=null){for(var _ in $)if(Object.prototype.hasOwnProperty.call($,_))q[_]=$[_]}return q.default=$,q}}function fS($){return $&&$.__esModule?$:{default:$}}var hr=jS(),kH=fS(hr),Dr=wS(),Lr=fS(Dr),gr=ZS(),br=Ir(gr),yr=nq();xr.parser=kH.default;var N2={};yr.extend(N2,br);function XS($,q){if($.type==="Program")return $;kH.default.yy=N2,N2.locInfo=function(P){return new N2.SourceLocation(q&&q.srcName,P)};var _=kH.default.parse($);return _}function ur($,q){var _=XS($,q),P=new Lr.default(q);return P.accept(_)}});var SS=N$((Br)=>{Br.__esModule=!0;Br.Compiler=GH;Br.precompile=nr;Br.compile=ir;function GS($){return $&&$.__esModule?$:{default:$}}var lr=M8(),Y7=GS(lr),O7=nq(),rr=TH(),P7=GS(rr),or=[].slice;function GH(){}GH.prototype={compiler:GH,equals:function(q){var _=this.opcodes.length;if(q.opcodes.length!==_)return!1;for(var P=0;P<_;P++){var K=this.opcodes[P],O=q.opcodes[P];if(K.opcode!==O.opcode||!VS(K.args,O.args))return!1}_=this.children.length;for(var P=0;P<_;P++)if(!this.children[P].equals(q.children[P]))return!1;return!0},guid:0,compile:function(q,_){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=_,this.stringParams=_.stringParams,this.trackIds=_.trackIds,_.blockParams=_.blockParams||[],_.knownHelpers=O7.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},_.knownHelpers),this.accept(q)},compileProgram:function(q){var _=new this.compiler,P=_.compile(q,this.options),K=this.guid++;return this.usePartial=this.usePartial||P.usePartial,this.children[K]=P,this.useDepths=this.useDepths||P.useDepths,K},accept:function(q){if(!this[q.type])throw new Y7.default("Unknown type: "+q.type,q);this.sourceNode.unshift(q);var _=this[q.type](q);return this.sourceNode.shift(),_},Program:function(q){this.options.blockParams.unshift(q.blockParams);var _=q.body,P=_.length;for(var K=0;K<P;K++)this.accept(_[K]);return this.options.blockParams.shift(),this.isSimple=P===1,this.blockParams=q.blockParams?q.blockParams.length:0,this},BlockStatement:function(q){kS(q);var{program:_,inverse:P}=q;_=_&&this.compileProgram(_),P=P&&this.compileProgram(P);var K=this.classifySexpr(q);if(K==="helper")this.helperSexpr(q,_,P);else if(K==="simple")this.simpleSexpr(q),this.opcode("pushProgram",_),this.opcode("pushProgram",P),this.opcode("emptyHash"),this.opcode("blockValue",q.path.original);else this.ambiguousSexpr(q,_,P),this.opcode("pushProgram",_),this.opcode("pushProgram",P),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue");this.opcode("append")},DecoratorBlock:function(q){var _=q.program&&this.compileProgram(q.program),P=this.setupFullMustacheParams(q,_,void 0),K=q.path;this.useDecorators=!0,this.opcode("registerDecorator",P.length,K.original)},PartialStatement:function(q){this.usePartial=!0;var _=q.program;if(_)_=this.compileProgram(q.program);var P=q.params;if(P.length>1)throw new Y7.default("Unsupported number of partial arguments: "+P.length,q);else if(!P.length)if(this.options.explicitPartialContext)this.opcode("pushLiteral","undefined");else P.push({type:"PathExpression",parts:[],depth:0});var K=q.name.original,O=q.name.type==="SubExpression";if(O)this.accept(q.name);this.setupFullMustacheParams(q,_,void 0,!0);var Y=q.indent||"";if(this.options.preventIndent&&Y)this.opcode("appendContent",Y),Y="";this.opcode("invokePartial",O,K,Y),this.opcode("append")},PartialBlockStatement:function(q){this.PartialStatement(q)},MustacheStatement:function(q){if(this.SubExpression(q),q.escaped&&!this.options.noEscape)this.opcode("appendEscaped");else this.opcode("append")},Decorator:function(q){this.DecoratorBlock(q)},ContentStatement:function(q){if(q.value)this.opcode("appendContent",q.value)},CommentStatement:function(){},SubExpression:function(q){kS(q);var _=this.classifySexpr(q);if(_==="simple")this.simpleSexpr(q);else if(_==="helper")this.helperSexpr(q);else this.ambiguousSexpr(q)},ambiguousSexpr:function(q,_,P){var K=q.path,O=K.parts[0],Y=_!=null||P!=null;this.opcode("getContext",K.depth),this.opcode("pushProgram",_),this.opcode("pushProgram",P),K.strict=!0,this.accept(K),this.opcode("invokeAmbiguous",O,Y)},simpleSexpr:function(q){var _=q.path;_.strict=!0,this.accept(_),this.opcode("resolvePossibleLambda")},helperSexpr:function(q,_,P){var K=this.setupFullMustacheParams(q,_,P),O=q.path,Y=O.parts[0];if(this.options.knownHelpers[Y])this.opcode("invokeKnownHelper",K.length,Y);else if(this.options.knownHelpersOnly)throw new Y7.default("You specified knownHelpersOnly, but used the unknown helper "+Y,q);else O.strict=!0,O.falsy=!0,this.accept(O),this.opcode("invokeHelper",K.length,O.original,P7.default.helpers.simpleId(O))},PathExpression:function(q){this.addDepth(q.depth),this.opcode("getContext",q.depth);var _=q.parts[0],P=P7.default.helpers.scopedId(q),K=!q.depth&&!P&&this.blockParamIndex(_);if(K)this.opcode("lookupBlockParam",K,q.parts);else if(!_)this.opcode("pushContext");else if(q.data)this.options.data=!0,this.opcode("lookupData",q.depth,q.parts,q.strict);else this.opcode("lookupOnContext",q.parts,q.falsy,q.strict,P)},StringLiteral:function(q){this.opcode("pushString",q.value)},NumberLiteral:function(q){this.opcode("pushLiteral",q.value)},BooleanLiteral:function(q){this.opcode("pushLiteral",q.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(q){var _=q.pairs,P=0,K=_.length;this.opcode("pushHash");for(;P<K;P++)this.pushParam(_[P].value);while(P--)this.opcode("assignToHash",_[P].key);this.opcode("popHash")},opcode:function(q){this.opcodes.push({opcode:q,args:or.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(q){if(!q)return;this.useDepths=!0},classifySexpr:function(q){var _=P7.default.helpers.simpleId(q.path),P=_&&!!this.blockParamIndex(q.path.parts[0]),K=!P&&P7.default.helpers.helperExpression(q),O=!P&&(K||_);if(O&&!K){var Y=q.path.parts[0],v=this.options;if(v.knownHelpers[Y])K=!0;else if(v.knownHelpersOnly)O=!1}if(K)return"helper";else if(O)return"ambiguous";else return"simple"},pushParams:function(q){for(var _=0,P=q.length;_<P;_++)this.pushParam(q[_])},pushParam:function(q){var _=q.value!=null?q.value:q.original||"";if(this.stringParams){if(_.replace)_=_.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".");if(q.depth)this.addDepth(q.depth);if(this.opcode("getContext",q.depth||0),this.opcode("pushStringParam",_,q.type),q.type==="SubExpression")this.accept(q)}else{if(this.trackIds){var P=void 0;if(q.parts&&!P7.default.helpers.scopedId(q)&&!q.depth)P=this.blockParamIndex(q.parts[0]);if(P){var K=q.parts.slice(1).join(".");this.opcode("pushId","BlockParam",P,K)}else{if(_=q.original||_,_.replace)_=_.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"");this.opcode("pushId",q.type,_)}}this.accept(q)}},setupFullMustacheParams:function(q,_,P,K){var O=q.params;if(this.pushParams(O),this.opcode("pushProgram",_),this.opcode("pushProgram",P),q.hash)this.accept(q.hash);else this.opcode("emptyHash",K);return O},blockParamIndex:function(q){for(var _=0,P=this.options.blockParams.length;_<P;_++){var K=this.options.blockParams[_],O=K&&O7.indexOf(K,q);if(K&&O>=0)return[_,O]}}};function nr($,q,_){if($==null||typeof $!=="string"&&$.type!=="Program")throw new Y7.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+$);if(q=q||{},!("data"in q))q.data=!0;if(q.compat)q.useDepths=!0;var P=_.parse($,q),K=new _.Compiler().compile(P,q);return new _.JavaScriptCompiler().compile(K,q)}function ir($,q,_){if(q===void 0)q={};if($==null||typeof $!=="string"&&$.type!=="Program")throw new Y7.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+$);if(q=O7.extend({},q),!("data"in q))q.data=!0;if(q.compat)q.useDepths=!0;var P=void 0;function K(){var Y=_.parse($,q),v=new _.Compiler().compile(Y,q),W=new _.JavaScriptCompiler().compile(v,q,void 0,!0);return _.template(W)}function O(Y,v){if(!P)P=K();return P.call(this,Y,v)}return O._setup=function(Y){if(!P)P=K();return P._setup(Y)},O._child=function(Y,v,W,T){if(!P)P=K();return P._child(Y,v,W,T)},O}function VS($,q){if($===q)return!0;if(O7.isArray($)&&O7.isArray(q)&&$.length===q.length){for(var _=0;_<$.length;_++)if(!VS($[_],q[_]))return!1;return!0}}function kS($){if(!$.path.parts){var q=$.path;$.path={type:"PathExpression",data:!1,depth:0,parts:[q.original+""],original:q.original+"",loc:q.loc}}}});var NS=N$((ar)=>{var MS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");ar.encode=function($){if(0<=$&&$<MS.length)return MS[$];throw TypeError("Must be between 0 and 63: "+$)};ar.decode=function($){var q=65,_=90,P=97,K=122,O=48,Y=57,v=43,W=47,T=26,Z=52;if(q<=$&&$<=_)return $-q;if(P<=$&&$<=K)return $-P+T;if(O<=$&&$<=Y)return $-O+Z;if($==v)return 62;if($==W)return 63;return-1}});var SH=N$((_o)=>{var CS=NS(),VH=5,ES=1<<VH,RS=ES-1,IS=ES;function $o($){return $<0?(-$<<1)+1:($<<1)+0}function qo($){var q=($&1)===1,_=$>>1;return q?-_:_}_o.encode=function(q){var _="",P,K=$o(q);do{if(P=K&RS,K>>>=VH,K>0)P|=IS;_+=CS.encode(P)}while(K>0);return _};_o.decode=function(q,_,P){var K=q.length,O=0,Y=0,v,W;do{if(_>=K)throw Error("Expected more digits in base 64 VLQ value.");if(W=CS.decode(q.charCodeAt(_++)),W===-1)throw Error("Invalid base64 digit: "+q.charAt(_-1));v=!!(W&IS),W&=RS,O=O+(W<<Y),Y+=VH}while(v);P.value=qo(O),P.rest=_}});var YP=N$((Zo)=>{function Yo($,q,_){if(q in $)return $[q];else if(arguments.length===3)return _;else throw Error('"'+q+'" is a required argument.')}Zo.getArg=Yo;var hS=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Oo=/^data:.+\,.+$/;function j7($){var q=$.match(hS);if(!q)return null;return{scheme:q[1],auth:q[2],host:q[3],port:q[4],path:q[5]}}Zo.urlParse=j7;function KP($){var q="";if($.scheme)q+=$.scheme+":";if(q+="//",$.auth)q+=$.auth+"@";if($.host)q+=$.host;if($.port)q+=":"+$.port;if($.path)q+=$.path;return q}Zo.urlGenerate=KP;function MH($){var q=$,_=j7($);if(_){if(!_.path)return $;q=_.path}var P=Zo.isAbsolute(q),K=q.split(/\/+/);for(var O,Y=0,v=K.length-1;v>=0;v--)if(O=K[v],O===".")K.splice(v,1);else if(O==="..")Y++;else if(Y>0)if(O==="")K.splice(v+1,Y),Y=0;else K.splice(v,2),Y--;if(q=K.join("/"),q==="")q=P?"/":".";if(_)return _.path=q,KP(_);return q}Zo.normalize=MH;function DS($,q){if($==="")$=".";if(q==="")q=".";var _=j7(q),P=j7($);if(P)$=P.path||"/";if(_&&!_.scheme){if(P)_.scheme=P.scheme;return KP(_)}if(_||q.match(Oo))return q;if(P&&!P.host&&!P.path)return P.host=q,KP(P);var K=q.charAt(0)==="/"?q:MH($.replace(/\/+$/,"")+"/"+q);if(P)return P.path=K,KP(P);return K}Zo.join=DS;Zo.isAbsolute=function($){return $.charAt(0)==="/"||hS.test($)};function jo($,q){if($==="")$=".";$=$.replace(/\/$/,"");var _=0;while(q.indexOf($+"/")!==0){var P=$.lastIndexOf("/");if(P<0)return q;if($=$.slice(0,P),$.match(/^([^\/]+:\/)?\/*$/))return q;++_}return Array(_+1).join("../")+q.substr($.length+1)}Zo.relative=jo;var LS=function(){var $=Object.create(null);return!("__proto__"in $)}();function gS($){return $}function vo($){if(bS($))return"$"+$;return $}Zo.toSetString=LS?gS:vo;function zo($){if(bS($))return $.slice(1);return $}Zo.fromSetString=LS?gS:zo;function bS($){if(!$)return!1;var q=$.length;if(q<9)return!1;if($.charCodeAt(q-1)!==95||$.charCodeAt(q-2)!==95||$.charCodeAt(q-3)!==111||$.charCodeAt(q-4)!==116||$.charCodeAt(q-5)!==111||$.charCodeAt(q-6)!==114||$.charCodeAt(q-7)!==112||$.charCodeAt(q-8)!==95||$.charCodeAt(q-9)!==95)return!1;for(var _=q-10;_>=0;_--)if($.charCodeAt(_)!==36)return!1;return!0}function Jo($,q,_){var P=PP($.source,q.source);if(P!==0)return P;if(P=$.originalLine-q.originalLine,P!==0)return P;if(P=$.originalColumn-q.originalColumn,P!==0||_)return P;if(P=$.generatedColumn-q.generatedColumn,P!==0)return P;if(P=$.generatedLine-q.generatedLine,P!==0)return P;return PP($.name,q.name)}Zo.compareByOriginalPositions=Jo;function Wo($,q,_){var P=$.generatedLine-q.generatedLine;if(P!==0)return P;if(P=$.generatedColumn-q.generatedColumn,P!==0||_)return P;if(P=PP($.source,q.source),P!==0)return P;if(P=$.originalLine-q.originalLine,P!==0)return P;if(P=$.originalColumn-q.originalColumn,P!==0)return P;return PP($.name,q.name)}Zo.compareByGeneratedPositionsDeflated=Wo;function PP($,q){if($===q)return 0;if($===null)return 1;if(q===null)return-1;if($>q)return 1;return-1}function Ho($,q){var _=$.generatedLine-q.generatedLine;if(_!==0)return _;if(_=$.generatedColumn-q.generatedColumn,_!==0)return _;if(_=PP($.source,q.source),_!==0)return _;if(_=$.originalLine-q.originalLine,_!==0)return _;if(_=$.originalColumn-q.originalColumn,_!==0)return _;return PP($.name,q.name)}Zo.compareByGeneratedPositionsInflated=Ho;function To($){return JSON.parse($.replace(/^\)]}'[^\n]*\n/,""))}Zo.parseSourceMapInput=To;function wo($,q,_){if(q=q||"",$){if($[$.length-1]!=="/"&&q[0]!=="/")$+="/";q=$+q}if(_){var P=j7(_);if(!P)throw Error("sourceMapURL could not be parsed");if(P.path){var K=P.path.lastIndexOf("/");if(K>=0)P.path=P.path.substring(0,K+1)}q=DS(KP(P),q)}return MH(q)}Zo.computeSourceURL=wo});var EH=N$((Do)=>{var NH=YP(),CH=Object.prototype.hasOwnProperty,BK=typeof Map<"u";function h_(){this._array=[],this._set=BK?new Map:Object.create(null)}h_.fromArray=function(q,_){var P=new h_;for(var K=0,O=q.length;K<O;K++)P.add(q[K],_);return P};h_.prototype.size=function(){return BK?this._set.size:Object.getOwnPropertyNames(this._set).length};h_.prototype.add=function(q,_){var P=BK?q:NH.toSetString(q),K=BK?this.has(q):CH.call(this._set,P),O=this._array.length;if(!K||_)this._array.push(q);if(!K)if(BK)this._set.set(q,O);else this._set[P]=O};h_.prototype.has=function(q){if(BK)return this._set.has(q);else{var _=NH.toSetString(q);return CH.call(this._set,_)}};h_.prototype.indexOf=function(q){if(BK){var _=this._set.get(q);if(_>=0)return _}else{var P=NH.toSetString(q);if(CH.call(this._set,P))return this._set[P]}throw Error('"'+q+'" is not in the set.')};h_.prototype.at=function(q){if(q>=0&&q<this._array.length)return this._array[q];throw Error("No element indexed by "+q)};h_.prototype.toArray=function(){return this._array.slice()};Do.ArraySet=h_});var uS=N$((bo)=>{var yS=YP();function go($,q){var _=$.generatedLine,P=q.generatedLine,K=$.generatedColumn,O=q.generatedColumn;return P>_||P==_&&O>=K||yS.compareByGeneratedPositionsInflated($,q)<=0}function C2(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}C2.prototype.unsortedForEach=function(q,_){this._array.forEach(q,_)};C2.prototype.add=function(q){if(go(this._last,q))this._last=q,this._array.push(q);else this._sorted=!1,this._array.push(q)};C2.prototype.toArray=function(){if(!this._sorted)this._array.sort(yS.compareByGeneratedPositionsInflated),this._sorted=!0;return this._array};bo.MappingList=C2});var RH=N$((xo)=>{var v7=SH(),F6=YP(),E2=EH().ArraySet,uo=uS().MappingList;function N8($){if(!$)$={};this._file=F6.getArg($,"file",null),this._sourceRoot=F6.getArg($,"sourceRoot",null),this._skipValidation=F6.getArg($,"skipValidation",!1),this._sources=new E2,this._names=new E2,this._mappings=new uo,this._sourcesContents=null}N8.prototype._version=3;N8.fromSourceMap=function(q){var _=q.sourceRoot,P=new N8({file:q.file,sourceRoot:_});return q.eachMapping(function(K){var O={generated:{line:K.generatedLine,column:K.generatedColumn}};if(K.source!=null){if(O.source=K.source,_!=null)O.source=F6.relative(_,O.source);if(O.original={line:K.originalLine,column:K.originalColumn},K.name!=null)O.name=K.name}P.addMapping(O)}),q.sources.forEach(function(K){var O=K;if(_!==null)O=F6.relative(_,K);if(!P._sources.has(O))P._sources.add(O);var Y=q.sourceContentFor(K);if(Y!=null)P.setSourceContent(K,Y)}),P};N8.prototype.addMapping=function(q){var _=F6.getArg(q,"generated"),P=F6.getArg(q,"original",null),K=F6.getArg(q,"source",null),O=F6.getArg(q,"name",null);if(!this._skipValidation)this._validateMapping(_,P,K,O);if(K!=null){if(K=String(K),!this._sources.has(K))this._sources.add(K)}if(O!=null){if(O=String(O),!this._names.has(O))this._names.add(O)}this._mappings.add({generatedLine:_.line,generatedColumn:_.column,originalLine:P!=null&&P.line,originalColumn:P!=null&&P.column,source:K,name:O})};N8.prototype.setSourceContent=function(q,_){var P=q;if(this._sourceRoot!=null)P=F6.relative(this._sourceRoot,P);if(_!=null){if(!this._sourcesContents)this._sourcesContents=Object.create(null);this._sourcesContents[F6.toSetString(P)]=_}else if(this._sourcesContents){if(delete this._sourcesContents[F6.toSetString(P)],Object.keys(this._sourcesContents).length===0)this._sourcesContents=null}};N8.prototype.applySourceMap=function(q,_,P){var K=_;if(_==null){if(q.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);K=q.file}var O=this._sourceRoot;if(O!=null)K=F6.relative(O,K);var Y=new E2,v=new E2;this._mappings.unsortedForEach(function(W){if(W.source===K&&W.originalLine!=null){var T=q.originalPositionFor({line:W.originalLine,column:W.originalColumn});if(T.source!=null){if(W.source=T.source,P!=null)W.source=F6.join(P,W.source);if(O!=null)W.source=F6.relative(O,W.source);if(W.originalLine=T.line,W.originalColumn=T.column,T.name!=null)W.name=T.name}}var Z=W.source;if(Z!=null&&!Y.has(Z))Y.add(Z);var w=W.name;if(w!=null&&!v.has(w))v.add(w)},this),this._sources=Y,this._names=v,q.sources.forEach(function(W){var T=q.sourceContentFor(W);if(T!=null){if(P!=null)W=F6.join(P,W);if(O!=null)W=F6.relative(O,W);this.setSourceContent(W,T)}},this)};N8.prototype._validateMapping=function(q,_,P,K){if(_&&typeof _.line!=="number"&&typeof _.column!=="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(q&&"line"in q&&"column"in q&&q.line>0&&q.column>=0&&!_&&!P&&!K)return;else if(q&&"line"in q&&"column"in q&&_&&"line"in _&&"column"in _&&q.line>0&&q.column>=0&&_.line>0&&_.column>=0&&P)return;else throw Error("Invalid mapping: "+JSON.stringify({generated:q,source:P,original:_,name:K}))};N8.prototype._serializeMappings=function(){var q=0,_=1,P=0,K=0,O=0,Y=0,v="",W,T,Z,w,k=this._mappings.toArray();for(var M=0,N=k.length;M<N;M++){if(T=k[M],W="",T.generatedLine!==_){q=0;while(T.generatedLine!==_)W+=";",_++}else if(M>0){if(!F6.compareByGeneratedPositionsInflated(T,k[M-1]))continue;W+=","}if(W+=v7.encode(T.generatedColumn-q),q=T.generatedColumn,T.source!=null){if(w=this._sources.indexOf(T.source),W+=v7.encode(w-Y),Y=w,W+=v7.encode(T.originalLine-1-K),K=T.originalLine-1,W+=v7.encode(T.originalColumn-P),P=T.originalColumn,T.name!=null)Z=this._names.indexOf(T.name),W+=v7.encode(Z-O),O=Z}v+=W}return v};N8.prototype._generateSourcesContent=function(q,_){return q.map(function(P){if(!this._sourcesContents)return null;if(_!=null)P=F6.relative(_,P);var K=F6.toSetString(P);return Object.prototype.hasOwnProperty.call(this._sourcesContents,K)?this._sourcesContents[K]:null},this)};N8.prototype.toJSON=function(){var q={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._file!=null)q.file=this._file;if(this._sourceRoot!=null)q.sourceRoot=this._sourceRoot;if(this._sourcesContents)q.sourcesContent=this._generateSourcesContent(q.sources,q.sourceRoot);return q};N8.prototype.toString=function(){return JSON.stringify(this.toJSON())};xo.SourceMapGenerator=N8});var pS=N$((co)=>{co.GREATEST_LOWER_BOUND=1;co.LEAST_UPPER_BOUND=2;function IH($,q,_,P,K,O){var Y=Math.floor((q-$)/2)+$,v=K(_,P[Y],!0);if(v===0)return Y;else if(v>0){if(q-Y>1)return IH(Y,q,_,P,K,O);if(O==co.LEAST_UPPER_BOUND)return q<P.length?q:-1;else return Y}else{if(Y-$>1)return IH($,Y,_,P,K,O);if(O==co.LEAST_UPPER_BOUND)return Y;else return $<0?-1:$}}co.search=function(q,_,P,K){if(_.length===0)return-1;var O=IH(-1,_.length,q,_,P,K||co.GREATEST_LOWER_BOUND);if(O<0)return-1;while(O-1>=0){if(P(_[O],_[O-1],!0)!==0)break;--O}return O}});var cS=N$((ro)=>{function DH($,q,_){var P=$[q];$[q]=$[_],$[_]=P}function lo($,q){return Math.round($+Math.random()*(q-$))}function LH($,q,_,P){if(_<P){var K=lo(_,P),O=_-1;DH($,K,P);var Y=$[P];for(var v=_;v<P;v++)if(q($[v],Y)<=0)O+=1,DH($,O,v);DH($,O+1,v);var W=O+1;LH($,q,_,W-1),LH($,q,W+1,P)}}ro.quickSort=function($,q){LH($,q,0,$.length-1)}});var dS=N$((io)=>{var $6=YP(),gH=pS(),OP=EH().ArraySet,no=SH(),z7=cS().quickSort;function u6($,q){var _=$;if(typeof $==="string")_=$6.parseSourceMapInput($);return _.sections!=null?new o8(_,q):new Mq(_,q)}u6.fromSourceMap=function($,q){return Mq.fromSourceMap($,q)};u6.prototype._version=3;u6.prototype.__generatedMappings=null;Object.defineProperty(u6.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){if(!this.__generatedMappings)this._parseMappings(this._mappings,this.sourceRoot);return this.__generatedMappings}});u6.prototype.__originalMappings=null;Object.defineProperty(u6.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){if(!this.__originalMappings)this._parseMappings(this._mappings,this.sourceRoot);return this.__originalMappings}});u6.prototype._charIsMappingSeparator=function(q,_){var P=q.charAt(_);return P===";"||P===","};u6.prototype._parseMappings=function(q,_){throw Error("Subclasses must implement _parseMappings")};u6.GENERATED_ORDER=1;u6.ORIGINAL_ORDER=2;u6.GREATEST_LOWER_BOUND=1;u6.LEAST_UPPER_BOUND=2;u6.prototype.eachMapping=function(q,_,P){var K=_||null,O=P||u6.GENERATED_ORDER,Y;switch(O){case u6.GENERATED_ORDER:Y=this._generatedMappings;break;case u6.ORIGINAL_ORDER:Y=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var v=this.sourceRoot;Y.map(function(W){var T=W.source===null?null:this._sources.at(W.source);return T=$6.computeSourceURL(v,T,this._sourceMapURL),{source:T,generatedLine:W.generatedLine,generatedColumn:W.generatedColumn,originalLine:W.originalLine,originalColumn:W.originalColumn,name:W.name===null?null:this._names.at(W.name)}},this).forEach(q,K)};u6.prototype.allGeneratedPositionsFor=function(q){var _=$6.getArg(q,"line"),P={source:$6.getArg(q,"source"),originalLine:_,originalColumn:$6.getArg(q,"column",0)};if(P.source=this._findSourceIndex(P.source),P.source<0)return[];var K=[],O=this._findMapping(P,this._originalMappings,"originalLine","originalColumn",$6.compareByOriginalPositions,gH.LEAST_UPPER_BOUND);if(O>=0){var Y=this._originalMappings[O];if(q.column===void 0){var v=Y.originalLine;while(Y&&Y.originalLine===v)K.push({line:$6.getArg(Y,"generatedLine",null),column:$6.getArg(Y,"generatedColumn",null),lastColumn:$6.getArg(Y,"lastGeneratedColumn",null)}),Y=this._originalMappings[++O]}else{var W=Y.originalColumn;while(Y&&Y.originalLine===_&&Y.originalColumn==W)K.push({line:$6.getArg(Y,"generatedLine",null),column:$6.getArg(Y,"generatedColumn",null),lastColumn:$6.getArg(Y,"lastGeneratedColumn",null)}),Y=this._originalMappings[++O]}}return K};io.SourceMapConsumer=u6;function Mq($,q){var _=$;if(typeof $==="string")_=$6.parseSourceMapInput($);var P=$6.getArg(_,"version"),K=$6.getArg(_,"sources"),O=$6.getArg(_,"names",[]),Y=$6.getArg(_,"sourceRoot",null),v=$6.getArg(_,"sourcesContent",null),W=$6.getArg(_,"mappings"),T=$6.getArg(_,"file",null);if(P!=this._version)throw Error("Unsupported version: "+P);if(Y)Y=$6.normalize(Y);K=K.map(String).map($6.normalize).map(function(Z){return Y&&$6.isAbsolute(Y)&&$6.isAbsolute(Z)?$6.relative(Y,Z):Z}),this._names=OP.fromArray(O.map(String),!0),this._sources=OP.fromArray(K,!0),this._absoluteSources=this._sources.toArray().map(function(Z){return $6.computeSourceURL(Y,Z,q)}),this.sourceRoot=Y,this.sourcesContent=v,this._mappings=W,this._sourceMapURL=q,this.file=T}Mq.prototype=Object.create(u6.prototype);Mq.prototype.consumer=u6;Mq.prototype._findSourceIndex=function($){var q=$;if(this.sourceRoot!=null)q=$6.relative(this.sourceRoot,q);if(this._sources.has(q))return this._sources.indexOf(q);var _;for(_=0;_<this._absoluteSources.length;++_)if(this._absoluteSources[_]==$)return _;return-1};Mq.fromSourceMap=function(q,_){var P=Object.create(Mq.prototype),K=P._names=OP.fromArray(q._names.toArray(),!0),O=P._sources=OP.fromArray(q._sources.toArray(),!0);P.sourceRoot=q._sourceRoot,P.sourcesContent=q._generateSourcesContent(P._sources.toArray(),P.sourceRoot),P.file=q._file,P._sourceMapURL=_,P._absoluteSources=P._sources.toArray().map(function(M){return $6.computeSourceURL(P.sourceRoot,M,_)});var Y=q._mappings.toArray().slice(),v=P.__generatedMappings=[],W=P.__originalMappings=[];for(var T=0,Z=Y.length;T<Z;T++){var w=Y[T],k=new mS;if(k.generatedLine=w.generatedLine,k.generatedColumn=w.generatedColumn,w.source){if(k.source=O.indexOf(w.source),k.originalLine=w.originalLine,k.originalColumn=w.originalColumn,w.name)k.name=K.indexOf(w.name);W.push(k)}v.push(k)}return z7(P.__originalMappings,$6.compareByOriginalPositions),P};Mq.prototype._version=3;Object.defineProperty(Mq.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function mS(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}Mq.prototype._parseMappings=function(q,_){var P=1,K=0,O=0,Y=0,v=0,W=0,T=q.length,Z=0,w={},k={},M=[],N=[],R,E,D,h,L;while(Z<T)if(q.charAt(Z)===";")P++,Z++,K=0;else if(q.charAt(Z)===",")Z++;else{R=new mS,R.generatedLine=P;for(h=Z;h<T;h++)if(this._charIsMappingSeparator(q,h))break;if(E=q.slice(Z,h),D=w[E],D)Z+=E.length;else{D=[];while(Z<h)no.decode(q,Z,k),L=k.value,Z=k.rest,D.push(L);if(D.length===2)throw Error("Found a source, but no line and column");if(D.length===3)throw Error("Found a source and line, but no column");w[E]=D}if(R.generatedColumn=K+D[0],K=R.generatedColumn,D.length>1){if(R.source=v+D[1],v+=D[1],R.originalLine=O+D[2],O=R.originalLine,R.originalLine+=1,R.originalColumn=Y+D[3],Y=R.originalColumn,D.length>4)R.name=W+D[4],W+=D[4]}if(N.push(R),typeof R.originalLine==="number")M.push(R)}z7(N,$6.compareByGeneratedPositionsDeflated),this.__generatedMappings=N,z7(M,$6.compareByOriginalPositions),this.__originalMappings=M};Mq.prototype._findMapping=function(q,_,P,K,O,Y){if(q[P]<=0)throw TypeError("Line must be greater than or equal to 1, got "+q[P]);if(q[K]<0)throw TypeError("Column must be greater than or equal to 0, got "+q[K]);return gH.search(q,_,O,Y)};Mq.prototype.computeColumnSpans=function(){for(var q=0;q<this._generatedMappings.length;++q){var _=this._generatedMappings[q];if(q+1<this._generatedMappings.length){var P=this._generatedMappings[q+1];if(_.generatedLine===P.generatedLine){_.lastGeneratedColumn=P.generatedColumn-1;continue}}_.lastGeneratedColumn=1/0}};Mq.prototype.originalPositionFor=function(q){var _={generatedLine:$6.getArg(q,"line"),generatedColumn:$6.getArg(q,"column")},P=this._findMapping(_,this._generatedMappings,"generatedLine","generatedColumn",$6.compareByGeneratedPositionsDeflated,$6.getArg(q,"bias",u6.GREATEST_LOWER_BOUND));if(P>=0){var K=this._generatedMappings[P];if(K.generatedLine===_.generatedLine){var O=$6.getArg(K,"source",null);if(O!==null)O=this._sources.at(O),O=$6.computeSourceURL(this.sourceRoot,O,this._sourceMapURL);var Y=$6.getArg(K,"name",null);if(Y!==null)Y=this._names.at(Y);return{source:O,line:$6.getArg(K,"originalLine",null),column:$6.getArg(K,"originalColumn",null),name:Y}}}return{source:null,line:null,column:null,name:null}};Mq.prototype.hasContentsOfAllSources=function(){if(!this.sourcesContent)return!1;return this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(q){return q==null})};Mq.prototype.sourceContentFor=function(q,_){if(!this.sourcesContent)return null;var P=this._findSourceIndex(q);if(P>=0)return this.sourcesContent[P];var K=q;if(this.sourceRoot!=null)K=$6.relative(this.sourceRoot,K);var O;if(this.sourceRoot!=null&&(O=$6.urlParse(this.sourceRoot))){var Y=K.replace(/^file:\/\//,"");if(O.scheme=="file"&&this._sources.has(Y))return this.sourcesContent[this._sources.indexOf(Y)];if((!O.path||O.path=="/")&&this._sources.has("/"+K))return this.sourcesContent[this._sources.indexOf("/"+K)]}if(_)return null;else throw Error('"'+K+'" is not in the SourceMap.')};Mq.prototype.generatedPositionFor=function(q){var _=$6.getArg(q,"source");if(_=this._findSourceIndex(_),_<0)return{line:null,column:null,lastColumn:null};var P={source:_,originalLine:$6.getArg(q,"line"),originalColumn:$6.getArg(q,"column")},K=this._findMapping(P,this._originalMappings,"originalLine","originalColumn",$6.compareByOriginalPositions,$6.getArg(q,"bias",u6.GREATEST_LOWER_BOUND));if(K>=0){var O=this._originalMappings[K];if(O.source===P.source)return{line:$6.getArg(O,"generatedLine",null),column:$6.getArg(O,"generatedColumn",null),lastColumn:$6.getArg(O,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};io.BasicSourceMapConsumer=Mq;function o8($,q){var _=$;if(typeof $==="string")_=$6.parseSourceMapInput($);var P=$6.getArg(_,"version"),K=$6.getArg(_,"sections");if(P!=this._version)throw Error("Unsupported version: "+P);this._sources=new OP,this._names=new OP;var O={line:-1,column:0};this._sections=K.map(function(Y){if(Y.url)throw Error("Support for url field in sections not implemented.");var v=$6.getArg(Y,"offset"),W=$6.getArg(v,"line"),T=$6.getArg(v,"column");if(W<O.line||W===O.line&&T<O.column)throw Error("Section offsets must be ordered and non-overlapping.");return O=v,{generatedOffset:{generatedLine:W+1,generatedColumn:T+1},consumer:new u6($6.getArg(Y,"map"),q)}})}o8.prototype=Object.create(u6.prototype);o8.prototype.constructor=u6;o8.prototype._version=3;Object.defineProperty(o8.prototype,"sources",{get:function(){var $=[];for(var q=0;q<this._sections.length;q++)for(var _=0;_<this._sections[q].consumer.sources.length;_++)$.push(this._sections[q].consumer.sources[_]);return $}});o8.prototype.originalPositionFor=function(q){var _={generatedLine:$6.getArg(q,"line"),generatedColumn:$6.getArg(q,"column")},P=gH.search(_,this._sections,function(O,Y){var v=O.generatedLine-Y.generatedOffset.generatedLine;if(v)return v;return O.generatedColumn-Y.generatedOffset.generatedColumn}),K=this._sections[P];if(!K)return{source:null,line:null,column:null,name:null};return K.consumer.originalPositionFor({line:_.generatedLine-(K.generatedOffset.generatedLine-1),column:_.generatedColumn-(K.generatedOffset.generatedLine===_.generatedLine?K.generatedOffset.generatedColumn-1:0),bias:q.bias})};o8.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(q){return q.consumer.hasContentsOfAllSources()})};o8.prototype.sourceContentFor=function(q,_){for(var P=0;P<this._sections.length;P++){var K=this._sections[P],O=K.consumer.sourceContentFor(q,!0);if(O)return O}if(_)return null;else throw Error('"'+q+'" is not in the SourceMap.')};o8.prototype.generatedPositionFor=function(q){for(var _=0;_<this._sections.length;_++){var P=this._sections[_];if(P.consumer._findSourceIndex($6.getArg(q,"source"))===-1)continue;var K=P.consumer.generatedPositionFor(q);if(K){var O={line:K.line+(P.generatedOffset.generatedLine-1),column:K.column+(P.generatedOffset.generatedLine===K.line?P.generatedOffset.generatedColumn-1:0)};return O}}return{line:null,column:null}};o8.prototype._parseMappings=function(q,_){this.__generatedMappings=[],this.__originalMappings=[];for(var P=0;P<this._sections.length;P++){var K=this._sections[P],O=K.consumer._generatedMappings;for(var Y=0;Y<O.length;Y++){var v=O[Y],W=K.consumer._sources.at(v.source);W=$6.computeSourceURL(K.consumer.sourceRoot,W,this._sourceMapURL),this._sources.add(W),W=this._sources.indexOf(W);var T=null;if(v.name)T=K.consumer._names.at(v.name),this._names.add(T),T=this._names.indexOf(T);var Z={source:W,generatedLine:v.generatedLine+(K.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(K.generatedOffset.generatedLine===v.generatedLine?K.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:T};if(this.__generatedMappings.push(Z),typeof Z.originalLine==="number")this.__originalMappings.push(Z)}}z7(this.__generatedMappings,$6.compareByGeneratedPositionsDeflated),z7(this.__originalMappings,$6.compareByOriginalPositions)};io.IndexedSourceMapConsumer=o8});var lS=N$((eo)=>{var Fo=RH().SourceMapGenerator,R2=YP(),Qo=/(\r?\n)/,ao=10,jP="$$$isSourceNode$$$";function H8($,q,_,P,K){if(this.children=[],this.sourceContents={},this.line=$==null?null:$,this.column=q==null?null:q,this.source=_==null?null:_,this.name=K==null?null:K,this[jP]=!0,P!=null)this.add(P)}H8.fromStringWithSourceMap=function(q,_,P){var K=new H8,O=q.split(Qo),Y=0,v=function(){var k=N(),M=N()||"";return k+M;function N(){return Y<O.length?O[Y++]:void 0}},W=1,T=0,Z=null;if(_.eachMapping(function(k){if(Z!==null)if(W<k.generatedLine)w(Z,v()),W++,T=0;else{var M=O[Y]||"",N=M.substr(0,k.generatedColumn-T);O[Y]=M.substr(k.generatedColumn-T),T=k.generatedColumn,w(Z,N),Z=k;return}while(W<k.generatedLine)K.add(v()),W++;if(T<k.generatedColumn){var M=O[Y]||"";K.add(M.substr(0,k.generatedColumn)),O[Y]=M.substr(k.generatedColumn),T=k.generatedColumn}Z=k},this),Y<O.length){if(Z)w(Z,v());K.add(O.splice(Y).join(""))}return _.sources.forEach(function(k){var M=_.sourceContentFor(k);if(M!=null){if(P!=null)k=R2.join(P,k);K.setSourceContent(k,M)}}),K;function w(k,M){if(k===null||k.source===void 0)K.add(M);else{var N=P?R2.join(P,k.source):k.source;K.add(new H8(k.originalLine,k.originalColumn,N,M,k.name))}}};H8.prototype.add=function(q){if(Array.isArray(q))q.forEach(function(_){this.add(_)},this);else if(q[jP]||typeof q==="string"){if(q)this.children.push(q)}else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+q);return this};H8.prototype.prepend=function(q){if(Array.isArray(q))for(var _=q.length-1;_>=0;_--)this.prepend(q[_]);else if(q[jP]||typeof q==="string")this.children.unshift(q);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+q);return this};H8.prototype.walk=function(q){var _;for(var P=0,K=this.children.length;P<K;P++)if(_=this.children[P],_[jP])_.walk(q);else if(_!=="")q(_,{source:this.source,line:this.line,column:this.column,name:this.name})};H8.prototype.join=function(q){var _,P,K=this.children.length;if(K>0){_=[];for(P=0;P<K-1;P++)_.push(this.children[P]),_.push(q);_.push(this.children[P]),this.children=_}return this};H8.prototype.replaceRight=function(q,_){var P=this.children[this.children.length-1];if(P[jP])P.replaceRight(q,_);else if(typeof P==="string")this.children[this.children.length-1]=P.replace(q,_);else this.children.push("".replace(q,_));return this};H8.prototype.setSourceContent=function(q,_){this.sourceContents[R2.toSetString(q)]=_};H8.prototype.walkSourceContents=function(q){for(var _=0,P=this.children.length;_<P;_++)if(this.children[_][jP])this.children[_].walkSourceContents(q);var K=Object.keys(this.sourceContents);for(var _=0,P=K.length;_<P;_++)q(R2.fromSetString(K[_]),this.sourceContents[K[_]])};H8.prototype.toString=function(){var q="";return this.walk(function(_){q+=_}),q};H8.prototype.toStringWithSourceMap=function(q){var _={code:"",line:1,column:0},P=new Fo(q),K=!1,O=null,Y=null,v=null,W=null;return this.walk(function(T,Z){if(_.code+=T,Z.source!==null&&Z.line!==null&&Z.column!==null){if(O!==Z.source||Y!==Z.line||v!==Z.column||W!==Z.name)P.addMapping({source:Z.source,original:{line:Z.line,column:Z.column},generated:{line:_.line,column:_.column},name:Z.name});O=Z.source,Y=Z.line,v=Z.column,W=Z.name,K=!0}else if(K)P.addMapping({generated:{line:_.line,column:_.column}}),O=null,K=!1;for(var w=0,k=T.length;w<k;w++)if(T.charCodeAt(w)===ao){if(_.line++,_.column=0,w+1===k)O=null,K=!1;else if(K)P.addMapping({source:Z.source,original:{line:Z.line,column:Z.column},generated:{line:_.line,column:_.column},name:Z.name})}else _.column++}),this.walkSourceContents(function(T,Z){P.setSourceContent(T,Z)}),{code:_.code,map:P}};eo.SourceNode=H8});var rS=N$(($n)=>{$n.SourceMapGenerator=RH().SourceMapGenerator;$n.SourceMapConsumer=dS().SourceMapConsumer;$n.SourceNode=lS().SourceNode});var BS=N$((nS,iS)=>{nS.__esModule=!0;var yH=nq(),UK=void 0;try{if(typeof define!=="function"||!define.amd)uH=rS(),UK=uH.SourceNode}catch($){}var uH;if(!UK)UK=function($,q,_,P){if(this.src="",P)this.add(P)},UK.prototype={add:function(q){if(yH.isArray(q))q=q.join("");this.src+=q},prepend:function(q){if(yH.isArray(q))q=q.join("");this.src=q+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};function bH($,q,_){if(yH.isArray($)){var P=[];for(var K=0,O=$.length;K<O;K++)P.push(q.wrap($[K],_));return P}else if(typeof $==="boolean"||typeof $==="number")return $+"";return $}function oS($){this.srcFile=$,this.source=[]}oS.prototype={isEmpty:function(){return!this.source.length},prepend:function(q,_){this.source.unshift(this.wrap(q,_))},push:function(q,_){this.source.push(this.wrap(q,_))},merge:function(){var q=this.empty();return this.each(function(_){q.add(["  ",_,`
`])}),q},each:function(q){for(var _=0,P=this.source.length;_<P;_++)q(this.source[_])},empty:function(){var q=this.currentLocation||{start:{}};return new UK(q.start.line,q.start.column,this.srcFile)},wrap:function(q){var _=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];if(q instanceof UK)return q;return q=bH(q,this,_),new UK(_.start.line,_.start.column,this.srcFile,q)},functionCall:function(q,_,P){return P=this.generateList(P),this.wrap([q,_?"."+_+"(":"(",P,")"])},quotedString:function(q){return'"'+(q+"").replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(q){var _=this,P=[];Object.keys(q).forEach(function(O){var Y=bH(q[O],_);if(Y!=="undefined")P.push([_.quotedString(O),":",Y])});var K=this.generateList(P);return K.prepend("{"),K.add("}"),K},generateList:function(q){var _=this.empty();for(var P=0,K=q.length;P<K;P++){if(P)_.add(",");_.add(bH(q[P],this))}return _},generateArray:function(q){var _=this.generateList(q);return _.prepend("["),_.add("]"),_}};nS.default=oS;iS.exports=nS.default});var eS=N$((QS,aS)=>{QS.__esModule=!0;function FS($){return $&&$.__esModule?$:{default:$}}var US=k2(),On=M8(),xH=FS(On),jn=nq(),vn=BS(),tS=FS(vn);function vP($){this.value=$}function zP(){}zP.prototype={nameLookup:function(q,_){return this.internalNameLookup(q,_)},depthedLookup:function(q){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(q),")"]},compilerInfo:function(){var q=US.COMPILER_REVISION,_=US.REVISION_CHANGES[q];return[q,_]},appendToBuffer:function(q,_,P){if(!jn.isArray(q))q=[q];if(q=this.source.wrap(q,_),this.environment.isSimple)return["return ",q,";"];else if(P)return["buffer += ",q,";"];else return q.appendToBuffer=!0,q},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(q,_){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",q,",",JSON.stringify(_),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(q,_,P,K){this.environment=q,this.options=_,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!K,this.name=this.environment.name,this.isChild=!!P,this.context=P||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(q,_),this.useDepths=this.useDepths||q.useDepths||q.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||q.useBlockParams;var O=q.opcodes,Y=void 0,v=void 0,W=void 0,T=void 0;for(W=0,T=O.length;W<T;W++)Y=O[W],this.source.currentLocation=Y.loc,v=v||Y.loc,this[Y.opcode].apply(this,Y.args);if(this.source.currentLocation=v,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new xH.default("Compile completed with content left on stack");if(!this.decorators.isEmpty())if(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),K)this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]);else this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge();else this.decorators=void 0;var Z=this.createFunctionContext(K);if(!this.isChild){var w={compiler:this.compilerInfo(),main:Z};if(this.decorators)w.main_d=this.decorators,w.useDecorators=!0;var k=this.context,M=k.programs,N=k.decorators;for(W=0,T=M.length;W<T;W++)if(M[W]){if(w[W]=M[W],N[W])w[W+"_d"]=N[W],w.useDecorators=!0}if(this.environment.usePartial)w.usePartial=!0;if(this.options.data)w.useData=!0;if(this.useDepths)w.useDepths=!0;if(this.useBlockParams)w.useBlockParams=!0;if(this.options.compat)w.compat=!0;if(!K)if(w.compiler=JSON.stringify(w.compiler),this.source.currentLocation={start:{line:1,column:0}},w=this.objectLiteral(w),_.srcName)w=w.toStringWithSourceMap({file:_.destName}),w.map=w.map&&w.map.toString();else w=w.toString();else w.compilerOptions=this.options;return w}else return Z},preamble:function(){this.lastContext=0,this.source=new tS.default(this.options.srcName),this.decorators=new tS.default(this.options.srcName)},createFunctionContext:function(q){var _=this,P="",K=this.stackVars.concat(this.registers.list);if(K.length>0)P+=", "+K.join(", ");var O=0;if(Object.keys(this.aliases).forEach(function(W){var T=_.aliases[W];if(T.children&&T.referenceCount>1)P+=", alias"+ ++O+"="+W,T.children[0]="alias"+O}),this.lookupPropertyFunctionIsUsed)P+=", "+this.lookupPropertyFunctionVarDeclaration();var Y=["container","depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths)Y.push("blockParams");if(this.useDepths)Y.push("depths");var v=this.mergeSource(P);if(q)return Y.push(v),Function.apply(this,Y);else return this.source.wrap(["function(",Y.join(","),`) {
  `,v,"}"])},mergeSource:function(q){var _=this.environment.isSimple,P=!this.forceBuffer,K=void 0,O=void 0,Y=void 0,v=void 0;if(this.source.each(function(W){if(W.appendToBuffer){if(Y)W.prepend("  + ");else Y=W;v=W}else{if(Y){if(!O)K=!0;else Y.prepend("buffer += ");v.add(";"),Y=v=void 0}if(O=!0,!_)P=!1}}),P){if(Y)Y.prepend("return "),v.add(";");else if(!O)this.source.push('return "";')}else if(q+=", buffer = "+(K?"":this.initializeBuffer()),Y)Y.prepend("return buffer + "),v.add(";");else this.source.push("return buffer;");if(q)this.source.prepend("var "+q.substring(2)+(K?"":`;
`));return this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(q){var _=this.aliasable("container.hooks.blockHelperMissing"),P=[this.contextName(0)];this.setupHelperArgs(q,0,P);var K=this.popStack();P.splice(1,0,K),this.push(this.source.functionCall(_,"call",P))},ambiguousBlockValue:function(){var q=this.aliasable("container.hooks.blockHelperMissing"),_=[this.contextName(0)];this.setupHelperArgs("",0,_,!0),this.flushInline();var P=this.topStack();_.splice(1,0,P),this.pushSource(["if (!",this.lastHelper,") { ",P," = ",this.source.functionCall(q,"call",_),"}"])},appendContent:function(q){if(this.pendingContent)q=this.pendingContent+q;else this.pendingLocation=this.source.currentLocation;this.pendingContent=q},append:function(){if(this.isInline())this.replaceStack(function(_){return[" != null ? ",_,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var q=this.popStack();if(this.pushSource(["if (",q," != null) { ",this.appendToBuffer(q,void 0,!0)," }"]),this.environment.isSimple)this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(q){this.lastContext=q},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(q,_,P,K){var O=0;if(!K&&this.options.compat&&!this.lastContext)this.push(this.depthedLookup(q[O++]));else this.pushContext();this.resolvePath("context",q,O,_,P)},lookupBlockParam:function(q,_){this.useBlockParams=!0,this.push(["blockParams[",q[0],"][",q[1],"]"]),this.resolvePath("context",_,1)},lookupData:function(q,_,P){if(!q)this.pushStackLiteral("data");else this.pushStackLiteral("container.data(data, "+q+")");this.resolvePath("data",_,0,!0,P)},resolvePath:function(q,_,P,K,O){var Y=this;if(this.options.strict||this.options.assumeObjects){this.push(zn(this.options.strict&&O,this,_,P,q));return}var v=_.length;for(;P<v;P++)this.replaceStack(function(W){var T=Y.nameLookup(W,_[P],q);if(!K)return[" != null ? ",T," : ",W];else return[" && ",T]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(q,_){if(this.pushContext(),this.pushString(_),_!=="SubExpression")if(typeof q==="string")this.pushString(q);else this.pushStackLiteral(q)},emptyHash:function(q){if(this.trackIds)this.push("{}");if(this.stringParams)this.push("{}"),this.push("{}");this.pushStackLiteral(q?"undefined":"{}")},pushHash:function(){if(this.hash)this.hashes.push(this.hash);this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var q=this.hash;if(this.hash=this.hashes.pop(),this.trackIds)this.push(this.objectLiteral(q.ids));if(this.stringParams)this.push(this.objectLiteral(q.contexts)),this.push(this.objectLiteral(q.types));this.push(this.objectLiteral(q.values))},pushString:function(q){this.pushStackLiteral(this.quotedString(q))},pushLiteral:function(q){this.pushStackLiteral(q)},pushProgram:function(q){if(q!=null)this.pushStackLiteral(this.programExpression(q));else this.pushStackLiteral(null)},registerDecorator:function(q,_){var P=this.nameLookup("decorators",_,"decorator"),K=this.setupHelperArgs(_,q);this.decorators.push(["fn = ",this.decorators.functionCall(P,"",["fn","props","container",K])," || fn;"])},invokeHelper:function(q,_,P){var K=this.popStack(),O=this.setupHelper(q,_),Y=[];if(P)Y.push(O.name);if(Y.push(K),!this.options.strict)Y.push(this.aliasable("container.hooks.helperMissing"));var v=["(",this.itemsSeparatedBy(Y,"||"),")"],W=this.source.functionCall(v,"call",O.callParams);this.push(W)},itemsSeparatedBy:function(q,_){var P=[];P.push(q[0]);for(var K=1;K<q.length;K++)P.push(_,q[K]);return P},invokeKnownHelper:function(q,_){var P=this.setupHelper(q,_);this.push(this.source.functionCall(P.name,"call",P.callParams))},invokeAmbiguous:function(q,_){this.useRegister("helper");var P=this.popStack();this.emptyHash();var K=this.setupHelper(0,q,_),O=this.lastHelper=this.nameLookup("helpers",q,"helper"),Y=["(","(helper = ",O," || ",P,")"];if(!this.options.strict)Y[0]="(helper = ",Y.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"));this.push(["(",Y,K.paramsInit?["),(",K.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",K.callParams)," : helper))"])},invokePartial:function(q,_,P){var K=[],O=this.setupParams(_,1,K);if(q)_=this.popStack(),delete O.name;if(P)O.indent=JSON.stringify(P);if(O.helpers="helpers",O.partials="partials",O.decorators="container.decorators",!q)K.unshift(this.nameLookup("partials",_,"partial"));else K.unshift(_);if(this.options.compat)O.depths="depths";O=this.objectLiteral(O),K.push(O),this.push(this.source.functionCall("container.invokePartial","",K))},assignToHash:function(q){var _=this.popStack(),P=void 0,K=void 0,O=void 0;if(this.trackIds)O=this.popStack();if(this.stringParams)K=this.popStack(),P=this.popStack();var Y=this.hash;if(P)Y.contexts[q]=P;if(K)Y.types[q]=K;if(O)Y.ids[q]=O;Y.values[q]=_},pushId:function(q,_,P){if(q==="BlockParam")this.pushStackLiteral("blockParams["+_[0]+"].path["+_[1]+"]"+(P?" + "+JSON.stringify("."+P):""));else if(q==="PathExpression")this.pushString(_);else if(q==="SubExpression")this.pushStackLiteral("true");else this.pushStackLiteral("null")},compiler:zP,compileChildren:function(q,_){var P=q.children,K=void 0,O=void 0;for(var Y=0,v=P.length;Y<v;Y++){K=P[Y],O=new this.compiler;var W=this.matchExistingProgram(K);if(W==null){this.context.programs.push("");var T=this.context.programs.length;K.index=T,K.name="program"+T,this.context.programs[T]=O.compile(K,_,this.context,!this.precompile),this.context.decorators[T]=O.decorators,this.context.environments[T]=K,this.useDepths=this.useDepths||O.useDepths,this.useBlockParams=this.useBlockParams||O.useBlockParams,K.useDepths=this.useDepths,K.useBlockParams=this.useBlockParams}else K.index=W.index,K.name="program"+W.index,this.useDepths=this.useDepths||W.useDepths,this.useBlockParams=this.useBlockParams||W.useBlockParams}},matchExistingProgram:function(q){for(var _=0,P=this.context.environments.length;_<P;_++){var K=this.context.environments[_];if(K&&K.equals(q))return K}},programExpression:function(q){var _=this.environment.children[q],P=[_.index,"data",_.blockParams];if(this.useBlockParams||this.useDepths)P.push("blockParams");if(this.useDepths)P.push("depths");return"container.program("+P.join(", ")+")"},useRegister:function(q){if(!this.registers[q])this.registers[q]=!0,this.registers.list.push(q)},push:function(q){if(!(q instanceof vP))q=this.source.wrap(q);return this.inlineStack.push(q),q},pushStackLiteral:function(q){this.push(new vP(q))},pushSource:function(q){if(this.pendingContent)this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0;if(q)this.source.push(q)},replaceStack:function(q){var _=["("],P=void 0,K=void 0,O=void 0;if(!this.isInline())throw new xH.default("replaceStack on non-inline");var Y=this.popStack(!0);if(Y instanceof vP)P=[Y.value],_=["(",P],O=!0;else{K=!0;var v=this.incrStack();_=["((",this.push(v)," = ",Y,")"],P=this.topStack()}var W=q.call(this,P);if(!O)this.popStack();if(K)this.stackSlot--;this.push(_.concat(W,")"))},incrStack:function(){if(this.stackSlot++,this.stackSlot>this.stackVars.length)this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var q=this.inlineStack;this.inlineStack=[];for(var _=0,P=q.length;_<P;_++){var K=q[_];if(K instanceof vP)this.compileStack.push(K);else{var O=this.incrStack();this.pushSource([O," = ",K,";"]),this.compileStack.push(O)}}},isInline:function(){return this.inlineStack.length},popStack:function(q){var _=this.isInline(),P=(_?this.inlineStack:this.compileStack).pop();if(!q&&P instanceof vP)return P.value;else{if(!_){if(!this.stackSlot)throw new xH.default("Invalid stack pop");this.stackSlot--}return P}},topStack:function(){var q=this.isInline()?this.inlineStack:this.compileStack,_=q[q.length-1];if(_ instanceof vP)return _.value;else return _},contextName:function(q){if(this.useDepths&&q)return"depths["+q+"]";else return"depth"+q},quotedString:function(q){return this.source.quotedString(q)},objectLiteral:function(q){return this.source.objectLiteral(q)},aliasable:function(q){var _=this.aliases[q];if(_)return _.referenceCount++,_;return _=this.aliases[q]=this.source.wrap(q),_.aliasable=!0,_.referenceCount=1,_},setupHelper:function(q,_,P){var K=[],O=this.setupHelperArgs(_,q,K,P),Y=this.nameLookup("helpers",_,"helper"),v=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:K,paramsInit:O,name:Y,callParams:[v].concat(K)}},setupParams:function(q,_,P){var K={},O=[],Y=[],v=[],W=!P,T=void 0;if(W)P=[];if(K.name=this.quotedString(q),K.hash=this.popStack(),this.trackIds)K.hashIds=this.popStack();if(this.stringParams)K.hashTypes=this.popStack(),K.hashContexts=this.popStack();var Z=this.popStack(),w=this.popStack();if(w||Z)K.fn=w||"container.noop",K.inverse=Z||"container.noop";var k=_;while(k--){if(T=this.popStack(),P[k]=T,this.trackIds)v[k]=this.popStack();if(this.stringParams)Y[k]=this.popStack(),O[k]=this.popStack()}if(W)K.args=this.source.generateArray(P);if(this.trackIds)K.ids=this.source.generateArray(v);if(this.stringParams)K.types=this.source.generateArray(Y),K.contexts=this.source.generateArray(O);if(this.options.data)K.data="data";if(this.useBlockParams)K.blockParams="blockParams";return K},setupHelperArgs:function(q,_,P,K){var O=this.setupParams(q,_,P);if(O.loc=JSON.stringify(this.source.currentLocation),O=this.objectLiteral(O),K)return this.useRegister("options"),P.push("options"),["options=",O];else if(P)return P.push(O),"";else return O}};(function(){var $="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),q=zP.RESERVED_WORDS={};for(var _=0,P=$.length;_<P;_++)q[$[_]]=!0})();zP.isValidJavaScriptVariableName=function($){return!zP.RESERVED_WORDS[$]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test($)};function zn($,q,_,P,K){var O=q.popStack(),Y=_.length;if($)Y--;for(;P<Y;P++)O=q.nameLookup(O,_[P],K);if($)return[q.aliasable("container.strict"),"(",O,", ",q.quotedString(_[P]),", ",JSON.stringify(q.source.currentLocation)," )"];else return O}QS.default=zP;aS.exports=QS.default});var _M=N$(($M,qM)=>{$M.__esModule=!0;function J7($){return $&&$.__esModule?$:{default:$}}var Hn=qS(),Tn=J7(Hn),wn=TH(),Zn=J7(wn),pH=AS(),cH=SS(),fn=eS(),Xn=J7(fn),An=M2(),kn=J7(An),Gn=zH(),Vn=J7(Gn),Sn=Tn.default.create;function sS(){var $=Sn();return $.compile=function(q,_){return cH.compile(q,_,$)},$.precompile=function(q,_){return cH.precompile(q,_,$)},$.AST=Zn.default,$.Compiler=cH.Compiler,$.JavaScriptCompiler=Xn.default,$.Parser=pH.parser,$.parse=pH.parse,$.parseWithoutProcessing=pH.parseWithoutProcessing,$}var JP=sS();JP.create=sS;Vn.default(JP);JP.Visitor=kn.default;JP.default=JP;$M.default=JP;qM.exports=$M.default});var KM=N$((hn)=>{hn.__esModule=!0;hn.print=In;hn.PrintVisitor=i6;function Cn($){return $&&$.__esModule?$:{default:$}}var En=M2(),Rn=Cn(En);function In($){return new i6().accept($)}function i6(){this.padding=0}i6.prototype=new Rn.default;i6.prototype.pad=function($){var q="";for(var _=0,P=this.padding;_<P;_++)q+="  ";return q+=$+`
`,q};i6.prototype.Program=function($){var q="",_=$.body,P=void 0,K=void 0;if($.blockParams){var O="BLOCK PARAMS: [";for(P=0,K=$.blockParams.length;P<K;P++)O+=" "+$.blockParams[P];O+=" ]",q+=this.pad(O)}for(P=0,K=_.length;P<K;P++)q+=this.accept(_[P]);return this.padding--,q};i6.prototype.MustacheStatement=function($){return this.pad("{{ "+this.SubExpression($)+" }}")};i6.prototype.Decorator=function($){return this.pad("{{ DIRECTIVE "+this.SubExpression($)+" }}")};i6.prototype.BlockStatement=i6.prototype.DecoratorBlock=function($){var q="";if(q+=this.pad(($.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,q+=this.pad(this.SubExpression($)),$.program)q+=this.pad("PROGRAM:"),this.padding++,q+=this.accept($.program),this.padding--;if($.inverse){if($.program)this.padding++;if(q+=this.pad("{{^}}"),this.padding++,q+=this.accept($.inverse),this.padding--,$.program)this.padding--}return this.padding--,q};i6.prototype.PartialStatement=function($){var q="PARTIAL:"+$.name.original;if($.params[0])q+=" "+this.accept($.params[0]);if($.hash)q+=" "+this.accept($.hash);return this.pad("{{> "+q+" }}")};i6.prototype.PartialBlockStatement=function($){var q="PARTIAL BLOCK:"+$.name.original;if($.params[0])q+=" "+this.accept($.params[0]);if($.hash)q+=" "+this.accept($.hash);return q+=" "+this.pad("PROGRAM:"),this.padding++,q+=this.accept($.program),this.padding--,this.pad("{{> "+q+" }}")};i6.prototype.ContentStatement=function($){return this.pad("CONTENT[ '"+$.value+"' ]")};i6.prototype.CommentStatement=function($){return this.pad("{{! '"+$.value+"' }}")};i6.prototype.SubExpression=function($){var q=$.params,_=[],P=void 0;for(var K=0,O=q.length;K<O;K++)_.push(this.accept(q[K]));return q="["+_.join(", ")+"]",P=$.hash?" "+this.accept($.hash):"",this.accept($.path)+" "+q+P};i6.prototype.PathExpression=function($){var q=$.parts.join("/");return($.data?"@":"")+"PATH:"+q};i6.prototype.StringLiteral=function($){return'"'+$.value+'"'};i6.prototype.NumberLiteral=function($){return"NUMBER{"+$.value+"}"};i6.prototype.BooleanLiteral=function($){return"BOOLEAN{"+$.value+"}"};i6.prototype.UndefinedLiteral=function(){return"UNDEFINED"};i6.prototype.NullLiteral=function(){return"NULL"};i6.prototype.Hash=function($){var q=$.pairs,_=[];for(var P=0,K=q.length;P<K;P++)_.push(this.accept(q[P]));return"HASH{"+_.join(", ")+"}"};i6.prototype.HashPair=function($){return $.key+"="+this.accept($.value)}});var jM=N$((AY$,OM)=>{var I2=_M().default,YM=KM();I2.PrintVisitor=YM.PrintVisitor;I2.print=YM.print;OM.exports=I2;function PM($,q){var _=(()=>({})),P=_.readFileSync(q,"utf8");$.exports=I2.compile(P)}if(I8.extensions)I8.extensions[".handlebars"]=PM,I8.extensions[".hbs"]=PM});var WY={};Rq(WY,{sep:()=>cN,resolve:()=>JY,relative:()=>LN,posix:()=>dN,parse:()=>pN,normalize:()=>tT,join:()=>DN,isAbsolute:()=>hN,format:()=>xN,extname:()=>uN,dirname:()=>bN,delimiter:()=>mN,default:()=>tn,basename:()=>yN,_makeLong:()=>gN});function z_($){if(typeof $!=="string")throw TypeError("Path must be a string. Received "+JSON.stringify($))}function IN($,q){var _="",P=0,K=-1,O=0,Y;for(var v=0;v<=$.length;++v){if(v<$.length)Y=$.charCodeAt(v);else if(Y===47)break;else Y=47;if(Y===47){if(K===v-1||O===1);else if(K!==v-1&&O===2){if(_.length<2||P!==2||_.charCodeAt(_.length-1)!==46||_.charCodeAt(_.length-2)!==46){if(_.length>2){var W=_.lastIndexOf("/");if(W!==_.length-1){if(W===-1)_="",P=0;else _=_.slice(0,W),P=_.length-1-_.lastIndexOf("/");K=v,O=0;continue}}else if(_.length===2||_.length===1){_="",P=0,K=v,O=0;continue}}if(q){if(_.length>0)_+="/..";else _="..";P=2}}else{if(_.length>0)_+="/"+$.slice(K+1,v);else _=$.slice(K+1,v);P=v-K-1}K=v,O=0}else if(Y===46&&O!==-1)++O;else O=-1}return _}function Un($,q){var _=q.dir||q.root,P=q.base||(q.name||"")+(q.ext||"");if(!_)return P;if(_===q.root)return _+P;return _+$+P}function JY(){var $="",q=!1,_;for(var P=arguments.length-1;P>=-1&&!q;P--){var K;if(P>=0)K=arguments[P];else{if(_===void 0)_=process.cwd();K=_}if(z_(K),K.length===0)continue;$=K+"/"+$,q=K.charCodeAt(0)===47}if($=IN($,!q),q)if($.length>0)return"/"+$;else return"/";else if($.length>0)return $;else return"."}function tT($){if(z_($),$.length===0)return".";var q=$.charCodeAt(0)===47,_=$.charCodeAt($.length-1)===47;if($=IN($,!q),$.length===0&&!q)$=".";if($.length>0&&_)$+="/";if(q)return"/"+$;return $}function hN($){return z_($),$.length>0&&$.charCodeAt(0)===47}function DN(){if(arguments.length===0)return".";var $;for(var q=0;q<arguments.length;++q){var _=arguments[q];if(z_(_),_.length>0)if($===void 0)$=_;else $+="/"+_}if($===void 0)return".";return tT($)}function LN($,q){if(z_($),z_(q),$===q)return"";if($=JY($),q=JY(q),$===q)return"";var _=1;for(;_<$.length;++_)if($.charCodeAt(_)!==47)break;var P=$.length,K=P-_,O=1;for(;O<q.length;++O)if(q.charCodeAt(O)!==47)break;var Y=q.length,v=Y-O,W=K<v?K:v,T=-1,Z=0;for(;Z<=W;++Z){if(Z===W){if(v>W){if(q.charCodeAt(O+Z)===47)return q.slice(O+Z+1);else if(Z===0)return q.slice(O+Z)}else if(K>W){if($.charCodeAt(_+Z)===47)T=Z;else if(Z===0)T=0}break}var w=$.charCodeAt(_+Z),k=q.charCodeAt(O+Z);if(w!==k)break;else if(w===47)T=Z}var M="";for(Z=_+T+1;Z<=P;++Z)if(Z===P||$.charCodeAt(Z)===47)if(M.length===0)M+="..";else M+="/..";if(M.length>0)return M+q.slice(O+T);else{if(O+=T,q.charCodeAt(O)===47)++O;return q.slice(O)}}function gN($){return $}function bN($){if(z_($),$.length===0)return".";var q=$.charCodeAt(0),_=q===47,P=-1,K=!0;for(var O=$.length-1;O>=1;--O)if(q=$.charCodeAt(O),q===47){if(!K){P=O;break}}else K=!1;if(P===-1)return _?"/":".";if(_&&P===1)return"//";return $.slice(0,P)}function yN($,q){if(q!==void 0&&typeof q!=="string")throw TypeError('"ext" argument must be a string');z_($);var _=0,P=-1,K=!0,O;if(q!==void 0&&q.length>0&&q.length<=$.length){if(q.length===$.length&&q===$)return"";var Y=q.length-1,v=-1;for(O=$.length-1;O>=0;--O){var W=$.charCodeAt(O);if(W===47){if(!K){_=O+1;break}}else{if(v===-1)K=!1,v=O+1;if(Y>=0)if(W===q.charCodeAt(Y)){if(--Y===-1)P=O}else Y=-1,P=v}}if(_===P)P=v;else if(P===-1)P=$.length;return $.slice(_,P)}else{for(O=$.length-1;O>=0;--O)if($.charCodeAt(O)===47){if(!K){_=O+1;break}}else if(P===-1)K=!1,P=O+1;if(P===-1)return"";return $.slice(_,P)}}function uN($){z_($);var q=-1,_=0,P=-1,K=!0,O=0;for(var Y=$.length-1;Y>=0;--Y){var v=$.charCodeAt(Y);if(v===47){if(!K){_=Y+1;break}continue}if(P===-1)K=!1,P=Y+1;if(v===46){if(q===-1)q=Y;else if(O!==1)O=1}else if(q!==-1)O=-1}if(q===-1||P===-1||O===0||O===1&&q===P-1&&q===_+1)return"";return $.slice(q,P)}function xN($){if($===null||typeof $!=="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof $);return Un("/",$)}function pN($){z_($);var q={root:"",dir:"",base:"",ext:"",name:""};if($.length===0)return q;var _=$.charCodeAt(0),P=_===47,K;if(P)q.root="/",K=1;else K=0;var O=-1,Y=0,v=-1,W=!0,T=$.length-1,Z=0;for(;T>=K;--T){if(_=$.charCodeAt(T),_===47){if(!W){Y=T+1;break}continue}if(v===-1)W=!1,v=T+1;if(_===46){if(O===-1)O=T;else if(Z!==1)Z=1}else if(O!==-1)Z=-1}if(O===-1||v===-1||Z===0||Z===1&&O===v-1&&O===Y+1){if(v!==-1)if(Y===0&&P)q.base=q.name=$.slice(1,v);else q.base=q.name=$.slice(Y,v)}else{if(Y===0&&P)q.name=$.slice(1,O),q.base=$.slice(1,v);else q.name=$.slice(Y,O),q.base=$.slice(Y,v);q.ext=$.slice(O,v)}if(Y>0)q.dir=$.slice(0,Y-1);else if(P)q.dir="/";return q}var cN="/",mN=":",dN,tn;var HY=P4(()=>{dN=(($)=>($.posix=$,$))({resolve:JY,normalize:tT,isAbsolute:hN,join:DN,relative:LN,_makeLong:gN,dirname:bN,basename:yN,extname:uN,format:xN,parse:pN,sep:cN,delimiter:mN,win32:null,posix:null}),tn=dN});var FT={};Rq(FT,{uptime:()=>en,type:()=>_i,totalmem:()=>$i,tmpdir:()=>rN,tmpDir:()=>ji,release:()=>Ki,platform:()=>Oi,networkInterfaces:()=>Pi,loadavg:()=>an,hostname:()=>Qn,homedir:()=>zi,getNetworkInterfaces:()=>lN,freemem:()=>sn,endianness:()=>Fn,cpus:()=>qi,arch:()=>Yi,EOL:()=>vi});var Fn=function(){return"LE"},Qn=function(){if(typeof location<"u")return location.hostname;else return""},an=function(){return[]},en=function(){return 0},sn=function(){return Number.MAX_VALUE},$i=function(){return Number.MAX_VALUE},qi=function(){return[]},_i=function(){return"Browser"},Ki=function(){if(typeof navigator<"u")return navigator.appVersion;return""},lN=function(){return{}},Pi,Yi=function(){return"javascript"},Oi=function(){return"browser"},rN=function(){return"/tmp"},ji,vi=`
`,zi=function(){return"/"};var QT=P4(()=>{Pi=lN,ji=rN});var fq={};Rq(fq,{transcode:()=>ti,resolveObjectURL:()=>ii,kStringMaxLength:()=>aN,kMaxLength:()=>M7,isUtf8:()=>Bi,isAscii:()=>Ui,default:()=>Fi,constants:()=>ki,btoa:()=>Zi,atob:()=>fi,INSPECT_MAX_BYTES:()=>QN,File:()=>Xi,Buffer:()=>f$,Blob:()=>Ai});function Ji($){var q=$.length;if(q%4>0)throw Error("Invalid string. Length must be a multiple of 4");var _=$.indexOf("=");if(_===-1)_=q;var P=_===q?0:4-_%4;return[_,P]}function Wi($,q){return($+q)*3/4-q}function Hi($){var q,_=Ji($),P=_[0],K=_[1],O=new Uint8Array(Wi(P,K)),Y=0,v=K>0?P-4:P,W;for(W=0;W<v;W+=4)q=C8[$.charCodeAt(W)]<<18|C8[$.charCodeAt(W+1)]<<12|C8[$.charCodeAt(W+2)]<<6|C8[$.charCodeAt(W+3)],O[Y++]=q>>16&255,O[Y++]=q>>8&255,O[Y++]=q&255;if(K===2)q=C8[$.charCodeAt(W)]<<2|C8[$.charCodeAt(W+1)]>>4,O[Y++]=q&255;if(K===1)q=C8[$.charCodeAt(W)]<<10|C8[$.charCodeAt(W+1)]<<4|C8[$.charCodeAt(W+2)]>>2,O[Y++]=q>>8&255,O[Y++]=q&255;return O}function Ti($){return J_[$>>18&63]+J_[$>>12&63]+J_[$>>6&63]+J_[$&63]}function wi($,q,_){var P,K=[];for(var O=q;O<_;O+=3)P=($[O]<<16&16711680)+($[O+1]<<8&65280)+($[O+2]&255),K.push(Ti(P));return K.join("")}function nN($){var q,_=$.length,P=_%3,K=[],O=16383;for(var Y=0,v=_-P;Y<v;Y+=O)K.push(wi($,Y,Y+O>v?v:Y+O));if(P===1)q=$[_-1],K.push(J_[q>>2]+J_[q<<4&63]+"==");else if(P===2)q=($[_-2]<<8)+$[_-1],K.push(J_[q>>10]+J_[q>>4&63]+J_[q<<2&63]+"=");return K.join("")}function TY($,q,_,P,K){var O,Y,v=K*8-P-1,W=(1<<v)-1,T=W>>1,Z=-7,w=_?K-1:0,k=_?-1:1,M=$[q+w];w+=k,O=M&(1<<-Z)-1,M>>=-Z,Z+=v;for(;Z>0;O=O*256+$[q+w],w+=k,Z-=8);Y=O&(1<<-Z)-1,O>>=-Z,Z+=P;for(;Z>0;Y=Y*256+$[q+w],w+=k,Z-=8);if(O===0)O=1-T;else if(O===W)return Y?NaN:(M?-1:1)*(1/0);else Y=Y+Math.pow(2,P),O=O-T;return(M?-1:1)*Y*Math.pow(2,O-P)}function FN($,q,_,P,K,O){var Y,v,W,T=O*8-K-1,Z=(1<<T)-1,w=Z>>1,k=K===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=P?0:O-1,N=P?1:-1,R=q<0||q===0&&1/q<0?1:0;if(q=Math.abs(q),isNaN(q)||q===1/0)v=isNaN(q)?1:0,Y=Z;else{if(Y=Math.floor(Math.log(q)/Math.LN2),q*(W=Math.pow(2,-Y))<1)Y--,W*=2;if(Y+w>=1)q+=k/W;else q+=k*Math.pow(2,1-w);if(q*W>=2)Y++,W/=2;if(Y+w>=Z)v=0,Y=Z;else if(Y+w>=1)v=(q*W-1)*Math.pow(2,K),Y=Y+w;else v=q*Math.pow(2,w-1)*Math.pow(2,K),Y=0}for(;K>=8;$[_+M]=v&255,M+=N,v/=256,K-=8);Y=Y<<K|v,T+=K;for(;T>0;$[_+M]=Y&255,M+=N,Y/=256,T-=8);$[_+M-N]|=R*128}function D_($){if($>M7)throw RangeError('The value "'+$+'" is invalid for option "size"');let q=new Uint8Array($);return Object.setPrototypeOf(q,f$.prototype),q}function _w($,q,_){return class extends _{constructor(){super();Object.defineProperty(this,"message",{value:q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}function f$($,q,_){if(typeof $==="number"){if(typeof q==="string")throw TypeError('The "string" argument must be of type string. Received type number');return Kw($)}return eN($,q,_)}function eN($,q,_){if(typeof $==="string")return Mi($,q);if(ArrayBuffer.isView($))return Ni($);if($==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(W_($,ArrayBuffer)||$&&W_($.buffer,ArrayBuffer))return $w($,q,_);if(typeof SharedArrayBuffer<"u"&&(W_($,SharedArrayBuffer)||$&&W_($.buffer,SharedArrayBuffer)))return $w($,q,_);if(typeof $==="number")throw TypeError('The "value" argument must not be of type number. Received type number');let P=$.valueOf&&$.valueOf();if(P!=null&&P!==$)return f$.from(P,q,_);let K=Ci($);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]==="function")return f$.from($[Symbol.toPrimitive]("string"),q,_);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function sN($){if(typeof $!=="number")throw TypeError('"size" argument must be of type number');else if($<0)throw RangeError('The value "'+$+'" is invalid for option "size"')}function Si($,q,_){if(sN($),$<=0)return D_($);if(q!==void 0)return typeof _==="string"?D_($).fill(q,_):D_($).fill(q);return D_($)}function Kw($){return sN($),D_($<0?0:Pw($)|0)}function Mi($,q){if(typeof q!=="string"||q==="")q="utf8";if(!f$.isEncoding(q))throw TypeError("Unknown encoding: "+q);let _=$C($,q)|0,P=D_(_),K=P.write($,q);if(K!==_)P=P.slice(0,K);return P}function sT($){let q=$.length<0?0:Pw($.length)|0,_=D_(q);for(let P=0;P<q;P+=1)_[P]=$[P]&255;return _}function Ni($){if(W_($,Uint8Array)){let q=new Uint8Array($);return $w(q.buffer,q.byteOffset,q.byteLength)}return sT($)}function $w($,q,_){if(q<0||$.byteLength<q)throw RangeError('"offset" is outside of buffer bounds');if($.byteLength<q+(_||0))throw RangeError('"length" is outside of buffer bounds');let P;if(q===void 0&&_===void 0)P=new Uint8Array($);else if(_===void 0)P=new Uint8Array($,q);else P=new Uint8Array($,q,_);return Object.setPrototypeOf(P,f$.prototype),P}function Ci($){if(f$.isBuffer($)){let q=Pw($.length)|0,_=D_(q);if(_.length===0)return _;return $.copy(_,0,0,q),_}if($.length!==void 0){if(typeof $.length!=="number"||Number.isNaN($.length))return D_(0);return sT($)}if($.type==="Buffer"&&Array.isArray($.data))return sT($.data)}function Pw($){if($>=M7)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M7.toString(16)+" bytes");return $|0}function $C($,q){if(f$.isBuffer($))return $.length;if(ArrayBuffer.isView($)||W_($,ArrayBuffer))return $.byteLength;if(typeof $!=="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);let _=$.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&_===0)return 0;let K=!1;for(;;)switch(q){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return qw($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return zC($).length;default:if(K)return P?-1:qw($).length;q=(""+q).toLowerCase(),K=!0}}function Ei($,q,_){let P=!1;if(q===void 0||q<0)q=0;if(q>this.length)return"";if(_===void 0||_>this.length)_=this.length;if(_<=0)return"";if(_>>>=0,q>>>=0,_<=q)return"";if(!$)$="utf8";while(!0)switch($){case"hex":return xi(this,q,_);case"utf8":case"utf-8":return _C(this,q,_);case"ascii":return yi(this,q,_);case"latin1":case"binary":return ui(this,q,_);case"base64":return gi(this,q,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pi(this,q,_);default:if(P)throw TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),P=!0}}function aK($,q,_){let P=$[q];$[q]=$[_],$[_]=P}function qC($,q,_,P,K){if($.length===0)return-1;if(typeof _==="string")P=_,_=0;else if(_>2147483647)_=2147483647;else if(_<-2147483648)_=-2147483648;if(_=+_,Number.isNaN(_))_=K?0:$.length-1;if(_<0)_=$.length+_;if(_>=$.length)if(K)return-1;else _=$.length-1;else if(_<0)if(K)_=0;else return-1;if(typeof q==="string")q=f$.from(q,P);if(f$.isBuffer(q)){if(q.length===0)return-1;return BN($,q,_,P,K)}else if(typeof q==="number"){if(q=q&255,typeof Uint8Array.prototype.indexOf==="function")if(K)return Uint8Array.prototype.indexOf.call($,q,_);else return Uint8Array.prototype.lastIndexOf.call($,q,_);return BN($,[q],_,P,K)}throw TypeError("val must be string, number or Buffer")}function BN($,q,_,P,K){let O=1,Y=$.length,v=q.length;if(P!==void 0){if(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le"){if($.length<2||q.length<2)return-1;O=2,Y/=2,v/=2,_/=2}}function W(Z,w){if(O===1)return Z[w];else return Z.readUInt16BE(w*O)}let T;if(K){let Z=-1;for(T=_;T<Y;T++)if(W($,T)===W(q,Z===-1?0:T-Z)){if(Z===-1)Z=T;if(T-Z+1===v)return Z*O}else{if(Z!==-1)T-=T-Z;Z=-1}}else{if(_+v>Y)_=Y-v;for(T=_;T>=0;T--){let Z=!0;for(let w=0;w<v;w++)if(W($,T+w)!==W(q,w)){Z=!1;break}if(Z)return T}}return-1}function Ri($,q,_,P){_=Number(_)||0;let K=$.length-_;if(!P)P=K;else if(P=Number(P),P>K)P=K;let O=q.length;if(P>O/2)P=O/2;let Y;for(Y=0;Y<P;++Y){let v=parseInt(q.substr(Y*2,2),16);if(Number.isNaN(v))return Y;$[_+Y]=v}return Y}function Ii($,q,_,P){return wY(qw(q,$.length-_),$,_,P)}function hi($,q,_,P){return wY(li(q),$,_,P)}function Di($,q,_,P){return wY(zC(q),$,_,P)}function Li($,q,_,P){return wY(ri(q,$.length-_),$,_,P)}function gi($,q,_){if(q===0&&_===$.length)return nN($);else return nN($.slice(q,_))}function _C($,q,_){_=Math.min($.length,_);let P=[],K=q;while(K<_){let O=$[K],Y=null,v=O>239?4:O>223?3:O>191?2:1;if(K+v<=_){let W,T,Z,w;switch(v){case 1:if(O<128)Y=O;break;case 2:if(W=$[K+1],(W&192)===128){if(w=(O&31)<<6|W&63,w>127)Y=w}break;case 3:if(W=$[K+1],T=$[K+2],(W&192)===128&&(T&192)===128){if(w=(O&15)<<12|(W&63)<<6|T&63,w>2047&&(w<55296||w>57343))Y=w}break;case 4:if(W=$[K+1],T=$[K+2],Z=$[K+3],(W&192)===128&&(T&192)===128&&(Z&192)===128){if(w=(O&15)<<18|(W&63)<<12|(T&63)<<6|Z&63,w>65535&&w<1114112)Y=w}}}if(Y===null)Y=65533,v=1;else if(Y>65535)Y-=65536,P.push(Y>>>10&1023|55296),Y=56320|Y&1023;P.push(Y),K+=v}return bi(P)}function bi($){let q=$.length;if(q<=UN)return String.fromCharCode.apply(String,$);let _="",P=0;while(P<q)_+=String.fromCharCode.apply(String,$.slice(P,P+=UN));return _}function yi($,q,_){let P="";_=Math.min($.length,_);for(let K=q;K<_;++K)P+=String.fromCharCode($[K]&127);return P}function ui($,q,_){let P="";_=Math.min($.length,_);for(let K=q;K<_;++K)P+=String.fromCharCode($[K]);return P}function xi($,q,_){let P=$.length;if(!q||q<0)q=0;if(!_||_<0||_>P)_=P;let K="";for(let O=q;O<_;++O)K+=oi[$[O]];return K}function pi($,q,_){let P=$.slice(q,_),K="";for(let O=0;O<P.length-1;O+=2)K+=String.fromCharCode(P[O]+P[O+1]*256);return K}function Zq($,q,_){if($%1!==0||$<0)throw RangeError("offset is not uint");if($+q>_)throw RangeError("Trying to access beyond buffer length")}function K8($,q,_,P,K,O){if(!f$.isBuffer($))throw TypeError('"buffer" argument must be a Buffer instance');if(q>K||q<O)throw RangeError('"value" argument is out of bounds');if(_+P>$.length)throw RangeError("Index out of range")}function KC($,q,_,P,K){vC(q,P,K,$,_,7);let O=Number(q&BigInt(4294967295));$[_++]=O,O=O>>8,$[_++]=O,O=O>>8,$[_++]=O,O=O>>8,$[_++]=O;let Y=Number(q>>BigInt(32)&BigInt(4294967295));return $[_++]=Y,Y=Y>>8,$[_++]=Y,Y=Y>>8,$[_++]=Y,Y=Y>>8,$[_++]=Y,_}function PC($,q,_,P,K){vC(q,P,K,$,_,7);let O=Number(q&BigInt(4294967295));$[_+7]=O,O=O>>8,$[_+6]=O,O=O>>8,$[_+5]=O,O=O>>8,$[_+4]=O;let Y=Number(q>>BigInt(32)&BigInt(4294967295));return $[_+3]=Y,Y=Y>>8,$[_+2]=Y,Y=Y>>8,$[_+1]=Y,Y=Y>>8,$[_]=Y,_+8}function YC($,q,_,P,K,O){if(_+P>$.length)throw RangeError("Index out of range");if(_<0)throw RangeError("Index out of range")}function OC($,q,_,P,K){if(q=+q,_=_>>>0,!K)YC($,q,_,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return FN($,q,_,P,23,4),_+4}function jC($,q,_,P,K){if(q=+q,_=_>>>0,!K)YC($,q,_,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return FN($,q,_,P,52,8),_+8}function tN($){let q="",_=$.length,P=$[0]==="-"?1:0;for(;_>=P+4;_-=3)q=`_${$.slice(_-3,_)}${q}`;return`${$.slice(0,_)}${q}`}function ci($,q,_){if(AP(q,"offset"),$[q]===void 0||$[q+_]===void 0)N7(q,$.length-(_+1))}function vC($,q,_,P,K,O){if($>_||$<q){let Y=typeof q==="bigint"?"n":"",v;if(O>3)if(q===0||q===BigInt(0))v=`>= 0${Y} and < 2${Y} ** ${(O+1)*8}${Y}`;else v=`>= -(2${Y} ** ${(O+1)*8-1}${Y}) and < 2 ** ${(O+1)*8-1}${Y}`;else v=`>= ${q}${Y} and <= ${_}${Y}`;throw new eT("value",v,$)}ci(P,K,O)}function AP($,q){if(typeof $!=="number")throw new Vi(q,"number",$)}function N7($,q,_){if(Math.floor($)!==$)throw AP($,_),new eT(_||"offset","an integer",$);if(q<0)throw new Gi;throw new eT(_||"offset",`>= ${_?1:0} and <= ${q}`,$)}function di($){if($=$.split("=")[0],$=$.trim().replace(mi,""),$.length<2)return"";while($.length%4!==0)$=$+"=";return $}function qw($,q){q=q||1/0;let _,P=$.length,K=null,O=[];for(let Y=0;Y<P;++Y){if(_=$.charCodeAt(Y),_>55295&&_<57344){if(!K){if(_>56319){if((q-=3)>-1)O.push(239,191,189);continue}else if(Y+1===P){if((q-=3)>-1)O.push(239,191,189);continue}K=_;continue}if(_<56320){if((q-=3)>-1)O.push(239,191,189);K=_;continue}_=(K-55296<<10|_-56320)+65536}else if(K){if((q-=3)>-1)O.push(239,191,189)}if(K=null,_<128){if((q-=1)<0)break;O.push(_)}else if(_<2048){if((q-=2)<0)break;O.push(_>>6|192,_&63|128)}else if(_<65536){if((q-=3)<0)break;O.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((q-=4)<0)break;O.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw Error("Invalid code point")}return O}function li($){let q=[];for(let _=0;_<$.length;++_)q.push($.charCodeAt(_)&255);return q}function ri($,q){let _,P,K,O=[];for(let Y=0;Y<$.length;++Y){if((q-=2)<0)break;_=$.charCodeAt(Y),P=_>>8,K=_%256,O.push(K),O.push(P)}return O}function zC($){return Hi(di($))}function wY($,q,_,P){let K;for(K=0;K<P;++K){if(K+_>=q.length||K>=$.length)break;q[K+_]=$[K]}return K}function W_($,q){return $ instanceof q||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===q.name}function wK($){return typeof BigInt>"u"?ni:$}function ni(){throw Error("BigInt not supported")}function Yw($){return()=>{throw Error($+" is not implemented for node:buffer browser polyfill")}}var J_,C8,aT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QK,oN,iN,QN=50,M7=2147483647,aN=536870888,Zi,fi,Xi,Ai,ki,Gi,Vi,eT,UN=4096,mi,oi,ii,Bi,Ui=($)=>{for(let q of $)if(q.charCodeAt(0)>127)return!1;return!0},ti,Fi;var Xq=P4(()=>{J_=[],C8=[];for(QK=0,oN=aT.length;QK<oN;++QK)J_[QK]=aT[QK],C8[aT.charCodeAt(QK)]=QK;C8[45]=62;C8[95]=63;iN=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null,Zi=globalThis.btoa,fi=globalThis.atob,Xi=globalThis.File,Ai=globalThis.Blob,ki={MAX_LENGTH:M7,MAX_STRING_LENGTH:aN};Gi=_w("ERR_BUFFER_OUT_OF_BOUNDS",function($){if($)return`${$} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError),Vi=_w("ERR_INVALID_ARG_TYPE",function($,q){return`The "${$}" argument must be of type number. Received type ${typeof q}`},TypeError),eT=_w("ERR_OUT_OF_RANGE",function($,q,_){let P=`The value of "${$}" is out of range.`,K=_;if(Number.isInteger(_)&&Math.abs(_)>4294967296)K=tN(String(_));else if(typeof _==="bigint"){if(K=String(_),_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))K=tN(K);K+="n"}return P+=` It must be ${q}. Received ${K}`,P},RangeError);Object.defineProperty(f$.prototype,"parent",{enumerable:!0,get:function(){if(!f$.isBuffer(this))return;return this.buffer}});Object.defineProperty(f$.prototype,"offset",{enumerable:!0,get:function(){if(!f$.isBuffer(this))return;return this.byteOffset}});f$.poolSize=8192;f$.from=function($,q,_){return eN($,q,_)};Object.setPrototypeOf(f$.prototype,Uint8Array.prototype);Object.setPrototypeOf(f$,Uint8Array);f$.alloc=function($,q,_){return Si($,q,_)};f$.allocUnsafe=function($){return Kw($)};f$.allocUnsafeSlow=function($){return Kw($)};f$.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==f$.prototype};f$.compare=function($,q){if(W_($,Uint8Array))$=f$.from($,$.offset,$.byteLength);if(W_(q,Uint8Array))q=f$.from(q,q.offset,q.byteLength);if(!f$.isBuffer($)||!f$.isBuffer(q))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===q)return 0;let _=$.length,P=q.length;for(let K=0,O=Math.min(_,P);K<O;++K)if($[K]!==q[K]){_=$[K],P=q[K];break}if(_<P)return-1;if(P<_)return 1;return 0};f$.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};f$.concat=function($,q){if(!Array.isArray($))throw TypeError('"list" argument must be an Array of Buffers');if($.length===0)return f$.alloc(0);let _;if(q===void 0){q=0;for(_=0;_<$.length;++_)q+=$[_].length}let P=f$.allocUnsafe(q),K=0;for(_=0;_<$.length;++_){let O=$[_];if(W_(O,Uint8Array))if(K+O.length>P.length){if(!f$.isBuffer(O))O=f$.from(O);O.copy(P,K)}else Uint8Array.prototype.set.call(P,O,K);else if(!f$.isBuffer(O))throw TypeError('"list" argument must be an Array of Buffers');else O.copy(P,K);K+=O.length}return P};f$.byteLength=$C;f$.prototype._isBuffer=!0;f$.prototype.swap16=function(){let $=this.length;if($%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<$;q+=2)aK(this,q,q+1);return this};f$.prototype.swap32=function(){let $=this.length;if($%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<$;q+=4)aK(this,q,q+3),aK(this,q+1,q+2);return this};f$.prototype.swap64=function(){let $=this.length;if($%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<$;q+=8)aK(this,q,q+7),aK(this,q+1,q+6),aK(this,q+2,q+5),aK(this,q+3,q+4);return this};f$.prototype.toString=function(){let $=this.length;if($===0)return"";if(arguments.length===0)return _C(this,0,$);return Ei.apply(this,arguments)};f$.prototype.toLocaleString=f$.prototype.toString;f$.prototype.equals=function($){if(!f$.isBuffer($))throw TypeError("Argument must be a Buffer");if(this===$)return!0;return f$.compare(this,$)===0};f$.prototype.inspect=function(){let $="",q=QN;if($=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q)$+=" ... ";return"<Buffer "+$+">"};if(iN)f$.prototype[iN]=f$.prototype.inspect;f$.prototype.compare=function($,q,_,P,K){if(W_($,Uint8Array))$=f$.from($,$.offset,$.byteLength);if(!f$.isBuffer($))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(q===void 0)q=0;if(_===void 0)_=$?$.length:0;if(P===void 0)P=0;if(K===void 0)K=this.length;if(q<0||_>$.length||P<0||K>this.length)throw RangeError("out of range index");if(P>=K&&q>=_)return 0;if(P>=K)return-1;if(q>=_)return 1;if(q>>>=0,_>>>=0,P>>>=0,K>>>=0,this===$)return 0;let O=K-P,Y=_-q,v=Math.min(O,Y),W=this.slice(P,K),T=$.slice(q,_);for(let Z=0;Z<v;++Z)if(W[Z]!==T[Z]){O=W[Z],Y=T[Z];break}if(O<Y)return-1;if(Y<O)return 1;return 0};f$.prototype.includes=function($,q,_){return this.indexOf($,q,_)!==-1};f$.prototype.indexOf=function($,q,_){return qC(this,$,q,_,!0)};f$.prototype.lastIndexOf=function($,q,_){return qC(this,$,q,_,!1)};f$.prototype.write=function($,q,_,P){if(q===void 0)P="utf8",_=this.length,q=0;else if(_===void 0&&typeof q==="string")P=q,_=this.length,q=0;else if(isFinite(q))if(q=q>>>0,isFinite(_)){if(_=_>>>0,P===void 0)P="utf8"}else P=_,_=void 0;else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let K=this.length-q;if(_===void 0||_>K)_=K;if($.length>0&&(_<0||q<0)||q>this.length)throw RangeError("Attempt to write outside buffer bounds");if(!P)P="utf8";let O=!1;for(;;)switch(P){case"hex":return Ri(this,$,q,_);case"utf8":case"utf-8":return Ii(this,$,q,_);case"ascii":case"latin1":case"binary":return hi(this,$,q,_);case"base64":return Di(this,$,q,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Li(this,$,q,_);default:if(O)throw TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),O=!0}};f$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};f$.prototype.slice=function($,q){let _=this.length;if($=~~$,q=q===void 0?_:~~q,$<0){if($+=_,$<0)$=0}else if($>_)$=_;if(q<0){if(q+=_,q<0)q=0}else if(q>_)q=_;if(q<$)q=$;let P=this.subarray($,q);return Object.setPrototypeOf(P,f$.prototype),P};f$.prototype.readUintLE=f$.prototype.readUIntLE=function($,q,_){if($=$>>>0,q=q>>>0,!_)Zq($,q,this.length);let P=this[$],K=1,O=0;while(++O<q&&(K*=256))P+=this[$+O]*K;return P};f$.prototype.readUintBE=f$.prototype.readUIntBE=function($,q,_){if($=$>>>0,q=q>>>0,!_)Zq($,q,this.length);let P=this[$+--q],K=1;while(q>0&&(K*=256))P+=this[$+--q]*K;return P};f$.prototype.readUint8=f$.prototype.readUInt8=function($,q){if($=$>>>0,!q)Zq($,1,this.length);return this[$]};f$.prototype.readUint16LE=f$.prototype.readUInt16LE=function($,q){if($=$>>>0,!q)Zq($,2,this.length);return this[$]|this[$+1]<<8};f$.prototype.readUint16BE=f$.prototype.readUInt16BE=function($,q){if($=$>>>0,!q)Zq($,2,this.length);return this[$]<<8|this[$+1]};f$.prototype.readUint32LE=f$.prototype.readUInt32LE=function($,q){if($=$>>>0,!q)Zq($,4,this.length);return(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216};f$.prototype.readUint32BE=f$.prototype.readUInt32BE=function($,q){if($=$>>>0,!q)Zq($,4,this.length);return this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])};f$.prototype.readBigUInt64LE=wK(function($){$=$>>>0,AP($,"offset");let q=this[$],_=this[$+7];if(q===void 0||_===void 0)N7($,this.length-8);let P=q+this[++$]*256+this[++$]*65536+this[++$]*16777216,K=this[++$]+this[++$]*256+this[++$]*65536+_*16777216;return BigInt(P)+(BigInt(K)<<BigInt(32))});f$.prototype.readBigUInt64BE=wK(function($){$=$>>>0,AP($,"offset");let q=this[$],_=this[$+7];if(q===void 0||_===void 0)N7($,this.length-8);let P=q*16777216+this[++$]*65536+this[++$]*256+this[++$],K=this[++$]*16777216+this[++$]*65536+this[++$]*256+_;return(BigInt(P)<<BigInt(32))+BigInt(K)});f$.prototype.readIntLE=function($,q,_){if($=$>>>0,q=q>>>0,!_)Zq($,q,this.length);let P=this[$],K=1,O=0;while(++O<q&&(K*=256))P+=this[$+O]*K;if(K*=128,P>=K)P-=Math.pow(2,8*q);return P};f$.prototype.readIntBE=function($,q,_){if($=$>>>0,q=q>>>0,!_)Zq($,q,this.length);let P=q,K=1,O=this[$+--P];while(P>0&&(K*=256))O+=this[$+--P]*K;if(K*=128,O>=K)O-=Math.pow(2,8*q);return O};f$.prototype.readInt8=function($,q){if($=$>>>0,!q)Zq($,1,this.length);if(!(this[$]&128))return this[$];return(255-this[$]+1)*-1};f$.prototype.readInt16LE=function($,q){if($=$>>>0,!q)Zq($,2,this.length);let _=this[$]|this[$+1]<<8;return _&32768?_|4294901760:_};f$.prototype.readInt16BE=function($,q){if($=$>>>0,!q)Zq($,2,this.length);let _=this[$+1]|this[$]<<8;return _&32768?_|4294901760:_};f$.prototype.readInt32LE=function($,q){if($=$>>>0,!q)Zq($,4,this.length);return this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24};f$.prototype.readInt32BE=function($,q){if($=$>>>0,!q)Zq($,4,this.length);return this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]};f$.prototype.readBigInt64LE=wK(function($){$=$>>>0,AP($,"offset");let q=this[$],_=this[$+7];if(q===void 0||_===void 0)N7($,this.length-8);let P=this[$+4]+this[$+5]*256+this[$+6]*65536+(_<<24);return(BigInt(P)<<BigInt(32))+BigInt(q+this[++$]*256+this[++$]*65536+this[++$]*16777216)});f$.prototype.readBigInt64BE=wK(function($){$=$>>>0,AP($,"offset");let q=this[$],_=this[$+7];if(q===void 0||_===void 0)N7($,this.length-8);let P=(q<<24)+this[++$]*65536+this[++$]*256+this[++$];return(BigInt(P)<<BigInt(32))+BigInt(this[++$]*16777216+this[++$]*65536+this[++$]*256+_)});f$.prototype.readFloatLE=function($,q){if($=$>>>0,!q)Zq($,4,this.length);return TY(this,$,!0,23,4)};f$.prototype.readFloatBE=function($,q){if($=$>>>0,!q)Zq($,4,this.length);return TY(this,$,!1,23,4)};f$.prototype.readDoubleLE=function($,q){if($=$>>>0,!q)Zq($,8,this.length);return TY(this,$,!0,52,8)};f$.prototype.readDoubleBE=function($,q){if($=$>>>0,!q)Zq($,8,this.length);return TY(this,$,!1,52,8)};f$.prototype.writeUintLE=f$.prototype.writeUIntLE=function($,q,_,P){if($=+$,q=q>>>0,_=_>>>0,!P){let Y=Math.pow(2,8*_)-1;K8(this,$,q,_,Y,0)}let K=1,O=0;this[q]=$&255;while(++O<_&&(K*=256))this[q+O]=$/K&255;return q+_};f$.prototype.writeUintBE=f$.prototype.writeUIntBE=function($,q,_,P){if($=+$,q=q>>>0,_=_>>>0,!P){let Y=Math.pow(2,8*_)-1;K8(this,$,q,_,Y,0)}let K=_-1,O=1;this[q+K]=$&255;while(--K>=0&&(O*=256))this[q+K]=$/O&255;return q+_};f$.prototype.writeUint8=f$.prototype.writeUInt8=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,1,255,0);return this[q]=$&255,q+1};f$.prototype.writeUint16LE=f$.prototype.writeUInt16LE=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,2,65535,0);return this[q]=$&255,this[q+1]=$>>>8,q+2};f$.prototype.writeUint16BE=f$.prototype.writeUInt16BE=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,2,65535,0);return this[q]=$>>>8,this[q+1]=$&255,q+2};f$.prototype.writeUint32LE=f$.prototype.writeUInt32LE=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,4,4294967295,0);return this[q+3]=$>>>24,this[q+2]=$>>>16,this[q+1]=$>>>8,this[q]=$&255,q+4};f$.prototype.writeUint32BE=f$.prototype.writeUInt32BE=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,4,4294967295,0);return this[q]=$>>>24,this[q+1]=$>>>16,this[q+2]=$>>>8,this[q+3]=$&255,q+4};f$.prototype.writeBigUInt64LE=wK(function($,q=0){return KC(this,$,q,BigInt(0),BigInt("0xffffffffffffffff"))});f$.prototype.writeBigUInt64BE=wK(function($,q=0){return PC(this,$,q,BigInt(0),BigInt("0xffffffffffffffff"))});f$.prototype.writeIntLE=function($,q,_,P){if($=+$,q=q>>>0,!P){let v=Math.pow(2,8*_-1);K8(this,$,q,_,v-1,-v)}let K=0,O=1,Y=0;this[q]=$&255;while(++K<_&&(O*=256)){if($<0&&Y===0&&this[q+K-1]!==0)Y=1;this[q+K]=($/O>>0)-Y&255}return q+_};f$.prototype.writeIntBE=function($,q,_,P){if($=+$,q=q>>>0,!P){let v=Math.pow(2,8*_-1);K8(this,$,q,_,v-1,-v)}let K=_-1,O=1,Y=0;this[q+K]=$&255;while(--K>=0&&(O*=256)){if($<0&&Y===0&&this[q+K+1]!==0)Y=1;this[q+K]=($/O>>0)-Y&255}return q+_};f$.prototype.writeInt8=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,1,127,-128);if($<0)$=255+$+1;return this[q]=$&255,q+1};f$.prototype.writeInt16LE=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,2,32767,-32768);return this[q]=$&255,this[q+1]=$>>>8,q+2};f$.prototype.writeInt16BE=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,2,32767,-32768);return this[q]=$>>>8,this[q+1]=$&255,q+2};f$.prototype.writeInt32LE=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,4,2147483647,-2147483648);return this[q]=$&255,this[q+1]=$>>>8,this[q+2]=$>>>16,this[q+3]=$>>>24,q+4};f$.prototype.writeInt32BE=function($,q,_){if($=+$,q=q>>>0,!_)K8(this,$,q,4,2147483647,-2147483648);if($<0)$=4294967295+$+1;return this[q]=$>>>24,this[q+1]=$>>>16,this[q+2]=$>>>8,this[q+3]=$&255,q+4};f$.prototype.writeBigInt64LE=wK(function($,q=0){return KC(this,$,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});f$.prototype.writeBigInt64BE=wK(function($,q=0){return PC(this,$,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});f$.prototype.writeFloatLE=function($,q,_){return OC(this,$,q,!0,_)};f$.prototype.writeFloatBE=function($,q,_){return OC(this,$,q,!1,_)};f$.prototype.writeDoubleLE=function($,q,_){return jC(this,$,q,!0,_)};f$.prototype.writeDoubleBE=function($,q,_){return jC(this,$,q,!1,_)};f$.prototype.copy=function($,q,_,P){if(!f$.isBuffer($))throw TypeError("argument should be a Buffer");if(!_)_=0;if(!P&&P!==0)P=this.length;if(q>=$.length)q=$.length;if(!q)q=0;if(P>0&&P<_)P=_;if(P===_)return 0;if($.length===0||this.length===0)return 0;if(q<0)throw RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw RangeError("Index out of range");if(P<0)throw RangeError("sourceEnd out of bounds");if(P>this.length)P=this.length;if($.length-q<P-_)P=$.length-q+_;let K=P-_;if(this===$&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(q,_,P);else Uint8Array.prototype.set.call($,this.subarray(_,P),q);return K};f$.prototype.fill=function($,q,_,P){if(typeof $==="string"){if(typeof q==="string")P=q,q=0,_=this.length;else if(typeof _==="string")P=_,_=this.length;if(P!==void 0&&typeof P!=="string")throw TypeError("encoding must be a string");if(typeof P==="string"&&!f$.isEncoding(P))throw TypeError("Unknown encoding: "+P);if($.length===1){let O=$.charCodeAt(0);if(P==="utf8"&&O<128||P==="latin1")$=O}}else if(typeof $==="number")$=$&255;else if(typeof $==="boolean")$=Number($);if(q<0||this.length<q||this.length<_)throw RangeError("Out of range index");if(_<=q)return this;if(q=q>>>0,_=_===void 0?this.length:_>>>0,!$)$=0;let K;if(typeof $==="number")for(K=q;K<_;++K)this[K]=$;else{let O=f$.isBuffer($)?$:f$.from($,P),Y=O.length;if(Y===0)throw TypeError('The value "'+$+'" is invalid for argument "value"');for(K=0;K<_-q;++K)this[K+q]=O[K%Y]}return this};mi=/[^+/0-9A-Za-z-_]/g;oi=function(){let $=Array(256);for(let q=0;q<16;++q){let _=q*16;for(let P=0;P<16;++P)$[_+P]="0123456789abcdef"[q]+"0123456789abcdef"[P]}return $}();ii=Yw("resolveObjectURL"),Bi=Yw("isUtf8"),ti=Yw("transcode"),Fi=f$});var kC={};Rq(kC,{types:()=>YB,promisify:()=>ZC,log:()=>HC,isUndefined:()=>kP,isSymbol:()=>jB,isString:()=>GY,isRegExp:()=>ZY,isPrimitive:()=>vB,isObject:()=>GP,isNumber:()=>WC,isNullOrUndefined:()=>OB,isNull:()=>kY,isFunction:()=>XY,isError:()=>fY,isDate:()=>zw,isBuffer:()=>zB,isBoolean:()=>Ww,isArray:()=>JC,inspect:()=>eK,inherits:()=>TC,format:()=>Jw,deprecate:()=>ai,default:()=>HB,debuglog:()=>ei,callbackifyOnRejected:()=>ww,callbackify:()=>fC,_extend:()=>Tw,TextEncoder:()=>XC,TextDecoder:()=>AC});function Jw($,...q){if(!GY($)){var _=[$];for(var P=0;P<q.length;P++)_.push(eK(q[P]));return _.join(" ")}var P=0,K=q.length,O=String($).replace(Qi,function(v){if(v==="%%")return"%";if(P>=K)return v;switch(v){case"%s":return String(q[P++]);case"%d":return Number(q[P++]);case"%j":try{return JSON.stringify(q[P++])}catch(W){return"[Circular]"}default:return v}});for(var Y=q[P];P<K;Y=q[++P])if(kY(Y)||!GP(Y))O+=" "+Y;else O+=" "+eK(Y);return O}function ai($,q){if(typeof process>"u"||process?.noDeprecation===!0)return $;var _=!1;function P(...K){if(!_){if(process.throwDeprecation)throw Error(q);else if(process.traceDeprecation)console.trace(q);else console.error(q);_=!0}return $.apply(this,...K)}return P}function si($,q){var _=eK.styles[q];if(_)return"\x1B["+eK.colors[_][0]+"m"+$+"\x1B["+eK.colors[_][1]+"m";else return $}function $B($,q){return $}function qB($){var q={};return $.forEach(function(_,P){q[_]=!0}),q}function AY($,q,_){if($.customInspect&&q&&XY(q.inspect)&&q.inspect!==eK&&!(q.constructor&&q.constructor.prototype===q)){var P=q.inspect(_,$);if(!GY(P))P=AY($,P,_);return P}var K=_B($,q);if(K)return K;var O=Object.keys(q),Y=qB(O);if($.showHidden)O=Object.getOwnPropertyNames(q);if(fY(q)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return Ow(q);if(O.length===0){if(XY(q)){var v=q.name?": "+q.name:"";return $.stylize("[Function"+v+"]","special")}if(ZY(q))return $.stylize(RegExp.prototype.toString.call(q),"regexp");if(zw(q))return $.stylize(Date.prototype.toString.call(q),"date");if(fY(q))return Ow(q)}var W="",T=!1,Z=["{","}"];if(JC(q))T=!0,Z=["[","]"];if(XY(q)){var w=q.name?": "+q.name:"";W=" [Function"+w+"]"}if(ZY(q))W=" "+RegExp.prototype.toString.call(q);if(zw(q))W=" "+Date.prototype.toUTCString.call(q);if(fY(q))W=" "+Ow(q);if(O.length===0&&(!T||q.length==0))return Z[0]+W+Z[1];if(_<0)if(ZY(q))return $.stylize(RegExp.prototype.toString.call(q),"regexp");else return $.stylize("[Object]","special");$.seen.push(q);var k;if(T)k=KB($,q,_,Y,O);else k=O.map(function(M){return vw($,q,_,Y,M,T)});return $.seen.pop(),PB(k,W,Z)}function _B($,q){if(kP(q))return $.stylize("undefined","undefined");if(GY(q)){var _="'"+JSON.stringify(q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(_,"string")}if(WC(q))return $.stylize(""+q,"number");if(Ww(q))return $.stylize(""+q,"boolean");if(kY(q))return $.stylize("null","null")}function Ow($){return"["+Error.prototype.toString.call($)+"]"}function KB($,q,_,P,K){var O=[];for(var Y=0,v=q.length;Y<v;++Y)if(wC(q,String(Y)))O.push(vw($,q,_,P,String(Y),!0));else O.push("");return K.forEach(function(W){if(!W.match(/^\d+$/))O.push(vw($,q,_,P,W,!0))}),O}function vw($,q,_,P,K,O){var Y,v,W;if(W=Object.getOwnPropertyDescriptor(q,K)||{value:q[K]},W.get)if(W.set)v=$.stylize("[Getter/Setter]","special");else v=$.stylize("[Getter]","special");else if(W.set)v=$.stylize("[Setter]","special");if(!wC(P,K))Y="["+K+"]";if(!v)if($.seen.indexOf(W.value)<0){if(kY(_))v=AY($,W.value,null);else v=AY($,W.value,_-1);if(v.indexOf(`
`)>-1)if(O)v=v.split(`
`).map(function(T){return"  "+T}).join(`
`).slice(2);else v=`
`+v.split(`
`).map(function(T){return"   "+T}).join(`
`)}else v=$.stylize("[Circular]","special");if(kP(Y)){if(O&&K.match(/^\d+$/))return v;if(Y=JSON.stringify(""+K),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))Y=Y.slice(1,-1),Y=$.stylize(Y,"name");else Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=$.stylize(Y,"string")}return Y+": "+v}function PB($,q,_){var P=0,K=$.reduce(function(O,Y){if(P++,Y.indexOf(`
`)>=0)P++;return O+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(K>60)return _[0]+(q===""?"":q+`
 `)+" "+$.join(`,
  `)+" "+_[1];return _[0]+q+" "+$.join(", ")+" "+_[1]}function JC($){return Array.isArray($)}function Ww($){return typeof $==="boolean"}function kY($){return $===null}function OB($){return $==null}function WC($){return typeof $==="number"}function GY($){return typeof $==="string"}function jB($){return typeof $==="symbol"}function kP($){return $===void 0}function ZY($){return GP($)&&Hw($)==="[object RegExp]"}function GP($){return typeof $==="object"&&$!==null}function zw($){return GP($)&&Hw($)==="[object Date]"}function fY($){return GP($)&&(Hw($)==="[object Error]"||$ instanceof Error)}function XY($){return typeof $==="function"}function vB($){return $===null||typeof $==="boolean"||typeof $==="number"||typeof $==="string"||typeof $==="symbol"||typeof $>"u"}function zB($){return $ instanceof Buffer}function Hw($){return Object.prototype.toString.call($)}function jw($){return $<10?"0"+$.toString(10):$.toString(10)}function WB(){var $=new Date,q=[jw($.getHours()),jw($.getMinutes()),jw($.getSeconds())].join(":");return[$.getDate(),JB[$.getMonth()],q].join(" ")}function HC(...$){console.log("%s - %s",WB(),Jw.apply(null,$))}function TC($,q){if(q)$.super_=q,$.prototype=Object.create(q.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}})}function Tw($,q){if(!q||!GP(q))return $;var _=Object.keys(q),P=_.length;while(P--)$[_[P]]=q[_[P]];return $}function wC($,q){return Object.prototype.hasOwnProperty.call($,q)}function ww($,q){if(!$){var _=Error("Promise was rejected with a falsy value");_.reason=$,$=_}return q($)}function fC($){if(typeof $!=="function")throw TypeError('The "original" argument must be of type Function');function q(..._){var P=_.pop();if(typeof P!=="function")throw TypeError("The last argument must be of type Function");var K=this,O=function(...Y){return P.apply(K,...Y)};$.apply(this,_).then(function(Y){process.nextTick(O.bind(null,null,Y))},function(Y){process.nextTick(ww.bind(null,Y,O))})}return Object.setPrototypeOf(q,Object.getPrototypeOf($)),Object.defineProperties(q,Object.getOwnPropertyDescriptors($)),q}var Qi,ei,eK,YB=()=>{},JB,ZC,XC,AC,HB;var GC=P4(()=>{Qi=/%[sdj%]/g;ei=(($={},q={},_)=>((_=typeof process<"u"&&!1)&&(_=_.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),q=new RegExp("^"+_+"$","i"),(P)=>{if(P=P.toUpperCase(),!$[P])if(q.test(P))$[P]=function(...K){console.error("%s: %s",P,pid,Jw.apply(null,...K))};else $[P]=function(){};return $[P]}))(),eK=(($)=>($.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},$.custom=Symbol.for("nodejs.util.inspect.custom"),$))(function($,q,..._){var P={seen:[],stylize:$B};if(_.length>=1)P.depth=_[0];if(_.length>=2)P.colors=_[1];if(Ww(q))P.showHidden=q;else if(q)Tw(P,q);if(kP(P.showHidden))P.showHidden=!1;if(kP(P.depth))P.depth=2;if(kP(P.colors))P.colors=!1;if(P.colors)P.stylize=si;return AY(P,$,P.depth)});JB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];ZC=(($)=>($.custom=Symbol.for("nodejs.util.promisify.custom"),$))(function($){if(typeof $!=="function")throw TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&$[kCustomPromisifiedSymbol]){var q=$[kCustomPromisifiedSymbol];if(typeof q!=="function")throw TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(q,kCustomPromisifiedSymbol,{value:q,enumerable:!1,writable:!1,configurable:!0}),q}function q(..._){var P,K,O=new Promise(function(Y,v){P=Y,K=v});_.push(function(Y,v){if(Y)K(Y);else P(v)});try{$.apply(this,_)}catch(Y){K(Y)}return O}if(Object.setPrototypeOf(q,Object.getPrototypeOf($)),kCustomPromisifiedSymbol)Object.defineProperty(q,kCustomPromisifiedSymbol,{value:q,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(q,Object.getOwnPropertyDescriptors($))});({TextEncoder:XC,TextDecoder:AC}=globalThis),HB={TextEncoder:XC,TextDecoder:AC,promisify:ZC,log:HC,inherits:TC,_extend:Tw,callbackifyOnRejected:ww,callbackify:fC}});var E7={};Rq(E7,{setMaxListeners:()=>LC,once:()=>hC,listenerCount:()=>gC,init:()=>ZK,getMaxListeners:()=>yC,getEventListeners:()=>DC,default:()=>VB,captureRejectionSymbol:()=>CC,addAbortListener:()=>uC,EventEmitter:()=>ZK});function EC($,q){var{_events:_}=$;if(q[0]??=Error("Unhandled error."),!_)throw q[0];var P=_[NC];if(P)for(var K of SC.call(P))K.apply($,q);var O=_.error;if(!O)throw q[0];for(var K of SC.call(O))K.apply($,q);return!0}function ZB($,q,_,P){q.then(void 0,function(K){queueMicrotask(()=>fB($,K,_,P))})}function fB($,q,_,P){if(typeof $[VC]==="function")$[VC](q,_,...P);else try{$[sK]=!1,$.emit("error",q)}finally{$[sK]=!0}}function RC($,q,_){_.warned=!0;let P=Error(`Possible EventEmitter memory leak detected. ${_.length} ${String(q)} listeners added to [${$.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);P.name="MaxListenersExceededWarning",P.emitter=$,P.type=q,P.count=_.length,console.warn(P)}function IC($,q,..._){this.removeListener($,q),q.apply(this,_)}function hC($,q,_){var P=_?.signal;if(bC(P,"options.signal"),P?.aborted)throw new Zw(void 0,{cause:P?.reason});let{resolve:K,reject:O,promise:Y}=$newPromiseCapability(Promise),v=(Z)=>{if($.removeListener(q,W),P!=null)VY(P,"abort",T);O(Z)},W=(...Z)=>{if(typeof $.removeListener==="function")$.removeListener("error",v);if(P!=null)VY(P,"abort",T);K(Z)};if(MC($,q,W,{once:!0}),q!=="error"&&typeof $.once==="function")$.once("error",v);function T(){VY($,q,W),VY($,"error",v),O(new Zw(void 0,{cause:P?.reason}))}if(P!=null)MC(P,"abort",T,{once:!0});return Y}function DC($,q){return $.listeners(q)}function LC($,...q){Xw($,"setMaxListeners",0);var _;if(q&&(_=q.length))for(let P=0;P<_;P++)q[P].setMaxListeners($);else $4=$}function gC($,q){return $.listenerCount(q)}function VY($,q,_,P){if(typeof $.removeListener==="function")$.removeListener(q,_);else $.removeEventListener(q,_,P)}function MC($,q,_,P){if(typeof $.on==="function")if(P.once)$.once(q,_);else $.on(q,_);else $.addEventListener(q,_,P)}function VP($,q,_){let P=TypeError(`The "${$}" argument must be of type ${q}. Received ${_}`);return P.code="ERR_INVALID_ARG_TYPE",P}function kB($,q,_){let P=RangeError(`The "${$}" argument is out of range. It must be ${q}. Received ${_}`);return P.code="ERR_OUT_OF_RANGE",P}function bC($,q){if($!==void 0&&($===null||typeof $!=="object"||!("aborted"in $)))throw VP(q,"AbortSignal",$)}function Xw($,q,_,P){if(typeof $!=="number")throw VP(q,"number",$);if(_!=null&&$<_||P!=null&&$>P||(_!=null||P!=null)&&Number.isNaN($))throw kB(q,`${_!=null?`>= ${_}`:""}${_!=null&&P!=null?" && ":""}${P!=null?`<= ${P}`:""}`,$)}function C7($){if(typeof $!=="function")throw TypeError("The listener must be a function")}function GB($,q){if(typeof $!=="boolean")throw VP(q,"boolean",$)}function yC($){return $?._maxListeners??$4}function uC($,q){if($===void 0)throw VP("signal","AbortSignal",$);if(bC($,"signal"),typeof q!=="function")throw VP("listener","function",q);let _;if($.aborted)queueMicrotask(()=>q());else $.addEventListener("abort",q,{__proto__:null,once:!0}),_=()=>{$.removeEventListener("abort",q)};return{__proto__:null,[Symbol.dispose](){_?.()}}}var fw,sK,NC,TB,wB,VC,CC,SC,$4=10,ZK=function($){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[sK]=$?.captureRejections?Boolean($?.captureRejections):x6[sK])this.emit=AB},x6,XB=function($,...q){if($==="error")return EC(this,q);var{_events:_}=this;if(_===void 0)return!1;var P=_[$];if(P===void 0)return!1;let K=P.length>1?P.slice():P;for(let O=0,{length:Y}=K;O<Y;O++){let v=K[O];switch(q.length){case 0:v.call(this);break;case 1:v.call(this,q[0]);break;case 2:v.call(this,q[0],q[1]);break;case 3:v.call(this,q[0],q[1],q[2]);break;default:v.apply(this,q);break}}return!0},AB=function($,...q){if($==="error")return EC(this,q);var{_events:_}=this;if(_===void 0)return!1;var P=_[$];if(P===void 0)return!1;let K=P.length>1?P.slice():P;for(let O=0,{length:Y}=K;O<Y;O++){let v=K[O],W;switch(q.length){case 0:W=v.call(this);break;case 1:W=v.call(this,q[0]);break;case 2:W=v.call(this,q[0],q[1]);break;case 3:W=v.call(this,q[0],q[1],q[2]);break;default:W=v.apply(this,q);break}if(W!==void 0&&typeof W?.then==="function"&&W.then===Promise.prototype.then)ZB(this,W,$,q)}return!0},Zw,VB;var R7=P4(()=>{fw=Symbol.for,sK=Symbol("kCapture"),NC=fw("events.errorMonitor"),TB=Symbol("events.maxEventTargetListeners"),wB=Symbol("events.maxEventTargetListenersWarned"),VC=fw("nodejs.rejection"),CC=fw("nodejs.rejection"),SC=Array.prototype.slice,x6=ZK.prototype={};x6._events=void 0;x6._eventsCount=0;x6._maxListeners=void 0;x6.setMaxListeners=function($){return Xw($,"setMaxListeners",0),this._maxListeners=$,this};x6.constructor=ZK;x6.getMaxListeners=function(){return this?._maxListeners??$4};x6.emit=XB;x6.addListener=function($,q){C7(q);var _=this._events;if(!_)_=this._events={__proto__:null},this._eventsCount=0;else if(_.newListener)this.emit("newListener",$,q.listener??q);var P=_[$];if(!P)_[$]=[q],this._eventsCount++;else{P.push(q);var K=this._maxListeners??$4;if(K>0&&P.length>K&&!P.warned)RC(this,$,P)}return this};x6.on=x6.addListener;x6.prependListener=function($,q){C7(q);var _=this._events;if(!_)_=this._events={__proto__:null},this._eventsCount=0;else if(_.newListener)this.emit("newListener",$,q.listener??q);var P=_[$];if(!P)_[$]=[q],this._eventsCount++;else{P.unshift(q);var K=this._maxListeners??$4;if(K>0&&P.length>K&&!P.warned)RC(this,$,P)}return this};x6.once=function($,q){C7(q);let _=IC.bind(this,$,q);return _.listener=q,this.addListener($,_),this};x6.prependOnceListener=function($,q){C7(q);let _=IC.bind(this,$,q);return _.listener=q,this.prependListener($,_),this};x6.removeListener=function($,q){C7(q);var{_events:_}=this;if(!_)return this;var P=_[$];if(!P)return this;var K=P.length;let O=-1;for(let Y=K-1;Y>=0;Y--)if(P[Y]===q||P[Y].listener===q){O=Y;break}if(O<0)return this;if(O===0)P.shift();else P.splice(O,1);if(P.length===0)delete _[$],this._eventsCount--;return this};x6.off=x6.removeListener;x6.removeAllListeners=function($){var{_events:q}=this;if($&&q){if(q[$])delete q[$],this._eventsCount--}else this._events={__proto__:null};return this};x6.listeners=function($){var{_events:q}=this;if(!q)return[];var _=q[$];if(!_)return[];return _.map((P)=>P.listener??P)};x6.rawListeners=function($){var{_events:q}=this;if(!q)return[];var _=q[$];if(!_)return[];return _.slice()};x6.listenerCount=function($){var{_events:q}=this;if(!q)return 0;return q[$]?.length??0};x6.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};x6[sK]=!1;Zw=class Zw extends Error{constructor($="The operation was aborted",q=void 0){if(q!==void 0&&typeof q!=="object")throw VP("options","Object",q);super($,q);this.code="ABORT_ERR",this.name="AbortError"}};Object.defineProperties(ZK,{captureRejections:{get(){return x6[sK]},set($){GB($,"EventEmitter.captureRejections"),x6[sK]=$},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return $4},set:($)=>{Xw($,"defaultMaxListeners",0),$4=$}},kMaxEventTargetListeners:{value:TB,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:wB,enumerable:!1,configurable:!1,writable:!1}});Object.assign(ZK,{once:hC,getEventListeners:DC,getMaxListeners:yC,setMaxListeners:LC,EventEmitter:ZK,usingDomains:!1,captureRejectionSymbol:CC,errorMonitor:NC,addAbortListener:uC,init:ZK,listenerCount:gC});VB=ZK});var Vw=N$((nY$,oC)=>{var C6=($,q)=>()=>(q||$((q={exports:{}}).exports,q),q.exports),m6=C6(($,q)=>{class _ extends Error{constructor(P){if(!Array.isArray(P))throw TypeError(`Expected input to be an Array, got ${typeof P}`);let K="";for(let O=0;O<P.length;O++)K+=`    ${P[O].stack}
`;super(K);this.name="AggregateError",this.errors=P}}q.exports={AggregateError:_,ArrayIsArray(P){return Array.isArray(P)},ArrayPrototypeIncludes(P,K){return P.includes(K)},ArrayPrototypeIndexOf(P,K){return P.indexOf(K)},ArrayPrototypeJoin(P,K){return P.join(K)},ArrayPrototypeMap(P,K){return P.map(K)},ArrayPrototypePop(P,K){return P.pop(K)},ArrayPrototypePush(P,K){return P.push(K)},ArrayPrototypeSlice(P,K,O){return P.slice(K,O)},Error,FunctionPrototypeCall(P,K,...O){return P.call(K,...O)},FunctionPrototypeSymbolHasInstance(P,K){return Function.prototype[Symbol.hasInstance].call(P,K)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(P,K){return Object.defineProperties(P,K)},ObjectDefineProperty(P,K,O){return Object.defineProperty(P,K,O)},ObjectGetOwnPropertyDescriptor(P,K){return Object.getOwnPropertyDescriptor(P,K)},ObjectKeys(P){return Object.keys(P)},ObjectSetPrototypeOf(P,K){return Object.setPrototypeOf(P,K)},Promise,PromisePrototypeCatch(P,K){return P.catch(K)},PromisePrototypeThen(P,K,O){return P.then(K,O)},PromiseReject(P){return Promise.reject(P)},PromiseResolve(P){return Promise.resolve(P)},ReflectApply:Reflect.apply,RegExpPrototypeTest(P,K){return P.test(K)},SafeSet:Set,String,StringPrototypeSlice(P,K,O){return P.slice(K,O)},StringPrototypeToLowerCase(P){return P.toLowerCase()},StringPrototypeToUpperCase(P){return P.toUpperCase()},StringPrototypeTrim(P){return P.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(P,K,O){return P.set(K,O)},Boolean,Uint8Array}}),xC=C6(($,q)=>{q.exports={format(_,...P){return _.replace(/%([sdifj])/g,function(...[K,O]){let Y=P.shift();if(O==="f")return Y.toFixed(6);else if(O==="j")return JSON.stringify(Y);else if(O==="s"&&typeof Y==="object")return`${Y.constructor!==Object?Y.constructor.name:""} {}`.trim();else return Y.toString()})},inspect(_){switch(typeof _){case"string":if(_.includes("'")){if(!_.includes('"'))return`"${_}"`;else if(!_.includes("`")&&!_.includes("${"))return`\`${_}\``}return`'${_}'`;case"number":if(isNaN(_))return"NaN";else if(Object.is(_,-0))return String(_);return _;case"bigint":return`${String(_)}n`;case"boolean":case"undefined":return String(_);case"object":return"{}"}}}}),iq=C6(($,q)=>{var{format:_,inspect:P}=xC(),{AggregateError:K}=m6(),O=globalThis.AggregateError||K,Y=Symbol("kIsNodeError"),v=["string","function","number","object","Function","Object","boolean","bigint","symbol"],W=/^([A-Z][a-z0-9]*)+$/,T={};function Z(D,h){if(!D)throw new T.ERR_INTERNAL_ASSERTION(h)}function w(D){let h="",L=D.length,b=D[0]==="-"?1:0;for(;L>=b+4;L-=3)h=`_${D.slice(L-3,L)}${h}`;return`${D.slice(0,L)}${h}`}function k(D,h,L){if(typeof h==="function")return Z(h.length<=L.length,`Code: ${D}; The provided arguments length (${L.length}) does not match the required ones (${h.length}).`),h(...L);let b=(h.match(/%[dfijoOs]/g)||[]).length;if(Z(b===L.length,`Code: ${D}; The provided arguments length (${L.length}) does not match the required ones (${b}).`),L.length===0)return h;return _(h,...L)}function M(D,h,L){if(!L)L=Error;class b extends L{constructor(...y){super(k(D,h,y))}toString(){return`${this.name} [${D}]: ${this.message}`}}Object.defineProperties(b.prototype,{name:{value:L.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${D}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),b.prototype.code=D,b.prototype[Y]=!0,T[D]=b}function N(D){let h="__node_internal_"+D.name;return Object.defineProperty(D,"name",{value:h}),D}function R(D,h){if(D&&h&&D!==h){if(Array.isArray(h.errors))return h.errors.push(D),h;let L=new O([h,D],h.message);return L.code=h.code,L}return D||h}class E extends Error{constructor(D="The operation was aborted",h=void 0){if(h!==void 0&&typeof h!=="object")throw new T.ERR_INVALID_ARG_TYPE("options","Object",h);super(D,h);this.code="ABORT_ERR",this.name="AbortError"}}M("ERR_ASSERTION","%s",Error),M("ERR_INVALID_ARG_TYPE",(D,h,L)=>{if(Z(typeof D==="string","'name' must be a string"),!Array.isArray(h))h=[h];let b="The ";if(D.endsWith(" argument"))b+=`${D} `;else b+=`"${D}" ${D.includes(".")?"property":"argument"} `;b+="must be ";let y=[],p=[],i=[];for(let Q of h)if(Z(typeof Q==="string","All expected entries have to be of type string"),v.includes(Q))y.push(Q.toLowerCase());else if(W.test(Q))p.push(Q);else Z(Q!=="object",'The value "object" should be written as "Object"'),i.push(Q);if(p.length>0){let Q=y.indexOf("object");if(Q!==-1)y.splice(y,Q,1),p.push("Object")}if(y.length>0){switch(y.length){case 1:b+=`of type ${y[0]}`;break;case 2:b+=`one of type ${y[0]} or ${y[1]}`;break;default:{let Q=y.pop();b+=`one of type ${y.join(", ")}, or ${Q}`}}if(p.length>0||i.length>0)b+=" or "}if(p.length>0){switch(p.length){case 1:b+=`an instance of ${p[0]}`;break;case 2:b+=`an instance of ${p[0]} or ${p[1]}`;break;default:{let Q=p.pop();b+=`an instance of ${p.join(", ")}, or ${Q}`}}if(i.length>0)b+=" or "}switch(i.length){case 0:break;case 1:if(i[0].toLowerCase()!==i[0])b+="an ";b+=`${i[0]}`;break;case 2:b+=`one of ${i[0]} or ${i[1]}`;break;default:{let Q=i.pop();b+=`one of ${i.join(", ")}, or ${Q}`}}if(L==null)b+=`. Received ${L}`;else if(typeof L==="function"&&L.name)b+=`. Received function ${L.name}`;else if(typeof L==="object"){var $$;if(($$=L.constructor)!==null&&$$!==void 0&&$$.name)b+=`. Received an instance of ${L.constructor.name}`;else{let Q=P(L,{depth:-1});b+=`. Received ${Q}`}}else{let Q=P(L,{colors:!1});if(Q.length>25)Q=`${Q.slice(0,25)}...`;b+=`. Received type ${typeof L} (${Q})`}return b},TypeError),M("ERR_INVALID_ARG_VALUE",(D,h,L="is invalid")=>{let b=P(h);if(b.length>128)b=b.slice(0,128)+"...";return`The ${D.includes(".")?"property":"argument"} '${D}' ${L}. Received ${b}`},TypeError),M("ERR_INVALID_RETURN_VALUE",(D,h,L)=>{var b;let y=L!==null&&L!==void 0&&(b=L.constructor)!==null&&b!==void 0&&b.name?`instance of ${L.constructor.name}`:`type ${typeof L}`;return`Expected ${D} to be returned from the "${h}" function but got ${y}.`},TypeError),M("ERR_MISSING_ARGS",(...D)=>{Z(D.length>0,"At least one arg needs to be specified");let h,L=D.length;switch(D=(Array.isArray(D)?D:[D]).map((b)=>`"${b}"`).join(" or "),L){case 1:h+=`The ${D[0]} argument`;break;case 2:h+=`The ${D[0]} and ${D[1]} arguments`;break;default:{let b=D.pop();h+=`The ${D.join(", ")}, and ${b} arguments`}break}return`${h} must be specified`},TypeError),M("ERR_OUT_OF_RANGE",(D,h,L)=>{Z(h,'Missing "range" argument');let b;if(Number.isInteger(L)&&Math.abs(L)>4294967296)b=w(String(L));else if(typeof L==="bigint"){b=String(L);let y=BigInt(2)**BigInt(32);if(L>y||L<-y)b=w(b);b+="n"}else b=P(L);return`The value of "${D}" is out of range. It must be ${h}. Received ${b}`},RangeError),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),M("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),M("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),M("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),M("ERR_STREAM_WRITE_AFTER_END","write after end",Error),M("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),q.exports={AbortError:E,aggregateTwoErrors:N(R),hideStackFrames:N,codes:T}}),SB=C6(($,q)=>{Object.defineProperty($,"__esModule",{value:!0});var _=new WeakMap,P=new WeakMap;function K(c){let a=_.get(c);return console.assert(a!=null,"'this' is expected an Event object, but got",c),a}function O(c){if(c.passiveListener!=null){if(typeof console<"u"&&typeof console.error==="function")console.error("Unable to preventDefault inside passive event listener invocation.",c.passiveListener);return}if(!c.event.cancelable)return;if(c.canceled=!0,typeof c.event.preventDefault==="function")c.event.preventDefault()}function Y(c,a){_.set(this,{eventTarget:c,event:a,eventPhase:2,currentTarget:c,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:a.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let j=Object.keys(a);for(let J=0;J<j.length;++J){let X=j[J];if(!(X in this))Object.defineProperty(this,X,v(X))}}if(Y.prototype={get type(){return K(this).event.type},get target(){return K(this).eventTarget},get currentTarget(){return K(this).currentTarget},composedPath(){let c=K(this).currentTarget;if(c==null)return[];return[c]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return K(this).eventPhase},stopPropagation(){let c=K(this);if(c.stopped=!0,typeof c.event.stopPropagation==="function")c.event.stopPropagation()},stopImmediatePropagation(){let c=K(this);if(c.stopped=!0,c.immediateStopped=!0,typeof c.event.stopImmediatePropagation==="function")c.event.stopImmediatePropagation()},get bubbles(){return Boolean(K(this).event.bubbles)},get cancelable(){return Boolean(K(this).event.cancelable)},preventDefault(){O(K(this))},get defaultPrevented(){return K(this).canceled},get composed(){return Boolean(K(this).event.composed)},get timeStamp(){return K(this).timeStamp},get srcElement(){return K(this).eventTarget},get cancelBubble(){return K(this).stopped},set cancelBubble(c){if(!c)return;let a=K(this);if(a.stopped=!0,typeof a.event.cancelBubble==="boolean")a.event.cancelBubble=!0},get returnValue(){return!K(this).canceled},set returnValue(c){if(!c)O(K(this))},initEvent(){}},Object.defineProperty(Y.prototype,"constructor",{value:Y,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u")Object.setPrototypeOf(Y.prototype,window.Event.prototype),P.set(window.Event.prototype,Y);function v(c){return{get(){return K(this).event[c]},set(a){K(this).event[c]=a},configurable:!0,enumerable:!0}}function W(c){return{value(){let a=K(this).event;return a[c].apply(a,arguments)},configurable:!0,enumerable:!0}}function T(c,a){let j=Object.keys(a);if(j.length===0)return c;function J(X,H){c.call(this,X,H)}J.prototype=Object.create(c.prototype,{constructor:{value:J,configurable:!0,writable:!0}});for(let X=0;X<j.length;++X){let H=j[X];if(!(H in c.prototype)){let f=typeof Object.getOwnPropertyDescriptor(a,H).value==="function";Object.defineProperty(J.prototype,H,f?W(H):v(H))}}return J}function Z(c){if(c==null||c===Object.prototype)return Y;let a=P.get(c);if(a==null)a=T(Z(Object.getPrototypeOf(c)),c),P.set(c,a);return a}function w(c,a){return new(Z(Object.getPrototypeOf(a)))(c,a)}function k(c){return K(c).immediateStopped}function M(c,a){K(c).eventPhase=a}function N(c,a){K(c).currentTarget=a}function R(c,a){K(c).passiveListener=a}var E=new WeakMap,D=1,h=2,L=3;function b(c){return c!==null&&typeof c==="object"}function y(c){let a=E.get(c);if(a==null)throw TypeError("'this' is expected an EventTarget object, but got another value.");return a}function p(c){return{get(){let a=y(this).get(c);while(a!=null){if(a.listenerType===L)return a.listener;a=a.next}return null},set(a){if(typeof a!=="function"&&!b(a))a=null;let j=y(this),J=null,X=j.get(c);while(X!=null){if(X.listenerType===L)if(J!==null)J.next=X.next;else if(X.next!==null)j.set(c,X.next);else j.delete(c);else J=X;X=X.next}if(a!==null){let H={listener:a,listenerType:L,passive:!1,once:!1,next:null};if(J===null)j.set(c,H);else J.next=H}},configurable:!0,enumerable:!0}}function i(c,a){Object.defineProperty(c,`on${a}`,p(a))}function $$(c){function a(){Q.call(this)}a.prototype=Object.create(Q.prototype,{constructor:{value:a,configurable:!0,writable:!0}});for(let j=0;j<c.length;++j)i(a.prototype,c[j]);return a}function Q(){if(this instanceof Q){E.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return $$(arguments[0]);if(arguments.length>0){let c=Array(arguments.length);for(let a=0;a<arguments.length;++a)c[a]=arguments[a];return $$(c)}throw TypeError("Cannot call a class as a function")}if(Q.prototype={addEventListener(c,a,j){if(a==null)return;if(typeof a!=="function"&&!b(a))throw TypeError("'listener' should be a function or an object.");let J=y(this),X=b(j),H=(X?Boolean(j.capture):Boolean(j))?D:h,f={listener:a,listenerType:H,passive:X&&Boolean(j.passive),once:X&&Boolean(j.once),next:null},V=J.get(c);if(V===void 0){J.set(c,f);return}let S=null;while(V!=null){if(V.listener===a&&V.listenerType===H)return;S=V,V=V.next}S.next=f},removeEventListener(c,a,j){if(a==null)return;let J=y(this),X=(b(j)?Boolean(j.capture):Boolean(j))?D:h,H=null,f=J.get(c);while(f!=null){if(f.listener===a&&f.listenerType===X){if(H!==null)H.next=f.next;else if(f.next!==null)J.set(c,f.next);else J.delete(c);return}H=f,f=f.next}},dispatchEvent(c){if(c==null||typeof c.type!=="string")throw TypeError('"event.type" should be a string.');let a=y(this),j=c.type,J=a.get(j);if(J==null)return!0;let X=w(this,c),H=null;while(J!=null){if(J.once)if(H!==null)H.next=J.next;else if(J.next!==null)a.set(j,J.next);else a.delete(j);else H=J;if(R(X,J.passive?J.listener:null),typeof J.listener==="function")try{J.listener.call(this,X)}catch(f){if(typeof console<"u"&&typeof console.error==="function")console.error(f)}else if(J.listenerType!==L&&typeof J.listener.handleEvent==="function")J.listener.handleEvent(X);if(k(X))break;J=J.next}return R(X,null),M(X,0),N(X,null),!X.defaultPrevented}},Object.defineProperty(Q.prototype,"constructor",{value:Q,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u")Object.setPrototypeOf(Q.prototype,window.EventTarget.prototype);$.defineEventAttribute=i,$.EventTarget=Q,$.default=Q,q.exports=Q,q.exports.EventTarget=q.exports.default=Q,q.exports.defineEventAttribute=i}),I7=C6(($,q)=>{Object.defineProperty($,"__esModule",{value:!0});var _=SB();class P extends _.EventTarget{constructor(){super();throw TypeError("AbortSignal cannot be constructed directly")}get aborted(){let Z=Y.get(this);if(typeof Z!=="boolean")throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return Z}}_.defineEventAttribute(P.prototype,"abort");function K(){let Z=Object.create(P.prototype);return _.EventTarget.call(Z),Y.set(Z,!1),Z}function O(Z){if(Y.get(Z)!==!1)return;Y.set(Z,!0),Z.dispatchEvent({type:"abort"})}var Y=new WeakMap;if(Object.defineProperties(P.prototype,{aborted:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(P.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class v{constructor(){W.set(this,K())}get signal(){return T(this)}abort(){O(T(this))}}var W=new WeakMap;function T(Z){let w=W.get(Z);if(w==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${Z===null?"null":typeof Z}`);return w}if(Object.defineProperties(v.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(v.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});$.AbortController=v,$.AbortSignal=P,$.default=v,q.exports=v,q.exports.AbortController=q.exports.default=v,q.exports.AbortSignal=P}),P8=C6(($,q)=>{var _=(Xq(),H6(fq)),{format:P,inspect:K}=xC(),{codes:{ERR_INVALID_ARG_TYPE:O}}=iq(),{kResistStopPropagation:Y,AggregateError:v,SymbolDispose:W}=m6(),T=globalThis.AbortSignal||I7().AbortSignal,Z=globalThis.AbortController||I7().AbortController,w=Object.getPrototypeOf(async function(){}).constructor,k=globalThis.Blob||_.Blob,M=typeof k<"u"?function(E){return E instanceof k}:function(E){return!1},N=(E,D)=>{if(E!==void 0&&(E===null||typeof E!=="object"||!("aborted"in E)))throw new O(D,"AbortSignal",E)},R=(E,D)=>{if(typeof E!=="function")throw new O(D,"Function",E)};q.exports={AggregateError:v,kEmptyObject:Object.freeze({}),once(E){let D=!1;return function(...h){if(D)return;D=!0,E.apply(this,h)}},createDeferredPromise:function(){let E,D;return{promise:new Promise((h,L)=>{E=h,D=L}),resolve:E,reject:D}},promisify(E){return new Promise((D,h)=>{E((L,...b)=>{if(L)return h(L);return D(...b)})})},debuglog(){return function(){}},format:P,inspect:K,types:{isAsyncFunction(E){return E instanceof w},isArrayBufferView(E){return ArrayBuffer.isView(E)}},isBlob:M,deprecate(E,D){return E},addAbortListener:(R7(),H6(E7)).addAbortListener||function(E,D){if(E===void 0)throw new O("signal","AbortSignal",E);N(E,"signal"),R(D,"listener");let h;if(E.aborted)queueMicrotask(()=>D());else E.addEventListener("abort",D,{__proto__:null,once:!0,[Y]:!0}),h=()=>{E.removeEventListener("abort",D)};return{__proto__:null,[W](){var L;(L=h)===null||L===void 0||L()}}},AbortSignalAny:T.any||function(E){if(E.length===1)return E[0];let D=new Z,h=()=>D.abort();return E.forEach((L)=>{N(L,"signals"),L.addEventListener("abort",h,{once:!0})}),D.signal.addEventListener("abort",()=>{E.forEach((L)=>L.removeEventListener("abort",h))},{once:!0}),D.signal}},q.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),h7=C6(($,q)=>{var{ArrayIsArray:_,ArrayPrototypeIncludes:P,ArrayPrototypeJoin:K,ArrayPrototypeMap:O,NumberIsInteger:Y,NumberIsNaN:v,NumberMAX_SAFE_INTEGER:W,NumberMIN_SAFE_INTEGER:T,NumberParseInt:Z,ObjectPrototypeHasOwnProperty:w,RegExpPrototypeExec:k,String:M,StringPrototypeToUpperCase:N,StringPrototypeTrim:R}=m6(),{hideStackFrames:E,codes:{ERR_SOCKET_BAD_PORT:D,ERR_INVALID_ARG_TYPE:h,ERR_INVALID_ARG_VALUE:L,ERR_OUT_OF_RANGE:b,ERR_UNKNOWN_SIGNAL:y}}=iq(),{normalizeEncoding:p}=P8(),{isAsyncFunction:i,isArrayBufferView:$$}=P8().types,Q={};function c(d){return d===(d|0)}function a(d){return d===d>>>0}var j=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function X(d,B,H$){if(typeof d>"u")d=H$;if(typeof d==="string"){if(k(j,d)===null)throw new L(B,d,J);d=Z(d,8)}return V(d,B),d}var H=E((d,B,H$=T,t=W)=>{if(typeof d!=="number")throw new h(B,"number",d);if(!Y(d))throw new b(B,"an integer",d);if(d<H$||d>t)throw new b(B,`>= ${H$} && <= ${t}`,d)}),f=E((d,B,H$=-2147483648,t=2147483647)=>{if(typeof d!=="number")throw new h(B,"number",d);if(!Y(d))throw new b(B,"an integer",d);if(d<H$||d>t)throw new b(B,`>= ${H$} && <= ${t}`,d)}),V=E((d,B,H$=!1)=>{if(typeof d!=="number")throw new h(B,"number",d);if(!Y(d))throw new b(B,"an integer",d);let t=H$?1:0,F=4294967295;if(d<t||d>F)throw new b(B,`>= ${t} && <= ${F}`,d)});function S(d,B){if(typeof d!=="string")throw new h(B,"string",d)}function A(d,B,H$=void 0,t){if(typeof d!=="number")throw new h(B,"number",d);if(H$!=null&&d<H$||t!=null&&d>t||(H$!=null||t!=null)&&v(d))throw new b(B,`${H$!=null?`>= ${H$}`:""}${H$!=null&&t!=null?" && ":""}${t!=null?`<= ${t}`:""}`,d)}var z=E((d,B,H$)=>{if(!P(H$,d)){let t="must be one of: "+K(O(H$,(F)=>typeof F==="string"?`'${F}'`:M(F)),", ");throw new L(B,d,t)}});function G(d,B){if(typeof d!=="boolean")throw new h(B,"boolean",d)}function I(d,B,H$){return d==null||!w(d,B)?H$:d[B]}var C=E((d,B,H$=null)=>{let t=I(H$,"allowArray",!1),F=I(H$,"allowFunction",!1);if(!I(H$,"nullable",!1)&&d===null||!t&&_(d)||typeof d!=="object"&&(!F||typeof d!=="function"))throw new h(B,"Object",d)}),g=E((d,B)=>{if(d!=null&&typeof d!=="object"&&typeof d!=="function")throw new h(B,"a dictionary",d)}),x=E((d,B,H$=0)=>{if(!_(d))throw new h(B,"Array",d);if(d.length<H$){let t=`must be longer than ${H$}`;throw new L(B,d,t)}});function l(d,B){x(d,B);for(let H$=0;H$<d.length;H$++)S(d[H$],`${B}[${H$}]`)}function o(d,B){x(d,B);for(let H$=0;H$<d.length;H$++)G(d[H$],`${B}[${H$}]`)}function T$(d,B){x(d,B);for(let H$=0;H$<d.length;H$++){let t=d[H$],F=`${B}[${H$}]`;if(t==null)throw new h(F,"AbortSignal",t);P$(t,F)}}function e(d,B="signal"){if(S(d,B),Q[d]===void 0){if(Q[N(d)]!==void 0)throw new y(d+" (signals must use all capital letters)");throw new y(d)}}var n=E((d,B="buffer")=>{if(!$$(d))throw new h(B,["Buffer","TypedArray","DataView"],d)});function j$(d,B){let H$=p(B),t=d.length;if(H$==="hex"&&t%2!==0)throw new L("encoding",B,`is invalid for data of length ${t}`)}function s(d,B="Port",H$=!0){if(typeof d!=="number"&&typeof d!=="string"||typeof d==="string"&&R(d).length===0||+d!==+d>>>0||d>65535||d===0&&!H$)throw new D(B,d,H$);return d|0}var P$=E((d,B)=>{if(d!==void 0&&(d===null||typeof d!=="object"||!("aborted"in d)))throw new h(B,"AbortSignal",d)}),n$=E((d,B)=>{if(typeof d!=="function")throw new h(B,"Function",d)}),m=E((d,B)=>{if(typeof d!=="function"||i(d))throw new h(B,"Function",d)}),r=E((d,B)=>{if(d!==void 0)throw new h(B,"undefined",d)});function W$(d,B,H$){if(!P(H$,d))throw new h(B,`('${K(H$,"|")}')`,d)}var q$=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function _$(d,B){if(typeof d>"u"||!k(q$,d))throw new L(B,d,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function v$(d){if(typeof d==="string")return _$(d,"hints"),d;else if(_(d)){let B=d.length,H$="";if(B===0)return H$;for(let t=0;t<B;t++){let F=d[t];if(_$(F,"hints"),H$+=F,t!==B-1)H$+=", "}return H$}throw new L("hints",d,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}q.exports={isInt32:c,isUint32:a,parseFileMode:X,validateArray:x,validateStringArray:l,validateBooleanArray:o,validateAbortSignalArray:T$,validateBoolean:G,validateBuffer:n,validateDictionary:g,validateEncoding:j$,validateFunction:n$,validateInt32:f,validateInteger:H,validateNumber:A,validateObject:C,validateOneOf:z,validatePlainFunction:m,validatePort:s,validateSignalName:e,validateString:S,validateUint32:V,validateUndefined:r,validateUnion:W$,validateAbortSignal:P$,validateLinkHeaderValue:v$}}),q4=C6(($,q)=>{q.exports=globalThis.process}),g_=C6(($,q)=>{var{SymbolAsyncIterator:_,SymbolIterator:P,SymbolFor:K}=m6(),O=K("nodejs.stream.destroyed"),Y=K("nodejs.stream.errored"),v=K("nodejs.stream.readable"),W=K("nodejs.stream.writable"),T=K("nodejs.stream.disturbed"),Z=K("nodejs.webstream.isClosedPromise"),w=K("nodejs.webstream.controllerErrorFunction");function k(I,C=!1){var g;return!!(I&&typeof I.pipe==="function"&&typeof I.on==="function"&&(!C||typeof I.pause==="function"&&typeof I.resume==="function")&&(!I._writableState||((g=I._readableState)===null||g===void 0?void 0:g.readable)!==!1)&&(!I._writableState||I._readableState))}function M(I){var C;return!!(I&&typeof I.write==="function"&&typeof I.on==="function"&&(!I._readableState||((C=I._writableState)===null||C===void 0?void 0:C.writable)!==!1))}function N(I){return!!(I&&typeof I.pipe==="function"&&I._readableState&&typeof I.on==="function"&&typeof I.write==="function")}function R(I){return I&&(I._readableState||I._writableState||typeof I.write==="function"&&typeof I.on==="function"||typeof I.pipe==="function"&&typeof I.on==="function")}function E(I){return!!(I&&!R(I)&&typeof I.pipeThrough==="function"&&typeof I.getReader==="function"&&typeof I.cancel==="function")}function D(I){return!!(I&&!R(I)&&typeof I.getWriter==="function"&&typeof I.abort==="function")}function h(I){return!!(I&&!R(I)&&typeof I.readable==="object"&&typeof I.writable==="object")}function L(I){return E(I)||D(I)||h(I)}function b(I,C){if(I==null)return!1;if(C===!0)return typeof I[_]==="function";if(C===!1)return typeof I[P]==="function";return typeof I[_]==="function"||typeof I[P]==="function"}function y(I){if(!R(I))return null;let{_writableState:C,_readableState:g}=I,x=C||g;return!!(I.destroyed||I[O]||x!==null&&x!==void 0&&x.destroyed)}function p(I){if(!M(I))return null;if(I.writableEnded===!0)return!0;let C=I._writableState;if(C!==null&&C!==void 0&&C.errored)return!1;if(typeof(C===null||C===void 0?void 0:C.ended)!=="boolean")return null;return C.ended}function i(I,C){if(!M(I))return null;if(I.writableFinished===!0)return!0;let g=I._writableState;if(g!==null&&g!==void 0&&g.errored)return!1;if(typeof(g===null||g===void 0?void 0:g.finished)!=="boolean")return null;return!!(g.finished||C===!1&&g.ended===!0&&g.length===0)}function $$(I){if(!k(I))return null;if(I.readableEnded===!0)return!0;let C=I._readableState;if(!C||C.errored)return!1;if(typeof(C===null||C===void 0?void 0:C.ended)!=="boolean")return null;return C.ended}function Q(I,C){if(!k(I))return null;let g=I._readableState;if(g!==null&&g!==void 0&&g.errored)return!1;if(typeof(g===null||g===void 0?void 0:g.endEmitted)!=="boolean")return null;return!!(g.endEmitted||C===!1&&g.ended===!0&&g.length===0)}function c(I){if(I&&I[v]!=null)return I[v];if(typeof(I===null||I===void 0?void 0:I.readable)!=="boolean")return null;if(y(I))return!1;return k(I)&&I.readable&&!Q(I)}function a(I){if(I&&I[W]!=null)return I[W];if(typeof(I===null||I===void 0?void 0:I.writable)!=="boolean")return null;if(y(I))return!1;return M(I)&&I.writable&&!p(I)}function j(I,C){if(!R(I))return null;if(y(I))return!0;if((C===null||C===void 0?void 0:C.readable)!==!1&&c(I))return!1;if((C===null||C===void 0?void 0:C.writable)!==!1&&a(I))return!1;return!0}function J(I){var C,g;if(!R(I))return null;if(I.writableErrored)return I.writableErrored;return(C=(g=I._writableState)===null||g===void 0?void 0:g.errored)!==null&&C!==void 0?C:null}function X(I){var C,g;if(!R(I))return null;if(I.readableErrored)return I.readableErrored;return(C=(g=I._readableState)===null||g===void 0?void 0:g.errored)!==null&&C!==void 0?C:null}function H(I){if(!R(I))return null;if(typeof I.closed==="boolean")return I.closed;let{_writableState:C,_readableState:g}=I;if(typeof(C===null||C===void 0?void 0:C.closed)==="boolean"||typeof(g===null||g===void 0?void 0:g.closed)==="boolean")return(C===null||C===void 0?void 0:C.closed)||(g===null||g===void 0?void 0:g.closed);if(typeof I._closed==="boolean"&&f(I))return I._closed;return null}function f(I){return typeof I._closed==="boolean"&&typeof I._defaultKeepAlive==="boolean"&&typeof I._removedConnection==="boolean"&&typeof I._removedContLen==="boolean"}function V(I){return typeof I._sent100==="boolean"&&f(I)}function S(I){var C;return typeof I._consuming==="boolean"&&typeof I._dumped==="boolean"&&((C=I.req)===null||C===void 0?void 0:C.upgradeOrConnect)===void 0}function A(I){if(!R(I))return null;let{_writableState:C,_readableState:g}=I,x=C||g;return!x&&V(I)||!!(x&&x.autoDestroy&&x.emitClose&&x.closed===!1)}function z(I){var C;return!!(I&&((C=I[T])!==null&&C!==void 0?C:I.readableDidRead||I.readableAborted))}function G(I){var C,g,x,l,o,T$,e,n,j$,s;return!!(I&&((C=(g=(x=(l=(o=(T$=I[Y])!==null&&T$!==void 0?T$:I.readableErrored)!==null&&o!==void 0?o:I.writableErrored)!==null&&l!==void 0?l:(e=I._readableState)===null||e===void 0?void 0:e.errorEmitted)!==null&&x!==void 0?x:(n=I._writableState)===null||n===void 0?void 0:n.errorEmitted)!==null&&g!==void 0?g:(j$=I._readableState)===null||j$===void 0?void 0:j$.errored)!==null&&C!==void 0?C:(s=I._writableState)===null||s===void 0?void 0:s.errored))}q.exports={isDestroyed:y,kIsDestroyed:O,isDisturbed:z,kIsDisturbed:T,isErrored:G,kIsErrored:Y,isReadable:c,kIsReadable:v,kIsClosedPromise:Z,kControllerErrorFunction:w,kIsWritable:W,isClosed:H,isDuplexNodeStream:N,isFinished:j,isIterable:b,isReadableNodeStream:k,isReadableStream:E,isReadableEnded:$$,isReadableFinished:Q,isReadableErrored:X,isNodeStream:R,isWebStream:L,isWritable:a,isWritableNodeStream:M,isWritableStream:D,isWritableEnded:p,isWritableFinished:i,isWritableErrored:J,isServerRequest:S,isServerResponse:V,willEmitClose:A,isTransformStream:h}}),fK=C6(($,q)=>{var _=q4(),{AbortError:P,codes:K}=iq(),{ERR_INVALID_ARG_TYPE:O,ERR_STREAM_PREMATURE_CLOSE:Y}=K,{kEmptyObject:v,once:W}=P8(),{validateAbortSignal:T,validateFunction:Z,validateObject:w,validateBoolean:k}=h7(),{Promise:M,PromisePrototypeThen:N,SymbolDispose:R}=m6(),{isClosed:E,isReadable:D,isReadableNodeStream:h,isReadableStream:L,isReadableFinished:b,isReadableErrored:y,isWritable:p,isWritableNodeStream:i,isWritableStream:$$,isWritableFinished:Q,isWritableErrored:c,isNodeStream:a,willEmitClose:j,kIsClosedPromise:J}=g_(),X;function H(z){return z.setHeader&&typeof z.abort==="function"}var f=()=>{};function V(z,G,I){var C,g;if(arguments.length===2)I=G,G=v;else if(G==null)G=v;else w(G,"options");if(Z(I,"callback"),T(G.signal,"options.signal"),I=W(I),L(z)||$$(z))return S(z,G,I);if(!a(z))throw new O("stream",["ReadableStream","WritableStream","Stream"],z);let x=(C=G.readable)!==null&&C!==void 0?C:h(z),l=(g=G.writable)!==null&&g!==void 0?g:i(z),o=z._writableState,T$=z._readableState,e=()=>{if(!z.writable)s()},n=j(z)&&h(z)===x&&i(z)===l,j$=Q(z,!1),s=()=>{if(j$=!0,z.destroyed)n=!1;if(n&&(!z.readable||x))return;if(!x||P$)I.call(z)},P$=b(z,!1),n$=()=>{if(P$=!0,z.destroyed)n=!1;if(n&&(!z.writable||l))return;if(!l||j$)I.call(z)},m=(d)=>{I.call(z,d)},r=E(z),W$=()=>{r=!0;let d=c(z)||y(z);if(d&&typeof d!=="boolean")return I.call(z,d);if(x&&!P$&&h(z,!0)){if(!b(z,!1))return I.call(z,new Y)}if(l&&!j$){if(!Q(z,!1))return I.call(z,new Y)}I.call(z)},q$=()=>{r=!0;let d=c(z)||y(z);if(d&&typeof d!=="boolean")return I.call(z,d);I.call(z)},_$=()=>{z.req.on("finish",s)};if(H(z)){if(z.on("complete",s),!n)z.on("abort",W$);if(z.req)_$();else z.on("request",_$)}else if(l&&!o)z.on("end",e),z.on("close",e);if(!n&&typeof z.aborted==="boolean")z.on("aborted",W$);if(z.on("end",n$),z.on("finish",s),G.error!==!1)z.on("error",m);if(z.on("close",W$),r)_.nextTick(W$);else if(o!==null&&o!==void 0&&o.errorEmitted||T$!==null&&T$!==void 0&&T$.errorEmitted){if(!n)_.nextTick(q$)}else if(!x&&(!n||D(z))&&(j$||p(z)===!1))_.nextTick(q$);else if(!l&&(!n||p(z))&&(P$||D(z)===!1))_.nextTick(q$);else if(T$&&z.req&&z.aborted)_.nextTick(q$);let v$=()=>{if(I=f,z.removeListener("aborted",W$),z.removeListener("complete",s),z.removeListener("abort",W$),z.removeListener("request",_$),z.req)z.req.removeListener("finish",s);z.removeListener("end",e),z.removeListener("close",e),z.removeListener("finish",s),z.removeListener("end",n$),z.removeListener("error",m),z.removeListener("close",W$)};if(G.signal&&!r){let d=()=>{let B=I;v$(),B.call(z,new P(void 0,{cause:G.signal.reason}))};if(G.signal.aborted)_.nextTick(d);else{X=X||P8().addAbortListener;let B=X(G.signal,d),H$=I;I=W((...t)=>{B[R](),H$.apply(z,t)})}}return v$}function S(z,G,I){let C=!1,g=f;if(G.signal)if(g=()=>{C=!0,I.call(z,new P(void 0,{cause:G.signal.reason}))},G.signal.aborted)_.nextTick(g);else{X=X||P8().addAbortListener;let l=X(G.signal,g),o=I;I=W((...T$)=>{l[R](),o.apply(z,T$)})}let x=(...l)=>{if(!C)_.nextTick(()=>I.apply(z,l))};return N(z[J].promise,x,x),f}function A(z,G){var I;let C=!1;if(G===null)G=v;if((I=G)!==null&&I!==void 0&&I.cleanup)k(G.cleanup,"cleanup"),C=G.cleanup;return new M((g,x)=>{let l=V(z,G,(o)=>{if(C)l();if(o)x(o);else g()})})}q.exports=V,q.exports.finished=A}),SP=C6(($,q)=>{var _=q4(),{aggregateTwoErrors:P,codes:{ERR_MULTIPLE_CALLBACK:K},AbortError:O}=iq(),{Symbol:Y}=m6(),{kIsDestroyed:v,isDestroyed:W,isFinished:T,isServerRequest:Z}=g_(),w=Y("kDestroy"),k=Y("kConstruct");function M(j,J,X){if(j){if(j.stack,J&&!J.errored)J.errored=j;if(X&&!X.errored)X.errored=j}}function N(j,J){let X=this._readableState,H=this._writableState,f=H||X;if(H!==null&&H!==void 0&&H.destroyed||X!==null&&X!==void 0&&X.destroyed){if(typeof J==="function")J();return this}if(M(j,H,X),H)H.destroyed=!0;if(X)X.destroyed=!0;if(!f.constructed)this.once(w,function(V){R(this,P(V,j),J)});else R(this,j,J);return this}function R(j,J,X){let H=!1;function f(V){if(H)return;H=!0;let{_readableState:S,_writableState:A}=j;if(M(V,A,S),A)A.closed=!0;if(S)S.closed=!0;if(typeof X==="function")X(V);if(V)_.nextTick(E,j,V);else _.nextTick(D,j)}try{j._destroy(J||null,f)}catch(V){f(V)}}function E(j,J){h(j,J),D(j)}function D(j){let{_readableState:J,_writableState:X}=j;if(X)X.closeEmitted=!0;if(J)J.closeEmitted=!0;if(X!==null&&X!==void 0&&X.emitClose||J!==null&&J!==void 0&&J.emitClose)j.emit("close")}function h(j,J){let{_readableState:X,_writableState:H}=j;if(H!==null&&H!==void 0&&H.errorEmitted||X!==null&&X!==void 0&&X.errorEmitted)return;if(H)H.errorEmitted=!0;if(X)X.errorEmitted=!0;j.emit("error",J)}function L(){let j=this._readableState,J=this._writableState;if(j)j.constructed=!0,j.closed=!1,j.closeEmitted=!1,j.destroyed=!1,j.errored=null,j.errorEmitted=!1,j.reading=!1,j.ended=j.readable===!1,j.endEmitted=j.readable===!1;if(J)J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1}function b(j,J,X){let{_readableState:H,_writableState:f}=j;if(f!==null&&f!==void 0&&f.destroyed||H!==null&&H!==void 0&&H.destroyed)return this;if(H!==null&&H!==void 0&&H.autoDestroy||f!==null&&f!==void 0&&f.autoDestroy)j.destroy(J);else if(J){if(J.stack,f&&!f.errored)f.errored=J;if(H&&!H.errored)H.errored=J;if(X)_.nextTick(h,j,J);else h(j,J)}}function y(j,J){if(typeof j._construct!=="function")return;let{_readableState:X,_writableState:H}=j;if(X)X.constructed=!1;if(H)H.constructed=!1;if(j.once(k,J),j.listenerCount(k)>1)return;_.nextTick(p,j)}function p(j){let J=!1;function X(H){if(J){b(j,H!==null&&H!==void 0?H:new K);return}J=!0;let{_readableState:f,_writableState:V}=j,S=V||f;if(f)f.constructed=!0;if(V)V.constructed=!0;if(S.destroyed)j.emit(w,H);else if(H)b(j,H,!0);else _.nextTick(i,j)}try{j._construct((H)=>{_.nextTick(X,H)})}catch(H){_.nextTick(X,H)}}function i(j){j.emit(k)}function $$(j){return(j===null||j===void 0?void 0:j.setHeader)&&typeof j.abort==="function"}function Q(j){j.emit("close")}function c(j,J){j.emit("error",J),_.nextTick(Q,j)}function a(j,J){if(!j||W(j))return;if(!J&&!T(j))J=new O;if(Z(j))j.socket=null,j.destroy(J);else if($$(j))j.abort();else if($$(j.req))j.req.abort();else if(typeof j.destroy==="function")j.destroy(J);else if(typeof j.close==="function")j.close();else if(J)_.nextTick(c,j,J);else _.nextTick(Q,j);if(!j.destroyed)j[v]=!0}q.exports={construct:y,destroyer:a,destroy:N,undestroy:L,errorOrDestroy:b}}),Aw=C6(($,q)=>{var{ArrayIsArray:_,ObjectSetPrototypeOf:P}=m6(),{EventEmitter:K}=(R7(),H6(E7));function O(v){K.call(this,v)}P(O.prototype,K.prototype),P(O,K),O.prototype.pipe=function(v,W){let T=this;function Z(D){if(v.writable&&v.write(D)===!1&&T.pause)T.pause()}T.on("data",Z);function w(){if(T.readable&&T.resume)T.resume()}if(v.on("drain",w),!v._isStdio&&(!W||W.end!==!1))T.on("end",M),T.on("close",N);let k=!1;function M(){if(k)return;k=!0,v.end()}function N(){if(k)return;if(k=!0,typeof v.destroy==="function")v.destroy()}function R(D){if(E(),K.listenerCount(this,"error")===0)this.emit("error",D)}Y(T,"error",R),Y(v,"error",R);function E(){T.removeListener("data",Z),v.removeListener("drain",w),T.removeListener("end",M),T.removeListener("close",N),T.removeListener("error",R),v.removeListener("error",R),T.removeListener("end",E),T.removeListener("close",E),v.removeListener("close",E)}return T.on("end",E),T.on("close",E),v.on("close",E),v.emit("pipe",T),v};function Y(v,W,T){if(typeof v.prependListener==="function")return v.prependListener(W,T);if(!v._events||!v._events[W])v.on(W,T);else if(_(v._events[W]))v._events[W].unshift(T);else v._events[W]=[T,v._events[W]]}q.exports={Stream:O,prependListener:Y}}),SY=C6(($,q)=>{var{SymbolDispose:_}=m6(),{AbortError:P,codes:K}=iq(),{isNodeStream:O,isWebStream:Y,kControllerErrorFunction:v}=g_(),W=fK(),{ERR_INVALID_ARG_TYPE:T}=K,Z,w=(k,M)=>{if(typeof k!=="object"||!("aborted"in k))throw new T(M,"AbortSignal",k)};q.exports.addAbortSignal=function(k,M){if(w(k,"signal"),!O(M)&&!Y(M))throw new T("stream",["ReadableStream","WritableStream","Stream"],M);return q.exports.addAbortSignalNoValidate(k,M)},q.exports.addAbortSignalNoValidate=function(k,M){if(typeof k!=="object"||!("aborted"in k))return M;let N=O(M)?()=>{M.destroy(new P(void 0,{cause:k.reason}))}:()=>{M[v](new P(void 0,{cause:k.reason}))};if(k.aborted)N();else{Z=Z||P8().addAbortListener;let R=Z(k,N);W(M,R[_])}return M}}),MB=C6(($,q)=>{var{StringPrototypeSlice:_,SymbolIterator:P,TypedArrayPrototypeSet:K,Uint8Array:O}=m6(),{Buffer:Y}=(Xq(),H6(fq)),{inspect:v}=P8();q.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(W){let T={data:W,next:null};if(this.length>0)this.tail.next=T;else this.head=T;this.tail=T,++this.length}unshift(W){let T={data:W,next:this.head};if(this.length===0)this.tail=T;this.head=T,++this.length}shift(){if(this.length===0)return;let W=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,W}clear(){this.head=this.tail=null,this.length=0}join(W){if(this.length===0)return"";let T=this.head,Z=""+T.data;while((T=T.next)!==null)Z+=W+T.data;return Z}concat(W){if(this.length===0)return Y.alloc(0);let T=Y.allocUnsafe(W>>>0),Z=this.head,w=0;while(Z)K(T,Z.data,w),w+=Z.data.length,Z=Z.next;return T}consume(W,T){let Z=this.head.data;if(W<Z.length){let w=Z.slice(0,W);return this.head.data=Z.slice(W),w}if(W===Z.length)return this.shift();return T?this._getString(W):this._getBuffer(W)}first(){return this.head.data}*[P](){for(let W=this.head;W;W=W.next)yield W.data}_getString(W){let T="",Z=this.head,w=0;do{let k=Z.data;if(W>k.length)T+=k,W-=k.length;else{if(W===k.length)if(T+=k,++w,Z.next)this.head=Z.next;else this.head=this.tail=null;else T+=_(k,0,W),this.head=Z,Z.data=_(k,W);break}++w}while((Z=Z.next)!==null);return this.length-=w,T}_getBuffer(W){let T=Y.allocUnsafe(W),Z=W,w=this.head,k=0;do{let M=w.data;if(W>M.length)K(T,M,Z-W),W-=M.length;else{if(W===M.length)if(K(T,M,Z-W),++k,w.next)this.head=w.next;else this.head=this.tail=null;else K(T,new O(M.buffer,M.byteOffset,W),Z-W),this.head=w,w.data=M.slice(W);break}++k}while((w=w.next)!==null);return this.length-=k,T}[Symbol.for("nodejs.util.inspect.custom")](W,T){return v(this,{...T,depth:0,customInspect:!1})}}}),MY=C6(($,q)=>{var{MathFloor:_,NumberIsInteger:P}=m6(),{validateInteger:K}=h7(),{ERR_INVALID_ARG_VALUE:O}=iq().codes,Y=16384,v=16;function W(k,M,N){return k.highWaterMark!=null?k.highWaterMark:M?k[N]:null}function T(k){return k?v:Y}function Z(k,M){if(K(M,"value",0),k)v=M;else Y=M}function w(k,M,N,R){let E=W(M,R,N);if(E!=null){if(!P(E)||E<0){let D=R?`options.${N}`:"options.highWaterMark";throw new O(D,E)}return _(E)}return T(k.objectMode)}q.exports={getHighWaterMark:w,getDefaultHighWaterMark:T,setDefaultHighWaterMark:Z}}),NB=C6(($,q)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _=(Xq(),H6(fq)),P=_.Buffer;function K(Y,v){for(var W in Y)v[W]=Y[W]}if(P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow)q.exports=_;else K(_,$),$.Buffer=O;function O(Y,v,W){return P(Y,v,W)}O.prototype=Object.create(P.prototype),K(P,O),O.from=function(Y,v,W){if(typeof Y==="number")throw TypeError("Argument must not be a number");return P(Y,v,W)},O.alloc=function(Y,v,W){if(typeof Y!=="number")throw TypeError("Argument must be a number");var T=P(Y);if(v!==void 0)if(typeof W==="string")T.fill(v,W);else T.fill(v);else T.fill(0);return T},O.allocUnsafe=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return P(Y)},O.allocUnsafeSlow=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return _.SlowBuffer(Y)}}),CB=C6(($)=>{var q=NB().Buffer,_=q.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(h){if(!h)return"utf8";var L;while(!0)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(L)return;h=(""+h).toLowerCase(),L=!0}}function K(h){var L=P(h);if(typeof L!=="string"&&(q.isEncoding===_||!_(h)))throw Error("Unknown encoding: "+h);return L||h}$.StringDecoder=O;function O(h){this.encoding=K(h);var L;switch(this.encoding){case"utf16le":this.text=k,this.end=M,L=4;break;case"utf8":this.fillLast=T,L=4;break;case"base64":this.text=N,this.end=R,L=3;break;default:this.write=E,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=q.allocUnsafe(L)}O.prototype.write=function(h){if(h.length===0)return"";var L,b;if(this.lastNeed){if(L=this.fillLast(h),L===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;if(b<h.length)return L?L+this.text(h,b):this.text(h,b);return L||""},O.prototype.end=w,O.prototype.text=Z,O.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function Y(h){if(h<=127)return 0;else if(h>>5===6)return 2;else if(h>>4===14)return 3;else if(h>>3===30)return 4;return h>>6===2?-1:-2}function v(h,L,b){var y=L.length-1;if(y<b)return 0;var p=Y(L[y]);if(p>=0){if(p>0)h.lastNeed=p-1;return p}if(--y<b||p===-2)return 0;if(p=Y(L[y]),p>=0){if(p>0)h.lastNeed=p-2;return p}if(--y<b||p===-2)return 0;if(p=Y(L[y]),p>=0){if(p>0)if(p===2)p=0;else h.lastNeed=p-3;return p}return 0}function W(h,L,b){if((L[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&L.length>2){if((L[2]&192)!==128)return h.lastNeed=2,""}}}function T(h){var L=this.lastTotal-this.lastNeed,b=W(this,h,L);if(b!==void 0)return b;if(this.lastNeed<=h.length)return h.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,L,0,h.length),this.lastNeed-=h.length}function Z(h,L){var b=v(this,h,L);if(!this.lastNeed)return h.toString("utf8",L);this.lastTotal=b;var y=h.length-(b-this.lastNeed);return h.copy(this.lastChar,0,y),h.toString("utf8",L,y)}function w(h){var L=h&&h.length?this.write(h):"";if(this.lastNeed)return L+"";return L}function k(h,L){if((h.length-L)%2===0){var b=h.toString("utf16le",L);if(b){var y=b.charCodeAt(b.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",L,h.length-1)}function M(h){var L=h&&h.length?this.write(h):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,b)}return L}function N(h,L){var b=(h.length-L)%3;if(b===0)return h.toString("base64",L);if(this.lastNeed=3-b,this.lastTotal=3,b===1)this.lastChar[0]=h[h.length-1];else this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1];return h.toString("base64",L,h.length-b)}function R(h){var L=h&&h.length?this.write(h):"";if(this.lastNeed)return L+this.lastChar.toString("base64",0,3-this.lastNeed);return L}function E(h){return h.toString(this.encoding)}function D(h){return h&&h.length?this.write(h):""}}),pC=C6(($,q)=>{var _=q4(),{PromisePrototypeThen:P,SymbolAsyncIterator:K,SymbolIterator:O}=m6(),{Buffer:Y}=(Xq(),H6(fq)),{ERR_INVALID_ARG_TYPE:v,ERR_STREAM_NULL_VALUES:W}=iq().codes;function T(Z,w,k){let M;if(typeof w==="string"||w instanceof Y)return new Z({objectMode:!0,...k,read(){this.push(w),this.push(null)}});let N;if(w&&w[K])N=!0,M=w[K]();else if(w&&w[O])N=!1,M=w[O]();else throw new v("iterable",["Iterable"],w);let R=new Z({objectMode:!0,highWaterMark:1,...k}),E=!1;R._read=function(){if(!E)E=!0,h()},R._destroy=function(L,b){P(D(L),()=>_.nextTick(b,L),(y)=>_.nextTick(b,y||L))};async function D(L){let b=L!==void 0&&L!==null,y=typeof M.throw==="function";if(b&&y){let{value:p,done:i}=await M.throw(L);if(await p,i)return}if(typeof M.return==="function"){let{value:p}=await M.return();await p}}async function h(){for(;;){try{let{value:L,done:b}=N?await M.next():M.next();if(b)R.push(null);else{let y=L&&typeof L.then==="function"?await L:L;if(y===null)throw E=!1,new W;else if(R.push(y))continue;else E=!1}}catch(L){R.destroy(L)}break}}return R}q.exports=T}),NY=C6(($,q)=>{var _=q4(),{ArrayPrototypeIndexOf:P,NumberIsInteger:K,NumberIsNaN:O,NumberParseInt:Y,ObjectDefineProperties:v,ObjectKeys:W,ObjectSetPrototypeOf:T,Promise:Z,SafeSet:w,SymbolAsyncDispose:k,SymbolAsyncIterator:M,Symbol:N}=m6();q.exports=t,t.ReadableState=H$;var{EventEmitter:R}=(R7(),H6(E7)),{Stream:E,prependListener:D}=Aw(),{Buffer:h}=(Xq(),H6(fq)),{addAbortSignal:L}=SY(),b=fK(),y=P8().debuglog("stream",(u)=>{y=u}),p=MB(),i=SP(),{getHighWaterMark:$$,getDefaultHighWaterMark:Q}=MY(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:a,ERR_METHOD_NOT_IMPLEMENTED:j,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:X,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:f}=iq(),{validateObject:V}=h7(),S=N("kPaused"),{StringDecoder:A}=CB(),z=pC();T(t.prototype,E.prototype),T(t,E);var G=()=>{},{errorOrDestroy:I}=i,C=1,g=2,x=4,l=8,o=16,T$=32,e=64,n=128,j$=256,s=512,P$=1024,n$=2048,m=4096,r=8192,W$=16384,q$=32768,_$=65536,v$=131072,d=262144;function B(u){return{enumerable:!1,get(){return(this.state&u)!==0},set(U){if(U)this.state|=u;else this.state&=~u}}}v(H$.prototype,{objectMode:B(C),ended:B(g),endEmitted:B(x),reading:B(l),constructed:B(o),sync:B(T$),needReadable:B(e),emittedReadable:B(n),readableListening:B(j$),resumeScheduled:B(s),errorEmitted:B(P$),emitClose:B(n$),autoDestroy:B(m),destroyed:B(r),closed:B(W$),closeEmitted:B(q$),multiAwaitDrain:B(_$),readingMore:B(v$),dataEmitted:B(d)});function H$(u,U,K$){if(typeof K$!=="boolean")K$=U instanceof L_();if(this.state=n$|m|o|T$,u&&u.objectMode)this.state|=C;if(K$&&u&&u.readableObjectMode)this.state|=C;if(this.highWaterMark=u?$$(this,u,"readableHighWaterMark",K$):Q(!1),this.buffer=new p,this.length=0,this.pipes=[],this.flowing=null,this[S]=null,u&&u.emitClose===!1)this.state&=~n$;if(u&&u.autoDestroy===!1)this.state&=~m;if(this.errored=null,this.defaultEncoding=u&&u.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,u&&u.encoding)this.decoder=new A(u.encoding),this.encoding=u.encoding}function t(u){if(!(this instanceof t))return new t(u);let U=this instanceof L_();if(this._readableState=new H$(u,this,U),u){if(typeof u.read==="function")this._read=u.read;if(typeof u.destroy==="function")this._destroy=u.destroy;if(typeof u.construct==="function")this._construct=u.construct;if(u.signal&&!U)L(u.signal,this)}E.call(this,u),i.construct(this,()=>{if(this._readableState.needReadable)M$(this,this._readableState)})}t.prototype.destroy=i.destroy,t.prototype._undestroy=i.undestroy,t.prototype._destroy=function(u,U){U(u)},t.prototype[R.captureRejectionSymbol]=function(u){this.destroy(u)},t.prototype[k]=function(){let u;if(!this.destroyed)u=this.readableEnded?null:new f,this.destroy(u);return new Z((U,K$)=>b(this,(O$)=>O$&&O$!==u?K$(O$):U(null)))},t.prototype.push=function(u,U){return F(this,u,U,!1)},t.prototype.unshift=function(u,U){return F(this,u,U,!0)};function F(u,U,K$,O$){y("readableAddChunk",U);let t$=u._readableState,G$;if((t$.state&C)===0){if(typeof U==="string"){if(K$=K$||t$.defaultEncoding,t$.encoding!==K$)if(O$&&t$.encoding)U=h.from(U,K$).toString(t$.encoding);else U=h.from(U,K$),K$=""}else if(U instanceof h)K$="";else if(E._isUint8Array(U))U=E._uint8ArrayToBuffer(U),K$="";else if(U!=null)G$=new a("chunk",["string","Buffer","Uint8Array"],U)}if(G$)I(u,G$);else if(U===null)t$.state&=~l,X$(u,t$);else if((t$.state&C)!==0||U&&U.length>0)if(O$)if((t$.state&x)!==0)I(u,new H);else if(t$.destroyed||t$.errored)return!1;else A$(u,t$,U,!0);else if(t$.ended)I(u,new X);else if(t$.destroyed||t$.errored)return!1;else if(t$.state&=~l,t$.decoder&&!K$)if(U=t$.decoder.write(U),t$.objectMode||U.length!==0)A$(u,t$,U,!1);else M$(u,t$);else A$(u,t$,U,!1);else if(!O$)t$.state&=~l,M$(u,t$);return!t$.ended&&(t$.length<t$.highWaterMark||t$.length===0)}function A$(u,U,K$,O$){if(U.flowing&&U.length===0&&!U.sync&&u.listenerCount("data")>0){if((U.state&_$)!==0)U.awaitDrainWriters.clear();else U.awaitDrainWriters=null;U.dataEmitted=!0,u.emit("data",K$)}else{if(U.length+=U.objectMode?1:K$.length,O$)U.buffer.unshift(K$);else U.buffer.push(K$);if((U.state&e)!==0)k$(u)}M$(u,U)}t.prototype.isPaused=function(){let u=this._readableState;return u[S]===!0||u.flowing===!1},t.prototype.setEncoding=function(u){let U=new A(u);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;let K$=this._readableState.buffer,O$="";for(let t$ of K$)O$+=U.write(t$);if(K$.clear(),O$!=="")K$.push(O$);return this._readableState.length=O$.length,this};var J$=1073741824;function z$(u){if(u>J$)throw new J("size","<= 1GiB",u);else u--,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u++;return u}function G6(u,U){if(u<=0||U.length===0&&U.ended)return 0;if((U.state&C)!==0)return 1;if(O(u)){if(U.flowing&&U.length)return U.buffer.first().length;return U.length}if(u<=U.length)return u;return U.ended?U.length:0}t.prototype.read=function(u){if(y("read",u),u===void 0)u=NaN;else if(!K(u))u=Y(u,10);let U=this._readableState,K$=u;if(u>U.highWaterMark)U.highWaterMark=z$(u);if(u!==0)U.state&=~n;if(u===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended)){if(y("read: emitReadable",U.length,U.ended),U.length===0&&U.ended)Hq(this);else k$(this);return null}if(u=G6(u,U),u===0&&U.ended){if(U.length===0)Hq(this);return null}let O$=(U.state&e)!==0;if(y("need readable",O$),U.length===0||U.length-u<U.highWaterMark)O$=!0,y("length less than watermark",O$);if(U.ended||U.reading||U.destroyed||U.errored||!U.constructed)O$=!1,y("reading, ended or constructing",O$);else if(O$){if(y("do read"),U.state|=l|T$,U.length===0)U.state|=e;try{this._read(U.highWaterMark)}catch(G$){I(this,G$)}if(U.state&=~T$,!U.reading)u=G6(K$,U)}let t$;if(u>0)t$=I$(u,U);else t$=null;if(t$===null)U.needReadable=U.length<=U.highWaterMark,u=0;else if(U.length-=u,U.multiAwaitDrain)U.awaitDrainWriters.clear();else U.awaitDrainWriters=null;if(U.length===0){if(!U.ended)U.needReadable=!0;if(K$!==u&&U.ended)Hq(this)}if(t$!==null&&!U.errorEmitted&&!U.closeEmitted)U.dataEmitted=!0,this.emit("data",t$);return t$};function X$(u,U){if(y("onEofChunk"),U.ended)return;if(U.decoder){let K$=U.decoder.end();if(K$&&K$.length)U.buffer.push(K$),U.length+=U.objectMode?1:K$.length}if(U.ended=!0,U.sync)k$(u);else U.needReadable=!1,U.emittedReadable=!0,B6(u)}function k$(u){let U=u._readableState;if(y("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,!U.emittedReadable)y("emitReadable",U.flowing),U.emittedReadable=!0,_.nextTick(B6,u)}function B6(u){let U=u._readableState;if(y("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended))u.emit("readable"),U.emittedReadable=!1;U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,R$(u)}function M$(u,U){if(!U.readingMore&&U.constructed)U.readingMore=!0,_.nextTick(S$,u,U)}function S$(u,U){while(!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0)){let K$=U.length;if(y("maybeReadMore read 0"),u.read(0),K$===U.length)break}U.readingMore=!1}t.prototype._read=function(u){throw new j("_read()")},t.prototype.pipe=function(u,U){let K$=this,O$=this._readableState;if(O$.pipes.length===1){if(!O$.multiAwaitDrain)O$.multiAwaitDrain=!0,O$.awaitDrainWriters=new w(O$.awaitDrainWriters?[O$.awaitDrainWriters]:[])}O$.pipes.push(u),y("pipe count=%d opts=%j",O$.pipes.length,U);let t$=(!U||U.end!==!1)&&u!==_.stdout&&u!==_.stderr?V$:z6;if(O$.endEmitted)_.nextTick(t$);else K$.once("end",t$);u.on("unpipe",G$);function G$(D6,E6){if(y("onunpipe"),D6===K$){if(E6&&E6.hasUnpiped===!1)E6.hasUnpiped=!0,p$()}}function V$(){y("onend"),u.end()}let d6,D$=!1;function p$(){if(y("cleanup"),u.removeListener("close",l6),u.removeListener("finish",w6),d6)u.removeListener("drain",d6);if(u.removeListener("error",C$),u.removeListener("unpipe",G$),K$.removeListener("end",V$),K$.removeListener("end",z6),K$.removeListener("data",L$),D$=!0,d6&&O$.awaitDrainWriters&&(!u._writableState||u._writableState.needDrain))d6()}function kq(){if(!D$){if(O$.pipes.length===1&&O$.pipes[0]===u)y("false write response, pause",0),O$.awaitDrainWriters=u,O$.multiAwaitDrain=!1;else if(O$.pipes.length>1&&O$.pipes.includes(u))y("false write response, pause",O$.awaitDrainWriters.size),O$.awaitDrainWriters.add(u);K$.pause()}if(!d6)d6=Cq(K$,u),u.on("drain",d6)}K$.on("data",L$);function L$(D6){y("ondata");let E6=u.write(D6);if(y("dest.write",E6),E6===!1)kq()}function C$(D6){if(y("onerror",D6),z6(),u.removeListener("error",C$),u.listenerCount("error")===0){let E6=u._writableState||u._readableState;if(E6&&!E6.errorEmitted)I(u,D6);else u.emit("error",D6)}}D(u,"error",C$);function l6(){u.removeListener("finish",w6),z6()}u.once("close",l6);function w6(){y("onfinish"),u.removeListener("close",l6),z6()}u.once("finish",w6);function z6(){y("unpipe"),K$.unpipe(u)}if(u.emit("pipe",K$),u.writableNeedDrain===!0)kq();else if(!O$.flowing)y("pipe resume"),K$.resume();return u};function Cq(u,U){return function(){let K$=u._readableState;if(K$.awaitDrainWriters===U)y("pipeOnDrain",1),K$.awaitDrainWriters=null;else if(K$.multiAwaitDrain)y("pipeOnDrain",K$.awaitDrainWriters.size),K$.awaitDrainWriters.delete(U);if((!K$.awaitDrainWriters||K$.awaitDrainWriters.size===0)&&u.listenerCount("data"))u.resume()}}t.prototype.unpipe=function(u){let U=this._readableState,K$={hasUnpiped:!1};if(U.pipes.length===0)return this;if(!u){let t$=U.pipes;U.pipes=[],this.pause();for(let G$=0;G$<t$.length;G$++)t$[G$].emit("unpipe",this,{hasUnpiped:!1});return this}let O$=P(U.pipes,u);if(O$===-1)return this;if(U.pipes.splice(O$,1),U.pipes.length===0)this.pause();return u.emit("unpipe",this,K$),this},t.prototype.on=function(u,U){let K$=E.prototype.on.call(this,u,U),O$=this._readableState;if(u==="data"){if(O$.readableListening=this.listenerCount("readable")>0,O$.flowing!==!1)this.resume()}else if(u==="readable"){if(!O$.endEmitted&&!O$.readableListening){if(O$.readableListening=O$.needReadable=!0,O$.flowing=!1,O$.emittedReadable=!1,y("on readable",O$.length,O$.reading),O$.length)k$(this);else if(!O$.reading)_.nextTick(g$,this)}}return K$},t.prototype.addListener=t.prototype.on,t.prototype.removeListener=function(u,U){let K$=E.prototype.removeListener.call(this,u,U);if(u==="readable")_.nextTick(E$,this);return K$},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(u){let U=E.prototype.removeAllListeners.apply(this,arguments);if(u==="readable"||u===void 0)_.nextTick(E$,this);return U};function E$(u){let U=u._readableState;if(U.readableListening=u.listenerCount("readable")>0,U.resumeScheduled&&U[S]===!1)U.flowing=!0;else if(u.listenerCount("data")>0)u.resume();else if(!U.readableListening)U.flowing=null}function g$(u){y("readable nexttick read 0"),u.read(0)}t.prototype.resume=function(){let u=this._readableState;if(!u.flowing)y("resume"),u.flowing=!u.readableListening,Eq(this,u);return u[S]=!1,this};function Eq(u,U){if(!U.resumeScheduled)U.resumeScheduled=!0,_.nextTick(b$,u,U)}function b$(u,U){if(y("resume",U.reading),!U.reading)u.read(0);if(U.resumeScheduled=!1,u.emit("resume"),R$(u),U.flowing&&!U.reading)u.read(0)}t.prototype.pause=function(){if(y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)y("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState[S]=!0,this};function R$(u){let U=u._readableState;y("flow",U.flowing);while(U.flowing&&u.read()!==null);}t.prototype.wrap=function(u){let U=!1;u.on("data",(O$)=>{if(!this.push(O$)&&u.pause)U=!0,u.pause()}),u.on("end",()=>{this.push(null)}),u.on("error",(O$)=>{I(this,O$)}),u.on("close",()=>{this.destroy()}),u.on("destroy",()=>{this.destroy()}),this._read=()=>{if(U&&u.resume)U=!1,u.resume()};let K$=W(u);for(let O$=1;O$<K$.length;O$++){let t$=K$[O$];if(this[t$]===void 0&&typeof u[t$]==="function")this[t$]=u[t$].bind(u)}return this},t.prototype[M]=function(){return Aq(this)},t.prototype.iterator=function(u){if(u!==void 0)V(u,"options");return Aq(this,u)};function Aq(u,U){if(typeof u.read!=="function")u=t.wrap(u,{objectMode:!0});let K$=y$(u,U);return K$.stream=u,K$}async function*y$(u,U){let K$=G;function O$(V$){if(this===u)K$(),K$=G;else K$=V$}u.on("readable",O$);let t$,G$=b(u,{writable:!1},(V$)=>{t$=V$?c(t$,V$):null,K$(),K$=G});try{while(!0){let V$=u.destroyed?null:u.read();if(V$!==null)yield V$;else if(t$)throw t$;else if(t$===null)return;else await new Z(O$)}}catch(V$){throw t$=c(t$,V$),t$}finally{if((t$||(U===null||U===void 0?void 0:U.destroyOnReturn)!==!1)&&(t$===void 0||u._readableState.autoDestroy))i.destroyer(u,null);else u.off("readable",O$),G$()}}v(t.prototype,{readable:{__proto__:null,get(){let u=this._readableState;return!!u&&u.readable!==!1&&!u.destroyed&&!u.errorEmitted&&!u.endEmitted},set(u){if(this._readableState)this._readableState.readable=!!u}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(u){if(this._readableState)this._readableState.flowing=u}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(u){if(!this._readableState)return;this._readableState.destroyed=u}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),v(H$.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[S]!==!1},set(u){this[S]=!!u}}}),t._fromList=I$;function I$(u,U){if(U.length===0)return null;let K$;if(U.objectMode)K$=U.buffer.shift();else if(!u||u>=U.length){if(U.decoder)K$=U.buffer.join("");else if(U.buffer.length===1)K$=U.buffer.first();else K$=U.buffer.concat(U.length);U.buffer.clear()}else K$=U.buffer.consume(u,U.decoder);return K$}function Hq(u){let U=u._readableState;if(y("endReadable",U.endEmitted),!U.endEmitted)U.ended=!0,_.nextTick(u$,U,u)}function u$(u,U){if(y("endReadableNT",u.endEmitted,u.length),!u.errored&&!u.closeEmitted&&!u.endEmitted&&u.length===0){if(u.endEmitted=!0,U.emit("end"),U.writable&&U.allowHalfOpen===!1)_.nextTick(x$,U);else if(u.autoDestroy){let K$=U._writableState;if(!K$||K$.autoDestroy&&(K$.finished||K$.writable===!1))U.destroy()}}}function x$(u){if(u.writable&&!u.writableEnded&&!u.destroyed)u.end()}t.from=function(u,U){return z(t,u,U)};var Tq;function h$(){if(Tq===void 0)Tq={};return Tq}t.fromWeb=function(u,U){return h$().newStreamReadableFromReadableStream(u,U)},t.toWeb=function(u,U){return h$().newReadableStreamFromStreamReadable(u,U)},t.wrap=function(u,U){var K$,O$;return new t({objectMode:(K$=(O$=u.readableObjectMode)!==null&&O$!==void 0?O$:u.objectMode)!==null&&K$!==void 0?K$:!0,...U,destroy(t$,G$){i.destroyer(u,t$),G$(t$)}}).wrap(u)}}),kw=C6(($,q)=>{var _=q4(),{ArrayPrototypeSlice:P,Error:K,FunctionPrototypeSymbolHasInstance:O,ObjectDefineProperty:Y,ObjectDefineProperties:v,ObjectSetPrototypeOf:W,StringPrototypeToLowerCase:T,Symbol:Z,SymbolHasInstance:w}=m6();q.exports=V,V.WritableState=H;var{EventEmitter:k}=(R7(),H6(E7)),M=Aw().Stream,{Buffer:N}=(Xq(),H6(fq)),R=SP(),{addAbortSignal:E}=SY(),{getHighWaterMark:D,getDefaultHighWaterMark:h}=MY(),{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:b,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:p,ERR_STREAM_DESTROYED:i,ERR_STREAM_ALREADY_FINISHED:$$,ERR_STREAM_NULL_VALUES:Q,ERR_STREAM_WRITE_AFTER_END:c,ERR_UNKNOWN_ENCODING:a}=iq().codes,{errorOrDestroy:j}=R;W(V.prototype,M.prototype),W(V,M);function J(){}var X=Z("kOnFinished");function H(m,r,W$){if(typeof W$!=="boolean")W$=r instanceof L_();if(this.objectMode=!!(m&&m.objectMode),W$)this.objectMode=this.objectMode||!!(m&&m.writableObjectMode);this.highWaterMark=m?D(this,m,"writableHighWaterMark",W$):h(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let q$=!!(m&&m.decodeStrings===!1);this.decodeStrings=!q$,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=I.bind(void 0,r),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,f(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!m||m.emitClose!==!1,this.autoDestroy=!m||m.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[X]=[]}function f(m){m.buffered=[],m.bufferedIndex=0,m.allBuffers=!0,m.allNoop=!0}H.prototype.getBuffer=function(){return P(this.buffered,this.bufferedIndex)},Y(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function V(m){let r=this instanceof L_();if(!r&&!O(V,this))return new V(m);if(this._writableState=new H(m,this,r),m){if(typeof m.write==="function")this._write=m.write;if(typeof m.writev==="function")this._writev=m.writev;if(typeof m.destroy==="function")this._destroy=m.destroy;if(typeof m.final==="function")this._final=m.final;if(typeof m.construct==="function")this._construct=m.construct;if(m.signal)E(m.signal,this)}M.call(this,m),R.construct(this,()=>{let W$=this._writableState;if(!W$.writing)l(this,W$);n(this,W$)})}Y(V,w,{__proto__:null,value:function(m){if(O(this,m))return!0;if(this!==V)return!1;return m&&m._writableState instanceof H}}),V.prototype.pipe=function(){j(this,new p)};function S(m,r,W$,q$){let _$=m._writableState;if(typeof W$==="function")q$=W$,W$=_$.defaultEncoding;else{if(!W$)W$=_$.defaultEncoding;else if(W$!=="buffer"&&!N.isEncoding(W$))throw new a(W$);if(typeof q$!=="function")q$=J}if(r===null)throw new Q;else if(!_$.objectMode)if(typeof r==="string"){if(_$.decodeStrings!==!1)r=N.from(r,W$),W$="buffer"}else if(r instanceof N)W$="buffer";else if(M._isUint8Array(r))r=M._uint8ArrayToBuffer(r),W$="buffer";else throw new L("chunk",["string","Buffer","Uint8Array"],r);let v$;if(_$.ending)v$=new c;else if(_$.destroyed)v$=new i("write");if(v$)return _.nextTick(q$,v$),j(m,v$,!0),v$;return _$.pendingcb++,A(m,_$,r,W$,q$)}V.prototype.write=function(m,r,W$){return S(this,m,r,W$)===!0},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){let m=this._writableState;if(m.corked){if(m.corked--,!m.writing)l(this,m)}},V.prototype.setDefaultEncoding=function(m){if(typeof m==="string")m=T(m);if(!N.isEncoding(m))throw new a(m);return this._writableState.defaultEncoding=m,this};function A(m,r,W$,q$,_$){let v$=r.objectMode?1:W$.length;r.length+=v$;let d=r.length<r.highWaterMark;if(!d)r.needDrain=!0;if(r.writing||r.corked||r.errored||!r.constructed){if(r.buffered.push({chunk:W$,encoding:q$,callback:_$}),r.allBuffers&&q$!=="buffer")r.allBuffers=!1;if(r.allNoop&&_$!==J)r.allNoop=!1}else r.writelen=v$,r.writecb=_$,r.writing=!0,r.sync=!0,m._write(W$,q$,r.onwrite),r.sync=!1;return d&&!r.errored&&!r.destroyed}function z(m,r,W$,q$,_$,v$,d){if(r.writelen=q$,r.writecb=d,r.writing=!0,r.sync=!0,r.destroyed)r.onwrite(new i("write"));else if(W$)m._writev(_$,r.onwrite);else m._write(_$,v$,r.onwrite);r.sync=!1}function G(m,r,W$,q$){--r.pendingcb,q$(W$),x(r),j(m,W$)}function I(m,r){let W$=m._writableState,q$=W$.sync,_$=W$.writecb;if(typeof _$!=="function"){j(m,new y);return}if(W$.writing=!1,W$.writecb=null,W$.length-=W$.writelen,W$.writelen=0,r){if(r.stack,!W$.errored)W$.errored=r;if(m._readableState&&!m._readableState.errored)m._readableState.errored=r;if(q$)_.nextTick(G,m,W$,r,_$);else G(m,W$,r,_$)}else{if(W$.buffered.length>W$.bufferedIndex)l(m,W$);if(q$)if(W$.afterWriteTickInfo!==null&&W$.afterWriteTickInfo.cb===_$)W$.afterWriteTickInfo.count++;else W$.afterWriteTickInfo={count:1,cb:_$,stream:m,state:W$},_.nextTick(C,W$.afterWriteTickInfo);else g(m,W$,1,_$)}}function C({stream:m,state:r,count:W$,cb:q$}){return r.afterWriteTickInfo=null,g(m,r,W$,q$)}function g(m,r,W$,q$){if(!r.ending&&!m.destroyed&&r.length===0&&r.needDrain)r.needDrain=!1,m.emit("drain");while(W$-- >0)r.pendingcb--,q$();if(r.destroyed)x(r);n(m,r)}function x(m){if(m.writing)return;for(let _$=m.bufferedIndex;_$<m.buffered.length;++_$){var r;let{chunk:v$,callback:d}=m.buffered[_$],B=m.objectMode?1:v$.length;m.length-=B,d((r=m.errored)!==null&&r!==void 0?r:new i("write"))}let W$=m[X].splice(0);for(let _$=0;_$<W$.length;_$++){var q$;W$[_$]((q$=m.errored)!==null&&q$!==void 0?q$:new i("end"))}f(m)}function l(m,r){if(r.corked||r.bufferProcessing||r.destroyed||!r.constructed)return;let{buffered:W$,bufferedIndex:q$,objectMode:_$}=r,v$=W$.length-q$;if(!v$)return;let d=q$;if(r.bufferProcessing=!0,v$>1&&m._writev){r.pendingcb-=v$-1;let B=r.allNoop?J:(t)=>{for(let F=d;F<W$.length;++F)W$[F].callback(t)},H$=r.allNoop&&d===0?W$:P(W$,d);H$.allBuffers=r.allBuffers,z(m,r,!0,r.length,H$,"",B),f(r)}else{do{let{chunk:B,encoding:H$,callback:t}=W$[d];W$[d++]=null;let F=_$?1:B.length;z(m,r,!1,F,B,H$,t)}while(d<W$.length&&!r.writing);if(d===W$.length)f(r);else if(d>256)W$.splice(0,d),r.bufferedIndex=0;else r.bufferedIndex=d}r.bufferProcessing=!1}V.prototype._write=function(m,r,W$){if(this._writev)this._writev([{chunk:m,encoding:r}],W$);else throw new b("_write()")},V.prototype._writev=null,V.prototype.end=function(m,r,W$){let q$=this._writableState;if(typeof m==="function")W$=m,m=null,r=null;else if(typeof r==="function")W$=r,r=null;let _$;if(m!==null&&m!==void 0){let v$=S(this,m,r);if(v$ instanceof K)_$=v$}if(q$.corked)q$.corked=1,this.uncork();if(_$);else if(!q$.errored&&!q$.ending)q$.ending=!0,n(this,q$,!0),q$.ended=!0;else if(q$.finished)_$=new $$("end");else if(q$.destroyed)_$=new i("end");if(typeof W$==="function")if(_$||q$.finished)_.nextTick(W$,_$);else q$[X].push(W$);return this};function o(m){return m.ending&&!m.destroyed&&m.constructed&&m.length===0&&!m.errored&&m.buffered.length===0&&!m.finished&&!m.writing&&!m.errorEmitted&&!m.closeEmitted}function T$(m,r){let W$=!1;function q$(_$){if(W$){j(m,_$!==null&&_$!==void 0?_$:y());return}if(W$=!0,r.pendingcb--,_$){let v$=r[X].splice(0);for(let d=0;d<v$.length;d++)v$[d](_$);j(m,_$,r.sync)}else if(o(r))r.prefinished=!0,m.emit("prefinish"),r.pendingcb++,_.nextTick(j$,m,r)}r.sync=!0,r.pendingcb++;try{m._final(q$)}catch(_$){q$(_$)}r.sync=!1}function e(m,r){if(!r.prefinished&&!r.finalCalled)if(typeof m._final==="function"&&!r.destroyed)r.finalCalled=!0,T$(m,r);else r.prefinished=!0,m.emit("prefinish")}function n(m,r,W$){if(o(r)){if(e(m,r),r.pendingcb===0){if(W$)r.pendingcb++,_.nextTick((q$,_$)=>{if(o(_$))j$(q$,_$);else _$.pendingcb--},m,r);else if(o(r))r.pendingcb++,j$(m,r)}}}function j$(m,r){r.pendingcb--,r.finished=!0;let W$=r[X].splice(0);for(let q$=0;q$<W$.length;q$++)W$[q$]();if(m.emit("finish"),r.autoDestroy){let q$=m._readableState;if(!q$||q$.autoDestroy&&(q$.endEmitted||q$.readable===!1))m.destroy()}}v(V.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(m){if(this._writableState)this._writableState.destroyed=m}},writable:{__proto__:null,get(){let m=this._writableState;return!!m&&m.writable!==!1&&!m.destroyed&&!m.errored&&!m.ending&&!m.ended},set(m){if(this._writableState)this._writableState.writable=!!m}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let m=this._writableState;if(!m)return!1;return!m.destroyed&&!m.ending&&m.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var s=R.destroy;V.prototype.destroy=function(m,r){let W$=this._writableState;if(!W$.destroyed&&(W$.bufferedIndex<W$.buffered.length||W$[X].length))_.nextTick(x,W$);return s.call(this,m,r),this},V.prototype._undestroy=R.undestroy,V.prototype._destroy=function(m,r){r(m)},V.prototype[k.captureRejectionSymbol]=function(m){this.destroy(m)};var P$;function n$(){if(P$===void 0)P$={};return P$}V.fromWeb=function(m,r){return n$().newStreamWritableFromWritableStream(m,r)},V.toWeb=function(m){return n$().newWritableStreamFromStreamWritable(m)}}),EB=C6(($,q)=>{var _=q4(),P=(Xq(),H6(fq)),{isReadable:K,isWritable:O,isIterable:Y,isNodeStream:v,isReadableNodeStream:W,isWritableNodeStream:T,isDuplexNodeStream:Z,isReadableStream:w,isWritableStream:k}=g_(),M=fK(),{AbortError:N,codes:{ERR_INVALID_ARG_TYPE:R,ERR_INVALID_RETURN_VALUE:E}}=iq(),{destroyer:D}=SP(),h=L_(),L=NY(),b=kw(),{createDeferredPromise:y}=P8(),p=pC(),i=globalThis.Blob||P.Blob,$$=typeof i<"u"?function(X){return X instanceof i}:function(X){return!1},Q=globalThis.AbortController||I7().AbortController,{FunctionPrototypeCall:c}=m6();class a extends h{constructor(X){super(X);if((X===null||X===void 0?void 0:X.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((X===null||X===void 0?void 0:X.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}q.exports=function X(H,f){if(Z(H))return H;if(W(H))return J({readable:H});if(T(H))return J({writable:H});if(v(H))return J({writable:!1,readable:!1});if(w(H))return J({readable:L.fromWeb(H)});if(k(H))return J({writable:b.fromWeb(H)});if(typeof H==="function"){let{value:S,write:A,final:z,destroy:G}=j(H);if(Y(S))return p(a,S,{objectMode:!0,write:A,final:z,destroy:G});let I=S===null||S===void 0?void 0:S.then;if(typeof I==="function"){let C,g=c(I,S,(x)=>{if(x!=null)throw new E("nully","body",x)},(x)=>{D(C,x)});return C=new a({objectMode:!0,readable:!1,write:A,final(x){z(async()=>{try{await g,_.nextTick(x,null)}catch(l){_.nextTick(x,l)}})},destroy:G})}throw new E("Iterable, AsyncIterable or AsyncFunction",f,S)}if($$(H))return X(H.arrayBuffer());if(Y(H))return p(a,H,{objectMode:!0,writable:!1});if(w(H===null||H===void 0?void 0:H.readable)&&k(H===null||H===void 0?void 0:H.writable))return a.fromWeb(H);if(typeof(H===null||H===void 0?void 0:H.writable)==="object"||typeof(H===null||H===void 0?void 0:H.readable)==="object"){let S=H!==null&&H!==void 0&&H.readable?W(H===null||H===void 0?void 0:H.readable)?H===null||H===void 0?void 0:H.readable:X(H.readable):void 0,A=H!==null&&H!==void 0&&H.writable?T(H===null||H===void 0?void 0:H.writable)?H===null||H===void 0?void 0:H.writable:X(H.writable):void 0;return J({readable:S,writable:A})}let V=H===null||H===void 0?void 0:H.then;if(typeof V==="function"){let S;return c(V,H,(A)=>{if(A!=null)S.push(A);S.push(null)},(A)=>{D(S,A)}),S=new a({objectMode:!0,writable:!1,read(){}})}throw new R(f,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],H)};function j(X){let{promise:H,resolve:f}=y(),V=new Q,S=V.signal;return{value:X(async function*(){while(!0){let A=H;H=null;let{chunk:z,done:G,cb:I}=await A;if(_.nextTick(I),G)return;if(S.aborted)throw new N(void 0,{cause:S.reason});({promise:H,resolve:f}=y()),yield z}}(),{signal:S}),write(A,z,G){let I=f;f=null,I({chunk:A,done:!1,cb:G})},final(A){let z=f;f=null,z({done:!0,cb:A})},destroy(A,z){V.abort(),z(A)}}}function J(X){let H=X.readable&&typeof X.readable.read!=="function"?L.wrap(X.readable):X.readable,f=X.writable,V=!!K(H),S=!!O(f),A,z,G,I,C;function g(x){let l=I;if(I=null,l)l(x);else if(x)C.destroy(x)}if(C=new a({readableObjectMode:!!(H!==null&&H!==void 0&&H.readableObjectMode),writableObjectMode:!!(f!==null&&f!==void 0&&f.writableObjectMode),readable:V,writable:S}),S)M(f,(x)=>{if(S=!1,x)D(H,x);g(x)}),C._write=function(x,l,o){if(f.write(x,l))o();else A=o},C._final=function(x){f.end(),z=x},f.on("drain",function(){if(A){let x=A;A=null,x()}}),f.on("finish",function(){if(z){let x=z;z=null,x()}});if(V)M(H,(x)=>{if(V=!1,x)D(H,x);g(x)}),H.on("readable",function(){if(G){let x=G;G=null,x()}}),H.on("end",function(){C.push(null)}),C._read=function(){while(!0){let x=H.read();if(x===null){G=C._read;return}if(!C.push(x))return}};return C._destroy=function(x,l){if(!x&&I!==null)x=new N;if(G=null,A=null,z=null,I===null)l(x);else I=l,D(f,x),D(H,x)},C}}),L_=C6(($,q)=>{var{ObjectDefineProperties:_,ObjectGetOwnPropertyDescriptor:P,ObjectKeys:K,ObjectSetPrototypeOf:O}=m6();q.exports=W;var Y=NY(),v=kw();O(W.prototype,Y.prototype),O(W,Y);{let k=K(v.prototype);for(let M=0;M<k.length;M++){let N=k[M];if(!W.prototype[N])W.prototype[N]=v.prototype[N]}}function W(k){if(!(this instanceof W))return new W(k);if(Y.call(this,k),v.call(this,k),k){if(this.allowHalfOpen=k.allowHalfOpen!==!1,k.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(k.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}_(W.prototype,{writable:{__proto__:null,...P(v.prototype,"writable")},writableHighWaterMark:{__proto__:null,...P(v.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...P(v.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...P(v.prototype,"writableBuffer")},writableLength:{__proto__:null,...P(v.prototype,"writableLength")},writableFinished:{__proto__:null,...P(v.prototype,"writableFinished")},writableCorked:{__proto__:null,...P(v.prototype,"writableCorked")},writableEnded:{__proto__:null,...P(v.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...P(v.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(k){if(this._readableState&&this._writableState)this._readableState.destroyed=k,this._writableState.destroyed=k}}});var T;function Z(){if(T===void 0)T={};return T}W.fromWeb=function(k,M){return Z().newStreamDuplexFromReadableWritablePair(k,M)},W.toWeb=function(k){return Z().newReadableWritablePairFromDuplex(k)};var w;W.from=function(k){if(!w)w=EB();return w(k,"body")}}),cC=C6(($,q)=>{var{ObjectSetPrototypeOf:_,Symbol:P}=m6();q.exports=W;var{ERR_METHOD_NOT_IMPLEMENTED:K}=iq().codes,O=L_(),{getHighWaterMark:Y}=MY();_(W.prototype,O.prototype),_(W,O);var v=P("kCallback");function W(w){if(!(this instanceof W))return new W(w);let k=w?Y(this,w,"readableHighWaterMark",!0):null;if(k===0)w={...w,highWaterMark:null,readableHighWaterMark:k,writableHighWaterMark:w.writableHighWaterMark||0};if(O.call(this,w),this._readableState.sync=!1,this[v]=null,w){if(typeof w.transform==="function")this._transform=w.transform;if(typeof w.flush==="function")this._flush=w.flush}this.on("prefinish",Z)}function T(w){if(typeof this._flush==="function"&&!this.destroyed)this._flush((k,M)=>{if(k){if(w)w(k);else this.destroy(k);return}if(M!=null)this.push(M);if(this.push(null),w)w()});else if(this.push(null),w)w()}function Z(){if(this._final!==T)T.call(this)}W.prototype._final=T,W.prototype._transform=function(w,k,M){throw new K("_transform()")},W.prototype._write=function(w,k,M){let N=this._readableState,R=this._writableState,E=N.length;this._transform(w,k,(D,h)=>{if(D){M(D);return}if(h!=null)this.push(h);if(R.ended||E===N.length||N.length<N.highWaterMark)M();else this[v]=M})},W.prototype._read=function(){if(this[v]){let w=this[v];this[v]=null,w()}}}),mC=C6(($,q)=>{var{ObjectSetPrototypeOf:_}=m6();q.exports=K;var P=cC();_(K.prototype,P.prototype),_(K,P);function K(O){if(!(this instanceof K))return new K(O);P.call(this,O)}K.prototype._transform=function(O,Y,v){v(null,O)}}),Gw=C6(($,q)=>{var _=q4(),{ArrayIsArray:P,Promise:K,SymbolAsyncIterator:O,SymbolDispose:Y}=m6(),v=fK(),{once:W}=P8(),T=SP(),Z=L_(),{aggregateTwoErrors:w,codes:{ERR_INVALID_ARG_TYPE:k,ERR_INVALID_RETURN_VALUE:M,ERR_MISSING_ARGS:N,ERR_STREAM_DESTROYED:R,ERR_STREAM_PREMATURE_CLOSE:E},AbortError:D}=iq(),{validateFunction:h,validateAbortSignal:L}=h7(),{isIterable:b,isReadable:y,isReadableNodeStream:p,isNodeStream:i,isTransformStream:$$,isWebStream:Q,isReadableStream:c,isReadableFinished:a}=g_(),j=globalThis.AbortController||I7().AbortController,J,X,H;function f(x,l,o){let T$=!1;x.on("close",()=>{T$=!0});let e=v(x,{readable:l,writable:o},(n)=>{T$=!n});return{destroy:(n)=>{if(T$)return;T$=!0,T.destroyer(x,n||new R("pipe"))},cleanup:e}}function V(x){return h(x[x.length-1],"streams[stream.length - 1]"),x.pop()}function S(x){if(b(x))return x;else if(p(x))return A(x);throw new k("val",["Readable","Iterable","AsyncIterable"],x)}async function*A(x){if(!X)X=NY();yield*X.prototype[O].call(x)}async function z(x,l,o,{end:T$}){let e,n=null,j$=(n$)=>{if(n$)e=n$;if(n){let m=n;n=null,m()}},s=()=>new K((n$,m)=>{if(e)m(e);else n=()=>{if(e)m(e);else n$()}});l.on("drain",j$);let P$=v(l,{readable:!1},j$);try{if(l.writableNeedDrain)await s();for await(let n$ of x)if(!l.write(n$))await s();if(T$)l.end(),await s();o()}catch(n$){o(e!==n$?w(e,n$):n$)}finally{P$(),l.off("drain",j$)}}async function G(x,l,o,{end:T$}){if($$(l))l=l.writable;let e=l.getWriter();try{for await(let n of x)await e.ready,e.write(n).catch(()=>{});if(await e.ready,T$)await e.close();o()}catch(n){try{await e.abort(n),o(n)}catch(j$){o(j$)}}}function I(...x){return C(x,W(V(x)))}function C(x,l,o){if(x.length===1&&P(x[0]))x=x[0];if(x.length<2)throw new N("streams");let T$=new j,e=T$.signal,n=o===null||o===void 0?void 0:o.signal,j$=[];L(n,"options.signal");function s(){_$(new D)}H=H||P8().addAbortListener;let P$;if(n)P$=H(n,s);let n$,m,r=[],W$=0;function q$(t){_$(t,--W$===0)}function _$(t,F){var A$;if(t&&(!n$||n$.code==="ERR_STREAM_PREMATURE_CLOSE"))n$=t;if(!n$&&!F)return;while(r.length)r.shift()(n$);if((A$=P$)===null||A$===void 0||A$[Y](),T$.abort(),F){if(!n$)j$.forEach((J$)=>J$());_.nextTick(l,n$,m)}}let v$;for(let t=0;t<x.length;t++){let F=x[t],A$=t<x.length-1,J$=t>0,z$=A$||(o===null||o===void 0?void 0:o.end)!==!1,G6=t===x.length-1;if(i(F)){let X$=function(k$){if(k$&&k$.name!=="AbortError"&&k$.code!=="ERR_STREAM_PREMATURE_CLOSE")q$(k$)};var d=X$;if(z$){let{destroy:k$,cleanup:B6}=f(F,A$,J$);if(r.push(k$),y(F)&&G6)j$.push(B6)}if(F.on("error",X$),y(F)&&G6)j$.push(()=>{F.removeListener("error",X$)})}if(t===0)if(typeof F==="function"){if(v$=F({signal:e}),!b(v$))throw new M("Iterable, AsyncIterable or Stream","source",v$)}else if(b(F)||p(F)||$$(F))v$=F;else v$=Z.from(F);else if(typeof F==="function"){if($$(v$)){var B;v$=S((B=v$)===null||B===void 0?void 0:B.readable)}else v$=S(v$);if(v$=F(v$,{signal:e}),A$){if(!b(v$,!0))throw new M("AsyncIterable",`transform[${t-1}]`,v$)}else{var H$;if(!J)J=mC();let X$=new J({objectMode:!0}),k$=(H$=v$)===null||H$===void 0?void 0:H$.then;if(typeof k$==="function")W$++,k$.call(v$,(S$)=>{if(m=S$,S$!=null)X$.write(S$);if(z$)X$.end();_.nextTick(q$)},(S$)=>{X$.destroy(S$),_.nextTick(q$,S$)});else if(b(v$,!0))W$++,z(v$,X$,q$,{end:z$});else if(c(v$)||$$(v$)){let S$=v$.readable||v$;W$++,z(S$,X$,q$,{end:z$})}else throw new M("AsyncIterable or Promise","destination",v$);v$=X$;let{destroy:B6,cleanup:M$}=f(v$,!1,!0);if(r.push(B6),G6)j$.push(M$)}}else if(i(F)){if(p(v$)){W$+=2;let X$=g(v$,F,q$,{end:z$});if(y(F)&&G6)j$.push(X$)}else if($$(v$)||c(v$)){let X$=v$.readable||v$;W$++,z(X$,F,q$,{end:z$})}else if(b(v$))W$++,z(v$,F,q$,{end:z$});else throw new k("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v$);v$=F}else if(Q(F)){if(p(v$))W$++,G(S(v$),F,q$,{end:z$});else if(c(v$)||b(v$))W$++,G(v$,F,q$,{end:z$});else if($$(v$))W$++,G(v$.readable,F,q$,{end:z$});else throw new k("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v$);v$=F}else v$=Z.from(F)}if(e!==null&&e!==void 0&&e.aborted||n!==null&&n!==void 0&&n.aborted)_.nextTick(s);return v$}function g(x,l,o,{end:T$}){let e=!1;if(l.on("close",()=>{if(!e)o(new E)}),x.pipe(l,{end:!1}),T$){let j$=function(){e=!0,l.end()};var n=j$;if(a(x))_.nextTick(j$);else x.once("end",j$)}else o();return v(x,{readable:!0,writable:!1},(j$)=>{let s=x._readableState;if(j$&&j$.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted)x.once("end",o).once("error",o);else o(j$)}),v(l,{readable:!1,writable:!0},o)}q.exports={pipelineImpl:C,pipeline:I}}),dC=C6(($,q)=>{var{pipeline:_}=Gw(),P=L_(),{destroyer:K}=SP(),{isNodeStream:O,isReadable:Y,isWritable:v,isWebStream:W,isTransformStream:T,isWritableStream:Z,isReadableStream:w}=g_(),{AbortError:k,codes:{ERR_INVALID_ARG_VALUE:M,ERR_MISSING_ARGS:N}}=iq(),R=fK();q.exports=function(...E){if(E.length===0)throw new N("streams");if(E.length===1)return P.from(E[0]);let D=[...E];if(typeof E[0]==="function")E[0]=P.from(E[0]);if(typeof E[E.length-1]==="function"){let j=E.length-1;E[j]=P.from(E[j])}for(let j=0;j<E.length;++j){if(!O(E[j])&&!W(E[j]))continue;if(j<E.length-1&&!(Y(E[j])||w(E[j])||T(E[j])))throw new M(`streams[${j}]`,D[j],"must be readable");if(j>0&&!(v(E[j])||Z(E[j])||T(E[j])))throw new M(`streams[${j}]`,D[j],"must be writable")}let h,L,b,y,p;function i(j){let J=y;if(y=null,J)J(j);else if(j)p.destroy(j);else if(!a&&!c)p.destroy()}let $$=E[0],Q=_(E,i),c=!!(v($$)||Z($$)||T($$)),a=!!(Y(Q)||w(Q)||T(Q));if(p=new P({writableObjectMode:!!($$!==null&&$$!==void 0&&$$.writableObjectMode),readableObjectMode:!!(Q!==null&&Q!==void 0&&Q.readableObjectMode),writable:c,readable:a}),c){if(O($$))p._write=function(J,X,H){if($$.write(J,X))H();else h=H},p._final=function(J){$$.end(),L=J},$$.on("drain",function(){if(h){let J=h;h=null,J()}});else if(W($$)){let J=(T($$)?$$.writable:$$).getWriter();p._write=async function(X,H,f){try{await J.ready,J.write(X).catch(()=>{}),f()}catch(V){f(V)}},p._final=async function(X){try{await J.ready,J.close().catch(()=>{}),L=X}catch(H){X(H)}}}let j=T(Q)?Q.readable:Q;R(j,()=>{if(L){let J=L;L=null,J()}})}if(a){if(O(Q))Q.on("readable",function(){if(b){let j=b;b=null,j()}}),Q.on("end",function(){p.push(null)}),p._read=function(){while(!0){let j=Q.read();if(j===null){b=p._read;return}if(!p.push(j))return}};else if(W(Q)){let j=(T(Q)?Q.readable:Q).getReader();p._read=async function(){while(!0)try{let{value:J,done:X}=await j.read();if(!p.push(J))return;if(X){p.push(null);return}}catch{return}}}}return p._destroy=function(j,J){if(!j&&y!==null)j=new k;if(b=null,h=null,L=null,y===null)J(j);else if(y=J,O(Q))K(Q,j)},p}}),RB=C6(($,q)=>{var _=globalThis.AbortController||I7().AbortController,{codes:{ERR_INVALID_ARG_VALUE:P,ERR_INVALID_ARG_TYPE:K,ERR_MISSING_ARGS:O,ERR_OUT_OF_RANGE:Y},AbortError:v}=iq(),{validateAbortSignal:W,validateInteger:T,validateObject:Z}=h7(),w=m6().Symbol("kWeak"),k=m6().Symbol("kResistStopPropagation"),{finished:M}=fK(),N=dC(),{addAbortSignalNoValidate:R}=SY(),{isWritable:E,isNodeStream:D}=g_(),{deprecate:h}=P8(),{ArrayPrototypePush:L,Boolean:b,MathFloor:y,Number:p,NumberIsNaN:i,Promise:$$,PromiseReject:Q,PromiseResolve:c,PromisePrototypeThen:a,Symbol:j}=m6(),J=j("kEmpty"),X=j("kEof");function H(n,j$){if(j$!=null)Z(j$,"options");if((j$===null||j$===void 0?void 0:j$.signal)!=null)W(j$.signal,"options.signal");if(D(n)&&!E(n))throw new P("stream",n,"must be writable");let s=N(this,n);if(j$!==null&&j$!==void 0&&j$.signal)R(j$.signal,s);return s}function f(n,j$){if(typeof n!=="function")throw new K("fn",["Function","AsyncFunction"],n);if(j$!=null)Z(j$,"options");if((j$===null||j$===void 0?void 0:j$.signal)!=null)W(j$.signal,"options.signal");let s=1;if((j$===null||j$===void 0?void 0:j$.concurrency)!=null)s=y(j$.concurrency);let P$=s-1;if((j$===null||j$===void 0?void 0:j$.highWaterMark)!=null)P$=y(j$.highWaterMark);return T(s,"options.concurrency",1),T(P$,"options.highWaterMark",0),P$+=s,async function*(){let n$=P8().AbortSignalAny([j$===null||j$===void 0?void 0:j$.signal].filter(b)),m=this,r=[],W$={signal:n$},q$,_$,v$=!1,d=0;function B(){v$=!0,H$()}function H$(){d-=1,t()}function t(){if(_$&&!v$&&d<s&&r.length<P$)_$(),_$=null}async function F(){try{for await(let A$ of m){if(v$)return;if(n$.aborted)throw new v;try{if(A$=n(A$,W$),A$===J)continue;A$=c(A$)}catch(J$){A$=Q(J$)}if(d+=1,a(A$,H$,B),r.push(A$),q$)q$(),q$=null;if(!v$&&(r.length>=P$||d>=s))await new $$((J$)=>{_$=J$})}r.push(X)}catch(A$){let J$=Q(A$);a(J$,H$,B),r.push(J$)}finally{if(v$=!0,q$)q$(),q$=null}}F();try{while(!0){while(r.length>0){let A$=await r[0];if(A$===X)return;if(n$.aborted)throw new v;if(A$!==J)yield A$;r.shift(),t()}await new $$((A$)=>{q$=A$})}}finally{if(v$=!0,_$)_$(),_$=null}}.call(this)}function V(n=void 0){if(n!=null)Z(n,"options");if((n===null||n===void 0?void 0:n.signal)!=null)W(n.signal,"options.signal");return async function*(){let j$=0;for await(let P$ of this){var s;if(n!==null&&n!==void 0&&(s=n.signal)!==null&&s!==void 0&&s.aborted)throw new v({cause:n.signal.reason});yield[j$++,P$]}}.call(this)}async function S(n,j$=void 0){for await(let s of I.call(this,n,j$))return!0;return!1}async function A(n,j$=void 0){if(typeof n!=="function")throw new K("fn",["Function","AsyncFunction"],n);return!await S.call(this,async(...s)=>{return!await n(...s)},j$)}async function z(n,j$){for await(let s of I.call(this,n,j$))return s;return}async function G(n,j$){if(typeof n!=="function")throw new K("fn",["Function","AsyncFunction"],n);async function s(P$,n$){return await n(P$,n$),J}for await(let P$ of f.call(this,s,j$));}function I(n,j$){if(typeof n!=="function")throw new K("fn",["Function","AsyncFunction"],n);async function s(P$,n$){if(await n(P$,n$))return P$;return J}return f.call(this,s,j$)}class C extends O{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function g(n,j$,s){var P$;if(typeof n!=="function")throw new K("reducer",["Function","AsyncFunction"],n);if(s!=null)Z(s,"options");if((s===null||s===void 0?void 0:s.signal)!=null)W(s.signal,"options.signal");let n$=arguments.length>1;if(s!==null&&s!==void 0&&(P$=s.signal)!==null&&P$!==void 0&&P$.aborted){let _$=new v(void 0,{cause:s.signal.reason});throw this.once("error",()=>{}),await M(this.destroy(_$)),_$}let m=new _,r=m.signal;if(s!==null&&s!==void 0&&s.signal){let _$={once:!0,[w]:this,[k]:!0};s.signal.addEventListener("abort",()=>m.abort(),_$)}let W$=!1;try{for await(let _$ of this){var q$;if(W$=!0,s!==null&&s!==void 0&&(q$=s.signal)!==null&&q$!==void 0&&q$.aborted)throw new v;if(!n$)j$=_$,n$=!0;else j$=await n(j$,_$,{signal:r})}if(!W$&&!n$)throw new C}finally{m.abort()}return j$}async function x(n){if(n!=null)Z(n,"options");if((n===null||n===void 0?void 0:n.signal)!=null)W(n.signal,"options.signal");let j$=[];for await(let P$ of this){var s;if(n!==null&&n!==void 0&&(s=n.signal)!==null&&s!==void 0&&s.aborted)throw new v(void 0,{cause:n.signal.reason});L(j$,P$)}return j$}function l(n,j$){let s=f.call(this,n,j$);return async function*(){for await(let P$ of s)yield*P$}.call(this)}function o(n){if(n=p(n),i(n))return 0;if(n<0)throw new Y("number",">= 0",n);return n}function T$(n,j$=void 0){if(j$!=null)Z(j$,"options");if((j$===null||j$===void 0?void 0:j$.signal)!=null)W(j$.signal,"options.signal");return n=o(n),async function*(){var s;if(j$!==null&&j$!==void 0&&(s=j$.signal)!==null&&s!==void 0&&s.aborted)throw new v;for await(let n$ of this){var P$;if(j$!==null&&j$!==void 0&&(P$=j$.signal)!==null&&P$!==void 0&&P$.aborted)throw new v;if(n--<=0)yield n$}}.call(this)}function e(n,j$=void 0){if(j$!=null)Z(j$,"options");if((j$===null||j$===void 0?void 0:j$.signal)!=null)W(j$.signal,"options.signal");return n=o(n),async function*(){var s;if(j$!==null&&j$!==void 0&&(s=j$.signal)!==null&&s!==void 0&&s.aborted)throw new v;for await(let n$ of this){var P$;if(j$!==null&&j$!==void 0&&(P$=j$.signal)!==null&&P$!==void 0&&P$.aborted)throw new v;if(n-- >0)yield n$;if(n<=0)return}}.call(this)}q.exports.streamReturningOperators={asIndexedPairs:h(V,"readable.asIndexedPairs will be removed in a future version."),drop:T$,filter:I,flatMap:l,map:f,take:e,compose:H},q.exports.promiseReturningOperators={every:A,forEach:G,reduce:g,toArray:x,some:S,find:z}}),lC=C6(($,q)=>{var{ArrayPrototypePop:_,Promise:P}=m6(),{isIterable:K,isNodeStream:O,isWebStream:Y}=g_(),{pipelineImpl:v}=Gw(),{finished:W}=fK();rC();function T(...Z){return new P((w,k)=>{let M,N,R=Z[Z.length-1];if(R&&typeof R==="object"&&!O(R)&&!K(R)&&!Y(R)){let E=_(Z);M=E.signal,N=E.end}v(Z,(E,D)=>{if(E)k(E);else w(D)},{signal:M,end:N})})}q.exports={finished:W,pipeline:T}}),rC=C6(($,q)=>{var{Buffer:_}=(Xq(),H6(fq)),{ObjectDefineProperty:P,ObjectKeys:K,ReflectApply:O}=m6(),{promisify:{custom:Y}}=P8(),{streamReturningOperators:v,promiseReturningOperators:W}=RB(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:T}}=iq(),Z=dC(),{setDefaultHighWaterMark:w,getDefaultHighWaterMark:k}=MY(),{pipeline:M}=Gw(),{destroyer:N}=SP(),R=fK(),E=lC(),D=g_(),h=q.exports=Aw().Stream;h.isDestroyed=D.isDestroyed,h.isDisturbed=D.isDisturbed,h.isErrored=D.isErrored,h.isReadable=D.isReadable,h.isWritable=D.isWritable,h.Readable=NY();for(let b of K(v)){let y=function(...i){if(new.target)throw T();return h.Readable.from(O(p,this,i))},p=v[b];P(y,"name",{__proto__:null,value:p.name}),P(y,"length",{__proto__:null,value:p.length}),P(h.Readable.prototype,b,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(let b of K(W)){let y=function(...i){if(new.target)throw T();return O(p,this,i)},p=W[b];P(y,"name",{__proto__:null,value:p.name}),P(y,"length",{__proto__:null,value:p.length}),P(h.Readable.prototype,b,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}h.Writable=kw(),h.Duplex=L_(),h.Transform=cC(),h.PassThrough=mC(),h.pipeline=M;var{addAbortSignal:L}=SY();h.addAbortSignal=L,h.finished=R,h.destroy=N,h.compose=Z,h.setDefaultHighWaterMark=w,h.getDefaultHighWaterMark=k,P(h,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return E}}),P(M,Y,{__proto__:null,enumerable:!0,get(){return E.pipeline}}),P(R,Y,{__proto__:null,enumerable:!0,get(){return E.finished}}),h.Stream=h,h._isUint8Array=function(b){return b instanceof Uint8Array},h._uint8ArrayToBuffer=function(b){return _.from(b.buffer,b.byteOffset,b.byteLength)}}),IB=C6(($,q)=>{var _=Vw();{let P=rC(),K=lC(),O=P.Readable.destroy;q.exports=P.Readable,q.exports._uint8ArrayToBuffer=P._uint8ArrayToBuffer,q.exports._isUint8Array=P._isUint8Array,q.exports.isDisturbed=P.isDisturbed,q.exports.isErrored=P.isErrored,q.exports.isReadable=P.isReadable,q.exports.Readable=P.Readable,q.exports.Writable=P.Writable,q.exports.Duplex=P.Duplex,q.exports.Transform=P.Transform,q.exports.PassThrough=P.PassThrough,q.exports.addAbortSignal=P.addAbortSignal,q.exports.finished=P.finished,q.exports.destroy=P.destroy,q.exports.destroy=O,q.exports.pipeline=P.pipeline,q.exports.compose=P.compose,Object.defineProperty(P,"promises",{configurable:!0,enumerable:!0,get(){return K}}),q.exports.Stream=P.Stream}q.exports.default=q.exports});oC.exports=IB()});var Uq={};Rq(Uq,{webcrypto:()=>qF,rng:()=>Tt,randomUUID:()=>et,randomFillSync:()=>Ut,randomFill:()=>Bt,randomBytes:()=>wt,publicEncrypt:()=>rt,publicDecrypt:()=>nt,pseudoRandomBytes:()=>Ht,prng:()=>Wt,privateEncrypt:()=>ot,privateDecrypt:()=>it,pbkdf2Sync:()=>Vt,pbkdf2:()=>Gt,listCiphers:()=>Lt,getRandomValues:()=>at,getHashes:()=>kt,getDiffieHellman:()=>yt,getCurves:()=>$F,getCiphers:()=>Dt,default:()=>_F,createVerify:()=>mt,createSign:()=>pt,createHmac:()=>At,createHash:()=>ft,createECDH:()=>lt,createDiffieHellmanGroup:()=>bt,createDiffieHellman:()=>ut,createDecipheriv:()=>ht,createDecipher:()=>Rt,createCredentials:()=>tt,createCipheriv:()=>Ct,createCipher:()=>Mt,constants:()=>Ft,Verify:()=>dt,Sign:()=>ct,Hmac:()=>Xt,Hash:()=>Zt,DiffieHellmanGroup:()=>gt,DiffieHellman:()=>xt,Decipheriv:()=>It,Decipher:()=>Et,DEFAULT_ENCODING:()=>Qt,Cipheriv:()=>Nt,Cipher:()=>St});function $F(){return st}var hB,DB,nC,LB,gB,bB=($,q,_)=>{_=$!=null?hB(DB($)):{};let P=q||!$||!$.__esModule?nC(_,"default",{value:$,enumerable:!0}):_;for(let K of LB($))if(!gB.call(P,K))nC(P,K,{get:()=>$[K],enumerable:!0});return P},Z$=($,q)=>()=>(q||$((q={exports:{}}).exports,q),q.exports),CY,EY,BC,yB,Mw,Nw,Bq,uB,L7,UC,xB,pB,cB,mB,tC,dB,lB,rB,oB,nB,iB,BB,UB,tB,FB,g7,RY,FC,QB,QC,aC,aB,b7,Cw,Ew,eB,eC,Rw,sB,sC,$U,$E,qE,qU,_U,KU,PU,YU,OU,jU,vU,zU,JU,WU,HU,TU,wU,Iw,_E,ZU,KE,fU,XU,AU,kU,b_,XK,PE,E8,YE,IY,GU,T8,VU,SU,MU,OE,H_,y7,jE,NU,vE,CU,zE,EU,RU,IU,hU,hw,DU,Dw,LU,gU,bU,yU,uU,xU,pU,cU,mU,dU,lU,rU,oU,nU,iC,iU,D7,BU,JE,WE,UU,tU,HE,FU,QU,u7,aU,eU,sU,$t,qt,_t,TE,Kt,wE,ZE,fE,Lw,XE,Pt,AE,Yt,Ot,Sw,jt,vt,zt,Jt,X6,Wt,Ht,Tt,wt,Zt,ft,Xt,At,kt,Gt,Vt,St,Mt,Nt,Ct,Et,Rt,It,ht,Dt,Lt,gt,bt,yt,ut,xt,pt,ct,mt,dt,lt,rt,ot,nt,it,Bt,Ut,tt,Ft,Qt="buffer",at=($)=>{return crypto.getRandomValues($)},et=()=>{return crypto.randomUUID()},st,qF,_F;var tq=P4(()=>{hB=Object.create,{getPrototypeOf:DB,defineProperty:nC,getOwnPropertyNames:LB}=Object,gB=Object.prototype.hasOwnProperty,CY=Z$(($,q)=>{q.exports=(tq(),H6(Uq)).randomBytes}),EY=Z$(($,q)=>{q.exports=(tq(),H6(Uq)).createHash}),BC=Z$(($,q)=>{q.exports=(tq(),H6(Uq)).createHmac}),yB=Z$(($,q)=>{q.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),Mw=Z$(($,q)=>{var _=isFinite,P=Math.pow(2,30)-1;q.exports=function(K,O){if(typeof K!=="number")throw TypeError("Iterations not a number");if(K<0||!_(K))throw TypeError("Bad iterations");if(typeof O!=="number")throw TypeError("Key length not a number");if(O<0||O>P||O!==O)throw TypeError("Bad key length")}}),Nw=Z$(($,q)=>{var _;if(globalThis.process&&globalThis.process.browser)_="utf-8";else if(globalThis.process&&globalThis.process.version)P=parseInt(process.version.split(".")[0].slice(1),10),_=P>=6?"utf-8":"binary";else _="utf-8";var P;q.exports=_}),Bq=Z$(($,q)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _=(Xq(),H6(fq)),P=_.Buffer;function K(Y,v){for(var W in Y)v[W]=Y[W]}if(P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow)q.exports=_;else K(_,$),$.Buffer=O;function O(Y,v,W){return P(Y,v,W)}O.prototype=Object.create(P.prototype),K(P,O),O.from=function(Y,v,W){if(typeof Y==="number")throw TypeError("Argument must not be a number");return P(Y,v,W)},O.alloc=function(Y,v,W){if(typeof Y!=="number")throw TypeError("Argument must be a number");var T=P(Y);if(v!==void 0)if(typeof W==="string")T.fill(v,W);else T.fill(v);else T.fill(0);return T},O.allocUnsafe=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return P(Y)},O.allocUnsafeSlow=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return _.SlowBuffer(Y)}}),uB=Z$(($,q)=>{var _={}.toString;q.exports=Array.isArray||function(P){return _.call(P)=="[object Array]"}}),L7=Z$(($,q)=>{q.exports=TypeError}),UC=Z$(($,q)=>{q.exports=Object}),xB=Z$(($,q)=>{q.exports=Error}),pB=Z$(($,q)=>{q.exports=EvalError}),cB=Z$(($,q)=>{q.exports=RangeError}),mB=Z$(($,q)=>{q.exports=ReferenceError}),tC=Z$(($,q)=>{q.exports=SyntaxError}),dB=Z$(($,q)=>{q.exports=URIError}),lB=Z$(($,q)=>{q.exports=Math.abs}),rB=Z$(($,q)=>{q.exports=Math.floor}),oB=Z$(($,q)=>{q.exports=Math.max}),nB=Z$(($,q)=>{q.exports=Math.min}),iB=Z$(($,q)=>{q.exports=Math.pow}),BB=Z$(($,q)=>{q.exports=Math.round}),UB=Z$(($,q)=>{q.exports=Number.isNaN||function(_){return _!==_}}),tB=Z$(($,q)=>{var _=UB();q.exports=function(P){if(_(P)||P===0)return P;return P<0?-1:1}}),FB=Z$(($,q)=>{q.exports=Object.getOwnPropertyDescriptor}),g7=Z$(($,q)=>{var _=FB();if(_)try{_([],"length")}catch(P){_=null}q.exports=_}),RY=Z$(($,q)=>{var _=Object.defineProperty||!1;if(_)try{_({},"a",{value:1})}catch(P){_=!1}q.exports=_}),FC=Z$(($,q)=>{q.exports=function(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var _={},P=Symbol("test"),K=Object(P);if(typeof P==="string")return!1;if(Object.prototype.toString.call(P)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(K)!=="[object Symbol]")return!1;var O=42;_[P]=O;for(var Y in _)return!1;if(typeof Object.keys==="function"&&Object.keys(_).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(_).length!==0)return!1;var v=Object.getOwnPropertySymbols(_);if(v.length!==1||v[0]!==P)return!1;if(!Object.prototype.propertyIsEnumerable.call(_,P))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var W=Object.getOwnPropertyDescriptor(_,P);if(W.value!==O||W.enumerable!==!0)return!1}return!0}}),QB=Z$(($,q)=>{var _=typeof Symbol<"u"&&Symbol,P=FC();q.exports=function(){if(typeof _!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof _("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return P()}}),QC=Z$(($,q)=>{q.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null}),aC=Z$(($,q)=>{var _=UC();q.exports=_.getPrototypeOf||null}),aB=Z$(($,q)=>{var _="Function.prototype.bind called on incompatible ",P=Object.prototype.toString,K=Math.max,O="[object Function]",Y=function(T,Z){var w=[];for(var k=0;k<T.length;k+=1)w[k]=T[k];for(var M=0;M<Z.length;M+=1)w[M+T.length]=Z[M];return w},v=function(T,Z){var w=[];for(var k=Z||0,M=0;k<T.length;k+=1,M+=1)w[M]=T[k];return w},W=function(T,Z){var w="";for(var k=0;k<T.length;k+=1)if(w+=T[k],k+1<T.length)w+=Z;return w};q.exports=function(T){var Z=this;if(typeof Z!=="function"||P.apply(Z)!==O)throw TypeError(_+Z);var w=v(arguments,1),k,M=function(){if(this instanceof k){var h=Z.apply(this,Y(w,arguments));if(Object(h)===h)return h;return this}return Z.apply(T,Y(w,arguments))},N=K(0,Z.length-w.length),R=[];for(var E=0;E<N;E++)R[E]="$"+E;if(k=Function("binder","return function ("+W(R,",")+"){ return binder.apply(this,arguments); }")(M),Z.prototype){var D=function(){};D.prototype=Z.prototype,k.prototype=new D,D.prototype=null}return k}}),b7=Z$(($,q)=>{var _=aB();q.exports=Function.prototype.bind||_}),Cw=Z$(($,q)=>{q.exports=Function.prototype.call}),Ew=Z$(($,q)=>{q.exports=Function.prototype.apply}),eB=Z$(($,q)=>{q.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply}),eC=Z$(($,q)=>{var _=b7(),P=Ew(),K=Cw(),O=eB();q.exports=O||_.call(K,P)}),Rw=Z$(($,q)=>{var _=b7(),P=L7(),K=Cw(),O=eC();q.exports=function(Y){if(Y.length<1||typeof Y[0]!=="function")throw new P("a function is required");return O(_,K,Y)}}),sB=Z$(($,q)=>{var _=Rw(),P=g7(),K;try{K=[].__proto__===Array.prototype}catch(W){if(!W||typeof W!=="object"||!("code"in W)||W.code!=="ERR_PROTO_ACCESS")throw W}var O=!!K&&P&&P(Object.prototype,"__proto__"),Y=Object,v=Y.getPrototypeOf;q.exports=O&&typeof O.get==="function"?_([O.get]):typeof v==="function"?function(W){return v(W==null?W:Y(W))}:!1}),sC=Z$(($,q)=>{var _=QC(),P=aC(),K=sB();q.exports=_?function(O){return _(O)}:P?function(O){if(!O||typeof O!=="object"&&typeof O!=="function")throw TypeError("getProto: not an object");return P(O)}:K?function(O){return K(O)}:null}),$U=Z$(($,q)=>{var _=Function.prototype.call,P=Object.prototype.hasOwnProperty,K=b7();q.exports=K.call(_,P)}),$E=Z$(($,q)=>{var _,P=UC(),K=xB(),O=pB(),Y=cB(),v=mB(),W=tC(),T=L7(),Z=dB(),w=lB(),k=rB(),M=oB(),N=nB(),R=iB(),E=BB(),D=tB(),h=Function,L=function(j$){try{return h('"use strict"; return ('+j$+").constructor;")()}catch(s){}},b=g7(),y=RY(),p=function(){throw new T},i=b?function(){try{return arguments.callee,p}catch(j$){try{return b(arguments,"callee").get}catch(s){return p}}}():p,$$=QB()(),Q=sC(),c=aC(),a=QC(),j=Ew(),J=Cw(),X={},H=typeof Uint8Array>"u"||!Q?_:Q(Uint8Array),f={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_:ArrayBuffer,"%ArrayIteratorPrototype%":$$&&Q?Q([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":X,"%AsyncGenerator%":X,"%AsyncGeneratorFunction%":X,"%AsyncIteratorPrototype%":X,"%Atomics%":typeof Atomics>"u"?_:Atomics,"%BigInt%":typeof BigInt>"u"?_:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":K,"%eval%":eval,"%EvalError%":O,"%Float16Array%":typeof Float16Array>"u"?_:Float16Array,"%Float32Array%":typeof Float32Array>"u"?_:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":X,"%Int8Array%":typeof Int8Array>"u"?_:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$$&&Q?Q(Q([][Symbol.iterator]())):_,"%JSON%":typeof JSON==="object"?JSON:_,"%Map%":typeof Map>"u"?_:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$$||!Q?_:Q(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":P,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_:Promise,"%Proxy%":typeof Proxy>"u"?_:Proxy,"%RangeError%":Y,"%ReferenceError%":v,"%Reflect%":typeof Reflect>"u"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$$||!Q?_:Q(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$$&&Q?Q(""[Symbol.iterator]()):_,"%Symbol%":$$?Symbol:_,"%SyntaxError%":W,"%ThrowTypeError%":i,"%TypedArray%":H,"%TypeError%":T,"%Uint8Array%":typeof Uint8Array>"u"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_:Uint32Array,"%URIError%":Z,"%WeakMap%":typeof WeakMap>"u"?_:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_:WeakSet,"%Function.prototype.call%":J,"%Function.prototype.apply%":j,"%Object.defineProperty%":y,"%Object.getPrototypeOf%":c,"%Math.abs%":w,"%Math.floor%":k,"%Math.max%":M,"%Math.min%":N,"%Math.pow%":R,"%Math.round%":E,"%Math.sign%":D,"%Reflect.getPrototypeOf%":a};if(Q)try{null.error}catch(j$){V=Q(Q(j$)),f["%Error.prototype%"]=V}var V,S=function j$(s){var P$;if(s==="%AsyncFunction%")P$=L("async function () {}");else if(s==="%GeneratorFunction%")P$=L("function* () {}");else if(s==="%AsyncGeneratorFunction%")P$=L("async function* () {}");else if(s==="%AsyncGenerator%"){var n$=j$("%AsyncGeneratorFunction%");if(n$)P$=n$.prototype}else if(s==="%AsyncIteratorPrototype%"){var m=j$("%AsyncGenerator%");if(m&&Q)P$=Q(m.prototype)}return f[s]=P$,P$},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=b7(),G=$U(),I=z.call(J,Array.prototype.concat),C=z.call(j,Array.prototype.splice),g=z.call(J,String.prototype.replace),x=z.call(J,String.prototype.slice),l=z.call(J,RegExp.prototype.exec),o=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T$=/\\(\\)?/g,e=function(j$){var s=x(j$,0,1),P$=x(j$,-1);if(s==="%"&&P$!=="%")throw new W("invalid intrinsic syntax, expected closing `%`");else if(P$==="%"&&s!=="%")throw new W("invalid intrinsic syntax, expected opening `%`");var n$=[];return g(j$,o,function(m,r,W$,q$){n$[n$.length]=W$?g(q$,T$,"$1"):r||m}),n$},n=function(j$,s){var P$=j$,n$;if(G(A,P$))n$=A[P$],P$="%"+n$[0]+"%";if(G(f,P$)){var m=f[P$];if(m===X)m=S(P$);if(typeof m>"u"&&!s)throw new T("intrinsic "+j$+" exists, but is not available. Please file an issue!");return{alias:n$,name:P$,value:m}}throw new W("intrinsic "+j$+" does not exist!")};q.exports=function(j$,s){if(typeof j$!=="string"||j$.length===0)throw new T("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof s!=="boolean")throw new T('"allowMissing" argument must be a boolean');if(l(/^%?[^%]*%?$/,j$)===null)throw new W("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var P$=e(j$),n$=P$.length>0?P$[0]:"",m=n("%"+n$+"%",s),r=m.name,W$=m.value,q$=!1,_$=m.alias;if(_$)n$=_$[0],C(P$,I([0,1],_$));for(var v$=1,d=!0;v$<P$.length;v$+=1){var B=P$[v$],H$=x(B,0,1),t=x(B,-1);if((H$==='"'||H$==="'"||H$==="`"||(t==='"'||t==="'"||t==="`"))&&H$!==t)throw new W("property names with quotes must have matching quotes");if(B==="constructor"||!d)q$=!0;if(n$+="."+B,r="%"+n$+"%",G(f,r))W$=f[r];else if(W$!=null){if(!(B in W$)){if(!s)throw new T("base intrinsic for "+j$+" exists, but the property is not available.");return}if(b&&v$+1>=P$.length){var F=b(W$,B);if(d=!!F,d&&"get"in F&&!("originalValue"in F.get))W$=F.get;else W$=W$[B]}else d=G(W$,B),W$=W$[B];if(d&&!q$)f[r]=W$}}return W$}}),qE=Z$(($,q)=>{var _=$E(),P=Rw(),K=P([_("%String.prototype.indexOf%")]);q.exports=function(O,Y){var v=_(O,!!Y);if(typeof v==="function"&&K(O,".prototype.")>-1)return P([v]);return v}}),qU=Z$(($,q)=>{var _=Function.prototype.toString,P=typeof Reflect==="object"&&Reflect!==null&&Reflect.apply,K,O;if(typeof P==="function"&&typeof Object.defineProperty==="function")try{K=Object.defineProperty({},"length",{get:function(){throw O}}),O={},P(function(){throw 42},null,K)}catch(b){if(b!==O)P=null}else P=null;var Y=/^\s*class\b/,v=function(b){try{var y=_.call(b);return Y.test(y)}catch(p){return!1}},W=function(b){try{if(v(b))return!1;return _.call(b),!0}catch(y){return!1}},T=Object.prototype.toString,Z="[object Object]",w="[object Function]",k="[object GeneratorFunction]",M="[object HTMLAllCollection]",N="[object HTML document.all class]",R="[object HTMLCollection]",E=typeof Symbol==="function"&&!!Symbol.toStringTag,D=!(0 in[,]),h=function(){return!1};if(typeof document==="object"){if(L=document.all,T.call(L)===T.call(document.all))h=function(b){if((D||!b)&&(typeof b>"u"||typeof b==="object"))try{var y=T.call(b);return(y===M||y===N||y===R||y===Z)&&b("")==null}catch(p){}return!1}}var L;q.exports=P?function(b){if(h(b))return!0;if(!b)return!1;if(typeof b!=="function"&&typeof b!=="object")return!1;try{P(b,null,K)}catch(y){if(y!==O)return!1}return!v(b)&&W(b)}:function(b){if(h(b))return!0;if(!b)return!1;if(typeof b!=="function"&&typeof b!=="object")return!1;if(E)return W(b);if(v(b))return!1;var y=T.call(b);if(y!==w&&y!==k&&!/^\[object HTML/.test(y))return!1;return W(b)}}),_U=Z$(($,q)=>{var _=qU(),P=Object.prototype.toString,K=Object.prototype.hasOwnProperty,O=function(T,Z,w){for(var k=0,M=T.length;k<M;k++)if(K.call(T,k))if(w==null)Z(T[k],k,T);else Z.call(w,T[k],k,T)},Y=function(T,Z,w){for(var k=0,M=T.length;k<M;k++)if(w==null)Z(T.charAt(k),k,T);else Z.call(w,T.charAt(k),k,T)},v=function(T,Z,w){for(var k in T)if(K.call(T,k))if(w==null)Z(T[k],k,T);else Z.call(w,T[k],k,T)};function W(T){return P.call(T)==="[object Array]"}q.exports=function(T,Z,w){if(!_(Z))throw TypeError("iterator must be a function");var k;if(arguments.length>=3)k=w;if(W(T))O(T,Z,k);else if(typeof T==="string")Y(T,Z,k);else v(T,Z,k)}}),KU=Z$(($,q)=>{q.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}),PU=Z$(($,q)=>{var _=KU(),P=typeof globalThis>"u"?globalThis:globalThis;q.exports=function(){var K=[];for(var O=0;O<_.length;O++)if(typeof P[_[O]]==="function")K[K.length]=_[O];return K}}),YU=Z$(($,q)=>{var _=RY(),P=tC(),K=L7(),O=g7();q.exports=function(Y,v,W){if(!Y||typeof Y!=="object"&&typeof Y!=="function")throw new K("`obj` must be an object or a function`");if(typeof v!=="string"&&typeof v!=="symbol")throw new K("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null)throw new K("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null)throw new K("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null)throw new K("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!=="boolean")throw new K("`loose`, if provided, must be a boolean");var T=arguments.length>3?arguments[3]:null,Z=arguments.length>4?arguments[4]:null,w=arguments.length>5?arguments[5]:null,k=arguments.length>6?arguments[6]:!1,M=!!O&&O(Y,v);if(_)_(Y,v,{configurable:w===null&&M?M.configurable:!w,enumerable:T===null&&M?M.enumerable:!T,value:W,writable:Z===null&&M?M.writable:!Z});else if(k||!T&&!Z&&!w)Y[v]=W;else throw new P("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}),OU=Z$(($,q)=>{var _=RY(),P=function(){return!!_};P.hasArrayLengthDefineBug=function(){if(!_)return null;try{return _([],"length",{value:1}).length!==1}catch(K){return!0}},q.exports=P}),jU=Z$(($,q)=>{var _=$E(),P=YU(),K=OU()(),O=g7(),Y=L7(),v=_("%Math.floor%");q.exports=function(W,T){if(typeof W!=="function")throw new Y("`fn` is not a function");if(typeof T!=="number"||T<0||T>4294967295||v(T)!==T)throw new Y("`length` must be a positive 32-bit integer");var Z=arguments.length>2&&!!arguments[2],w=!0,k=!0;if("length"in W&&O){var M=O(W,"length");if(M&&!M.configurable)w=!1;if(M&&!M.writable)k=!1}if(w||k||!Z)if(K)P(W,"length",T,!0,!0);else P(W,"length",T);return W}}),vU=Z$(($,q)=>{var _=b7(),P=Ew(),K=eC();q.exports=function(){return K(_,P,arguments)}}),zU=Z$(($,q)=>{var _=jU(),P=RY(),K=Rw(),O=vU();if(q.exports=function(Y){var v=K(arguments),W=Y.length-(arguments.length-1);return _(v,1+(W>0?W:0),!0)},P)P(q.exports,"apply",{value:O});else q.exports.apply=O}),JU=Z$(($,q)=>{var _=FC();q.exports=function(){return _()&&!!Symbol.toStringTag}}),WU=Z$(($,q)=>{var _=_U(),P=PU(),K=zU(),O=qE(),Y=g7(),v=sC(),W=O("Object.prototype.toString"),T=JU()(),Z=typeof globalThis>"u"?globalThis:globalThis,w=P(),k=O("String.prototype.slice"),M=O("Array.prototype.indexOf",!0)||function(D,h){for(var L=0;L<D.length;L+=1)if(D[L]===h)return L;return-1},N={__proto__:null};if(T&&Y&&v)_(w,function(D){var h=new Z[D];if(Symbol.toStringTag in h&&v){var L=v(h),b=Y(L,Symbol.toStringTag);if(!b&&L){var y=v(L);b=Y(y,Symbol.toStringTag)}N["$"+D]=K(b.get)}});else _(w,function(D){var h=new Z[D],L=h.slice||h.set;if(L)N["$"+D]=K(L)});var R=function(D){var h=!1;return _(N,function(L,b){if(!h)try{if("$"+L(D)===b)h=k(b,1)}catch(y){}}),h},E=function(D){var h=!1;return _(N,function(L,b){if(!h)try{L(D),h=k(b,1)}catch(y){}}),h};q.exports=function(D){if(!D||typeof D!=="object")return!1;if(!T){var h=k(W(D),8,-1);if(M(w,h)>-1)return h;if(h!=="Object")return!1;return E(D)}if(!Y)return null;return R(D)}}),HU=Z$(($,q)=>{var _=WU();q.exports=function(P){return!!_(P)}}),TU=Z$(($,q)=>{var _=L7(),P=qE(),K=P("TypedArray.prototype.buffer",!0),O=HU();q.exports=K||function(Y){if(!O(Y))throw new _("Not a Typed Array");return Y.buffer}}),wU=Z$(($,q)=>{var _=Bq().Buffer,P=uB(),K=TU(),O=ArrayBuffer.isView||function(T){try{return K(T),!0}catch(Z){return!1}},Y=typeof Uint8Array<"u",v=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",W=v&&(_.prototype instanceof Uint8Array||_.TYPED_ARRAY_SUPPORT);q.exports=function(T,Z){if(_.isBuffer(T)){if(T.constructor&&!("isBuffer"in T))return _.from(T);return T}if(typeof T==="string")return _.from(T,Z);if(v&&O(T)){if(T.byteLength===0)return _.alloc(0);if(W){var w=_.from(T.buffer,T.byteOffset,T.byteLength);if(w.byteLength===T.byteLength)return w}var k=T instanceof Uint8Array?T:new Uint8Array(T.buffer,T.byteOffset,T.byteLength),M=_.from(k);if(M.length===T.byteLength)return M}if(Y&&T instanceof Uint8Array)return _.from(T);var N=P(T);if(N)for(var R=0;R<T.length;R+=1){var E=T[R];if(typeof E!=="number"||E<0||E>255||~~E!==E)throw RangeError("Array items must be numbers in the range 0-255.")}if(N||_.isBuffer(T)&&T.constructor&&typeof T.constructor.isBuffer==="function"&&T.constructor.isBuffer(T))return _.from(T);throw TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}}),Iw=Z$(($,q)=>{var _=Bq().Buffer,P=wU(),K=typeof Uint8Array<"u",O=K&&typeof ArrayBuffer<"u",Y=O&&ArrayBuffer.isView;q.exports=function(v,W,T){if(typeof v==="string"||_.isBuffer(v)||K&&v instanceof Uint8Array||Y&&Y(v))return P(v,W);throw TypeError(T+" must be a string, a Buffer, a Uint8Array, or a DataView")}}),_E=Z$(($,q)=>{var _={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,rmd160:20,ripemd160:20},P={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"},K=BC(),O=Bq().Buffer,Y=Mw(),v=Nw(),W=Iw();function T(Z,w,k,M,N){Y(k,M),Z=W(Z,v,"Password"),w=W(w,v,"Salt");var R=(N||"sha1").toLowerCase(),E=P[R]||R,D=_[E];if(typeof D!=="number"||!D)throw TypeError("Digest algorithm not supported: "+N);var h=O.allocUnsafe(M),L=O.allocUnsafe(w.length+4);w.copy(L,0,0,w.length);var b=0,y=D,p=Math.ceil(M/y);for(var i=1;i<=p;i++){L.writeUInt32BE(i,w.length);var $$=K(E,Z).update(L).digest(),Q=$$;for(var c=1;c<k;c++){Q=K(E,Z).update(Q).digest();for(var a=0;a<y;a++)$$[a]^=Q[a]}$$.copy(h,b),b+=y}return h}q.exports=T}),ZU=Z$(($,q)=>{var _=Bq().Buffer,P=Mw(),K=Nw(),O=_E(),Y=Iw(),v,W=globalThis.crypto&&globalThis.crypto.subtle,T={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Z=[],w;function k(){if(w)return w;if(globalThis.process&&globalThis.process.nextTick)w=globalThis.process.nextTick;else if(globalThis.queueMicrotask)w=globalThis.queueMicrotask;else if(globalThis.setImmediate)w=globalThis.setImmediate;else w=globalThis.setTimeout;return w}function M(E,D,h,L,b){return W.importKey("raw",E,{name:"PBKDF2"},!1,["deriveBits"]).then(function(y){return W.deriveBits({name:"PBKDF2",salt:D,iterations:h,hash:{name:b}},y,L<<3)}).then(function(y){return _.from(y)})}function N(E){if(globalThis.process&&!globalThis.process.browser)return Promise.resolve(!1);if(!W||!W.importKey||!W.deriveBits)return Promise.resolve(!1);if(Z[E]!==void 0)return Z[E];v=v||_.alloc(8);var D=M(v,v,10,128,E).then(function(){return!0},function(){return!1});return Z[E]=D,D}function R(E,D){E.then(function(h){k()(function(){D(null,h)})},function(h){k()(function(){D(h)})})}q.exports=function(E,D,h,L,b,y){if(typeof b==="function")y=b,b=void 0;if(P(h,L),E=Y(E,K,"Password"),D=Y(D,K,"Salt"),typeof y!=="function")throw Error("No callback provided to pbkdf2");b=b||"sha1";var p=T[b.toLowerCase()];if(!p||typeof globalThis.Promise!=="function"){k()(function(){var i;try{i=O(E,D,h,L,b)}catch($$){y($$);return}y(null,i)});return}R(N(p).then(function(i){if(i)return M(E,D,h,L,p);return O(E,D,h,L,b)}),y)}}),KE=Z$(($)=>{var q=(tq(),H6(Uq)),_=Mw(),P=Nw(),K=Iw();function O(v,W,T,Z,w,k){if(_(T,Z),v=K(v,P,"Password"),W=K(W,P,"Salt"),typeof w==="function")k=w,w="sha1";if(typeof k!=="function")throw Error("No callback provided to pbkdf2");return q.pbkdf2(v,W,T,Z,w,k)}function Y(v,W,T,Z,w){return _(T,Z),v=K(v,P,"Password"),W=K(W,P,"Salt"),w=w||"sha1",q.pbkdf2Sync(v,W,T,Z,w)}if(!q.pbkdf2Sync||q.pbkdf2Sync.toString().indexOf("keylen, digest")===-1)$.pbkdf2Sync=_E(),$.pbkdf2=ZU();else $.pbkdf2Sync=Y,$.pbkdf2=O}),fU=Z$(($)=>{var q=(tq(),H6(Uq));$.createCipher=$.Cipher=q.createCipher,$.createCipheriv=$.Cipheriv=q.createCipheriv,$.createDecipher=$.Decipher=q.createDecipher,$.createDecipheriv=$.Decipheriv=q.createDecipheriv,$.listCiphers=$.getCiphers=q.getCiphers}),XU=Z$(($)=>{var q=(tq(),H6(Uq));$.DiffieHellmanGroup=q.DiffieHellmanGroup,$.createDiffieHellmanGroup=q.createDiffieHellmanGroup,$.getDiffieHellman=q.getDiffieHellman,$.createDiffieHellman=q.createDiffieHellman,$.DiffieHellman=q.DiffieHellman}),AU=Z$(($)=>{var q=(tq(),H6(Uq));$.createSign=q.createSign,$.Sign=q.Sign,$.createVerify=q.createVerify,$.Verify=q.Verify}),kU=Z$(($,q)=>{q.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),b_=Z$(($,q)=>{(function(_,P){function K(j,J){if(!j)throw Error(J||"Assertion failed")}function O(j,J){j.super_=J;var X=function(){};X.prototype=J.prototype,j.prototype=new X,j.prototype.constructor=j}function Y(j,J,X){if(Y.isBN(j))return j;if(this.negative=0,this.words=null,this.length=0,this.red=null,j!==null){if(J==="le"||J==="be")X=J,J=10;this._init(j||0,J||10,X||"be")}}if(typeof _==="object")_.exports=Y;else P.BN=Y;Y.BN=Y,Y.wordSize=26;var v;try{if(typeof window<"u"&&typeof window.Buffer<"u")v=window.Buffer;else v=(Xq(),H6(fq)).Buffer}catch(j){}Y.isBN=function(j){if(j instanceof Y)return!0;return j!==null&&typeof j==="object"&&j.constructor.wordSize===Y.wordSize&&Array.isArray(j.words)},Y.max=function(j,J){if(j.cmp(J)>0)return j;return J},Y.min=function(j,J){if(j.cmp(J)<0)return j;return J},Y.prototype._init=function(j,J,X){if(typeof j==="number")return this._initNumber(j,J,X);if(typeof j==="object")return this._initArray(j,J,X);if(J==="hex")J=16;K(J===(J|0)&&J>=2&&J<=36),j=j.toString().replace(/\s+/g,"");var H=0;if(j[0]==="-")H++,this.negative=1;if(H<j.length){if(J===16)this._parseHex(j,H,X);else if(this._parseBase(j,J,H),X==="le")this._initArray(this.toArray(),J,X)}},Y.prototype._initNumber=function(j,J,X){if(j<0)this.negative=1,j=-j;if(j<67108864)this.words=[j&67108863],this.length=1;else if(j<4503599627370496)this.words=[j&67108863,j/67108864&67108863],this.length=2;else K(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3;if(X!=="le")return;this._initArray(this.toArray(),J,X)},Y.prototype._initArray=function(j,J,X){if(K(typeof j.length==="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var f,V,S=0;if(X==="be"){for(H=j.length-1,f=0;H>=0;H-=3)if(V=j[H]|j[H-1]<<8|j[H-2]<<16,this.words[f]|=V<<S&67108863,this.words[f+1]=V>>>26-S&67108863,S+=24,S>=26)S-=26,f++}else if(X==="le"){for(H=0,f=0;H<j.length;H+=3)if(V=j[H]|j[H+1]<<8|j[H+2]<<16,this.words[f]|=V<<S&67108863,this.words[f+1]=V>>>26-S&67108863,S+=24,S>=26)S-=26,f++}return this.strip()};function W(j,J){var X=j.charCodeAt(J);if(X>=65&&X<=70)return X-55;else if(X>=97&&X<=102)return X-87;else return X-48&15}function T(j,J,X){var H=W(j,X);if(X-1>=J)H|=W(j,X-1)<<4;return H}Y.prototype._parseHex=function(j,J,X){this.length=Math.ceil((j.length-J)/6),this.words=Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var f=0,V=0,S;if(X==="be")for(H=j.length-1;H>=J;H-=2)if(S=T(j,J,H)<<f,this.words[V]|=S&67108863,f>=18)f-=18,V+=1,this.words[V]|=S>>>26;else f+=8;else{var A=j.length-J;for(H=A%2===0?J+1:J;H<j.length;H+=2)if(S=T(j,J,H)<<f,this.words[V]|=S&67108863,f>=18)f-=18,V+=1,this.words[V]|=S>>>26;else f+=8}this.strip()};function Z(j,J,X,H){var f=0,V=Math.min(j.length,X);for(var S=J;S<V;S++){var A=j.charCodeAt(S)-48;if(f*=H,A>=49)f+=A-49+10;else if(A>=17)f+=A-17+10;else f+=A}return f}Y.prototype._parseBase=function(j,J,X){this.words=[0],this.length=1;for(var H=0,f=1;f<=67108863;f*=J)H++;H--,f=f/J|0;var V=j.length-X,S=V%H,A=Math.min(V,V-S)+X,z=0;for(var G=X;G<A;G+=H)if(z=Z(j,G,G+H,J),this.imuln(f),this.words[0]+z<67108864)this.words[0]+=z;else this._iaddn(z);if(S!==0){var I=1;z=Z(j,G,j.length,J);for(G=0;G<S;G++)I*=J;if(this.imuln(I),this.words[0]+z<67108864)this.words[0]+=z;else this._iaddn(z)}this.strip()},Y.prototype.copy=function(j){j.words=Array(this.length);for(var J=0;J<this.length;J++)j.words[J]=this.words[J];j.length=this.length,j.negative=this.negative,j.red=this.red},Y.prototype.clone=function(){var j=new Y(null);return this.copy(j),j},Y.prototype._expand=function(j){while(this.length<j)this.words[this.length++]=0;return this},Y.prototype.strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},Y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(j,J){j=j||10,J=J|0||1;var X;if(j===16||j==="hex"){X="";var H=0,f=0;for(var V=0;V<this.length;V++){var S=this.words[V],A=((S<<H|f)&16777215).toString(16);if(f=S>>>24-H&16777215,H+=2,H>=26)H-=26,V--;if(f!==0||V!==this.length-1)X=w[6-A.length]+A+X;else X=A+X}if(f!==0)X=f.toString(16)+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}if(j===(j|0)&&j>=2&&j<=36){var z=k[j],G=M[j];X="";var I=this.clone();I.negative=0;while(!I.isZero()){var C=I.modn(G).toString(j);if(I=I.idivn(G),!I.isZero())X=w[z-C.length]+C+X;else X=C+X}if(this.isZero())X="0"+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}K(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var j=this.words[0];if(this.length===2)j+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)j+=4503599627370496+this.words[1]*67108864;else if(this.length>2)K(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-j:j},Y.prototype.toJSON=function(){return this.toString(16)},Y.prototype.toBuffer=function(j,J){return K(typeof v<"u"),this.toArrayLike(v,j,J)},Y.prototype.toArray=function(j,J){return this.toArrayLike(Array,j,J)},Y.prototype.toArrayLike=function(j,J,X){var H=this.byteLength(),f=X||Math.max(1,H);K(H<=f,"byte array longer than desired length"),K(f>0,"Requested array length <= 0"),this.strip();var V=J==="le",S=new j(f),A,z,G=this.clone();if(!V){for(z=0;z<f-H;z++)S[z]=0;for(z=0;!G.isZero();z++)A=G.andln(255),G.iushrn(8),S[f-z-1]=A}else{for(z=0;!G.isZero();z++)A=G.andln(255),G.iushrn(8),S[z]=A;for(;z<f;z++)S[z]=0}return S},Math.clz32)Y.prototype._countBits=function(j){return 32-Math.clz32(j)};else Y.prototype._countBits=function(j){var J=j,X=0;if(J>=4096)X+=13,J>>>=13;if(J>=64)X+=7,J>>>=7;if(J>=8)X+=4,J>>>=4;if(J>=2)X+=2,J>>>=2;return X+J};Y.prototype._zeroBits=function(j){if(j===0)return 26;var J=j,X=0;if((J&8191)===0)X+=13,J>>>=13;if((J&127)===0)X+=7,J>>>=7;if((J&15)===0)X+=4,J>>>=4;if((J&3)===0)X+=2,J>>>=2;if((J&1)===0)X++;return X},Y.prototype.bitLength=function(){var j=this.words[this.length-1],J=this._countBits(j);return(this.length-1)*26+J};function N(j){var J=Array(j.bitLength());for(var X=0;X<J.length;X++){var H=X/26|0,f=X%26;J[X]=(j.words[H]&1<<f)>>>f}return J}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var j=0;for(var J=0;J<this.length;J++){var X=this._zeroBits(this.words[J]);if(j+=X,X!==26)break}return j},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(j){if(this.negative!==0)return this.abs().inotn(j).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(j){if(this.testn(j-1))return this.notn(j).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(j){while(this.length<j.length)this.words[this.length++]=0;for(var J=0;J<j.length;J++)this.words[J]=this.words[J]|j.words[J];return this.strip()},Y.prototype.ior=function(j){return K((this.negative|j.negative)===0),this.iuor(j)},Y.prototype.or=function(j){if(this.length>j.length)return this.clone().ior(j);return j.clone().ior(this)},Y.prototype.uor=function(j){if(this.length>j.length)return this.clone().iuor(j);return j.clone().iuor(this)},Y.prototype.iuand=function(j){var J;if(this.length>j.length)J=j;else J=this;for(var X=0;X<J.length;X++)this.words[X]=this.words[X]&j.words[X];return this.length=J.length,this.strip()},Y.prototype.iand=function(j){return K((this.negative|j.negative)===0),this.iuand(j)},Y.prototype.and=function(j){if(this.length>j.length)return this.clone().iand(j);return j.clone().iand(this)},Y.prototype.uand=function(j){if(this.length>j.length)return this.clone().iuand(j);return j.clone().iuand(this)},Y.prototype.iuxor=function(j){var J,X;if(this.length>j.length)J=this,X=j;else J=j,X=this;for(var H=0;H<X.length;H++)this.words[H]=J.words[H]^X.words[H];if(this!==J)for(;H<J.length;H++)this.words[H]=J.words[H];return this.length=J.length,this.strip()},Y.prototype.ixor=function(j){return K((this.negative|j.negative)===0),this.iuxor(j)},Y.prototype.xor=function(j){if(this.length>j.length)return this.clone().ixor(j);return j.clone().ixor(this)},Y.prototype.uxor=function(j){if(this.length>j.length)return this.clone().iuxor(j);return j.clone().iuxor(this)},Y.prototype.inotn=function(j){K(typeof j==="number"&&j>=0);var J=Math.ceil(j/26)|0,X=j%26;if(this._expand(J),X>0)J--;for(var H=0;H<J;H++)this.words[H]=~this.words[H]&67108863;if(X>0)this.words[H]=~this.words[H]&67108863>>26-X;return this.strip()},Y.prototype.notn=function(j){return this.clone().inotn(j)},Y.prototype.setn=function(j,J){K(typeof j==="number"&&j>=0);var X=j/26|0,H=j%26;if(this._expand(X+1),J)this.words[X]=this.words[X]|1<<H;else this.words[X]=this.words[X]&~(1<<H);return this.strip()},Y.prototype.iadd=function(j){var J;if(this.negative!==0&&j.negative===0)return this.negative=0,J=this.isub(j),this.negative^=1,this._normSign();else if(this.negative===0&&j.negative!==0)return j.negative=0,J=this.isub(j),j.negative=1,J._normSign();var X,H;if(this.length>j.length)X=this,H=j;else X=j,H=this;var f=0;for(var V=0;V<H.length;V++)J=(X.words[V]|0)+(H.words[V]|0)+f,this.words[V]=J&67108863,f=J>>>26;for(;f!==0&&V<X.length;V++)J=(X.words[V]|0)+f,this.words[V]=J&67108863,f=J>>>26;if(this.length=X.length,f!==0)this.words[this.length]=f,this.length++;else if(X!==this)for(;V<X.length;V++)this.words[V]=X.words[V];return this},Y.prototype.add=function(j){var J;if(j.negative!==0&&this.negative===0)return j.negative=0,J=this.sub(j),j.negative^=1,J;else if(j.negative===0&&this.negative!==0)return this.negative=0,J=j.sub(this),this.negative=1,J;if(this.length>j.length)return this.clone().iadd(j);return j.clone().iadd(this)},Y.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var J=this.iadd(j);return j.negative=1,J._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var X=this.cmp(j);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,f;if(X>0)H=this,f=j;else H=j,f=this;var V=0;for(var S=0;S<f.length;S++)J=(H.words[S]|0)-(f.words[S]|0)+V,V=J>>26,this.words[S]=J&67108863;for(;V!==0&&S<H.length;S++)J=(H.words[S]|0)+V,V=J>>26,this.words[S]=J&67108863;if(V===0&&S<H.length&&H!==this)for(;S<H.length;S++)this.words[S]=H.words[S];if(this.length=Math.max(this.length,S),H!==this)this.negative=1;return this.strip()},Y.prototype.sub=function(j){return this.clone().isub(j)};function R(j,J,X){X.negative=J.negative^j.negative;var H=j.length+J.length|0;X.length=H,H=H-1|0;var f=j.words[0]|0,V=J.words[0]|0,S=f*V,A=S&67108863,z=S/67108864|0;X.words[0]=A;for(var G=1;G<H;G++){var I=z>>>26,C=z&67108863,g=Math.min(G,J.length-1);for(var x=Math.max(0,G-j.length+1);x<=g;x++){var l=G-x|0;f=j.words[l]|0,V=J.words[x]|0,S=f*V+C,I+=S/67108864|0,C=S&67108863}X.words[G]=C|0,z=I|0}if(z!==0)X.words[G]=z|0;else X.length--;return X.strip()}var E=function(j,J,X){var H=j.words,f=J.words,V=X.words,S=0,A,z,G,I=H[0]|0,C=I&8191,g=I>>>13,x=H[1]|0,l=x&8191,o=x>>>13,T$=H[2]|0,e=T$&8191,n=T$>>>13,j$=H[3]|0,s=j$&8191,P$=j$>>>13,n$=H[4]|0,m=n$&8191,r=n$>>>13,W$=H[5]|0,q$=W$&8191,_$=W$>>>13,v$=H[6]|0,d=v$&8191,B=v$>>>13,H$=H[7]|0,t=H$&8191,F=H$>>>13,A$=H[8]|0,J$=A$&8191,z$=A$>>>13,G6=H[9]|0,X$=G6&8191,k$=G6>>>13,B6=f[0]|0,M$=B6&8191,S$=B6>>>13,Cq=f[1]|0,E$=Cq&8191,g$=Cq>>>13,Eq=f[2]|0,b$=Eq&8191,R$=Eq>>>13,Aq=f[3]|0,y$=Aq&8191,I$=Aq>>>13,Hq=f[4]|0,u$=Hq&8191,x$=Hq>>>13,Tq=f[5]|0,h$=Tq&8191,u=Tq>>>13,U=f[6]|0,K$=U&8191,O$=U>>>13,t$=f[7]|0,G$=t$&8191,V$=t$>>>13,d6=f[8]|0,D$=d6&8191,p$=d6>>>13,kq=f[9]|0,L$=kq&8191,C$=kq>>>13;X.negative=j.negative^J.negative,X.length=19,A=Math.imul(C,M$),z=Math.imul(C,S$),z=z+Math.imul(g,M$)|0,G=Math.imul(g,S$);var l6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(l6>>>26)|0,l6&=67108863,A=Math.imul(l,M$),z=Math.imul(l,S$),z=z+Math.imul(o,M$)|0,G=Math.imul(o,S$),A=A+Math.imul(C,E$)|0,z=z+Math.imul(C,g$)|0,z=z+Math.imul(g,E$)|0,G=G+Math.imul(g,g$)|0;var w6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(w6>>>26)|0,w6&=67108863,A=Math.imul(e,M$),z=Math.imul(e,S$),z=z+Math.imul(n,M$)|0,G=Math.imul(n,S$),A=A+Math.imul(l,E$)|0,z=z+Math.imul(l,g$)|0,z=z+Math.imul(o,E$)|0,G=G+Math.imul(o,g$)|0,A=A+Math.imul(C,b$)|0,z=z+Math.imul(C,R$)|0,z=z+Math.imul(g,b$)|0,G=G+Math.imul(g,R$)|0;var z6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(z6>>>26)|0,z6&=67108863,A=Math.imul(s,M$),z=Math.imul(s,S$),z=z+Math.imul(P$,M$)|0,G=Math.imul(P$,S$),A=A+Math.imul(e,E$)|0,z=z+Math.imul(e,g$)|0,z=z+Math.imul(n,E$)|0,G=G+Math.imul(n,g$)|0,A=A+Math.imul(l,b$)|0,z=z+Math.imul(l,R$)|0,z=z+Math.imul(o,b$)|0,G=G+Math.imul(o,R$)|0,A=A+Math.imul(C,y$)|0,z=z+Math.imul(C,I$)|0,z=z+Math.imul(g,y$)|0,G=G+Math.imul(g,I$)|0;var D6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(D6>>>26)|0,D6&=67108863,A=Math.imul(m,M$),z=Math.imul(m,S$),z=z+Math.imul(r,M$)|0,G=Math.imul(r,S$),A=A+Math.imul(s,E$)|0,z=z+Math.imul(s,g$)|0,z=z+Math.imul(P$,E$)|0,G=G+Math.imul(P$,g$)|0,A=A+Math.imul(e,b$)|0,z=z+Math.imul(e,R$)|0,z=z+Math.imul(n,b$)|0,G=G+Math.imul(n,R$)|0,A=A+Math.imul(l,y$)|0,z=z+Math.imul(l,I$)|0,z=z+Math.imul(o,y$)|0,G=G+Math.imul(o,I$)|0,A=A+Math.imul(C,u$)|0,z=z+Math.imul(C,x$)|0,z=z+Math.imul(g,u$)|0,G=G+Math.imul(g,x$)|0;var E6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(E6>>>26)|0,E6&=67108863,A=Math.imul(q$,M$),z=Math.imul(q$,S$),z=z+Math.imul(_$,M$)|0,G=Math.imul(_$,S$),A=A+Math.imul(m,E$)|0,z=z+Math.imul(m,g$)|0,z=z+Math.imul(r,E$)|0,G=G+Math.imul(r,g$)|0,A=A+Math.imul(s,b$)|0,z=z+Math.imul(s,R$)|0,z=z+Math.imul(P$,b$)|0,G=G+Math.imul(P$,R$)|0,A=A+Math.imul(e,y$)|0,z=z+Math.imul(e,I$)|0,z=z+Math.imul(n,y$)|0,G=G+Math.imul(n,I$)|0,A=A+Math.imul(l,u$)|0,z=z+Math.imul(l,x$)|0,z=z+Math.imul(o,u$)|0,G=G+Math.imul(o,x$)|0,A=A+Math.imul(C,h$)|0,z=z+Math.imul(C,u)|0,z=z+Math.imul(g,h$)|0,G=G+Math.imul(g,u)|0;var Q6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,A=Math.imul(d,M$),z=Math.imul(d,S$),z=z+Math.imul(B,M$)|0,G=Math.imul(B,S$),A=A+Math.imul(q$,E$)|0,z=z+Math.imul(q$,g$)|0,z=z+Math.imul(_$,E$)|0,G=G+Math.imul(_$,g$)|0,A=A+Math.imul(m,b$)|0,z=z+Math.imul(m,R$)|0,z=z+Math.imul(r,b$)|0,G=G+Math.imul(r,R$)|0,A=A+Math.imul(s,y$)|0,z=z+Math.imul(s,I$)|0,z=z+Math.imul(P$,y$)|0,G=G+Math.imul(P$,I$)|0,A=A+Math.imul(e,u$)|0,z=z+Math.imul(e,x$)|0,z=z+Math.imul(n,u$)|0,G=G+Math.imul(n,x$)|0,A=A+Math.imul(l,h$)|0,z=z+Math.imul(l,u)|0,z=z+Math.imul(o,h$)|0,G=G+Math.imul(o,u)|0,A=A+Math.imul(C,K$)|0,z=z+Math.imul(C,O$)|0,z=z+Math.imul(g,K$)|0,G=G+Math.imul(g,O$)|0;var a6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(a6>>>26)|0,a6&=67108863,A=Math.imul(t,M$),z=Math.imul(t,S$),z=z+Math.imul(F,M$)|0,G=Math.imul(F,S$),A=A+Math.imul(d,E$)|0,z=z+Math.imul(d,g$)|0,z=z+Math.imul(B,E$)|0,G=G+Math.imul(B,g$)|0,A=A+Math.imul(q$,b$)|0,z=z+Math.imul(q$,R$)|0,z=z+Math.imul(_$,b$)|0,G=G+Math.imul(_$,R$)|0,A=A+Math.imul(m,y$)|0,z=z+Math.imul(m,I$)|0,z=z+Math.imul(r,y$)|0,G=G+Math.imul(r,I$)|0,A=A+Math.imul(s,u$)|0,z=z+Math.imul(s,x$)|0,z=z+Math.imul(P$,u$)|0,G=G+Math.imul(P$,x$)|0,A=A+Math.imul(e,h$)|0,z=z+Math.imul(e,u)|0,z=z+Math.imul(n,h$)|0,G=G+Math.imul(n,u)|0,A=A+Math.imul(l,K$)|0,z=z+Math.imul(l,O$)|0,z=z+Math.imul(o,K$)|0,G=G+Math.imul(o,O$)|0,A=A+Math.imul(C,G$)|0,z=z+Math.imul(C,V$)|0,z=z+Math.imul(g,G$)|0,G=G+Math.imul(g,V$)|0;var e6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(e6>>>26)|0,e6&=67108863,A=Math.imul(J$,M$),z=Math.imul(J$,S$),z=z+Math.imul(z$,M$)|0,G=Math.imul(z$,S$),A=A+Math.imul(t,E$)|0,z=z+Math.imul(t,g$)|0,z=z+Math.imul(F,E$)|0,G=G+Math.imul(F,g$)|0,A=A+Math.imul(d,b$)|0,z=z+Math.imul(d,R$)|0,z=z+Math.imul(B,b$)|0,G=G+Math.imul(B,R$)|0,A=A+Math.imul(q$,y$)|0,z=z+Math.imul(q$,I$)|0,z=z+Math.imul(_$,y$)|0,G=G+Math.imul(_$,I$)|0,A=A+Math.imul(m,u$)|0,z=z+Math.imul(m,x$)|0,z=z+Math.imul(r,u$)|0,G=G+Math.imul(r,x$)|0,A=A+Math.imul(s,h$)|0,z=z+Math.imul(s,u)|0,z=z+Math.imul(P$,h$)|0,G=G+Math.imul(P$,u)|0,A=A+Math.imul(e,K$)|0,z=z+Math.imul(e,O$)|0,z=z+Math.imul(n,K$)|0,G=G+Math.imul(n,O$)|0,A=A+Math.imul(l,G$)|0,z=z+Math.imul(l,V$)|0,z=z+Math.imul(o,G$)|0,G=G+Math.imul(o,V$)|0,A=A+Math.imul(C,D$)|0,z=z+Math.imul(C,p$)|0,z=z+Math.imul(g,D$)|0,G=G+Math.imul(g,p$)|0;var s6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(s6>>>26)|0,s6&=67108863,A=Math.imul(X$,M$),z=Math.imul(X$,S$),z=z+Math.imul(k$,M$)|0,G=Math.imul(k$,S$),A=A+Math.imul(J$,E$)|0,z=z+Math.imul(J$,g$)|0,z=z+Math.imul(z$,E$)|0,G=G+Math.imul(z$,g$)|0,A=A+Math.imul(t,b$)|0,z=z+Math.imul(t,R$)|0,z=z+Math.imul(F,b$)|0,G=G+Math.imul(F,R$)|0,A=A+Math.imul(d,y$)|0,z=z+Math.imul(d,I$)|0,z=z+Math.imul(B,y$)|0,G=G+Math.imul(B,I$)|0,A=A+Math.imul(q$,u$)|0,z=z+Math.imul(q$,x$)|0,z=z+Math.imul(_$,u$)|0,G=G+Math.imul(_$,x$)|0,A=A+Math.imul(m,h$)|0,z=z+Math.imul(m,u)|0,z=z+Math.imul(r,h$)|0,G=G+Math.imul(r,u)|0,A=A+Math.imul(s,K$)|0,z=z+Math.imul(s,O$)|0,z=z+Math.imul(P$,K$)|0,G=G+Math.imul(P$,O$)|0,A=A+Math.imul(e,G$)|0,z=z+Math.imul(e,V$)|0,z=z+Math.imul(n,G$)|0,G=G+Math.imul(n,V$)|0,A=A+Math.imul(l,D$)|0,z=z+Math.imul(l,p$)|0,z=z+Math.imul(o,D$)|0,G=G+Math.imul(o,p$)|0,A=A+Math.imul(C,L$)|0,z=z+Math.imul(C,C$)|0,z=z+Math.imul(g,L$)|0,G=G+Math.imul(g,C$)|0;var $q=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+($q>>>26)|0,$q&=67108863,A=Math.imul(X$,E$),z=Math.imul(X$,g$),z=z+Math.imul(k$,E$)|0,G=Math.imul(k$,g$),A=A+Math.imul(J$,b$)|0,z=z+Math.imul(J$,R$)|0,z=z+Math.imul(z$,b$)|0,G=G+Math.imul(z$,R$)|0,A=A+Math.imul(t,y$)|0,z=z+Math.imul(t,I$)|0,z=z+Math.imul(F,y$)|0,G=G+Math.imul(F,I$)|0,A=A+Math.imul(d,u$)|0,z=z+Math.imul(d,x$)|0,z=z+Math.imul(B,u$)|0,G=G+Math.imul(B,x$)|0,A=A+Math.imul(q$,h$)|0,z=z+Math.imul(q$,u)|0,z=z+Math.imul(_$,h$)|0,G=G+Math.imul(_$,u)|0,A=A+Math.imul(m,K$)|0,z=z+Math.imul(m,O$)|0,z=z+Math.imul(r,K$)|0,G=G+Math.imul(r,O$)|0,A=A+Math.imul(s,G$)|0,z=z+Math.imul(s,V$)|0,z=z+Math.imul(P$,G$)|0,G=G+Math.imul(P$,V$)|0,A=A+Math.imul(e,D$)|0,z=z+Math.imul(e,p$)|0,z=z+Math.imul(n,D$)|0,G=G+Math.imul(n,p$)|0,A=A+Math.imul(l,L$)|0,z=z+Math.imul(l,C$)|0,z=z+Math.imul(o,L$)|0,G=G+Math.imul(o,C$)|0;var qq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(qq>>>26)|0,qq&=67108863,A=Math.imul(X$,b$),z=Math.imul(X$,R$),z=z+Math.imul(k$,b$)|0,G=Math.imul(k$,R$),A=A+Math.imul(J$,y$)|0,z=z+Math.imul(J$,I$)|0,z=z+Math.imul(z$,y$)|0,G=G+Math.imul(z$,I$)|0,A=A+Math.imul(t,u$)|0,z=z+Math.imul(t,x$)|0,z=z+Math.imul(F,u$)|0,G=G+Math.imul(F,x$)|0,A=A+Math.imul(d,h$)|0,z=z+Math.imul(d,u)|0,z=z+Math.imul(B,h$)|0,G=G+Math.imul(B,u)|0,A=A+Math.imul(q$,K$)|0,z=z+Math.imul(q$,O$)|0,z=z+Math.imul(_$,K$)|0,G=G+Math.imul(_$,O$)|0,A=A+Math.imul(m,G$)|0,z=z+Math.imul(m,V$)|0,z=z+Math.imul(r,G$)|0,G=G+Math.imul(r,V$)|0,A=A+Math.imul(s,D$)|0,z=z+Math.imul(s,p$)|0,z=z+Math.imul(P$,D$)|0,G=G+Math.imul(P$,p$)|0,A=A+Math.imul(e,L$)|0,z=z+Math.imul(e,C$)|0,z=z+Math.imul(n,L$)|0,G=G+Math.imul(n,C$)|0;var _q=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(_q>>>26)|0,_q&=67108863,A=Math.imul(X$,y$),z=Math.imul(X$,I$),z=z+Math.imul(k$,y$)|0,G=Math.imul(k$,I$),A=A+Math.imul(J$,u$)|0,z=z+Math.imul(J$,x$)|0,z=z+Math.imul(z$,u$)|0,G=G+Math.imul(z$,x$)|0,A=A+Math.imul(t,h$)|0,z=z+Math.imul(t,u)|0,z=z+Math.imul(F,h$)|0,G=G+Math.imul(F,u)|0,A=A+Math.imul(d,K$)|0,z=z+Math.imul(d,O$)|0,z=z+Math.imul(B,K$)|0,G=G+Math.imul(B,O$)|0,A=A+Math.imul(q$,G$)|0,z=z+Math.imul(q$,V$)|0,z=z+Math.imul(_$,G$)|0,G=G+Math.imul(_$,V$)|0,A=A+Math.imul(m,D$)|0,z=z+Math.imul(m,p$)|0,z=z+Math.imul(r,D$)|0,G=G+Math.imul(r,p$)|0,A=A+Math.imul(s,L$)|0,z=z+Math.imul(s,C$)|0,z=z+Math.imul(P$,L$)|0,G=G+Math.imul(P$,C$)|0;var Kq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,A=Math.imul(X$,u$),z=Math.imul(X$,x$),z=z+Math.imul(k$,u$)|0,G=Math.imul(k$,x$),A=A+Math.imul(J$,h$)|0,z=z+Math.imul(J$,u)|0,z=z+Math.imul(z$,h$)|0,G=G+Math.imul(z$,u)|0,A=A+Math.imul(t,K$)|0,z=z+Math.imul(t,O$)|0,z=z+Math.imul(F,K$)|0,G=G+Math.imul(F,O$)|0,A=A+Math.imul(d,G$)|0,z=z+Math.imul(d,V$)|0,z=z+Math.imul(B,G$)|0,G=G+Math.imul(B,V$)|0,A=A+Math.imul(q$,D$)|0,z=z+Math.imul(q$,p$)|0,z=z+Math.imul(_$,D$)|0,G=G+Math.imul(_$,p$)|0,A=A+Math.imul(m,L$)|0,z=z+Math.imul(m,C$)|0,z=z+Math.imul(r,L$)|0,G=G+Math.imul(r,C$)|0;var Pq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,A=Math.imul(X$,h$),z=Math.imul(X$,u),z=z+Math.imul(k$,h$)|0,G=Math.imul(k$,u),A=A+Math.imul(J$,K$)|0,z=z+Math.imul(J$,O$)|0,z=z+Math.imul(z$,K$)|0,G=G+Math.imul(z$,O$)|0,A=A+Math.imul(t,G$)|0,z=z+Math.imul(t,V$)|0,z=z+Math.imul(F,G$)|0,G=G+Math.imul(F,V$)|0,A=A+Math.imul(d,D$)|0,z=z+Math.imul(d,p$)|0,z=z+Math.imul(B,D$)|0,G=G+Math.imul(B,p$)|0,A=A+Math.imul(q$,L$)|0,z=z+Math.imul(q$,C$)|0,z=z+Math.imul(_$,L$)|0,G=G+Math.imul(_$,C$)|0;var Yq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,A=Math.imul(X$,K$),z=Math.imul(X$,O$),z=z+Math.imul(k$,K$)|0,G=Math.imul(k$,O$),A=A+Math.imul(J$,G$)|0,z=z+Math.imul(J$,V$)|0,z=z+Math.imul(z$,G$)|0,G=G+Math.imul(z$,V$)|0,A=A+Math.imul(t,D$)|0,z=z+Math.imul(t,p$)|0,z=z+Math.imul(F,D$)|0,G=G+Math.imul(F,p$)|0,A=A+Math.imul(d,L$)|0,z=z+Math.imul(d,C$)|0,z=z+Math.imul(B,L$)|0,G=G+Math.imul(B,C$)|0;var Oq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,A=Math.imul(X$,G$),z=Math.imul(X$,V$),z=z+Math.imul(k$,G$)|0,G=Math.imul(k$,V$),A=A+Math.imul(J$,D$)|0,z=z+Math.imul(J$,p$)|0,z=z+Math.imul(z$,D$)|0,G=G+Math.imul(z$,p$)|0,A=A+Math.imul(t,L$)|0,z=z+Math.imul(t,C$)|0,z=z+Math.imul(F,L$)|0,G=G+Math.imul(F,C$)|0;var jq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(jq>>>26)|0,jq&=67108863,A=Math.imul(X$,D$),z=Math.imul(X$,p$),z=z+Math.imul(k$,D$)|0,G=Math.imul(k$,p$),A=A+Math.imul(J$,L$)|0,z=z+Math.imul(J$,C$)|0,z=z+Math.imul(z$,L$)|0,G=G+Math.imul(z$,C$)|0;var vq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(vq>>>26)|0,vq&=67108863,A=Math.imul(X$,L$),z=Math.imul(X$,C$),z=z+Math.imul(k$,L$)|0,G=Math.imul(k$,C$);var zq=(S+A|0)+((z&8191)<<13)|0;if(S=(G+(z>>>13)|0)+(zq>>>26)|0,zq&=67108863,V[0]=l6,V[1]=w6,V[2]=z6,V[3]=D6,V[4]=E6,V[5]=Q6,V[6]=a6,V[7]=e6,V[8]=s6,V[9]=$q,V[10]=qq,V[11]=_q,V[12]=Kq,V[13]=Pq,V[14]=Yq,V[15]=Oq,V[16]=jq,V[17]=vq,V[18]=zq,S!==0)V[19]=S,X.length++;return X};if(!Math.imul)E=R;function D(j,J,X){X.negative=J.negative^j.negative,X.length=j.length+J.length;var H=0,f=0;for(var V=0;V<X.length-1;V++){var S=f;f=0;var A=H&67108863,z=Math.min(V,J.length-1);for(var G=Math.max(0,V-j.length+1);G<=z;G++){var I=V-G,C=j.words[I]|0,g=J.words[G]|0,x=C*g,l=x&67108863;S=S+(x/67108864|0)|0,l=l+A|0,A=l&67108863,S=S+(l>>>26)|0,f+=S>>>26,S&=67108863}X.words[V]=A,H=S,S=f}if(H!==0)X.words[V]=H;else X.length--;return X.strip()}function h(j,J,X){var H=new L;return H.mulp(j,J,X)}Y.prototype.mulTo=function(j,J){var X,H=this.length+j.length;if(this.length===10&&j.length===10)X=E(this,j,J);else if(H<63)X=R(this,j,J);else if(H<1024)X=D(this,j,J);else X=h(this,j,J);return X};function L(j,J){this.x=j,this.y=J}L.prototype.makeRBT=function(j){var J=Array(j),X=Y.prototype._countBits(j)-1;for(var H=0;H<j;H++)J[H]=this.revBin(H,X,j);return J},L.prototype.revBin=function(j,J,X){if(j===0||j===X-1)return j;var H=0;for(var f=0;f<J;f++)H|=(j&1)<<J-f-1,j>>=1;return H},L.prototype.permute=function(j,J,X,H,f,V){for(var S=0;S<V;S++)H[S]=J[j[S]],f[S]=X[j[S]]},L.prototype.transform=function(j,J,X,H,f,V){this.permute(V,j,J,X,H,f);for(var S=1;S<f;S<<=1){var A=S<<1,z=Math.cos(2*Math.PI/A),G=Math.sin(2*Math.PI/A);for(var I=0;I<f;I+=A){var C=z,g=G;for(var x=0;x<S;x++){var l=X[I+x],o=H[I+x],T$=X[I+x+S],e=H[I+x+S],n=C*T$-g*e;if(e=C*e+g*T$,T$=n,X[I+x]=l+T$,H[I+x]=o+e,X[I+x+S]=l-T$,H[I+x+S]=o-e,x!==A)n=z*C-G*g,g=z*g+G*C,C=n}}}},L.prototype.guessLen13b=function(j,J){var X=Math.max(J,j)|1,H=X&1,f=0;for(X=X/2|0;X;X=X>>>1)f++;return 1<<f+1+H},L.prototype.conjugate=function(j,J,X){if(X<=1)return;for(var H=0;H<X/2;H++){var f=j[H];j[H]=j[X-H-1],j[X-H-1]=f,f=J[H],J[H]=-J[X-H-1],J[X-H-1]=-f}},L.prototype.normalize13b=function(j,J){var X=0;for(var H=0;H<J/2;H++){var f=Math.round(j[2*H+1]/J)*8192+Math.round(j[2*H]/J)+X;if(j[H]=f&67108863,f<67108864)X=0;else X=f/67108864|0}return j},L.prototype.convert13b=function(j,J,X,H){var f=0;for(var V=0;V<J;V++)f=f+(j[V]|0),X[2*V]=f&8191,f=f>>>13,X[2*V+1]=f&8191,f=f>>>13;for(V=2*J;V<H;++V)X[V]=0;K(f===0),K((f&-8192)===0)},L.prototype.stub=function(j){var J=Array(j);for(var X=0;X<j;X++)J[X]=0;return J},L.prototype.mulp=function(j,J,X){var H=2*this.guessLen13b(j.length,J.length),f=this.makeRBT(H),V=this.stub(H),S=Array(H),A=Array(H),z=Array(H),G=Array(H),I=Array(H),C=Array(H),g=X.words;g.length=H,this.convert13b(j.words,j.length,S,H),this.convert13b(J.words,J.length,G,H),this.transform(S,V,A,z,H,f),this.transform(G,V,I,C,H,f);for(var x=0;x<H;x++){var l=A[x]*I[x]-z[x]*C[x];z[x]=A[x]*C[x]+z[x]*I[x],A[x]=l}return this.conjugate(A,z,H),this.transform(A,z,g,V,H,f),this.conjugate(g,V,H),this.normalize13b(g,H),X.negative=j.negative^J.negative,X.length=j.length+J.length,X.strip()},Y.prototype.mul=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),this.mulTo(j,J)},Y.prototype.mulf=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),h(this,j,J)},Y.prototype.imul=function(j){return this.clone().mulTo(j,this)},Y.prototype.imuln=function(j){K(typeof j==="number"),K(j<67108864);var J=0;for(var X=0;X<this.length;X++){var H=(this.words[X]|0)*j,f=(H&67108863)+(J&67108863);J>>=26,J+=H/67108864|0,J+=f>>>26,this.words[X]=f&67108863}if(J!==0)this.words[X]=J,this.length++;return this.length=j===0?1:this.length,this},Y.prototype.muln=function(j){return this.clone().imuln(j)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(j){var J=N(j);if(J.length===0)return new Y(1);var X=this;for(var H=0;H<J.length;H++,X=X.sqr())if(J[H]!==0)break;if(++H<J.length)for(var f=X.sqr();H<J.length;H++,f=f.sqr()){if(J[H]===0)continue;X=X.mul(f)}return X},Y.prototype.iushln=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,H=67108863>>>26-J<<26-J,f;if(J!==0){var V=0;for(f=0;f<this.length;f++){var S=this.words[f]&H,A=(this.words[f]|0)-S<<J;this.words[f]=A|V,V=S>>>26-J}if(V)this.words[f]=V,this.length++}if(X!==0){for(f=this.length-1;f>=0;f--)this.words[f+X]=this.words[f];for(f=0;f<X;f++)this.words[f]=0;this.length+=X}return this.strip()},Y.prototype.ishln=function(j){return K(this.negative===0),this.iushln(j)},Y.prototype.iushrn=function(j,J,X){K(typeof j==="number"&&j>=0);var H;if(J)H=(J-J%26)/26;else H=0;var f=j%26,V=Math.min((j-f)/26,this.length),S=67108863^67108863>>>f<<f,A=X;if(H-=V,H=Math.max(0,H),A){for(var z=0;z<V;z++)A.words[z]=this.words[z];A.length=V}if(V===0);else if(this.length>V){this.length-=V;for(z=0;z<this.length;z++)this.words[z]=this.words[z+V]}else this.words[0]=0,this.length=1;var G=0;for(z=this.length-1;z>=0&&(G!==0||z>=H);z--){var I=this.words[z]|0;this.words[z]=G<<26-f|I>>>f,G=I&S}if(A&&G!==0)A.words[A.length++]=G;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},Y.prototype.ishrn=function(j,J,X){return K(this.negative===0),this.iushrn(j,J,X)},Y.prototype.shln=function(j){return this.clone().ishln(j)},Y.prototype.ushln=function(j){return this.clone().iushln(j)},Y.prototype.shrn=function(j){return this.clone().ishrn(j)},Y.prototype.ushrn=function(j){return this.clone().iushrn(j)},Y.prototype.testn=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,H=1<<J;if(this.length<=X)return!1;var f=this.words[X];return!!(f&H)},Y.prototype.imaskn=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26;if(K(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(J!==0)X++;if(this.length=Math.min(X,this.length),J!==0){var H=67108863^67108863>>>J<<J;this.words[this.length-1]&=H}return this.strip()},Y.prototype.maskn=function(j){return this.clone().imaskn(j)},Y.prototype.iaddn=function(j){if(K(typeof j==="number"),K(j<67108864),j<0)return this.isubn(-j);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<j)return this.words[0]=j-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(j),this.negative=1,this}return this._iaddn(j)},Y.prototype._iaddn=function(j){this.words[0]+=j;for(var J=0;J<this.length&&this.words[J]>=67108864;J++)if(this.words[J]-=67108864,J===this.length-1)this.words[J+1]=1;else this.words[J+1]++;return this.length=Math.max(this.length,J+1),this},Y.prototype.isubn=function(j){if(K(typeof j==="number"),K(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var J=0;J<this.length&&this.words[J]<0;J++)this.words[J]+=67108864,this.words[J+1]-=1;return this.strip()},Y.prototype.addn=function(j){return this.clone().iaddn(j)},Y.prototype.subn=function(j){return this.clone().isubn(j)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(j,J,X){var H=j.length+X,f;this._expand(H);var V,S=0;for(f=0;f<j.length;f++){V=(this.words[f+X]|0)+S;var A=(j.words[f]|0)*J;V-=A&67108863,S=(V>>26)-(A/67108864|0),this.words[f+X]=V&67108863}for(;f<this.length-X;f++)V=(this.words[f+X]|0)+S,S=V>>26,this.words[f+X]=V&67108863;if(S===0)return this.strip();K(S===-1),S=0;for(f=0;f<this.length;f++)V=-(this.words[f]|0)+S,S=V>>26,this.words[f]=V&67108863;return this.negative=1,this.strip()},Y.prototype._wordDiv=function(j,J){var X=this.length-j.length,H=this.clone(),f=j,V=f.words[f.length-1]|0,S=this._countBits(V);if(X=26-S,X!==0)f=f.ushln(X),H.iushln(X),V=f.words[f.length-1]|0;var A=H.length-f.length,z;if(J!=="mod"){z=new Y(null),z.length=A+1,z.words=Array(z.length);for(var G=0;G<z.length;G++)z.words[G]=0}var I=H.clone()._ishlnsubmul(f,1,A);if(I.negative===0){if(H=I,z)z.words[A]=1}for(var C=A-1;C>=0;C--){var g=(H.words[f.length+C]|0)*67108864+(H.words[f.length+C-1]|0);g=Math.min(g/V|0,67108863),H._ishlnsubmul(f,g,C);while(H.negative!==0)if(g--,H.negative=0,H._ishlnsubmul(f,1,C),!H.isZero())H.negative^=1;if(z)z.words[C]=g}if(z)z.strip();if(H.strip(),J!=="div"&&X!==0)H.iushrn(X);return{div:z||null,mod:H}},Y.prototype.divmod=function(j,J,X){if(K(!j.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var H,f,V;if(this.negative!==0&&j.negative===0){if(V=this.neg().divmod(j,J),J!=="mod")H=V.div.neg();if(J!=="div"){if(f=V.mod.neg(),X&&f.negative!==0)f.iadd(j)}return{div:H,mod:f}}if(this.negative===0&&j.negative!==0){if(V=this.divmod(j.neg(),J),J!=="mod")H=V.div.neg();return{div:H,mod:V.mod}}if((this.negative&j.negative)!==0){if(V=this.neg().divmod(j.neg(),J),J!=="div"){if(f=V.mod.neg(),X&&f.negative!==0)f.isub(j)}return{div:V.div,mod:f}}if(j.length>this.length||this.cmp(j)<0)return{div:new Y(0),mod:this};if(j.length===1){if(J==="div")return{div:this.divn(j.words[0]),mod:null};if(J==="mod")return{div:null,mod:new Y(this.modn(j.words[0]))};return{div:this.divn(j.words[0]),mod:new Y(this.modn(j.words[0]))}}return this._wordDiv(j,J)},Y.prototype.div=function(j){return this.divmod(j,"div",!1).div},Y.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},Y.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},Y.prototype.divRound=function(j){var J=this.divmod(j);if(J.mod.isZero())return J.div;var X=J.div.negative!==0?J.mod.isub(j):J.mod,H=j.ushrn(1),f=j.andln(1),V=X.cmp(H);if(V<0||f===1&&V===0)return J.div;return J.div.negative!==0?J.div.isubn(1):J.div.iaddn(1)},Y.prototype.modn=function(j){K(j<=67108863);var J=67108864%j,X=0;for(var H=this.length-1;H>=0;H--)X=(J*X+(this.words[H]|0))%j;return X},Y.prototype.idivn=function(j){K(j<=67108863);var J=0;for(var X=this.length-1;X>=0;X--){var H=(this.words[X]|0)+J*67108864;this.words[X]=H/j|0,J=H%j}return this.strip()},Y.prototype.divn=function(j){return this.clone().idivn(j)},Y.prototype.egcd=function(j){K(j.negative===0),K(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var H=new Y(1),f=new Y(0),V=new Y(0),S=new Y(1),A=0;while(J.isEven()&&X.isEven())J.iushrn(1),X.iushrn(1),++A;var z=X.clone(),G=J.clone();while(!J.isZero()){for(var I=0,C=1;(J.words[0]&C)===0&&I<26;++I,C<<=1);if(I>0){J.iushrn(I);while(I-- >0){if(H.isOdd()||f.isOdd())H.iadd(z),f.isub(G);H.iushrn(1),f.iushrn(1)}}for(var g=0,x=1;(X.words[0]&x)===0&&g<26;++g,x<<=1);if(g>0){X.iushrn(g);while(g-- >0){if(V.isOdd()||S.isOdd())V.iadd(z),S.isub(G);V.iushrn(1),S.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),H.isub(V),f.isub(S);else X.isub(J),V.isub(H),S.isub(f)}return{a:V,b:S,gcd:X.iushln(A)}},Y.prototype._invmp=function(j){K(j.negative===0),K(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var H=new Y(1),f=new Y(0),V=X.clone();while(J.cmpn(1)>0&&X.cmpn(1)>0){for(var S=0,A=1;(J.words[0]&A)===0&&S<26;++S,A<<=1);if(S>0){J.iushrn(S);while(S-- >0){if(H.isOdd())H.iadd(V);H.iushrn(1)}}for(var z=0,G=1;(X.words[0]&G)===0&&z<26;++z,G<<=1);if(z>0){X.iushrn(z);while(z-- >0){if(f.isOdd())f.iadd(V);f.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),H.isub(f);else X.isub(J),f.isub(H)}var I;if(J.cmpn(1)===0)I=H;else I=f;if(I.cmpn(0)<0)I.iadd(j);return I},Y.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var J=this.clone(),X=j.clone();J.negative=0,X.negative=0;for(var H=0;J.isEven()&&X.isEven();H++)J.iushrn(1),X.iushrn(1);do{while(J.isEven())J.iushrn(1);while(X.isEven())X.iushrn(1);var f=J.cmp(X);if(f<0){var V=J;J=X,X=V}else if(f===0||X.cmpn(1)===0)break;J.isub(X)}while(!0);return X.iushln(H)},Y.prototype.invm=function(j){return this.egcd(j).a.umod(j)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(j){return this.words[0]&j},Y.prototype.bincn=function(j){K(typeof j==="number");var J=j%26,X=(j-J)/26,H=1<<J;if(this.length<=X)return this._expand(X+1),this.words[X]|=H,this;var f=H;for(var V=X;f!==0&&V<this.length;V++){var S=this.words[V]|0;S+=f,f=S>>>26,S&=67108863,this.words[V]=S}if(f!==0)this.words[V]=f,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(j){var J=j<0;if(this.negative!==0&&!J)return-1;if(this.negative===0&&J)return 1;this.strip();var X;if(this.length>1)X=1;else{if(J)j=-j;K(j<=67108863,"Number is too big");var H=this.words[0]|0;X=H===j?0:H<j?-1:1}if(this.negative!==0)return-X|0;return X},Y.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var J=this.ucmp(j);if(this.negative!==0)return-J|0;return J},Y.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;var J=0;for(var X=this.length-1;X>=0;X--){var H=this.words[X]|0,f=j.words[X]|0;if(H===f)continue;if(H<f)J=-1;else if(H>f)J=1;break}return J},Y.prototype.gtn=function(j){return this.cmpn(j)===1},Y.prototype.gt=function(j){return this.cmp(j)===1},Y.prototype.gten=function(j){return this.cmpn(j)>=0},Y.prototype.gte=function(j){return this.cmp(j)>=0},Y.prototype.ltn=function(j){return this.cmpn(j)===-1},Y.prototype.lt=function(j){return this.cmp(j)===-1},Y.prototype.lten=function(j){return this.cmpn(j)<=0},Y.prototype.lte=function(j){return this.cmp(j)<=0},Y.prototype.eqn=function(j){return this.cmpn(j)===0},Y.prototype.eq=function(j){return this.cmp(j)===0},Y.red=function(j){return new c(j)},Y.prototype.toRed=function(j){return K(!this.red,"Already a number in reduction context"),K(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},Y.prototype.fromRed=function(){return K(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(j){return this.red=j,this},Y.prototype.forceRed=function(j){return K(!this.red,"Already a number in reduction context"),this._forceRed(j)},Y.prototype.redAdd=function(j){return K(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},Y.prototype.redIAdd=function(j){return K(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},Y.prototype.redSub=function(j){return K(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},Y.prototype.redISub=function(j){return K(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},Y.prototype.redShl=function(j){return K(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},Y.prototype.redMul=function(j){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},Y.prototype.redIMul=function(j){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},Y.prototype.redSqr=function(){return K(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return K(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return K(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return K(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return K(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(j){return K(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var b={k256:null,p224:null,p192:null,p25519:null};function y(j,J){this.name=j,this.p=new Y(J,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var j=new Y(null);return j.words=Array(Math.ceil(this.n/13)),j},y.prototype.ireduce=function(j){var J=j,X;do this.split(J,this.tmp),J=this.imulK(J),J=J.iadd(this.tmp),X=J.bitLength();while(X>this.n);var H=X<this.n?-1:J.ucmp(this.p);if(H===0)J.words[0]=0,J.length=1;else if(H>0)J.isub(this.p);else if(J.strip!==void 0)J.strip();else J._strip();return J},y.prototype.split=function(j,J){j.iushrn(this.n,0,J)},y.prototype.imulK=function(j){return j.imul(this.k)};function p(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(p,y),p.prototype.split=function(j,J){var X=4194303,H=Math.min(j.length,9);for(var f=0;f<H;f++)J.words[f]=j.words[f];if(J.length=H,j.length<=9){j.words[0]=0,j.length=1;return}var V=j.words[9];J.words[J.length++]=V&X;for(f=10;f<j.length;f++){var S=j.words[f]|0;j.words[f-10]=(S&X)<<4|V>>>22,V=S}if(V>>>=22,j.words[f-10]=V,V===0&&j.length>10)j.length-=10;else j.length-=9},p.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;var J=0;for(var X=0;X<j.length;X++){var H=j.words[X]|0;J+=H*977,j.words[X]=J&67108863,J=H*64+(J/67108864|0)}if(j.words[j.length-1]===0){if(j.length--,j.words[j.length-1]===0)j.length--}return j};function i(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(i,y);function $$(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O($$,y);function Q(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Q,y),Q.prototype.imulK=function(j){var J=0;for(var X=0;X<j.length;X++){var H=(j.words[X]|0)*19+J,f=H&67108863;H>>>=26,j.words[X]=f,J=H}if(J!==0)j.words[j.length++]=J;return j},Y._prime=function(j){if(b[j])return b[j];var J;if(j==="k256")J=new p;else if(j==="p224")J=new i;else if(j==="p192")J=new $$;else if(j==="p25519")J=new Q;else throw Error("Unknown prime "+j);return b[j]=J,J};function c(j){if(typeof j==="string"){var J=Y._prime(j);this.m=J.p,this.prime=J}else K(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}c.prototype._verify1=function(j){K(j.negative===0,"red works only with positives"),K(j.red,"red works only with red numbers")},c.prototype._verify2=function(j,J){K((j.negative|J.negative)===0,"red works only with positives"),K(j.red&&j.red===J.red,"red works only with red numbers")},c.prototype.imod=function(j){if(this.prime)return this.prime.ireduce(j)._forceRed(this);return j.umod(this.m)._forceRed(this)},c.prototype.neg=function(j){if(j.isZero())return j.clone();return this.m.sub(j)._forceRed(this)},c.prototype.add=function(j,J){this._verify2(j,J);var X=j.add(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X._forceRed(this)},c.prototype.iadd=function(j,J){this._verify2(j,J);var X=j.iadd(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X},c.prototype.sub=function(j,J){this._verify2(j,J);var X=j.sub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X._forceRed(this)},c.prototype.isub=function(j,J){this._verify2(j,J);var X=j.isub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X},c.prototype.shl=function(j,J){return this._verify1(j),this.imod(j.ushln(J))},c.prototype.imul=function(j,J){return this._verify2(j,J),this.imod(j.imul(J))},c.prototype.mul=function(j,J){return this._verify2(j,J),this.imod(j.mul(J))},c.prototype.isqr=function(j){return this.imul(j,j.clone())},c.prototype.sqr=function(j){return this.mul(j,j)},c.prototype.sqrt=function(j){if(j.isZero())return j.clone();var J=this.m.andln(3);if(K(J%2===1),J===3){var X=this.m.add(new Y(1)).iushrn(2);return this.pow(j,X)}var H=this.m.subn(1),f=0;while(!H.isZero()&&H.andln(1)===0)f++,H.iushrn(1);K(!H.isZero());var V=new Y(1).toRed(this),S=V.redNeg(),A=this.m.subn(1).iushrn(1),z=this.m.bitLength();z=new Y(2*z*z).toRed(this);while(this.pow(z,A).cmp(S)!==0)z.redIAdd(S);var G=this.pow(z,H),I=this.pow(j,H.addn(1).iushrn(1)),C=this.pow(j,H),g=f;while(C.cmp(V)!==0){var x=C;for(var l=0;x.cmp(V)!==0;l++)x=x.redSqr();K(l<g);var o=this.pow(G,new Y(1).iushln(g-l-1));I=I.redMul(o),G=o.redSqr(),C=C.redMul(G),g=l}return I},c.prototype.invm=function(j){var J=j._invmp(this.m);if(J.negative!==0)return J.negative=0,this.imod(J).redNeg();else return this.imod(J)},c.prototype.pow=function(j,J){if(J.isZero())return new Y(1).toRed(this);if(J.cmpn(1)===0)return j.clone();var X=4,H=Array(1<<X);H[0]=new Y(1).toRed(this),H[1]=j;for(var f=2;f<H.length;f++)H[f]=this.mul(H[f-1],j);var V=H[0],S=0,A=0,z=J.bitLength()%26;if(z===0)z=26;for(f=J.length-1;f>=0;f--){var G=J.words[f];for(var I=z-1;I>=0;I--){var C=G>>I&1;if(V!==H[0])V=this.sqr(V);if(C===0&&S===0){A=0;continue}if(S<<=1,S|=C,A++,A!==X&&(f!==0||I!==0))continue;V=this.mul(V,H[S]),A=0,S=0}z=26}return V},c.prototype.convertTo=function(j){var J=j.umod(this.m);return J===j?J.clone():J},c.prototype.convertFrom=function(j){var J=j.clone();return J.red=null,J},Y.mont=function(j){return new a(j)};function a(j){if(c.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(a,c),a.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},a.prototype.convertFrom=function(j){var J=this.imod(j.mul(this.rinv));return J.red=null,J},a.prototype.imul=function(j,J){if(j.isZero()||J.isZero())return j.words[0]=0,j.length=1,j;var X=j.imul(J),H=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=X.isub(H).iushrn(this.shift),V=f;if(f.cmp(this.m)>=0)V=f.isub(this.m);else if(f.cmpn(0)<0)V=f.iadd(this.m);return V._forceRed(this)},a.prototype.mul=function(j,J){if(j.isZero()||J.isZero())return new Y(0)._forceRed(this);var X=j.mul(J),H=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=X.isub(H).iushrn(this.shift),V=f;if(f.cmp(this.m)>=0)V=f.isub(this.m);else if(f.cmpn(0)<0)V=f.iadd(this.m);return V._forceRed(this)},a.prototype.invm=function(j){var J=this.imod(j._invmp(this.m).mul(this.r2));return J._forceRed(this)}})(typeof q>"u"||q,$)}),XK=Z$(($,q)=>{q.exports=_;function _(P,K){if(!P)throw Error(K||"Assertion failed")}_.equal=function(P,K,O){if(P!=K)throw Error(O||"Assertion failed: "+P+" != "+K)}}),PE=Z$(($)=>{var q=$;function _(O,Y){if(Array.isArray(O))return O.slice();if(!O)return[];var v=[];if(typeof O!=="string"){for(var W=0;W<O.length;W++)v[W]=O[W]|0;return v}if(Y==="hex"){if(O=O.replace(/[^a-z0-9]+/ig,""),O.length%2!==0)O="0"+O;for(var W=0;W<O.length;W+=2)v.push(parseInt(O[W]+O[W+1],16))}else for(var W=0;W<O.length;W++){var T=O.charCodeAt(W),Z=T>>8,w=T&255;if(Z)v.push(Z,w);else v.push(w)}return v}q.toArray=_;function P(O){if(O.length===1)return"0"+O;else return O}q.zero2=P;function K(O){var Y="";for(var v=0;v<O.length;v++)Y+=P(O[v].toString(16));return Y}q.toHex=K,q.encode=function(O,Y){if(Y==="hex")return K(O);else return O}}),E8=Z$(($)=>{var q=$,_=b_(),P=XK(),K=PE();q.assert=P,q.toArray=K.toArray,q.zero2=K.zero2,q.toHex=K.toHex,q.encode=K.encode;function O(Z,w,k){var M=Array(Math.max(Z.bitLength(),k)+1),N;for(N=0;N<M.length;N+=1)M[N]=0;var R=1<<w+1,E=Z.clone();for(N=0;N<M.length;N++){var D,h=E.andln(R-1);if(E.isOdd()){if(h>(R>>1)-1)D=(R>>1)-h;else D=h;E.isubn(D)}else D=0;M[N]=D,E.iushrn(1)}return M}q.getNAF=O;function Y(Z,w){var k=[[],[]];Z=Z.clone(),w=w.clone();var M=0,N=0,R;while(Z.cmpn(-M)>0||w.cmpn(-N)>0){var E=Z.andln(3)+M&3,D=w.andln(3)+N&3;if(E===3)E=-1;if(D===3)D=-1;var h;if((E&1)===0)h=0;else if(R=Z.andln(7)+M&7,(R===3||R===5)&&D===2)h=-E;else h=E;k[0].push(h);var L;if((D&1)===0)L=0;else if(R=w.andln(7)+N&7,(R===3||R===5)&&E===2)L=-D;else L=D;if(k[1].push(L),2*M===h+1)M=1-M;if(2*N===L+1)N=1-N;Z.iushrn(1),w.iushrn(1)}return k}q.getJSF=Y;function v(Z,w,k){var M="_"+w;Z.prototype[w]=function(){return this[M]!==void 0?this[M]:this[M]=k.call(this)}}q.cachedProperty=v;function W(Z){return typeof Z==="string"?q.toArray(Z,"hex"):Z}q.parseBytes=W;function T(Z){return new _(Z,"hex","le")}q.intFromLE=T}),YE=Z$(($,q)=>{var _;q.exports=function(O){if(!_)_=new P(null);return _.generate(O)};function P(O){this.rand=O}if(q.exports.Rand=P,P.prototype.generate=function(O){return this._rand(O)},P.prototype._rand=function(O){if(this.rand.getBytes)return this.rand.getBytes(O);var Y=new Uint8Array(O);for(var v=0;v<Y.length;v++)Y[v]=this.rand.getByte();return Y},typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues)P.prototype._rand=function(O){var Y=new Uint8Array(O);return self.crypto.getRandomValues(Y),Y};else if(self.msCrypto&&self.msCrypto.getRandomValues)P.prototype._rand=function(O){var Y=new Uint8Array(O);return self.msCrypto.getRandomValues(Y),Y};else if(typeof window==="object")P.prototype._rand=function(){throw Error("Not implemented yet")}}else try{if(K=(tq(),H6(Uq)),typeof K.randomBytes!=="function")throw Error("Not supported");P.prototype._rand=function(O){return K.randomBytes(O)}}catch(O){}var K}),IY=Z$(($,q)=>{var _=b_(),P=E8(),K=P.getNAF,O=P.getJSF,Y=P.assert;function v(T,Z){this.type=T,this.p=new _(Z.p,16),this.red=Z.prime?_.red(Z.prime):_.mont(this.p),this.zero=new _(0).toRed(this.red),this.one=new _(1).toRed(this.red),this.two=new _(2).toRed(this.red),this.n=Z.n&&new _(Z.n,16),this.g=Z.g&&this.pointFromJSON(Z.g,Z.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var w=this.n&&this.p.div(this.n);if(!w||w.cmpn(100)>0)this.redN=null;else this._maxwellTrick=!0,this.redN=this.n.toRed(this.red)}q.exports=v,v.prototype.point=function(){throw Error("Not implemented")},v.prototype.validate=function(){throw Error("Not implemented")},v.prototype._fixedNafMul=function(T,Z){Y(T.precomputed);var w=T._getDoubles(),k=K(Z,1,this._bitLength),M=(1<<w.step+1)-(w.step%2===0?2:1);M/=3;var N=[],R,E;for(R=0;R<k.length;R+=w.step){E=0;for(var D=R+w.step-1;D>=R;D--)E=(E<<1)+k[D];N.push(E)}var h=this.jpoint(null,null,null),L=this.jpoint(null,null,null);for(var b=M;b>0;b--){for(R=0;R<N.length;R++)if(E=N[R],E===b)L=L.mixedAdd(w.points[R]);else if(E===-b)L=L.mixedAdd(w.points[R].neg());h=h.add(L)}return h.toP()},v.prototype._wnafMul=function(T,Z){var w=4,k=T._getNAFPoints(w);w=k.wnd;var M=k.points,N=K(Z,w,this._bitLength),R=this.jpoint(null,null,null);for(var E=N.length-1;E>=0;E--){for(var D=0;E>=0&&N[E]===0;E--)D++;if(E>=0)D++;if(R=R.dblp(D),E<0)break;var h=N[E];if(Y(h!==0),T.type==="affine")if(h>0)R=R.mixedAdd(M[h-1>>1]);else R=R.mixedAdd(M[-h-1>>1].neg());else if(h>0)R=R.add(M[h-1>>1]);else R=R.add(M[-h-1>>1].neg())}return T.type==="affine"?R.toP():R},v.prototype._wnafMulAdd=function(T,Z,w,k,M){var N=this._wnafT1,R=this._wnafT2,E=this._wnafT3,D=0,h,L,b;for(h=0;h<k;h++){b=Z[h];var y=b._getNAFPoints(T);N[h]=y.wnd,R[h]=y.points}for(h=k-1;h>=1;h-=2){var p=h-1,i=h;if(N[p]!==1||N[i]!==1){E[p]=K(w[p],N[p],this._bitLength),E[i]=K(w[i],N[i],this._bitLength),D=Math.max(E[p].length,D),D=Math.max(E[i].length,D);continue}var $$=[Z[p],null,null,Z[i]];if(Z[p].y.cmp(Z[i].y)===0)$$[1]=Z[p].add(Z[i]),$$[2]=Z[p].toJ().mixedAdd(Z[i].neg());else if(Z[p].y.cmp(Z[i].y.redNeg())===0)$$[1]=Z[p].toJ().mixedAdd(Z[i]),$$[2]=Z[p].add(Z[i].neg());else $$[1]=Z[p].toJ().mixedAdd(Z[i]),$$[2]=Z[p].toJ().mixedAdd(Z[i].neg());var Q=[-3,-1,-5,-7,0,7,5,1,3],c=O(w[p],w[i]);D=Math.max(c[0].length,D),E[p]=Array(D),E[i]=Array(D);for(L=0;L<D;L++){var a=c[0][L]|0,j=c[1][L]|0;E[p][L]=Q[(a+1)*3+(j+1)],E[i][L]=0,R[p]=$$}}var J=this.jpoint(null,null,null),X=this._wnafT4;for(h=D;h>=0;h--){var H=0;while(h>=0){var f=!0;for(L=0;L<k;L++)if(X[L]=E[L][h]|0,X[L]!==0)f=!1;if(!f)break;H++,h--}if(h>=0)H++;if(J=J.dblp(H),h<0)break;for(L=0;L<k;L++){var V=X[L];if(V===0)continue;else if(V>0)b=R[L][V-1>>1];else if(V<0)b=R[L][-V-1>>1].neg();if(b.type==="affine")J=J.mixedAdd(b);else J=J.add(b)}}for(h=0;h<k;h++)R[h]=null;if(M)return J;else return J.toP()};function W(T,Z){this.curve=T,this.type=Z,this.precomputed=null}v.BasePoint=W,W.prototype.eq=function(){throw Error("Not implemented")},W.prototype.validate=function(){return this.curve.validate(this)},v.prototype.decodePoint=function(T,Z){T=P.toArray(T,Z);var w=this.p.byteLength();if((T[0]===4||T[0]===6||T[0]===7)&&T.length-1===2*w){if(T[0]===6)Y(T[T.length-1]%2===0);else if(T[0]===7)Y(T[T.length-1]%2===1);var k=this.point(T.slice(1,1+w),T.slice(1+w,1+2*w));return k}else if((T[0]===2||T[0]===3)&&T.length-1===w)return this.pointFromX(T.slice(1,1+w),T[0]===3);throw Error("Unknown point format")},W.prototype.encodeCompressed=function(T){return this.encode(T,!0)},W.prototype._encode=function(T){var Z=this.curve.p.byteLength(),w=this.getX().toArray("be",Z);if(T)return[this.getY().isEven()?2:3].concat(w);return[4].concat(w,this.getY().toArray("be",Z))},W.prototype.encode=function(T,Z){return P.encode(this._encode(Z),T)},W.prototype.precompute=function(T){if(this.precomputed)return this;var Z={doubles:null,naf:null,beta:null};return Z.naf=this._getNAFPoints(8),Z.doubles=this._getDoubles(4,T),Z.beta=this._getBeta(),this.precomputed=Z,this},W.prototype._hasDoubles=function(T){if(!this.precomputed)return!1;var Z=this.precomputed.doubles;if(!Z)return!1;return Z.points.length>=Math.ceil((T.bitLength()+1)/Z.step)},W.prototype._getDoubles=function(T,Z){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var w=[this],k=this;for(var M=0;M<Z;M+=T){for(var N=0;N<T;N++)k=k.dbl();w.push(k)}return{step:T,points:w}},W.prototype._getNAFPoints=function(T){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var Z=[this],w=(1<<T)-1,k=w===1?null:this.dbl();for(var M=1;M<w;M++)Z[M]=Z[M-1].add(k);return{wnd:T,points:Z}},W.prototype._getBeta=function(){return null},W.prototype.dblp=function(T){var Z=this;for(var w=0;w<T;w++)Z=Z.dbl();return Z}}),GU=Z$(($,q)=>{if(typeof Object.create==="function")q.exports=function(_,P){if(P)_.super_=P,_.prototype=Object.create(P.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}})};else q.exports=function(_,P){if(P){_.super_=P;var K=function(){};K.prototype=P.prototype,_.prototype=new K,_.prototype.constructor=_}}}),T8=Z$(($,q)=>{try{if(_=(GC(),H6(kC)),typeof _.inherits!=="function")throw"";q.exports=_.inherits}catch(P){q.exports=GU()}var _}),VU=Z$(($,q)=>{var _=E8(),P=b_(),K=T8(),O=IY(),Y=_.assert;function v(Z){O.call(this,"short",Z),this.a=new P(Z.a,16).toRed(this.red),this.b=new P(Z.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Z),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}K(v,O),q.exports=v,v.prototype._getEndomorphism=function(Z){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var w,k;if(Z.beta)w=new P(Z.beta,16).toRed(this.red);else{var M=this._getEndoRoots(this.p);w=M[0].cmp(M[1])<0?M[0]:M[1],w=w.toRed(this.red)}if(Z.lambda)k=new P(Z.lambda,16);else{var N=this._getEndoRoots(this.n);if(this.g.mul(N[0]).x.cmp(this.g.x.redMul(w))===0)k=N[0];else k=N[1],Y(this.g.mul(k).x.cmp(this.g.x.redMul(w))===0)}var R;if(Z.basis)R=Z.basis.map(function(E){return{a:new P(E.a,16),b:new P(E.b,16)}});else R=this._getEndoBasis(k);return{beta:w,lambda:k,basis:R}},v.prototype._getEndoRoots=function(Z){var w=Z===this.p?this.red:P.mont(Z),k=new P(2).toRed(w).redInvm(),M=k.redNeg(),N=new P(3).toRed(w).redNeg().redSqrt().redMul(k),R=M.redAdd(N).fromRed(),E=M.redSub(N).fromRed();return[R,E]},v.prototype._getEndoBasis=function(Z){var w=this.n.ushrn(Math.floor(this.n.bitLength()/2)),k=Z,M=this.n.clone(),N=new P(1),R=new P(0),E=new P(0),D=new P(1),h,L,b,y,p,i,$$,Q=0,c,a;while(k.cmpn(0)!==0){var j=M.div(k);c=M.sub(j.mul(k)),a=E.sub(j.mul(N));var J=D.sub(j.mul(R));if(!b&&c.cmp(w)<0)h=$$.neg(),L=N,b=c.neg(),y=a;else if(b&&++Q===2)break;$$=c,M=k,k=c,E=N,N=a,D=R,R=J}p=c.neg(),i=a;var X=b.sqr().add(y.sqr()),H=p.sqr().add(i.sqr());if(H.cmp(X)>=0)p=h,i=L;if(b.negative)b=b.neg(),y=y.neg();if(p.negative)p=p.neg(),i=i.neg();return[{a:b,b:y},{a:p,b:i}]},v.prototype._endoSplit=function(Z){var w=this.endo.basis,k=w[0],M=w[1],N=M.b.mul(Z).divRound(this.n),R=k.b.neg().mul(Z).divRound(this.n),E=N.mul(k.a),D=R.mul(M.a),h=N.mul(k.b),L=R.mul(M.b),b=Z.sub(E).sub(D),y=h.add(L).neg();return{k1:b,k2:y}},v.prototype.pointFromX=function(Z,w){if(Z=new P(Z,16),!Z.red)Z=Z.toRed(this.red);var k=Z.redSqr().redMul(Z).redIAdd(Z.redMul(this.a)).redIAdd(this.b),M=k.redSqrt();if(M.redSqr().redSub(k).cmp(this.zero)!==0)throw Error("invalid point");var N=M.fromRed().isOdd();if(w&&!N||!w&&N)M=M.redNeg();return this.point(Z,M)},v.prototype.validate=function(Z){if(Z.inf)return!0;var{x:w,y:k}=Z,M=this.a.redMul(w),N=w.redSqr().redMul(w).redIAdd(M).redIAdd(this.b);return k.redSqr().redISub(N).cmpn(0)===0},v.prototype._endoWnafMulAdd=function(Z,w,k){var M=this._endoWnafT1,N=this._endoWnafT2;for(var R=0;R<Z.length;R++){var E=this._endoSplit(w[R]),D=Z[R],h=D._getBeta();if(E.k1.negative)E.k1.ineg(),D=D.neg(!0);if(E.k2.negative)E.k2.ineg(),h=h.neg(!0);M[R*2]=D,M[R*2+1]=h,N[R*2]=E.k1,N[R*2+1]=E.k2}var L=this._wnafMulAdd(1,M,N,R*2,k);for(var b=0;b<R*2;b++)M[b]=null,N[b]=null;return L};function W(Z,w,k,M){if(O.BasePoint.call(this,Z,"affine"),w===null&&k===null)this.x=null,this.y=null,this.inf=!0;else{if(this.x=new P(w,16),this.y=new P(k,16),M)this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=!1}}K(W,O.BasePoint),v.prototype.point=function(Z,w,k){return new W(this,Z,w,k)},v.prototype.pointFromJSON=function(Z,w){return W.fromJSON(this,Z,w)},W.prototype._getBeta=function(){if(!this.curve.endo)return;var Z=this.precomputed;if(Z&&Z.beta)return Z.beta;var w=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Z){var k=this.curve,M=function(N){return k.point(N.x.redMul(k.endo.beta),N.y)};Z.beta=w,w.precomputed={beta:null,naf:Z.naf&&{wnd:Z.naf.wnd,points:Z.naf.points.map(M)},doubles:Z.doubles&&{step:Z.doubles.step,points:Z.doubles.points.map(M)}}}return w},W.prototype.toJSON=function(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]},W.fromJSON=function(Z,w,k){if(typeof w==="string")w=JSON.parse(w);var M=Z.point(w[0],w[1],k);if(!w[2])return M;function N(E){return Z.point(E[0],E[1],k)}var R=w[2];return M.precomputed={beta:null,doubles:R.doubles&&{step:R.doubles.step,points:[M].concat(R.doubles.points.map(N))},naf:R.naf&&{wnd:R.naf.wnd,points:[M].concat(R.naf.points.map(N))}},M},W.prototype.inspect=function(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},W.prototype.isInfinity=function(){return this.inf},W.prototype.add=function(Z){if(this.inf)return Z;if(Z.inf)return this;if(this.eq(Z))return this.dbl();if(this.neg().eq(Z))return this.curve.point(null,null);if(this.x.cmp(Z.x)===0)return this.curve.point(null,null);var w=this.y.redSub(Z.y);if(w.cmpn(0)!==0)w=w.redMul(this.x.redSub(Z.x).redInvm());var k=w.redSqr().redISub(this.x).redISub(Z.x),M=w.redMul(this.x.redSub(k)).redISub(this.y);return this.curve.point(k,M)},W.prototype.dbl=function(){if(this.inf)return this;var Z=this.y.redAdd(this.y);if(Z.cmpn(0)===0)return this.curve.point(null,null);var w=this.curve.a,k=this.x.redSqr(),M=Z.redInvm(),N=k.redAdd(k).redIAdd(k).redIAdd(w).redMul(M),R=N.redSqr().redISub(this.x.redAdd(this.x)),E=N.redMul(this.x.redSub(R)).redISub(this.y);return this.curve.point(R,E)},W.prototype.getX=function(){return this.x.fromRed()},W.prototype.getY=function(){return this.y.fromRed()},W.prototype.mul=function(Z){if(Z=new P(Z,16),this.isInfinity())return this;else if(this._hasDoubles(Z))return this.curve._fixedNafMul(this,Z);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[Z]);else return this.curve._wnafMul(this,Z)},W.prototype.mulAdd=function(Z,w,k){var M=[this,w],N=[Z,k];if(this.curve.endo)return this.curve._endoWnafMulAdd(M,N);else return this.curve._wnafMulAdd(1,M,N,2)},W.prototype.jmulAdd=function(Z,w,k){var M=[this,w],N=[Z,k];if(this.curve.endo)return this.curve._endoWnafMulAdd(M,N,!0);else return this.curve._wnafMulAdd(1,M,N,2,!0)},W.prototype.eq=function(Z){return this===Z||this.inf===Z.inf&&(this.inf||this.x.cmp(Z.x)===0&&this.y.cmp(Z.y)===0)},W.prototype.neg=function(Z){if(this.inf)return this;var w=this.curve.point(this.x,this.y.redNeg());if(Z&&this.precomputed){var k=this.precomputed,M=function(N){return N.neg()};w.precomputed={naf:k.naf&&{wnd:k.naf.wnd,points:k.naf.points.map(M)},doubles:k.doubles&&{step:k.doubles.step,points:k.doubles.points.map(M)}}}return w},W.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Z=this.curve.jpoint(this.x,this.y,this.curve.one);return Z};function T(Z,w,k,M){if(O.BasePoint.call(this,Z,"jacobian"),w===null&&k===null&&M===null)this.x=this.curve.one,this.y=this.curve.one,this.z=new P(0);else this.x=new P(w,16),this.y=new P(k,16),this.z=new P(M,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}K(T,O.BasePoint),v.prototype.jpoint=function(Z,w,k){return new T(this,Z,w,k)},T.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Z=this.z.redInvm(),w=Z.redSqr(),k=this.x.redMul(w),M=this.y.redMul(w).redMul(Z);return this.curve.point(k,M)},T.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},T.prototype.add=function(Z){if(this.isInfinity())return Z;if(Z.isInfinity())return this;var w=Z.z.redSqr(),k=this.z.redSqr(),M=this.x.redMul(w),N=Z.x.redMul(k),R=this.y.redMul(w.redMul(Z.z)),E=Z.y.redMul(k.redMul(this.z)),D=M.redSub(N),h=R.redSub(E);if(D.cmpn(0)===0)if(h.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var L=D.redSqr(),b=L.redMul(D),y=M.redMul(L),p=h.redSqr().redIAdd(b).redISub(y).redISub(y),i=h.redMul(y.redISub(p)).redISub(R.redMul(b)),$$=this.z.redMul(Z.z).redMul(D);return this.curve.jpoint(p,i,$$)},T.prototype.mixedAdd=function(Z){if(this.isInfinity())return Z.toJ();if(Z.isInfinity())return this;var w=this.z.redSqr(),k=this.x,M=Z.x.redMul(w),N=this.y,R=Z.y.redMul(w).redMul(this.z),E=k.redSub(M),D=N.redSub(R);if(E.cmpn(0)===0)if(D.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var h=E.redSqr(),L=h.redMul(E),b=k.redMul(h),y=D.redSqr().redIAdd(L).redISub(b).redISub(b),p=D.redMul(b.redISub(y)).redISub(N.redMul(L)),i=this.z.redMul(E);return this.curve.jpoint(y,p,i)},T.prototype.dblp=function(Z){if(Z===0)return this;if(this.isInfinity())return this;if(!Z)return this.dbl();var w;if(this.curve.zeroA||this.curve.threeA){var k=this;for(w=0;w<Z;w++)k=k.dbl();return k}var M=this.curve.a,N=this.curve.tinv,R=this.x,E=this.y,D=this.z,h=D.redSqr().redSqr(),L=E.redAdd(E);for(w=0;w<Z;w++){var b=R.redSqr(),y=L.redSqr(),p=y.redSqr(),i=b.redAdd(b).redIAdd(b).redIAdd(M.redMul(h)),$$=R.redMul(y),Q=i.redSqr().redISub($$.redAdd($$)),c=$$.redISub(Q),a=i.redMul(c);a=a.redIAdd(a).redISub(p);var j=L.redMul(D);if(w+1<Z)h=h.redMul(p);R=Q,D=j,L=a}return this.curve.jpoint(R,L.redMul(N),D)},T.prototype.dbl=function(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()},T.prototype._zeroDbl=function(){var Z,w,k;if(this.zOne){var M=this.x.redSqr(),N=this.y.redSqr(),R=N.redSqr(),E=this.x.redAdd(N).redSqr().redISub(M).redISub(R);E=E.redIAdd(E);var D=M.redAdd(M).redIAdd(M),h=D.redSqr().redISub(E).redISub(E),L=R.redIAdd(R);L=L.redIAdd(L),L=L.redIAdd(L),Z=h,w=D.redMul(E.redISub(h)).redISub(L),k=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),y=this.y.redSqr(),p=y.redSqr(),i=this.x.redAdd(y).redSqr().redISub(b).redISub(p);i=i.redIAdd(i);var $$=b.redAdd(b).redIAdd(b),Q=$$.redSqr(),c=p.redIAdd(p);c=c.redIAdd(c),c=c.redIAdd(c),Z=Q.redISub(i).redISub(i),w=$$.redMul(i.redISub(Z)).redISub(c),k=this.y.redMul(this.z),k=k.redIAdd(k)}return this.curve.jpoint(Z,w,k)},T.prototype._threeDbl=function(){var Z,w,k;if(this.zOne){var M=this.x.redSqr(),N=this.y.redSqr(),R=N.redSqr(),E=this.x.redAdd(N).redSqr().redISub(M).redISub(R);E=E.redIAdd(E);var D=M.redAdd(M).redIAdd(M).redIAdd(this.curve.a),h=D.redSqr().redISub(E).redISub(E);Z=h;var L=R.redIAdd(R);L=L.redIAdd(L),L=L.redIAdd(L),w=D.redMul(E.redISub(h)).redISub(L),k=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),y=this.y.redSqr(),p=this.x.redMul(y),i=this.x.redSub(b).redMul(this.x.redAdd(b));i=i.redAdd(i).redIAdd(i);var $$=p.redIAdd(p);$$=$$.redIAdd($$);var Q=$$.redAdd($$);Z=i.redSqr().redISub(Q),k=this.y.redAdd(this.z).redSqr().redISub(y).redISub(b);var c=y.redSqr();c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c),w=i.redMul($$.redISub(Z)).redISub(c)}return this.curve.jpoint(Z,w,k)},T.prototype._dbl=function(){var Z=this.curve.a,w=this.x,k=this.y,M=this.z,N=M.redSqr().redSqr(),R=w.redSqr(),E=k.redSqr(),D=R.redAdd(R).redIAdd(R).redIAdd(Z.redMul(N)),h=w.redAdd(w);h=h.redIAdd(h);var L=h.redMul(E),b=D.redSqr().redISub(L.redAdd(L)),y=L.redISub(b),p=E.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var i=D.redMul(y).redISub(p),$$=k.redAdd(k).redMul(M);return this.curve.jpoint(b,i,$$)},T.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Z=this.x.redSqr(),w=this.y.redSqr(),k=this.z.redSqr(),M=w.redSqr(),N=Z.redAdd(Z).redIAdd(Z),R=N.redSqr(),E=this.x.redAdd(w).redSqr().redISub(Z).redISub(M);E=E.redIAdd(E),E=E.redAdd(E).redIAdd(E),E=E.redISub(R);var D=E.redSqr(),h=M.redIAdd(M);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var L=N.redIAdd(E).redSqr().redISub(R).redISub(D).redISub(h),b=w.redMul(L);b=b.redIAdd(b),b=b.redIAdd(b);var y=this.x.redMul(D).redISub(b);y=y.redIAdd(y),y=y.redIAdd(y);var p=this.y.redMul(L.redMul(h.redISub(L)).redISub(E.redMul(D)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var i=this.z.redAdd(E).redSqr().redISub(k).redISub(D);return this.curve.jpoint(y,p,i)},T.prototype.mul=function(Z,w){return Z=new P(Z,w),this.curve._wnafMul(this,Z)},T.prototype.eq=function(Z){if(Z.type==="affine")return this.eq(Z.toJ());if(this===Z)return!0;var w=this.z.redSqr(),k=Z.z.redSqr();if(this.x.redMul(k).redISub(Z.x.redMul(w)).cmpn(0)!==0)return!1;var M=w.redMul(this.z),N=k.redMul(Z.z);return this.y.redMul(N).redISub(Z.y.redMul(M)).cmpn(0)===0},T.prototype.eqXToP=function(Z){var w=this.z.redSqr(),k=Z.toRed(this.curve.red).redMul(w);if(this.x.cmp(k)===0)return!0;var M=Z.clone(),N=this.curve.redN.redMul(w);for(;;){if(M.iadd(this.curve.n),M.cmp(this.curve.p)>=0)return!1;if(k.redIAdd(N),this.x.cmp(k)===0)return!0}},T.prototype.inspect=function(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},T.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),SU=Z$(($,q)=>{var _=b_(),P=T8(),K=IY(),O=E8();function Y(W){K.call(this,"mont",W),this.a=new _(W.a,16).toRed(this.red),this.b=new _(W.b,16).toRed(this.red),this.i4=new _(4).toRed(this.red).redInvm(),this.two=new _(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}P(Y,K),q.exports=Y,Y.prototype.validate=function(W){var T=W.normalize().x,Z=T.redSqr(),w=Z.redMul(T).redAdd(Z.redMul(this.a)).redAdd(T),k=w.redSqrt();return k.redSqr().cmp(w)===0};function v(W,T,Z){if(K.BasePoint.call(this,W,"projective"),T===null&&Z===null)this.x=this.curve.one,this.z=this.curve.zero;else{if(this.x=new _(T,16),this.z=new _(Z,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}P(v,K.BasePoint),Y.prototype.decodePoint=function(W,T){return this.point(O.toArray(W,T),1)},Y.prototype.point=function(W,T){return new v(this,W,T)},Y.prototype.pointFromJSON=function(W){return v.fromJSON(this,W)},v.prototype.precompute=function(){},v.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},v.fromJSON=function(W,T){return new v(W,T[0],T[1]||W.one)},v.prototype.inspect=function(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0},v.prototype.dbl=function(){var W=this.x.redAdd(this.z),T=W.redSqr(),Z=this.x.redSub(this.z),w=Z.redSqr(),k=T.redSub(w),M=T.redMul(w),N=k.redMul(w.redAdd(this.curve.a24.redMul(k)));return this.curve.point(M,N)},v.prototype.add=function(){throw Error("Not supported on Montgomery curve")},v.prototype.diffAdd=function(W,T){var Z=this.x.redAdd(this.z),w=this.x.redSub(this.z),k=W.x.redAdd(W.z),M=W.x.redSub(W.z),N=M.redMul(Z),R=k.redMul(w),E=T.z.redMul(N.redAdd(R).redSqr()),D=T.x.redMul(N.redISub(R).redSqr());return this.curve.point(E,D)},v.prototype.mul=function(W){var T=W.clone(),Z=this,w=this.curve.point(null,null),k=this;for(var M=[];T.cmpn(0)!==0;T.iushrn(1))M.push(T.andln(1));for(var N=M.length-1;N>=0;N--)if(M[N]===0)Z=Z.diffAdd(w,k),w=w.dbl();else w=Z.diffAdd(w,k),Z=Z.dbl();return w},v.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},v.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},v.prototype.eq=function(W){return this.getX().cmp(W.getX())===0},v.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},v.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),MU=Z$(($,q)=>{var _=E8(),P=b_(),K=T8(),O=IY(),Y=_.assert;function v(T){this.twisted=(T.a|0)!==1,this.mOneA=this.twisted&&(T.a|0)===-1,this.extended=this.mOneA,O.call(this,"edwards",T),this.a=new P(T.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new P(T.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new P(T.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Y(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(T.c|0)===1}K(v,O),q.exports=v,v.prototype._mulA=function(T){if(this.mOneA)return T.redNeg();else return this.a.redMul(T)},v.prototype._mulC=function(T){if(this.oneC)return T;else return this.c.redMul(T)},v.prototype.jpoint=function(T,Z,w,k){return this.point(T,Z,w,k)},v.prototype.pointFromX=function(T,Z){if(T=new P(T,16),!T.red)T=T.toRed(this.red);var w=T.redSqr(),k=this.c2.redSub(this.a.redMul(w)),M=this.one.redSub(this.c2.redMul(this.d).redMul(w)),N=k.redMul(M.redInvm()),R=N.redSqrt();if(R.redSqr().redSub(N).cmp(this.zero)!==0)throw Error("invalid point");var E=R.fromRed().isOdd();if(Z&&!E||!Z&&E)R=R.redNeg();return this.point(T,R)},v.prototype.pointFromY=function(T,Z){if(T=new P(T,16),!T.red)T=T.toRed(this.red);var w=T.redSqr(),k=w.redSub(this.c2),M=w.redMul(this.d).redMul(this.c2).redSub(this.a),N=k.redMul(M.redInvm());if(N.cmp(this.zero)===0)if(Z)throw Error("invalid point");else return this.point(this.zero,T);var R=N.redSqrt();if(R.redSqr().redSub(N).cmp(this.zero)!==0)throw Error("invalid point");if(R.fromRed().isOdd()!==Z)R=R.redNeg();return this.point(R,T)},v.prototype.validate=function(T){if(T.isInfinity())return!0;T.normalize();var Z=T.x.redSqr(),w=T.y.redSqr(),k=Z.redMul(this.a).redAdd(w),M=this.c2.redMul(this.one.redAdd(this.d.redMul(Z).redMul(w)));return k.cmp(M)===0};function W(T,Z,w,k,M){if(O.BasePoint.call(this,T,"projective"),Z===null&&w===null&&k===null)this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0;else{if(this.x=new P(Z,16),this.y=new P(w,16),this.z=k?new P(k,16):this.curve.one,this.t=M&&new P(M,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);if(this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t){if(this.t=this.x.redMul(this.y),!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}K(W,O.BasePoint),v.prototype.pointFromJSON=function(T){return W.fromJSON(this,T)},v.prototype.point=function(T,Z,w,k){return new W(this,T,Z,w,k)},W.fromJSON=function(T,Z){return new W(T,Z[0],Z[1],Z[2])},W.prototype.inspect=function(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},W.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},W.prototype._extDbl=function(){var T=this.x.redSqr(),Z=this.y.redSqr(),w=this.z.redSqr();w=w.redIAdd(w);var k=this.curve._mulA(T),M=this.x.redAdd(this.y).redSqr().redISub(T).redISub(Z),N=k.redAdd(Z),R=N.redSub(w),E=k.redSub(Z),D=M.redMul(R),h=N.redMul(E),L=M.redMul(E),b=R.redMul(N);return this.curve.point(D,h,b,L)},W.prototype._projDbl=function(){var T=this.x.redAdd(this.y).redSqr(),Z=this.x.redSqr(),w=this.y.redSqr(),k,M,N,R,E,D;if(this.curve.twisted){R=this.curve._mulA(Z);var h=R.redAdd(w);if(this.zOne)k=T.redSub(Z).redSub(w).redMul(h.redSub(this.curve.two)),M=h.redMul(R.redSub(w)),N=h.redSqr().redSub(h).redSub(h);else E=this.z.redSqr(),D=h.redSub(E).redISub(E),k=T.redSub(Z).redISub(w).redMul(D),M=h.redMul(R.redSub(w)),N=h.redMul(D)}else R=Z.redAdd(w),E=this.curve._mulC(this.z).redSqr(),D=R.redSub(E).redSub(E),k=this.curve._mulC(T.redISub(R)).redMul(D),M=this.curve._mulC(R).redMul(Z.redISub(w)),N=R.redMul(D);return this.curve.point(k,M,N)},W.prototype.dbl=function(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()},W.prototype._extAdd=function(T){var Z=this.y.redSub(this.x).redMul(T.y.redSub(T.x)),w=this.y.redAdd(this.x).redMul(T.y.redAdd(T.x)),k=this.t.redMul(this.curve.dd).redMul(T.t),M=this.z.redMul(T.z.redAdd(T.z)),N=w.redSub(Z),R=M.redSub(k),E=M.redAdd(k),D=w.redAdd(Z),h=N.redMul(R),L=E.redMul(D),b=N.redMul(D),y=R.redMul(E);return this.curve.point(h,L,y,b)},W.prototype._projAdd=function(T){var Z=this.z.redMul(T.z),w=Z.redSqr(),k=this.x.redMul(T.x),M=this.y.redMul(T.y),N=this.curve.d.redMul(k).redMul(M),R=w.redSub(N),E=w.redAdd(N),D=this.x.redAdd(this.y).redMul(T.x.redAdd(T.y)).redISub(k).redISub(M),h=Z.redMul(R).redMul(D),L,b;if(this.curve.twisted)L=Z.redMul(E).redMul(M.redSub(this.curve._mulA(k))),b=R.redMul(E);else L=Z.redMul(E).redMul(M.redSub(k)),b=this.curve._mulC(R).redMul(E);return this.curve.point(h,L,b)},W.prototype.add=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;if(this.curve.extended)return this._extAdd(T);else return this._projAdd(T)},W.prototype.mul=function(T){if(this._hasDoubles(T))return this.curve._fixedNafMul(this,T);else return this.curve._wnafMul(this,T)},W.prototype.mulAdd=function(T,Z,w){return this.curve._wnafMulAdd(1,[this,Z],[T,w],2,!1)},W.prototype.jmulAdd=function(T,Z,w){return this.curve._wnafMulAdd(1,[this,Z],[T,w],2,!0)},W.prototype.normalize=function(){if(this.zOne)return this;var T=this.z.redInvm();if(this.x=this.x.redMul(T),this.y=this.y.redMul(T),this.t)this.t=this.t.redMul(T);return this.z=this.curve.one,this.zOne=!0,this},W.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},W.prototype.getX=function(){return this.normalize(),this.x.fromRed()},W.prototype.getY=function(){return this.normalize(),this.y.fromRed()},W.prototype.eq=function(T){return this===T||this.getX().cmp(T.getX())===0&&this.getY().cmp(T.getY())===0},W.prototype.eqXToP=function(T){var Z=T.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Z)===0)return!0;var w=T.clone(),k=this.curve.redN.redMul(this.z);for(;;){if(w.iadd(this.curve.n),w.cmp(this.curve.p)>=0)return!1;if(Z.redIAdd(k),this.x.cmp(Z)===0)return!0}},W.prototype.toP=W.prototype.normalize,W.prototype.mixedAdd=W.prototype.add}),OE=Z$(($)=>{var q=$;q.base=IY(),q.short=VU(),q.mont=SU(),q.edwards=MU()}),H_=Z$(($)=>{var q=XK(),_=T8();$.inherits=_;function P(J,X){if((J.charCodeAt(X)&64512)!==55296)return!1;if(X<0||X+1>=J.length)return!1;return(J.charCodeAt(X+1)&64512)===56320}function K(J,X){if(Array.isArray(J))return J.slice();if(!J)return[];var H=[];if(typeof J==="string"){if(!X){var f=0;for(var V=0;V<J.length;V++){var S=J.charCodeAt(V);if(S<128)H[f++]=S;else if(S<2048)H[f++]=S>>6|192,H[f++]=S&63|128;else if(P(J,V))S=65536+((S&1023)<<10)+(J.charCodeAt(++V)&1023),H[f++]=S>>18|240,H[f++]=S>>12&63|128,H[f++]=S>>6&63|128,H[f++]=S&63|128;else H[f++]=S>>12|224,H[f++]=S>>6&63|128,H[f++]=S&63|128}}else if(X==="hex"){if(J=J.replace(/[^a-z0-9]+/ig,""),J.length%2!==0)J="0"+J;for(V=0;V<J.length;V+=2)H.push(parseInt(J[V]+J[V+1],16))}}else for(V=0;V<J.length;V++)H[V]=J[V]|0;return H}$.toArray=K;function O(J){var X="";for(var H=0;H<J.length;H++)X+=W(J[H].toString(16));return X}$.toHex=O;function Y(J){var X=J>>>24|J>>>8&65280|J<<8&16711680|(J&255)<<24;return X>>>0}$.htonl=Y;function v(J,X){var H="";for(var f=0;f<J.length;f++){var V=J[f];if(X==="little")V=Y(V);H+=T(V.toString(16))}return H}$.toHex32=v;function W(J){if(J.length===1)return"0"+J;else return J}$.zero2=W;function T(J){if(J.length===7)return"0"+J;else if(J.length===6)return"00"+J;else if(J.length===5)return"000"+J;else if(J.length===4)return"0000"+J;else if(J.length===3)return"00000"+J;else if(J.length===2)return"000000"+J;else if(J.length===1)return"0000000"+J;else return J}$.zero8=T;function Z(J,X,H,f){var V=H-X;q(V%4===0);var S=Array(V/4);for(var A=0,z=X;A<S.length;A++,z+=4){var G;if(f==="big")G=J[z]<<24|J[z+1]<<16|J[z+2]<<8|J[z+3];else G=J[z+3]<<24|J[z+2]<<16|J[z+1]<<8|J[z];S[A]=G>>>0}return S}$.join32=Z;function w(J,X){var H=Array(J.length*4);for(var f=0,V=0;f<J.length;f++,V+=4){var S=J[f];if(X==="big")H[V]=S>>>24,H[V+1]=S>>>16&255,H[V+2]=S>>>8&255,H[V+3]=S&255;else H[V+3]=S>>>24,H[V+2]=S>>>16&255,H[V+1]=S>>>8&255,H[V]=S&255}return H}$.split32=w;function k(J,X){return J>>>X|J<<32-X}$.rotr32=k;function M(J,X){return J<<X|J>>>32-X}$.rotl32=M;function N(J,X){return J+X>>>0}$.sum32=N;function R(J,X,H){return J+X+H>>>0}$.sum32_3=R;function E(J,X,H,f){return J+X+H+f>>>0}$.sum32_4=E;function D(J,X,H,f,V){return J+X+H+f+V>>>0}$.sum32_5=D;function h(J,X,H,f){var V=J[X],S=J[X+1],A=f+S>>>0,z=(A<f?1:0)+H+V;J[X]=z>>>0,J[X+1]=A}$.sum64=h;function L(J,X,H,f){var V=X+f>>>0,S=(V<X?1:0)+J+H;return S>>>0}$.sum64_hi=L;function b(J,X,H,f){var V=X+f;return V>>>0}$.sum64_lo=b;function y(J,X,H,f,V,S,A,z){var G=0,I=X;I=I+f>>>0,G+=I<X?1:0,I=I+S>>>0,G+=I<S?1:0,I=I+z>>>0,G+=I<z?1:0;var C=J+H+V+A+G;return C>>>0}$.sum64_4_hi=y;function p(J,X,H,f,V,S,A,z){var G=X+f+S+z;return G>>>0}$.sum64_4_lo=p;function i(J,X,H,f,V,S,A,z,G,I){var C=0,g=X;g=g+f>>>0,C+=g<X?1:0,g=g+S>>>0,C+=g<S?1:0,g=g+z>>>0,C+=g<z?1:0,g=g+I>>>0,C+=g<I?1:0;var x=J+H+V+A+G+C;return x>>>0}$.sum64_5_hi=i;function $$(J,X,H,f,V,S,A,z,G,I){var C=X+f+S+z+I;return C>>>0}$.sum64_5_lo=$$;function Q(J,X,H){var f=X<<32-H|J>>>H;return f>>>0}$.rotr64_hi=Q;function c(J,X,H){var f=J<<32-H|X>>>H;return f>>>0}$.rotr64_lo=c;function a(J,X,H){return J>>>H}$.shr64_hi=a;function j(J,X,H){var f=J<<32-H|X>>>H;return f>>>0}$.shr64_lo=j}),y7=Z$(($)=>{var q=H_(),_=XK();function P(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}$.BlockHash=P,P.prototype.update=function(K,O){if(K=q.toArray(K,O),!this.pending)this.pending=K;else this.pending=this.pending.concat(K);if(this.pendingTotal+=K.length,this.pending.length>=this._delta8){K=this.pending;var Y=K.length%this._delta8;if(this.pending=K.slice(K.length-Y,K.length),this.pending.length===0)this.pending=null;K=q.join32(K,0,K.length-Y,this.endian);for(var v=0;v<K.length;v+=this._delta32)this._update(K,v,v+this._delta32)}return this},P.prototype.digest=function(K){return this.update(this._pad()),_(this.pending===null),this._digest(K)},P.prototype._pad=function(){var K=this.pendingTotal,O=this._delta8,Y=O-(K+this.padLength)%O,v=Array(Y+this.padLength);v[0]=128;for(var W=1;W<Y;W++)v[W]=0;if(K<<=3,this.endian==="big"){for(var T=8;T<this.padLength;T++)v[W++]=0;v[W++]=0,v[W++]=0,v[W++]=0,v[W++]=0,v[W++]=K>>>24&255,v[W++]=K>>>16&255,v[W++]=K>>>8&255,v[W++]=K&255}else{v[W++]=K&255,v[W++]=K>>>8&255,v[W++]=K>>>16&255,v[W++]=K>>>24&255,v[W++]=0,v[W++]=0,v[W++]=0,v[W++]=0;for(T=8;T<this.padLength;T++)v[W++]=0}return v}}),jE=Z$(($)=>{var q=H_(),_=q.rotr32;function P(w,k,M,N){if(w===0)return K(k,M,N);if(w===1||w===3)return Y(k,M,N);if(w===2)return O(k,M,N)}$.ft_1=P;function K(w,k,M){return w&k^~w&M}$.ch32=K;function O(w,k,M){return w&k^w&M^k&M}$.maj32=O;function Y(w,k,M){return w^k^M}$.p32=Y;function v(w){return _(w,2)^_(w,13)^_(w,22)}$.s0_256=v;function W(w){return _(w,6)^_(w,11)^_(w,25)}$.s1_256=W;function T(w){return _(w,7)^_(w,18)^w>>>3}$.g0_256=T;function Z(w){return _(w,17)^_(w,19)^w>>>10}$.g1_256=Z}),NU=Z$(($,q)=>{var _=H_(),P=y7(),K=jE(),O=_.rotl32,Y=_.sum32,v=_.sum32_5,W=K.ft_1,T=P.BlockHash,Z=[1518500249,1859775393,2400959708,3395469782];function w(){if(!(this instanceof w))return new w;T.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}_.inherits(w,T),q.exports=w,w.blockSize=512,w.outSize=160,w.hmacStrength=80,w.padLength=64,w.prototype._update=function(k,M){var N=this.W;for(var R=0;R<16;R++)N[R]=k[M+R];for(;R<N.length;R++)N[R]=O(N[R-3]^N[R-8]^N[R-14]^N[R-16],1);var E=this.h[0],D=this.h[1],h=this.h[2],L=this.h[3],b=this.h[4];for(R=0;R<N.length;R++){var y=~~(R/20),p=v(O(E,5),W(y,D,h,L),b,N[R],Z[y]);b=L,L=h,h=O(D,30),D=E,E=p}this.h[0]=Y(this.h[0],E),this.h[1]=Y(this.h[1],D),this.h[2]=Y(this.h[2],h),this.h[3]=Y(this.h[3],L),this.h[4]=Y(this.h[4],b)},w.prototype._digest=function(k){if(k==="hex")return _.toHex32(this.h,"big");else return _.split32(this.h,"big")}}),vE=Z$(($,q)=>{var _=H_(),P=y7(),K=jE(),O=XK(),Y=_.sum32,v=_.sum32_4,W=_.sum32_5,T=K.ch32,Z=K.maj32,w=K.s0_256,k=K.s1_256,M=K.g0_256,N=K.g1_256,R=P.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function D(){if(!(this instanceof D))return new D;R.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,this.W=Array(64)}_.inherits(D,R),q.exports=D,D.blockSize=512,D.outSize=256,D.hmacStrength=192,D.padLength=64,D.prototype._update=function(h,L){var b=this.W;for(var y=0;y<16;y++)b[y]=h[L+y];for(;y<b.length;y++)b[y]=v(N(b[y-2]),b[y-7],M(b[y-15]),b[y-16]);var p=this.h[0],i=this.h[1],$$=this.h[2],Q=this.h[3],c=this.h[4],a=this.h[5],j=this.h[6],J=this.h[7];O(this.k.length===b.length);for(y=0;y<b.length;y++){var X=W(J,k(c),T(c,a,j),this.k[y],b[y]),H=Y(w(p),Z(p,i,$$));J=j,j=a,a=c,c=Y(Q,X),Q=$$,$$=i,i=p,p=Y(X,H)}this.h[0]=Y(this.h[0],p),this.h[1]=Y(this.h[1],i),this.h[2]=Y(this.h[2],$$),this.h[3]=Y(this.h[3],Q),this.h[4]=Y(this.h[4],c),this.h[5]=Y(this.h[5],a),this.h[6]=Y(this.h[6],j),this.h[7]=Y(this.h[7],J)},D.prototype._digest=function(h){if(h==="hex")return _.toHex32(this.h,"big");else return _.split32(this.h,"big")}}),CU=Z$(($,q)=>{var _=H_(),P=vE();function K(){if(!(this instanceof K))return new K;P.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_.inherits(K,P),q.exports=K,K.blockSize=512,K.outSize=224,K.hmacStrength=192,K.padLength=64,K.prototype._digest=function(O){if(O==="hex")return _.toHex32(this.h.slice(0,7),"big");else return _.split32(this.h.slice(0,7),"big")}}),zE=Z$(($,q)=>{var _=H_(),P=y7(),K=XK(),O=_.rotr64_hi,Y=_.rotr64_lo,v=_.shr64_hi,W=_.shr64_lo,T=_.sum64,Z=_.sum64_hi,w=_.sum64_lo,k=_.sum64_4_hi,M=_.sum64_4_lo,N=_.sum64_5_hi,R=_.sum64_5_lo,E=P.BlockHash,D=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function h(){if(!(this instanceof h))return new h;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=D,this.W=Array(160)}_.inherits(h,E),q.exports=h,h.blockSize=1024,h.outSize=512,h.hmacStrength=192,h.padLength=128,h.prototype._prepareBlock=function(H,f){var V=this.W;for(var S=0;S<32;S++)V[S]=H[f+S];for(;S<V.length;S+=2){var A=J(V[S-4],V[S-3]),z=X(V[S-4],V[S-3]),G=V[S-14],I=V[S-13],C=a(V[S-30],V[S-29]),g=j(V[S-30],V[S-29]),x=V[S-32],l=V[S-31];V[S]=k(A,z,G,I,C,g,x,l),V[S+1]=M(A,z,G,I,C,g,x,l)}},h.prototype._update=function(H,f){this._prepareBlock(H,f);var V=this.W,S=this.h[0],A=this.h[1],z=this.h[2],G=this.h[3],I=this.h[4],C=this.h[5],g=this.h[6],x=this.h[7],l=this.h[8],o=this.h[9],T$=this.h[10],e=this.h[11],n=this.h[12],j$=this.h[13],s=this.h[14],P$=this.h[15];K(this.k.length===V.length);for(var n$=0;n$<V.length;n$+=2){var m=s,r=P$,W$=Q(l,o),q$=c(l,o),_$=L(l,o,T$,e,n,j$),v$=b(l,o,T$,e,n,j$),d=this.k[n$],B=this.k[n$+1],H$=V[n$],t=V[n$+1],F=N(m,r,W$,q$,_$,v$,d,B,H$,t),A$=R(m,r,W$,q$,_$,v$,d,B,H$,t);m=i(S,A),r=$$(S,A),W$=y(S,A,z,G,I,C),q$=p(S,A,z,G,I,C);var J$=Z(m,r,W$,q$),z$=w(m,r,W$,q$);s=n,P$=j$,n=T$,j$=e,T$=l,e=o,l=Z(g,x,F,A$),o=w(x,x,F,A$),g=I,x=C,I=z,C=G,z=S,G=A,S=Z(F,A$,J$,z$),A=w(F,A$,J$,z$)}T(this.h,0,S,A),T(this.h,2,z,G),T(this.h,4,I,C),T(this.h,6,g,x),T(this.h,8,l,o),T(this.h,10,T$,e),T(this.h,12,n,j$),T(this.h,14,s,P$)},h.prototype._digest=function(H){if(H==="hex")return _.toHex32(this.h,"big");else return _.split32(this.h,"big")};function L(H,f,V,S,A){var z=H&V^~H&A;if(z<0)z+=4294967296;return z}function b(H,f,V,S,A,z){var G=f&S^~f&z;if(G<0)G+=4294967296;return G}function y(H,f,V,S,A){var z=H&V^H&A^V&A;if(z<0)z+=4294967296;return z}function p(H,f,V,S,A,z){var G=f&S^f&z^S&z;if(G<0)G+=4294967296;return G}function i(H,f){var V=O(H,f,28),S=O(f,H,2),A=O(f,H,7),z=V^S^A;if(z<0)z+=4294967296;return z}function $$(H,f){var V=Y(H,f,28),S=Y(f,H,2),A=Y(f,H,7),z=V^S^A;if(z<0)z+=4294967296;return z}function Q(H,f){var V=O(H,f,14),S=O(H,f,18),A=O(f,H,9),z=V^S^A;if(z<0)z+=4294967296;return z}function c(H,f){var V=Y(H,f,14),S=Y(H,f,18),A=Y(f,H,9),z=V^S^A;if(z<0)z+=4294967296;return z}function a(H,f){var V=O(H,f,1),S=O(H,f,8),A=v(H,f,7),z=V^S^A;if(z<0)z+=4294967296;return z}function j(H,f){var V=Y(H,f,1),S=Y(H,f,8),A=W(H,f,7),z=V^S^A;if(z<0)z+=4294967296;return z}function J(H,f){var V=O(H,f,19),S=O(f,H,29),A=v(H,f,6),z=V^S^A;if(z<0)z+=4294967296;return z}function X(H,f){var V=Y(H,f,19),S=Y(f,H,29),A=W(H,f,6),z=V^S^A;if(z<0)z+=4294967296;return z}}),EU=Z$(($,q)=>{var _=H_(),P=zE();function K(){if(!(this instanceof K))return new K;P.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_.inherits(K,P),q.exports=K,K.blockSize=1024,K.outSize=384,K.hmacStrength=192,K.padLength=128,K.prototype._digest=function(O){if(O==="hex")return _.toHex32(this.h.slice(0,12),"big");else return _.split32(this.h.slice(0,12),"big")}}),RU=Z$(($)=>{$.sha1=NU(),$.sha224=CU(),$.sha256=vE(),$.sha384=EU(),$.sha512=zE()}),IU=Z$(($)=>{var q=H_(),_=y7(),P=q.rotl32,K=q.sum32,O=q.sum32_3,Y=q.sum32_4,v=_.BlockHash;function W(){if(!(this instanceof W))return new W;v.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}q.inherits(W,v),$.ripemd160=W,W.blockSize=512,W.outSize=160,W.hmacStrength=192,W.padLength=64,W.prototype._update=function(E,D){var h=this.h[0],L=this.h[1],b=this.h[2],y=this.h[3],p=this.h[4],i=h,$$=L,Q=b,c=y,a=p;for(var j=0;j<80;j++){var J=K(P(Y(h,T(j,L,b,y),E[k[j]+D],Z(j)),N[j]),p);h=p,p=y,y=P(b,10),b=L,L=J,J=K(P(Y(i,T(79-j,$$,Q,c),E[M[j]+D],w(j)),R[j]),a),i=a,a=c,c=P(Q,10),Q=$$,$$=J}J=O(this.h[1],b,c),this.h[1]=O(this.h[2],y,a),this.h[2]=O(this.h[3],p,i),this.h[3]=O(this.h[4],h,$$),this.h[4]=O(this.h[0],L,Q),this.h[0]=J},W.prototype._digest=function(E){if(E==="hex")return q.toHex32(this.h,"little");else return q.split32(this.h,"little")};function T(E,D,h,L){if(E<=15)return D^h^L;else if(E<=31)return D&h|~D&L;else if(E<=47)return(D|~h)^L;else if(E<=63)return D&L|h&~L;else return D^(h|~L)}function Z(E){if(E<=15)return 0;else if(E<=31)return 1518500249;else if(E<=47)return 1859775393;else if(E<=63)return 2400959708;else return 2840853838}function w(E){if(E<=15)return 1352829926;else if(E<=31)return 1548603684;else if(E<=47)return 1836072691;else if(E<=63)return 2053994217;else return 0}var k=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],M=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],N=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],R=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),hU=Z$(($,q)=>{var _=H_(),P=XK();function K(O,Y,v){if(!(this instanceof K))return new K(O,Y,v);this.Hash=O,this.blockSize=O.blockSize/8,this.outSize=O.outSize/8,this.inner=null,this.outer=null,this._init(_.toArray(Y,v))}q.exports=K,K.prototype._init=function(O){if(O.length>this.blockSize)O=new this.Hash().update(O).digest();P(O.length<=this.blockSize);for(var Y=O.length;Y<this.blockSize;Y++)O.push(0);for(Y=0;Y<O.length;Y++)O[Y]^=54;this.inner=new this.Hash().update(O);for(Y=0;Y<O.length;Y++)O[Y]^=106;this.outer=new this.Hash().update(O)},K.prototype.update=function(O,Y){return this.inner.update(O,Y),this},K.prototype.digest=function(O){return this.outer.update(this.inner.digest()),this.outer.digest(O)}}),hw=Z$(($)=>{var q=$;q.utils=H_(),q.common=y7(),q.sha=RU(),q.ripemd=IU(),q.hmac=hU(),q.sha1=q.sha.sha1,q.sha256=q.sha.sha256,q.sha224=q.sha.sha224,q.sha384=q.sha.sha384,q.sha512=q.sha.sha512,q.ripemd160=q.ripemd.ripemd160}),DU=Z$(($,q)=>{q.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),Dw=Z$(($)=>{var q=$,_=hw(),P=OE(),K=E8(),O=K.assert;function Y(T){if(T.type==="short")this.curve=new P.short(T);else if(T.type==="edwards")this.curve=new P.edwards(T);else this.curve=new P.mont(T);this.g=this.curve.g,this.n=this.curve.n,this.hash=T.hash,O(this.g.validate(),"Invalid curve"),O(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}q.PresetCurve=Y;function v(T,Z){Object.defineProperty(q,T,{configurable:!0,enumerable:!0,get:function(){var w=new Y(Z);return Object.defineProperty(q,T,{configurable:!0,enumerable:!0,value:w}),w}})}v("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),v("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),v("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),v("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),v("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),v("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["9"]}),v("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var W;try{W=DU()}catch(T){W=void 0}v("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",W]})}),LU=Z$(($,q)=>{var _=hw(),P=PE(),K=XK();function O(Y){if(!(this instanceof O))return new O(Y);this.hash=Y.hash,this.predResist=!!Y.predResist,this.outLen=this.hash.outSize,this.minEntropy=Y.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var v=P.toArray(Y.entropy,Y.entropyEnc||"hex"),W=P.toArray(Y.nonce,Y.nonceEnc||"hex"),T=P.toArray(Y.pers,Y.persEnc||"hex");K(v.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(v,W,T)}q.exports=O,O.prototype._init=function(Y,v,W){var T=Y.concat(v).concat(W);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var Z=0;Z<this.V.length;Z++)this.K[Z]=0,this.V[Z]=1;this._update(T),this._reseed=1,this.reseedInterval=281474976710656},O.prototype._hmac=function(){return new _.hmac(this.hash,this.K)},O.prototype._update=function(Y){var v=this._hmac().update(this.V).update([0]);if(Y)v=v.update(Y);if(this.K=v.digest(),this.V=this._hmac().update(this.V).digest(),!Y)return;this.K=this._hmac().update(this.V).update([1]).update(Y).digest(),this.V=this._hmac().update(this.V).digest()},O.prototype.reseed=function(Y,v,W,T){if(typeof v!=="string")T=W,W=v,v=null;Y=P.toArray(Y,v),W=P.toArray(W,T),K(Y.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(Y.concat(W||[])),this._reseed=1},O.prototype.generate=function(Y,v,W,T){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");if(typeof v!=="string")T=W,W=v,v=null;if(W)W=P.toArray(W,T||"hex"),this._update(W);var Z=[];while(Z.length<Y)this.V=this._hmac().update(this.V).digest(),Z=Z.concat(this.V);var w=Z.slice(0,Y);return this._update(W),this._reseed++,P.encode(w,v)}}),gU=Z$(($,q)=>{var _=b_(),P=E8(),K=P.assert;function O(Y,v){if(this.ec=Y,this.priv=null,this.pub=null,v.priv)this._importPrivate(v.priv,v.privEnc);if(v.pub)this._importPublic(v.pub,v.pubEnc)}q.exports=O,O.fromPublic=function(Y,v,W){if(v instanceof O)return v;return new O(Y,{pub:v,pubEnc:W})},O.fromPrivate=function(Y,v,W){if(v instanceof O)return v;return new O(Y,{priv:v,privEnc:W})},O.prototype.validate=function(){var Y=this.getPublic();if(Y.isInfinity())return{result:!1,reason:"Invalid public key"};if(!Y.validate())return{result:!1,reason:"Public key is not a point"};if(!Y.mul(this.ec.curve.n).isInfinity())return{result:!1,reason:"Public key * N != O"};return{result:!0,reason:null}},O.prototype.getPublic=function(Y,v){if(typeof Y==="string")v=Y,Y=null;if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!v)return this.pub;return this.pub.encode(v,Y)},O.prototype.getPrivate=function(Y){if(Y==="hex")return this.priv.toString(16,2);else return this.priv},O.prototype._importPrivate=function(Y,v){this.priv=new _(Y,v||16),this.priv=this.priv.umod(this.ec.curve.n)},O.prototype._importPublic=function(Y,v){if(Y.x||Y.y){if(this.ec.curve.type==="mont")K(Y.x,"Need x coordinate");else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")K(Y.x&&Y.y,"Need both x and y coordinate");this.pub=this.ec.curve.point(Y.x,Y.y);return}this.pub=this.ec.curve.decodePoint(Y,v)},O.prototype.derive=function(Y){if(!Y.validate())K(Y.validate(),"public point not validated");return Y.mul(this.priv).getX()},O.prototype.sign=function(Y,v,W){return this.ec.sign(Y,this,v,W)},O.prototype.verify=function(Y,v,W){return this.ec.verify(Y,v,this,void 0,W)},O.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),bU=Z$(($,q)=>{var _=b_(),P=E8(),K=P.assert;function O(Z,w){if(Z instanceof O)return Z;if(this._importDER(Z,w))return;if(K(Z.r&&Z.s,"Signature without r or s"),this.r=new _(Z.r,16),this.s=new _(Z.s,16),Z.recoveryParam===void 0)this.recoveryParam=null;else this.recoveryParam=Z.recoveryParam}q.exports=O;function Y(){this.place=0}function v(Z,w){var k=Z[w.place++];if(!(k&128))return k;var M=k&15;if(M===0||M>4)return!1;if(Z[w.place]===0)return!1;var N=0;for(var R=0,E=w.place;R<M;R++,E++)N<<=8,N|=Z[E],N>>>=0;if(N<=127)return!1;return w.place=E,N}function W(Z){var w=0,k=Z.length-1;while(!Z[w]&&!(Z[w+1]&128)&&w<k)w++;if(w===0)return Z;return Z.slice(w)}O.prototype._importDER=function(Z,w){Z=P.toArray(Z,w);var k=new Y;if(Z[k.place++]!==48)return!1;var M=v(Z,k);if(M===!1)return!1;if(M+k.place!==Z.length)return!1;if(Z[k.place++]!==2)return!1;var N=v(Z,k);if(N===!1)return!1;if((Z[k.place]&128)!==0)return!1;var R=Z.slice(k.place,N+k.place);if(k.place+=N,Z[k.place++]!==2)return!1;var E=v(Z,k);if(E===!1)return!1;if(Z.length!==E+k.place)return!1;if((Z[k.place]&128)!==0)return!1;var D=Z.slice(k.place,E+k.place);if(R[0]===0)if(R[1]&128)R=R.slice(1);else return!1;if(D[0]===0)if(D[1]&128)D=D.slice(1);else return!1;return this.r=new _(R),this.s=new _(D),this.recoveryParam=null,!0};function T(Z,w){if(w<128){Z.push(w);return}var k=1+(Math.log(w)/Math.LN2>>>3);Z.push(k|128);while(--k)Z.push(w>>>(k<<3)&255);Z.push(w)}O.prototype.toDER=function(Z){var w=this.r.toArray(),k=this.s.toArray();if(w[0]&128)w=[0].concat(w);if(k[0]&128)k=[0].concat(k);w=W(w),k=W(k);while(!k[0]&&!(k[1]&128))k=k.slice(1);var M=[2];T(M,w.length),M=M.concat(w),M.push(2),T(M,k.length);var N=M.concat(k),R=[48];return T(R,N.length),R=R.concat(N),P.encode(R,Z)}}),yU=Z$(($,q)=>{var _=b_(),P=LU(),K=E8(),O=Dw(),Y=YE(),v=K.assert,W=gU(),T=bU();function Z(w){if(!(this instanceof Z))return new Z(w);if(typeof w==="string")v(Object.prototype.hasOwnProperty.call(O,w),"Unknown curve "+w),w=O[w];if(w instanceof O.PresetCurve)w={curve:w};this.curve=w.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=w.curve.g,this.g.precompute(w.curve.n.bitLength()+1),this.hash=w.hash||w.curve.hash}q.exports=Z,Z.prototype.keyPair=function(w){return new W(this,w)},Z.prototype.keyFromPrivate=function(w,k){return W.fromPrivate(this,w,k)},Z.prototype.keyFromPublic=function(w,k){return W.fromPublic(this,w,k)},Z.prototype.genKeyPair=function(w){if(!w)w={};var k=new P({hash:this.hash,pers:w.pers,persEnc:w.persEnc||"utf8",entropy:w.entropy||Y(this.hash.hmacStrength),entropyEnc:w.entropy&&w.entropyEnc||"utf8",nonce:this.n.toArray()}),M=this.n.byteLength(),N=this.n.sub(new _(2));for(;;){var R=new _(k.generate(M));if(R.cmp(N)>0)continue;return R.iaddn(1),this.keyFromPrivate(R)}},Z.prototype._truncateToN=function(w,k,M){var N;if(_.isBN(w)||typeof w==="number")w=new _(w,16),N=w.byteLength();else if(typeof w==="object")N=w.length,w=new _(w,16);else{var R=w.toString();N=R.length+1>>>1,w=new _(R,16)}if(typeof M!=="number")M=N*8;var E=M-this.n.bitLength();if(E>0)w=w.ushrn(E);if(!k&&w.cmp(this.n)>=0)return w.sub(this.n);else return w},Z.prototype.sign=function(w,k,M,N){if(typeof M==="object")N=M,M=null;if(!N)N={};if(typeof w!=="string"&&typeof w!=="number"&&!_.isBN(w)){v(typeof w==="object"&&w&&typeof w.length==="number","Expected message to be an array-like, a hex string, or a BN instance"),v(w.length>>>0===w.length);for(var R=0;R<w.length;R++)v((w[R]&255)===w[R])}k=this.keyFromPrivate(k,M),w=this._truncateToN(w,!1,N.msgBitLength),v(!w.isNeg(),"Can not sign a negative message");var E=this.n.byteLength(),D=k.getPrivate().toArray("be",E),h=w.toArray("be",E);v(new _(h).eq(w),"Can not sign message");var L=new P({hash:this.hash,entropy:D,nonce:h,pers:N.pers,persEnc:N.persEnc||"utf8"}),b=this.n.sub(new _(1));for(var y=0;;y++){var p=N.k?N.k(y):new _(L.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),p.cmpn(1)<=0||p.cmp(b)>=0)continue;var i=this.g.mul(p);if(i.isInfinity())continue;var $$=i.getX(),Q=$$.umod(this.n);if(Q.cmpn(0)===0)continue;var c=p.invm(this.n).mul(Q.mul(k.getPrivate()).iadd(w));if(c=c.umod(this.n),c.cmpn(0)===0)continue;var a=(i.getY().isOdd()?1:0)|($$.cmp(Q)!==0?2:0);if(N.canonical&&c.cmp(this.nh)>0)c=this.n.sub(c),a^=1;return new T({r:Q,s:c,recoveryParam:a})}},Z.prototype.verify=function(w,k,M,N,R){if(!R)R={};w=this._truncateToN(w,!1,R.msgBitLength),M=this.keyFromPublic(M,N),k=new T(k,"hex");var{r:E,s:D}=k;if(E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;if(D.cmpn(1)<0||D.cmp(this.n)>=0)return!1;var h=D.invm(this.n),L=h.mul(w).umod(this.n),b=h.mul(E).umod(this.n),y;if(!this.curve._maxwellTrick){if(y=this.g.mulAdd(L,M.getPublic(),b),y.isInfinity())return!1;return y.getX().umod(this.n).cmp(E)===0}if(y=this.g.jmulAdd(L,M.getPublic(),b),y.isInfinity())return!1;return y.eqXToP(E)},Z.prototype.recoverPubKey=function(w,k,M,N){v((3&M)===M,"The recovery param is more than two bits"),k=new T(k,N);var R=this.n,E=new _(w),D=k.r,h=k.s,L=M&1,b=M>>1;if(D.cmp(this.curve.p.umod(this.curve.n))>=0&&b)throw Error("Unable to find sencond key candinate");if(b)D=this.curve.pointFromX(D.add(this.curve.n),L);else D=this.curve.pointFromX(D,L);var y=k.r.invm(R),p=R.sub(E).mul(y).umod(R),i=h.mul(y).umod(R);return this.g.mulAdd(p,D,i)},Z.prototype.getKeyRecoveryParam=function(w,k,M,N){if(k=new T(k,N),k.recoveryParam!==null)return k.recoveryParam;for(var R=0;R<4;R++){var E;try{E=this.recoverPubKey(w,k,R)}catch(D){continue}if(E.eq(M))return R}throw Error("Unable to find valid recovery factor")}}),uU=Z$(($,q)=>{var _=E8(),P=_.assert,K=_.parseBytes,O=_.cachedProperty;function Y(v,W){if(this.eddsa=v,this._secret=K(W.secret),v.isPoint(W.pub))this._pub=W.pub;else this._pubBytes=K(W.pub)}Y.fromPublic=function(v,W){if(W instanceof Y)return W;return new Y(v,{pub:W})},Y.fromSecret=function(v,W){if(W instanceof Y)return W;return new Y(v,{secret:W})},Y.prototype.secret=function(){return this._secret},O(Y,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),O(Y,"pub",function(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())}),O(Y,"privBytes",function(){var v=this.eddsa,W=this.hash(),T=v.encodingLength-1,Z=W.slice(0,v.encodingLength);return Z[0]&=248,Z[T]&=127,Z[T]|=64,Z}),O(Y,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),O(Y,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),O(Y,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Y.prototype.sign=function(v){return P(this._secret,"KeyPair can only verify"),this.eddsa.sign(v,this)},Y.prototype.verify=function(v,W){return this.eddsa.verify(v,W,this)},Y.prototype.getSecret=function(v){return P(this._secret,"KeyPair is public only"),_.encode(this.secret(),v)},Y.prototype.getPublic=function(v){return _.encode(this.pubBytes(),v)},q.exports=Y}),xU=Z$(($,q)=>{var _=b_(),P=E8(),K=P.assert,O=P.cachedProperty,Y=P.parseBytes;function v(W,T){if(this.eddsa=W,typeof T!=="object")T=Y(T);if(Array.isArray(T))K(T.length===W.encodingLength*2,"Signature has invalid size"),T={R:T.slice(0,W.encodingLength),S:T.slice(W.encodingLength)};if(K(T.R&&T.S,"Signature without R or S"),W.isPoint(T.R))this._R=T.R;if(T.S instanceof _)this._S=T.S;this._Rencoded=Array.isArray(T.R)?T.R:T.Rencoded,this._Sencoded=Array.isArray(T.S)?T.S:T.Sencoded}O(v,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),O(v,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),O(v,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),O(v,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),v.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},v.prototype.toHex=function(){return P.encode(this.toBytes(),"hex").toUpperCase()},q.exports=v}),pU=Z$(($,q)=>{var _=hw(),P=Dw(),K=E8(),O=K.assert,Y=K.parseBytes,v=uU(),W=xU();function T(Z){if(O(Z==="ed25519","only tested with ed25519 so far"),!(this instanceof T))return new T(Z);Z=P[Z].curve,this.curve=Z,this.g=Z.g,this.g.precompute(Z.n.bitLength()+1),this.pointClass=Z.point().constructor,this.encodingLength=Math.ceil(Z.n.bitLength()/8),this.hash=_.sha512}q.exports=T,T.prototype.sign=function(Z,w){Z=Y(Z);var k=this.keyFromSecret(w),M=this.hashInt(k.messagePrefix(),Z),N=this.g.mul(M),R=this.encodePoint(N),E=this.hashInt(R,k.pubBytes(),Z).mul(k.priv()),D=M.add(E).umod(this.curve.n);return this.makeSignature({R:N,S:D,Rencoded:R})},T.prototype.verify=function(Z,w,k){if(Z=Y(Z),w=this.makeSignature(w),w.S().gte(w.eddsa.curve.n)||w.S().isNeg())return!1;var M=this.keyFromPublic(k),N=this.hashInt(w.Rencoded(),M.pubBytes(),Z),R=this.g.mul(w.S()),E=w.R().add(M.pub().mul(N));return E.eq(R)},T.prototype.hashInt=function(){var Z=this.hash();for(var w=0;w<arguments.length;w++)Z.update(arguments[w]);return K.intFromLE(Z.digest()).umod(this.curve.n)},T.prototype.keyFromPublic=function(Z){return v.fromPublic(this,Z)},T.prototype.keyFromSecret=function(Z){return v.fromSecret(this,Z)},T.prototype.makeSignature=function(Z){if(Z instanceof W)return Z;return new W(this,Z)},T.prototype.encodePoint=function(Z){var w=Z.getY().toArray("le",this.encodingLength);return w[this.encodingLength-1]|=Z.getX().isOdd()?128:0,w},T.prototype.decodePoint=function(Z){Z=K.parseBytes(Z);var w=Z.length-1,k=Z.slice(0,w).concat(Z[w]&-129),M=(Z[w]&128)!==0,N=K.intFromLE(k);return this.curve.pointFromY(N,M)},T.prototype.encodeInt=function(Z){return Z.toArray("le",this.encodingLength)},T.prototype.decodeInt=function(Z){return K.intFromLE(Z)},T.prototype.isPoint=function(Z){return Z instanceof this.pointClass}}),cU=Z$(($)=>{var q=$;q.version=kU().version,q.utils=E8(),q.rand=YE(),q.curve=OE(),q.curves=Dw(),q.ec=yU(),q.eddsa=pU()}),mU=Z$(($,q)=>{(function(_,P){function K(j,J){if(!j)throw Error(J||"Assertion failed")}function O(j,J){j.super_=J;var X=function(){};X.prototype=J.prototype,j.prototype=new X,j.prototype.constructor=j}function Y(j,J,X){if(Y.isBN(j))return j;if(this.negative=0,this.words=null,this.length=0,this.red=null,j!==null){if(J==="le"||J==="be")X=J,J=10;this._init(j||0,J||10,X||"be")}}if(typeof _==="object")_.exports=Y;else P.BN=Y;Y.BN=Y,Y.wordSize=26;var v;try{if(typeof window<"u"&&typeof window.Buffer<"u")v=window.Buffer;else v=(Xq(),H6(fq)).Buffer}catch(j){}Y.isBN=function(j){if(j instanceof Y)return!0;return j!==null&&typeof j==="object"&&j.constructor.wordSize===Y.wordSize&&Array.isArray(j.words)},Y.max=function(j,J){if(j.cmp(J)>0)return j;return J},Y.min=function(j,J){if(j.cmp(J)<0)return j;return J},Y.prototype._init=function(j,J,X){if(typeof j==="number")return this._initNumber(j,J,X);if(typeof j==="object")return this._initArray(j,J,X);if(J==="hex")J=16;K(J===(J|0)&&J>=2&&J<=36),j=j.toString().replace(/\s+/g,"");var H=0;if(j[0]==="-")H++,this.negative=1;if(H<j.length){if(J===16)this._parseHex(j,H,X);else if(this._parseBase(j,J,H),X==="le")this._initArray(this.toArray(),J,X)}},Y.prototype._initNumber=function(j,J,X){if(j<0)this.negative=1,j=-j;if(j<67108864)this.words=[j&67108863],this.length=1;else if(j<4503599627370496)this.words=[j&67108863,j/67108864&67108863],this.length=2;else K(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3;if(X!=="le")return;this._initArray(this.toArray(),J,X)},Y.prototype._initArray=function(j,J,X){if(K(typeof j.length==="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var f,V,S=0;if(X==="be"){for(H=j.length-1,f=0;H>=0;H-=3)if(V=j[H]|j[H-1]<<8|j[H-2]<<16,this.words[f]|=V<<S&67108863,this.words[f+1]=V>>>26-S&67108863,S+=24,S>=26)S-=26,f++}else if(X==="le"){for(H=0,f=0;H<j.length;H+=3)if(V=j[H]|j[H+1]<<8|j[H+2]<<16,this.words[f]|=V<<S&67108863,this.words[f+1]=V>>>26-S&67108863,S+=24,S>=26)S-=26,f++}return this.strip()};function W(j,J){var X=j.charCodeAt(J);if(X>=65&&X<=70)return X-55;else if(X>=97&&X<=102)return X-87;else return X-48&15}function T(j,J,X){var H=W(j,X);if(X-1>=J)H|=W(j,X-1)<<4;return H}Y.prototype._parseHex=function(j,J,X){this.length=Math.ceil((j.length-J)/6),this.words=Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var f=0,V=0,S;if(X==="be")for(H=j.length-1;H>=J;H-=2)if(S=T(j,J,H)<<f,this.words[V]|=S&67108863,f>=18)f-=18,V+=1,this.words[V]|=S>>>26;else f+=8;else{var A=j.length-J;for(H=A%2===0?J+1:J;H<j.length;H+=2)if(S=T(j,J,H)<<f,this.words[V]|=S&67108863,f>=18)f-=18,V+=1,this.words[V]|=S>>>26;else f+=8}this.strip()};function Z(j,J,X,H){var f=0,V=Math.min(j.length,X);for(var S=J;S<V;S++){var A=j.charCodeAt(S)-48;if(f*=H,A>=49)f+=A-49+10;else if(A>=17)f+=A-17+10;else f+=A}return f}Y.prototype._parseBase=function(j,J,X){this.words=[0],this.length=1;for(var H=0,f=1;f<=67108863;f*=J)H++;H--,f=f/J|0;var V=j.length-X,S=V%H,A=Math.min(V,V-S)+X,z=0;for(var G=X;G<A;G+=H)if(z=Z(j,G,G+H,J),this.imuln(f),this.words[0]+z<67108864)this.words[0]+=z;else this._iaddn(z);if(S!==0){var I=1;z=Z(j,G,j.length,J);for(G=0;G<S;G++)I*=J;if(this.imuln(I),this.words[0]+z<67108864)this.words[0]+=z;else this._iaddn(z)}this.strip()},Y.prototype.copy=function(j){j.words=Array(this.length);for(var J=0;J<this.length;J++)j.words[J]=this.words[J];j.length=this.length,j.negative=this.negative,j.red=this.red},Y.prototype.clone=function(){var j=new Y(null);return this.copy(j),j},Y.prototype._expand=function(j){while(this.length<j)this.words[this.length++]=0;return this},Y.prototype.strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},Y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(j,J){j=j||10,J=J|0||1;var X;if(j===16||j==="hex"){X="";var H=0,f=0;for(var V=0;V<this.length;V++){var S=this.words[V],A=((S<<H|f)&16777215).toString(16);if(f=S>>>24-H&16777215,H+=2,H>=26)H-=26,V--;if(f!==0||V!==this.length-1)X=w[6-A.length]+A+X;else X=A+X}if(f!==0)X=f.toString(16)+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}if(j===(j|0)&&j>=2&&j<=36){var z=k[j],G=M[j];X="";var I=this.clone();I.negative=0;while(!I.isZero()){var C=I.modn(G).toString(j);if(I=I.idivn(G),!I.isZero())X=w[z-C.length]+C+X;else X=C+X}if(this.isZero())X="0"+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}K(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var j=this.words[0];if(this.length===2)j+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)j+=4503599627370496+this.words[1]*67108864;else if(this.length>2)K(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-j:j},Y.prototype.toJSON=function(){return this.toString(16)},Y.prototype.toBuffer=function(j,J){return K(typeof v<"u"),this.toArrayLike(v,j,J)},Y.prototype.toArray=function(j,J){return this.toArrayLike(Array,j,J)},Y.prototype.toArrayLike=function(j,J,X){var H=this.byteLength(),f=X||Math.max(1,H);K(H<=f,"byte array longer than desired length"),K(f>0,"Requested array length <= 0"),this.strip();var V=J==="le",S=new j(f),A,z,G=this.clone();if(!V){for(z=0;z<f-H;z++)S[z]=0;for(z=0;!G.isZero();z++)A=G.andln(255),G.iushrn(8),S[f-z-1]=A}else{for(z=0;!G.isZero();z++)A=G.andln(255),G.iushrn(8),S[z]=A;for(;z<f;z++)S[z]=0}return S},Math.clz32)Y.prototype._countBits=function(j){return 32-Math.clz32(j)};else Y.prototype._countBits=function(j){var J=j,X=0;if(J>=4096)X+=13,J>>>=13;if(J>=64)X+=7,J>>>=7;if(J>=8)X+=4,J>>>=4;if(J>=2)X+=2,J>>>=2;return X+J};Y.prototype._zeroBits=function(j){if(j===0)return 26;var J=j,X=0;if((J&8191)===0)X+=13,J>>>=13;if((J&127)===0)X+=7,J>>>=7;if((J&15)===0)X+=4,J>>>=4;if((J&3)===0)X+=2,J>>>=2;if((J&1)===0)X++;return X},Y.prototype.bitLength=function(){var j=this.words[this.length-1],J=this._countBits(j);return(this.length-1)*26+J};function N(j){var J=Array(j.bitLength());for(var X=0;X<J.length;X++){var H=X/26|0,f=X%26;J[X]=(j.words[H]&1<<f)>>>f}return J}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var j=0;for(var J=0;J<this.length;J++){var X=this._zeroBits(this.words[J]);if(j+=X,X!==26)break}return j},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(j){if(this.negative!==0)return this.abs().inotn(j).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(j){if(this.testn(j-1))return this.notn(j).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(j){while(this.length<j.length)this.words[this.length++]=0;for(var J=0;J<j.length;J++)this.words[J]=this.words[J]|j.words[J];return this.strip()},Y.prototype.ior=function(j){return K((this.negative|j.negative)===0),this.iuor(j)},Y.prototype.or=function(j){if(this.length>j.length)return this.clone().ior(j);return j.clone().ior(this)},Y.prototype.uor=function(j){if(this.length>j.length)return this.clone().iuor(j);return j.clone().iuor(this)},Y.prototype.iuand=function(j){var J;if(this.length>j.length)J=j;else J=this;for(var X=0;X<J.length;X++)this.words[X]=this.words[X]&j.words[X];return this.length=J.length,this.strip()},Y.prototype.iand=function(j){return K((this.negative|j.negative)===0),this.iuand(j)},Y.prototype.and=function(j){if(this.length>j.length)return this.clone().iand(j);return j.clone().iand(this)},Y.prototype.uand=function(j){if(this.length>j.length)return this.clone().iuand(j);return j.clone().iuand(this)},Y.prototype.iuxor=function(j){var J,X;if(this.length>j.length)J=this,X=j;else J=j,X=this;for(var H=0;H<X.length;H++)this.words[H]=J.words[H]^X.words[H];if(this!==J)for(;H<J.length;H++)this.words[H]=J.words[H];return this.length=J.length,this.strip()},Y.prototype.ixor=function(j){return K((this.negative|j.negative)===0),this.iuxor(j)},Y.prototype.xor=function(j){if(this.length>j.length)return this.clone().ixor(j);return j.clone().ixor(this)},Y.prototype.uxor=function(j){if(this.length>j.length)return this.clone().iuxor(j);return j.clone().iuxor(this)},Y.prototype.inotn=function(j){K(typeof j==="number"&&j>=0);var J=Math.ceil(j/26)|0,X=j%26;if(this._expand(J),X>0)J--;for(var H=0;H<J;H++)this.words[H]=~this.words[H]&67108863;if(X>0)this.words[H]=~this.words[H]&67108863>>26-X;return this.strip()},Y.prototype.notn=function(j){return this.clone().inotn(j)},Y.prototype.setn=function(j,J){K(typeof j==="number"&&j>=0);var X=j/26|0,H=j%26;if(this._expand(X+1),J)this.words[X]=this.words[X]|1<<H;else this.words[X]=this.words[X]&~(1<<H);return this.strip()},Y.prototype.iadd=function(j){var J;if(this.negative!==0&&j.negative===0)return this.negative=0,J=this.isub(j),this.negative^=1,this._normSign();else if(this.negative===0&&j.negative!==0)return j.negative=0,J=this.isub(j),j.negative=1,J._normSign();var X,H;if(this.length>j.length)X=this,H=j;else X=j,H=this;var f=0;for(var V=0;V<H.length;V++)J=(X.words[V]|0)+(H.words[V]|0)+f,this.words[V]=J&67108863,f=J>>>26;for(;f!==0&&V<X.length;V++)J=(X.words[V]|0)+f,this.words[V]=J&67108863,f=J>>>26;if(this.length=X.length,f!==0)this.words[this.length]=f,this.length++;else if(X!==this)for(;V<X.length;V++)this.words[V]=X.words[V];return this},Y.prototype.add=function(j){var J;if(j.negative!==0&&this.negative===0)return j.negative=0,J=this.sub(j),j.negative^=1,J;else if(j.negative===0&&this.negative!==0)return this.negative=0,J=j.sub(this),this.negative=1,J;if(this.length>j.length)return this.clone().iadd(j);return j.clone().iadd(this)},Y.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var J=this.iadd(j);return j.negative=1,J._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var X=this.cmp(j);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,f;if(X>0)H=this,f=j;else H=j,f=this;var V=0;for(var S=0;S<f.length;S++)J=(H.words[S]|0)-(f.words[S]|0)+V,V=J>>26,this.words[S]=J&67108863;for(;V!==0&&S<H.length;S++)J=(H.words[S]|0)+V,V=J>>26,this.words[S]=J&67108863;if(V===0&&S<H.length&&H!==this)for(;S<H.length;S++)this.words[S]=H.words[S];if(this.length=Math.max(this.length,S),H!==this)this.negative=1;return this.strip()},Y.prototype.sub=function(j){return this.clone().isub(j)};function R(j,J,X){X.negative=J.negative^j.negative;var H=j.length+J.length|0;X.length=H,H=H-1|0;var f=j.words[0]|0,V=J.words[0]|0,S=f*V,A=S&67108863,z=S/67108864|0;X.words[0]=A;for(var G=1;G<H;G++){var I=z>>>26,C=z&67108863,g=Math.min(G,J.length-1);for(var x=Math.max(0,G-j.length+1);x<=g;x++){var l=G-x|0;f=j.words[l]|0,V=J.words[x]|0,S=f*V+C,I+=S/67108864|0,C=S&67108863}X.words[G]=C|0,z=I|0}if(z!==0)X.words[G]=z|0;else X.length--;return X.strip()}var E=function(j,J,X){var H=j.words,f=J.words,V=X.words,S=0,A,z,G,I=H[0]|0,C=I&8191,g=I>>>13,x=H[1]|0,l=x&8191,o=x>>>13,T$=H[2]|0,e=T$&8191,n=T$>>>13,j$=H[3]|0,s=j$&8191,P$=j$>>>13,n$=H[4]|0,m=n$&8191,r=n$>>>13,W$=H[5]|0,q$=W$&8191,_$=W$>>>13,v$=H[6]|0,d=v$&8191,B=v$>>>13,H$=H[7]|0,t=H$&8191,F=H$>>>13,A$=H[8]|0,J$=A$&8191,z$=A$>>>13,G6=H[9]|0,X$=G6&8191,k$=G6>>>13,B6=f[0]|0,M$=B6&8191,S$=B6>>>13,Cq=f[1]|0,E$=Cq&8191,g$=Cq>>>13,Eq=f[2]|0,b$=Eq&8191,R$=Eq>>>13,Aq=f[3]|0,y$=Aq&8191,I$=Aq>>>13,Hq=f[4]|0,u$=Hq&8191,x$=Hq>>>13,Tq=f[5]|0,h$=Tq&8191,u=Tq>>>13,U=f[6]|0,K$=U&8191,O$=U>>>13,t$=f[7]|0,G$=t$&8191,V$=t$>>>13,d6=f[8]|0,D$=d6&8191,p$=d6>>>13,kq=f[9]|0,L$=kq&8191,C$=kq>>>13;X.negative=j.negative^J.negative,X.length=19,A=Math.imul(C,M$),z=Math.imul(C,S$),z=z+Math.imul(g,M$)|0,G=Math.imul(g,S$);var l6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(l6>>>26)|0,l6&=67108863,A=Math.imul(l,M$),z=Math.imul(l,S$),z=z+Math.imul(o,M$)|0,G=Math.imul(o,S$),A=A+Math.imul(C,E$)|0,z=z+Math.imul(C,g$)|0,z=z+Math.imul(g,E$)|0,G=G+Math.imul(g,g$)|0;var w6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(w6>>>26)|0,w6&=67108863,A=Math.imul(e,M$),z=Math.imul(e,S$),z=z+Math.imul(n,M$)|0,G=Math.imul(n,S$),A=A+Math.imul(l,E$)|0,z=z+Math.imul(l,g$)|0,z=z+Math.imul(o,E$)|0,G=G+Math.imul(o,g$)|0,A=A+Math.imul(C,b$)|0,z=z+Math.imul(C,R$)|0,z=z+Math.imul(g,b$)|0,G=G+Math.imul(g,R$)|0;var z6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(z6>>>26)|0,z6&=67108863,A=Math.imul(s,M$),z=Math.imul(s,S$),z=z+Math.imul(P$,M$)|0,G=Math.imul(P$,S$),A=A+Math.imul(e,E$)|0,z=z+Math.imul(e,g$)|0,z=z+Math.imul(n,E$)|0,G=G+Math.imul(n,g$)|0,A=A+Math.imul(l,b$)|0,z=z+Math.imul(l,R$)|0,z=z+Math.imul(o,b$)|0,G=G+Math.imul(o,R$)|0,A=A+Math.imul(C,y$)|0,z=z+Math.imul(C,I$)|0,z=z+Math.imul(g,y$)|0,G=G+Math.imul(g,I$)|0;var D6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(D6>>>26)|0,D6&=67108863,A=Math.imul(m,M$),z=Math.imul(m,S$),z=z+Math.imul(r,M$)|0,G=Math.imul(r,S$),A=A+Math.imul(s,E$)|0,z=z+Math.imul(s,g$)|0,z=z+Math.imul(P$,E$)|0,G=G+Math.imul(P$,g$)|0,A=A+Math.imul(e,b$)|0,z=z+Math.imul(e,R$)|0,z=z+Math.imul(n,b$)|0,G=G+Math.imul(n,R$)|0,A=A+Math.imul(l,y$)|0,z=z+Math.imul(l,I$)|0,z=z+Math.imul(o,y$)|0,G=G+Math.imul(o,I$)|0,A=A+Math.imul(C,u$)|0,z=z+Math.imul(C,x$)|0,z=z+Math.imul(g,u$)|0,G=G+Math.imul(g,x$)|0;var E6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(E6>>>26)|0,E6&=67108863,A=Math.imul(q$,M$),z=Math.imul(q$,S$),z=z+Math.imul(_$,M$)|0,G=Math.imul(_$,S$),A=A+Math.imul(m,E$)|0,z=z+Math.imul(m,g$)|0,z=z+Math.imul(r,E$)|0,G=G+Math.imul(r,g$)|0,A=A+Math.imul(s,b$)|0,z=z+Math.imul(s,R$)|0,z=z+Math.imul(P$,b$)|0,G=G+Math.imul(P$,R$)|0,A=A+Math.imul(e,y$)|0,z=z+Math.imul(e,I$)|0,z=z+Math.imul(n,y$)|0,G=G+Math.imul(n,I$)|0,A=A+Math.imul(l,u$)|0,z=z+Math.imul(l,x$)|0,z=z+Math.imul(o,u$)|0,G=G+Math.imul(o,x$)|0,A=A+Math.imul(C,h$)|0,z=z+Math.imul(C,u)|0,z=z+Math.imul(g,h$)|0,G=G+Math.imul(g,u)|0;var Q6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,A=Math.imul(d,M$),z=Math.imul(d,S$),z=z+Math.imul(B,M$)|0,G=Math.imul(B,S$),A=A+Math.imul(q$,E$)|0,z=z+Math.imul(q$,g$)|0,z=z+Math.imul(_$,E$)|0,G=G+Math.imul(_$,g$)|0,A=A+Math.imul(m,b$)|0,z=z+Math.imul(m,R$)|0,z=z+Math.imul(r,b$)|0,G=G+Math.imul(r,R$)|0,A=A+Math.imul(s,y$)|0,z=z+Math.imul(s,I$)|0,z=z+Math.imul(P$,y$)|0,G=G+Math.imul(P$,I$)|0,A=A+Math.imul(e,u$)|0,z=z+Math.imul(e,x$)|0,z=z+Math.imul(n,u$)|0,G=G+Math.imul(n,x$)|0,A=A+Math.imul(l,h$)|0,z=z+Math.imul(l,u)|0,z=z+Math.imul(o,h$)|0,G=G+Math.imul(o,u)|0,A=A+Math.imul(C,K$)|0,z=z+Math.imul(C,O$)|0,z=z+Math.imul(g,K$)|0,G=G+Math.imul(g,O$)|0;var a6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(a6>>>26)|0,a6&=67108863,A=Math.imul(t,M$),z=Math.imul(t,S$),z=z+Math.imul(F,M$)|0,G=Math.imul(F,S$),A=A+Math.imul(d,E$)|0,z=z+Math.imul(d,g$)|0,z=z+Math.imul(B,E$)|0,G=G+Math.imul(B,g$)|0,A=A+Math.imul(q$,b$)|0,z=z+Math.imul(q$,R$)|0,z=z+Math.imul(_$,b$)|0,G=G+Math.imul(_$,R$)|0,A=A+Math.imul(m,y$)|0,z=z+Math.imul(m,I$)|0,z=z+Math.imul(r,y$)|0,G=G+Math.imul(r,I$)|0,A=A+Math.imul(s,u$)|0,z=z+Math.imul(s,x$)|0,z=z+Math.imul(P$,u$)|0,G=G+Math.imul(P$,x$)|0,A=A+Math.imul(e,h$)|0,z=z+Math.imul(e,u)|0,z=z+Math.imul(n,h$)|0,G=G+Math.imul(n,u)|0,A=A+Math.imul(l,K$)|0,z=z+Math.imul(l,O$)|0,z=z+Math.imul(o,K$)|0,G=G+Math.imul(o,O$)|0,A=A+Math.imul(C,G$)|0,z=z+Math.imul(C,V$)|0,z=z+Math.imul(g,G$)|0,G=G+Math.imul(g,V$)|0;var e6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(e6>>>26)|0,e6&=67108863,A=Math.imul(J$,M$),z=Math.imul(J$,S$),z=z+Math.imul(z$,M$)|0,G=Math.imul(z$,S$),A=A+Math.imul(t,E$)|0,z=z+Math.imul(t,g$)|0,z=z+Math.imul(F,E$)|0,G=G+Math.imul(F,g$)|0,A=A+Math.imul(d,b$)|0,z=z+Math.imul(d,R$)|0,z=z+Math.imul(B,b$)|0,G=G+Math.imul(B,R$)|0,A=A+Math.imul(q$,y$)|0,z=z+Math.imul(q$,I$)|0,z=z+Math.imul(_$,y$)|0,G=G+Math.imul(_$,I$)|0,A=A+Math.imul(m,u$)|0,z=z+Math.imul(m,x$)|0,z=z+Math.imul(r,u$)|0,G=G+Math.imul(r,x$)|0,A=A+Math.imul(s,h$)|0,z=z+Math.imul(s,u)|0,z=z+Math.imul(P$,h$)|0,G=G+Math.imul(P$,u)|0,A=A+Math.imul(e,K$)|0,z=z+Math.imul(e,O$)|0,z=z+Math.imul(n,K$)|0,G=G+Math.imul(n,O$)|0,A=A+Math.imul(l,G$)|0,z=z+Math.imul(l,V$)|0,z=z+Math.imul(o,G$)|0,G=G+Math.imul(o,V$)|0,A=A+Math.imul(C,D$)|0,z=z+Math.imul(C,p$)|0,z=z+Math.imul(g,D$)|0,G=G+Math.imul(g,p$)|0;var s6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(s6>>>26)|0,s6&=67108863,A=Math.imul(X$,M$),z=Math.imul(X$,S$),z=z+Math.imul(k$,M$)|0,G=Math.imul(k$,S$),A=A+Math.imul(J$,E$)|0,z=z+Math.imul(J$,g$)|0,z=z+Math.imul(z$,E$)|0,G=G+Math.imul(z$,g$)|0,A=A+Math.imul(t,b$)|0,z=z+Math.imul(t,R$)|0,z=z+Math.imul(F,b$)|0,G=G+Math.imul(F,R$)|0,A=A+Math.imul(d,y$)|0,z=z+Math.imul(d,I$)|0,z=z+Math.imul(B,y$)|0,G=G+Math.imul(B,I$)|0,A=A+Math.imul(q$,u$)|0,z=z+Math.imul(q$,x$)|0,z=z+Math.imul(_$,u$)|0,G=G+Math.imul(_$,x$)|0,A=A+Math.imul(m,h$)|0,z=z+Math.imul(m,u)|0,z=z+Math.imul(r,h$)|0,G=G+Math.imul(r,u)|0,A=A+Math.imul(s,K$)|0,z=z+Math.imul(s,O$)|0,z=z+Math.imul(P$,K$)|0,G=G+Math.imul(P$,O$)|0,A=A+Math.imul(e,G$)|0,z=z+Math.imul(e,V$)|0,z=z+Math.imul(n,G$)|0,G=G+Math.imul(n,V$)|0,A=A+Math.imul(l,D$)|0,z=z+Math.imul(l,p$)|0,z=z+Math.imul(o,D$)|0,G=G+Math.imul(o,p$)|0,A=A+Math.imul(C,L$)|0,z=z+Math.imul(C,C$)|0,z=z+Math.imul(g,L$)|0,G=G+Math.imul(g,C$)|0;var $q=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+($q>>>26)|0,$q&=67108863,A=Math.imul(X$,E$),z=Math.imul(X$,g$),z=z+Math.imul(k$,E$)|0,G=Math.imul(k$,g$),A=A+Math.imul(J$,b$)|0,z=z+Math.imul(J$,R$)|0,z=z+Math.imul(z$,b$)|0,G=G+Math.imul(z$,R$)|0,A=A+Math.imul(t,y$)|0,z=z+Math.imul(t,I$)|0,z=z+Math.imul(F,y$)|0,G=G+Math.imul(F,I$)|0,A=A+Math.imul(d,u$)|0,z=z+Math.imul(d,x$)|0,z=z+Math.imul(B,u$)|0,G=G+Math.imul(B,x$)|0,A=A+Math.imul(q$,h$)|0,z=z+Math.imul(q$,u)|0,z=z+Math.imul(_$,h$)|0,G=G+Math.imul(_$,u)|0,A=A+Math.imul(m,K$)|0,z=z+Math.imul(m,O$)|0,z=z+Math.imul(r,K$)|0,G=G+Math.imul(r,O$)|0,A=A+Math.imul(s,G$)|0,z=z+Math.imul(s,V$)|0,z=z+Math.imul(P$,G$)|0,G=G+Math.imul(P$,V$)|0,A=A+Math.imul(e,D$)|0,z=z+Math.imul(e,p$)|0,z=z+Math.imul(n,D$)|0,G=G+Math.imul(n,p$)|0,A=A+Math.imul(l,L$)|0,z=z+Math.imul(l,C$)|0,z=z+Math.imul(o,L$)|0,G=G+Math.imul(o,C$)|0;var qq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(qq>>>26)|0,qq&=67108863,A=Math.imul(X$,b$),z=Math.imul(X$,R$),z=z+Math.imul(k$,b$)|0,G=Math.imul(k$,R$),A=A+Math.imul(J$,y$)|0,z=z+Math.imul(J$,I$)|0,z=z+Math.imul(z$,y$)|0,G=G+Math.imul(z$,I$)|0,A=A+Math.imul(t,u$)|0,z=z+Math.imul(t,x$)|0,z=z+Math.imul(F,u$)|0,G=G+Math.imul(F,x$)|0,A=A+Math.imul(d,h$)|0,z=z+Math.imul(d,u)|0,z=z+Math.imul(B,h$)|0,G=G+Math.imul(B,u)|0,A=A+Math.imul(q$,K$)|0,z=z+Math.imul(q$,O$)|0,z=z+Math.imul(_$,K$)|0,G=G+Math.imul(_$,O$)|0,A=A+Math.imul(m,G$)|0,z=z+Math.imul(m,V$)|0,z=z+Math.imul(r,G$)|0,G=G+Math.imul(r,V$)|0,A=A+Math.imul(s,D$)|0,z=z+Math.imul(s,p$)|0,z=z+Math.imul(P$,D$)|0,G=G+Math.imul(P$,p$)|0,A=A+Math.imul(e,L$)|0,z=z+Math.imul(e,C$)|0,z=z+Math.imul(n,L$)|0,G=G+Math.imul(n,C$)|0;var _q=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(_q>>>26)|0,_q&=67108863,A=Math.imul(X$,y$),z=Math.imul(X$,I$),z=z+Math.imul(k$,y$)|0,G=Math.imul(k$,I$),A=A+Math.imul(J$,u$)|0,z=z+Math.imul(J$,x$)|0,z=z+Math.imul(z$,u$)|0,G=G+Math.imul(z$,x$)|0,A=A+Math.imul(t,h$)|0,z=z+Math.imul(t,u)|0,z=z+Math.imul(F,h$)|0,G=G+Math.imul(F,u)|0,A=A+Math.imul(d,K$)|0,z=z+Math.imul(d,O$)|0,z=z+Math.imul(B,K$)|0,G=G+Math.imul(B,O$)|0,A=A+Math.imul(q$,G$)|0,z=z+Math.imul(q$,V$)|0,z=z+Math.imul(_$,G$)|0,G=G+Math.imul(_$,V$)|0,A=A+Math.imul(m,D$)|0,z=z+Math.imul(m,p$)|0,z=z+Math.imul(r,D$)|0,G=G+Math.imul(r,p$)|0,A=A+Math.imul(s,L$)|0,z=z+Math.imul(s,C$)|0,z=z+Math.imul(P$,L$)|0,G=G+Math.imul(P$,C$)|0;var Kq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,A=Math.imul(X$,u$),z=Math.imul(X$,x$),z=z+Math.imul(k$,u$)|0,G=Math.imul(k$,x$),A=A+Math.imul(J$,h$)|0,z=z+Math.imul(J$,u)|0,z=z+Math.imul(z$,h$)|0,G=G+Math.imul(z$,u)|0,A=A+Math.imul(t,K$)|0,z=z+Math.imul(t,O$)|0,z=z+Math.imul(F,K$)|0,G=G+Math.imul(F,O$)|0,A=A+Math.imul(d,G$)|0,z=z+Math.imul(d,V$)|0,z=z+Math.imul(B,G$)|0,G=G+Math.imul(B,V$)|0,A=A+Math.imul(q$,D$)|0,z=z+Math.imul(q$,p$)|0,z=z+Math.imul(_$,D$)|0,G=G+Math.imul(_$,p$)|0,A=A+Math.imul(m,L$)|0,z=z+Math.imul(m,C$)|0,z=z+Math.imul(r,L$)|0,G=G+Math.imul(r,C$)|0;var Pq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,A=Math.imul(X$,h$),z=Math.imul(X$,u),z=z+Math.imul(k$,h$)|0,G=Math.imul(k$,u),A=A+Math.imul(J$,K$)|0,z=z+Math.imul(J$,O$)|0,z=z+Math.imul(z$,K$)|0,G=G+Math.imul(z$,O$)|0,A=A+Math.imul(t,G$)|0,z=z+Math.imul(t,V$)|0,z=z+Math.imul(F,G$)|0,G=G+Math.imul(F,V$)|0,A=A+Math.imul(d,D$)|0,z=z+Math.imul(d,p$)|0,z=z+Math.imul(B,D$)|0,G=G+Math.imul(B,p$)|0,A=A+Math.imul(q$,L$)|0,z=z+Math.imul(q$,C$)|0,z=z+Math.imul(_$,L$)|0,G=G+Math.imul(_$,C$)|0;var Yq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,A=Math.imul(X$,K$),z=Math.imul(X$,O$),z=z+Math.imul(k$,K$)|0,G=Math.imul(k$,O$),A=A+Math.imul(J$,G$)|0,z=z+Math.imul(J$,V$)|0,z=z+Math.imul(z$,G$)|0,G=G+Math.imul(z$,V$)|0,A=A+Math.imul(t,D$)|0,z=z+Math.imul(t,p$)|0,z=z+Math.imul(F,D$)|0,G=G+Math.imul(F,p$)|0,A=A+Math.imul(d,L$)|0,z=z+Math.imul(d,C$)|0,z=z+Math.imul(B,L$)|0,G=G+Math.imul(B,C$)|0;var Oq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,A=Math.imul(X$,G$),z=Math.imul(X$,V$),z=z+Math.imul(k$,G$)|0,G=Math.imul(k$,V$),A=A+Math.imul(J$,D$)|0,z=z+Math.imul(J$,p$)|0,z=z+Math.imul(z$,D$)|0,G=G+Math.imul(z$,p$)|0,A=A+Math.imul(t,L$)|0,z=z+Math.imul(t,C$)|0,z=z+Math.imul(F,L$)|0,G=G+Math.imul(F,C$)|0;var jq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(jq>>>26)|0,jq&=67108863,A=Math.imul(X$,D$),z=Math.imul(X$,p$),z=z+Math.imul(k$,D$)|0,G=Math.imul(k$,p$),A=A+Math.imul(J$,L$)|0,z=z+Math.imul(J$,C$)|0,z=z+Math.imul(z$,L$)|0,G=G+Math.imul(z$,C$)|0;var vq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(vq>>>26)|0,vq&=67108863,A=Math.imul(X$,L$),z=Math.imul(X$,C$),z=z+Math.imul(k$,L$)|0,G=Math.imul(k$,C$);var zq=(S+A|0)+((z&8191)<<13)|0;if(S=(G+(z>>>13)|0)+(zq>>>26)|0,zq&=67108863,V[0]=l6,V[1]=w6,V[2]=z6,V[3]=D6,V[4]=E6,V[5]=Q6,V[6]=a6,V[7]=e6,V[8]=s6,V[9]=$q,V[10]=qq,V[11]=_q,V[12]=Kq,V[13]=Pq,V[14]=Yq,V[15]=Oq,V[16]=jq,V[17]=vq,V[18]=zq,S!==0)V[19]=S,X.length++;return X};if(!Math.imul)E=R;function D(j,J,X){X.negative=J.negative^j.negative,X.length=j.length+J.length;var H=0,f=0;for(var V=0;V<X.length-1;V++){var S=f;f=0;var A=H&67108863,z=Math.min(V,J.length-1);for(var G=Math.max(0,V-j.length+1);G<=z;G++){var I=V-G,C=j.words[I]|0,g=J.words[G]|0,x=C*g,l=x&67108863;S=S+(x/67108864|0)|0,l=l+A|0,A=l&67108863,S=S+(l>>>26)|0,f+=S>>>26,S&=67108863}X.words[V]=A,H=S,S=f}if(H!==0)X.words[V]=H;else X.length--;return X.strip()}function h(j,J,X){var H=new L;return H.mulp(j,J,X)}Y.prototype.mulTo=function(j,J){var X,H=this.length+j.length;if(this.length===10&&j.length===10)X=E(this,j,J);else if(H<63)X=R(this,j,J);else if(H<1024)X=D(this,j,J);else X=h(this,j,J);return X};function L(j,J){this.x=j,this.y=J}L.prototype.makeRBT=function(j){var J=Array(j),X=Y.prototype._countBits(j)-1;for(var H=0;H<j;H++)J[H]=this.revBin(H,X,j);return J},L.prototype.revBin=function(j,J,X){if(j===0||j===X-1)return j;var H=0;for(var f=0;f<J;f++)H|=(j&1)<<J-f-1,j>>=1;return H},L.prototype.permute=function(j,J,X,H,f,V){for(var S=0;S<V;S++)H[S]=J[j[S]],f[S]=X[j[S]]},L.prototype.transform=function(j,J,X,H,f,V){this.permute(V,j,J,X,H,f);for(var S=1;S<f;S<<=1){var A=S<<1,z=Math.cos(2*Math.PI/A),G=Math.sin(2*Math.PI/A);for(var I=0;I<f;I+=A){var C=z,g=G;for(var x=0;x<S;x++){var l=X[I+x],o=H[I+x],T$=X[I+x+S],e=H[I+x+S],n=C*T$-g*e;if(e=C*e+g*T$,T$=n,X[I+x]=l+T$,H[I+x]=o+e,X[I+x+S]=l-T$,H[I+x+S]=o-e,x!==A)n=z*C-G*g,g=z*g+G*C,C=n}}}},L.prototype.guessLen13b=function(j,J){var X=Math.max(J,j)|1,H=X&1,f=0;for(X=X/2|0;X;X=X>>>1)f++;return 1<<f+1+H},L.prototype.conjugate=function(j,J,X){if(X<=1)return;for(var H=0;H<X/2;H++){var f=j[H];j[H]=j[X-H-1],j[X-H-1]=f,f=J[H],J[H]=-J[X-H-1],J[X-H-1]=-f}},L.prototype.normalize13b=function(j,J){var X=0;for(var H=0;H<J/2;H++){var f=Math.round(j[2*H+1]/J)*8192+Math.round(j[2*H]/J)+X;if(j[H]=f&67108863,f<67108864)X=0;else X=f/67108864|0}return j},L.prototype.convert13b=function(j,J,X,H){var f=0;for(var V=0;V<J;V++)f=f+(j[V]|0),X[2*V]=f&8191,f=f>>>13,X[2*V+1]=f&8191,f=f>>>13;for(V=2*J;V<H;++V)X[V]=0;K(f===0),K((f&-8192)===0)},L.prototype.stub=function(j){var J=Array(j);for(var X=0;X<j;X++)J[X]=0;return J},L.prototype.mulp=function(j,J,X){var H=2*this.guessLen13b(j.length,J.length),f=this.makeRBT(H),V=this.stub(H),S=Array(H),A=Array(H),z=Array(H),G=Array(H),I=Array(H),C=Array(H),g=X.words;g.length=H,this.convert13b(j.words,j.length,S,H),this.convert13b(J.words,J.length,G,H),this.transform(S,V,A,z,H,f),this.transform(G,V,I,C,H,f);for(var x=0;x<H;x++){var l=A[x]*I[x]-z[x]*C[x];z[x]=A[x]*C[x]+z[x]*I[x],A[x]=l}return this.conjugate(A,z,H),this.transform(A,z,g,V,H,f),this.conjugate(g,V,H),this.normalize13b(g,H),X.negative=j.negative^J.negative,X.length=j.length+J.length,X.strip()},Y.prototype.mul=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),this.mulTo(j,J)},Y.prototype.mulf=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),h(this,j,J)},Y.prototype.imul=function(j){return this.clone().mulTo(j,this)},Y.prototype.imuln=function(j){K(typeof j==="number"),K(j<67108864);var J=0;for(var X=0;X<this.length;X++){var H=(this.words[X]|0)*j,f=(H&67108863)+(J&67108863);J>>=26,J+=H/67108864|0,J+=f>>>26,this.words[X]=f&67108863}if(J!==0)this.words[X]=J,this.length++;return this.length=j===0?1:this.length,this},Y.prototype.muln=function(j){return this.clone().imuln(j)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(j){var J=N(j);if(J.length===0)return new Y(1);var X=this;for(var H=0;H<J.length;H++,X=X.sqr())if(J[H]!==0)break;if(++H<J.length)for(var f=X.sqr();H<J.length;H++,f=f.sqr()){if(J[H]===0)continue;X=X.mul(f)}return X},Y.prototype.iushln=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,H=67108863>>>26-J<<26-J,f;if(J!==0){var V=0;for(f=0;f<this.length;f++){var S=this.words[f]&H,A=(this.words[f]|0)-S<<J;this.words[f]=A|V,V=S>>>26-J}if(V)this.words[f]=V,this.length++}if(X!==0){for(f=this.length-1;f>=0;f--)this.words[f+X]=this.words[f];for(f=0;f<X;f++)this.words[f]=0;this.length+=X}return this.strip()},Y.prototype.ishln=function(j){return K(this.negative===0),this.iushln(j)},Y.prototype.iushrn=function(j,J,X){K(typeof j==="number"&&j>=0);var H;if(J)H=(J-J%26)/26;else H=0;var f=j%26,V=Math.min((j-f)/26,this.length),S=67108863^67108863>>>f<<f,A=X;if(H-=V,H=Math.max(0,H),A){for(var z=0;z<V;z++)A.words[z]=this.words[z];A.length=V}if(V===0);else if(this.length>V){this.length-=V;for(z=0;z<this.length;z++)this.words[z]=this.words[z+V]}else this.words[0]=0,this.length=1;var G=0;for(z=this.length-1;z>=0&&(G!==0||z>=H);z--){var I=this.words[z]|0;this.words[z]=G<<26-f|I>>>f,G=I&S}if(A&&G!==0)A.words[A.length++]=G;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},Y.prototype.ishrn=function(j,J,X){return K(this.negative===0),this.iushrn(j,J,X)},Y.prototype.shln=function(j){return this.clone().ishln(j)},Y.prototype.ushln=function(j){return this.clone().iushln(j)},Y.prototype.shrn=function(j){return this.clone().ishrn(j)},Y.prototype.ushrn=function(j){return this.clone().iushrn(j)},Y.prototype.testn=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,H=1<<J;if(this.length<=X)return!1;var f=this.words[X];return!!(f&H)},Y.prototype.imaskn=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26;if(K(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(J!==0)X++;if(this.length=Math.min(X,this.length),J!==0){var H=67108863^67108863>>>J<<J;this.words[this.length-1]&=H}return this.strip()},Y.prototype.maskn=function(j){return this.clone().imaskn(j)},Y.prototype.iaddn=function(j){if(K(typeof j==="number"),K(j<67108864),j<0)return this.isubn(-j);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<j)return this.words[0]=j-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(j),this.negative=1,this}return this._iaddn(j)},Y.prototype._iaddn=function(j){this.words[0]+=j;for(var J=0;J<this.length&&this.words[J]>=67108864;J++)if(this.words[J]-=67108864,J===this.length-1)this.words[J+1]=1;else this.words[J+1]++;return this.length=Math.max(this.length,J+1),this},Y.prototype.isubn=function(j){if(K(typeof j==="number"),K(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var J=0;J<this.length&&this.words[J]<0;J++)this.words[J]+=67108864,this.words[J+1]-=1;return this.strip()},Y.prototype.addn=function(j){return this.clone().iaddn(j)},Y.prototype.subn=function(j){return this.clone().isubn(j)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(j,J,X){var H=j.length+X,f;this._expand(H);var V,S=0;for(f=0;f<j.length;f++){V=(this.words[f+X]|0)+S;var A=(j.words[f]|0)*J;V-=A&67108863,S=(V>>26)-(A/67108864|0),this.words[f+X]=V&67108863}for(;f<this.length-X;f++)V=(this.words[f+X]|0)+S,S=V>>26,this.words[f+X]=V&67108863;if(S===0)return this.strip();K(S===-1),S=0;for(f=0;f<this.length;f++)V=-(this.words[f]|0)+S,S=V>>26,this.words[f]=V&67108863;return this.negative=1,this.strip()},Y.prototype._wordDiv=function(j,J){var X=this.length-j.length,H=this.clone(),f=j,V=f.words[f.length-1]|0,S=this._countBits(V);if(X=26-S,X!==0)f=f.ushln(X),H.iushln(X),V=f.words[f.length-1]|0;var A=H.length-f.length,z;if(J!=="mod"){z=new Y(null),z.length=A+1,z.words=Array(z.length);for(var G=0;G<z.length;G++)z.words[G]=0}var I=H.clone()._ishlnsubmul(f,1,A);if(I.negative===0){if(H=I,z)z.words[A]=1}for(var C=A-1;C>=0;C--){var g=(H.words[f.length+C]|0)*67108864+(H.words[f.length+C-1]|0);g=Math.min(g/V|0,67108863),H._ishlnsubmul(f,g,C);while(H.negative!==0)if(g--,H.negative=0,H._ishlnsubmul(f,1,C),!H.isZero())H.negative^=1;if(z)z.words[C]=g}if(z)z.strip();if(H.strip(),J!=="div"&&X!==0)H.iushrn(X);return{div:z||null,mod:H}},Y.prototype.divmod=function(j,J,X){if(K(!j.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var H,f,V;if(this.negative!==0&&j.negative===0){if(V=this.neg().divmod(j,J),J!=="mod")H=V.div.neg();if(J!=="div"){if(f=V.mod.neg(),X&&f.negative!==0)f.iadd(j)}return{div:H,mod:f}}if(this.negative===0&&j.negative!==0){if(V=this.divmod(j.neg(),J),J!=="mod")H=V.div.neg();return{div:H,mod:V.mod}}if((this.negative&j.negative)!==0){if(V=this.neg().divmod(j.neg(),J),J!=="div"){if(f=V.mod.neg(),X&&f.negative!==0)f.isub(j)}return{div:V.div,mod:f}}if(j.length>this.length||this.cmp(j)<0)return{div:new Y(0),mod:this};if(j.length===1){if(J==="div")return{div:this.divn(j.words[0]),mod:null};if(J==="mod")return{div:null,mod:new Y(this.modn(j.words[0]))};return{div:this.divn(j.words[0]),mod:new Y(this.modn(j.words[0]))}}return this._wordDiv(j,J)},Y.prototype.div=function(j){return this.divmod(j,"div",!1).div},Y.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},Y.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},Y.prototype.divRound=function(j){var J=this.divmod(j);if(J.mod.isZero())return J.div;var X=J.div.negative!==0?J.mod.isub(j):J.mod,H=j.ushrn(1),f=j.andln(1),V=X.cmp(H);if(V<0||f===1&&V===0)return J.div;return J.div.negative!==0?J.div.isubn(1):J.div.iaddn(1)},Y.prototype.modn=function(j){K(j<=67108863);var J=67108864%j,X=0;for(var H=this.length-1;H>=0;H--)X=(J*X+(this.words[H]|0))%j;return X},Y.prototype.idivn=function(j){K(j<=67108863);var J=0;for(var X=this.length-1;X>=0;X--){var H=(this.words[X]|0)+J*67108864;this.words[X]=H/j|0,J=H%j}return this.strip()},Y.prototype.divn=function(j){return this.clone().idivn(j)},Y.prototype.egcd=function(j){K(j.negative===0),K(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var H=new Y(1),f=new Y(0),V=new Y(0),S=new Y(1),A=0;while(J.isEven()&&X.isEven())J.iushrn(1),X.iushrn(1),++A;var z=X.clone(),G=J.clone();while(!J.isZero()){for(var I=0,C=1;(J.words[0]&C)===0&&I<26;++I,C<<=1);if(I>0){J.iushrn(I);while(I-- >0){if(H.isOdd()||f.isOdd())H.iadd(z),f.isub(G);H.iushrn(1),f.iushrn(1)}}for(var g=0,x=1;(X.words[0]&x)===0&&g<26;++g,x<<=1);if(g>0){X.iushrn(g);while(g-- >0){if(V.isOdd()||S.isOdd())V.iadd(z),S.isub(G);V.iushrn(1),S.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),H.isub(V),f.isub(S);else X.isub(J),V.isub(H),S.isub(f)}return{a:V,b:S,gcd:X.iushln(A)}},Y.prototype._invmp=function(j){K(j.negative===0),K(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var H=new Y(1),f=new Y(0),V=X.clone();while(J.cmpn(1)>0&&X.cmpn(1)>0){for(var S=0,A=1;(J.words[0]&A)===0&&S<26;++S,A<<=1);if(S>0){J.iushrn(S);while(S-- >0){if(H.isOdd())H.iadd(V);H.iushrn(1)}}for(var z=0,G=1;(X.words[0]&G)===0&&z<26;++z,G<<=1);if(z>0){X.iushrn(z);while(z-- >0){if(f.isOdd())f.iadd(V);f.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),H.isub(f);else X.isub(J),f.isub(H)}var I;if(J.cmpn(1)===0)I=H;else I=f;if(I.cmpn(0)<0)I.iadd(j);return I},Y.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var J=this.clone(),X=j.clone();J.negative=0,X.negative=0;for(var H=0;J.isEven()&&X.isEven();H++)J.iushrn(1),X.iushrn(1);do{while(J.isEven())J.iushrn(1);while(X.isEven())X.iushrn(1);var f=J.cmp(X);if(f<0){var V=J;J=X,X=V}else if(f===0||X.cmpn(1)===0)break;J.isub(X)}while(!0);return X.iushln(H)},Y.prototype.invm=function(j){return this.egcd(j).a.umod(j)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(j){return this.words[0]&j},Y.prototype.bincn=function(j){K(typeof j==="number");var J=j%26,X=(j-J)/26,H=1<<J;if(this.length<=X)return this._expand(X+1),this.words[X]|=H,this;var f=H;for(var V=X;f!==0&&V<this.length;V++){var S=this.words[V]|0;S+=f,f=S>>>26,S&=67108863,this.words[V]=S}if(f!==0)this.words[V]=f,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(j){var J=j<0;if(this.negative!==0&&!J)return-1;if(this.negative===0&&J)return 1;this.strip();var X;if(this.length>1)X=1;else{if(J)j=-j;K(j<=67108863,"Number is too big");var H=this.words[0]|0;X=H===j?0:H<j?-1:1}if(this.negative!==0)return-X|0;return X},Y.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var J=this.ucmp(j);if(this.negative!==0)return-J|0;return J},Y.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;var J=0;for(var X=this.length-1;X>=0;X--){var H=this.words[X]|0,f=j.words[X]|0;if(H===f)continue;if(H<f)J=-1;else if(H>f)J=1;break}return J},Y.prototype.gtn=function(j){return this.cmpn(j)===1},Y.prototype.gt=function(j){return this.cmp(j)===1},Y.prototype.gten=function(j){return this.cmpn(j)>=0},Y.prototype.gte=function(j){return this.cmp(j)>=0},Y.prototype.ltn=function(j){return this.cmpn(j)===-1},Y.prototype.lt=function(j){return this.cmp(j)===-1},Y.prototype.lten=function(j){return this.cmpn(j)<=0},Y.prototype.lte=function(j){return this.cmp(j)<=0},Y.prototype.eqn=function(j){return this.cmpn(j)===0},Y.prototype.eq=function(j){return this.cmp(j)===0},Y.red=function(j){return new c(j)},Y.prototype.toRed=function(j){return K(!this.red,"Already a number in reduction context"),K(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},Y.prototype.fromRed=function(){return K(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(j){return this.red=j,this},Y.prototype.forceRed=function(j){return K(!this.red,"Already a number in reduction context"),this._forceRed(j)},Y.prototype.redAdd=function(j){return K(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},Y.prototype.redIAdd=function(j){return K(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},Y.prototype.redSub=function(j){return K(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},Y.prototype.redISub=function(j){return K(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},Y.prototype.redShl=function(j){return K(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},Y.prototype.redMul=function(j){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},Y.prototype.redIMul=function(j){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},Y.prototype.redSqr=function(){return K(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return K(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return K(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return K(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return K(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(j){return K(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var b={k256:null,p224:null,p192:null,p25519:null};function y(j,J){this.name=j,this.p=new Y(J,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var j=new Y(null);return j.words=Array(Math.ceil(this.n/13)),j},y.prototype.ireduce=function(j){var J=j,X;do this.split(J,this.tmp),J=this.imulK(J),J=J.iadd(this.tmp),X=J.bitLength();while(X>this.n);var H=X<this.n?-1:J.ucmp(this.p);if(H===0)J.words[0]=0,J.length=1;else if(H>0)J.isub(this.p);else if(J.strip!==void 0)J.strip();else J._strip();return J},y.prototype.split=function(j,J){j.iushrn(this.n,0,J)},y.prototype.imulK=function(j){return j.imul(this.k)};function p(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(p,y),p.prototype.split=function(j,J){var X=4194303,H=Math.min(j.length,9);for(var f=0;f<H;f++)J.words[f]=j.words[f];if(J.length=H,j.length<=9){j.words[0]=0,j.length=1;return}var V=j.words[9];J.words[J.length++]=V&X;for(f=10;f<j.length;f++){var S=j.words[f]|0;j.words[f-10]=(S&X)<<4|V>>>22,V=S}if(V>>>=22,j.words[f-10]=V,V===0&&j.length>10)j.length-=10;else j.length-=9},p.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;var J=0;for(var X=0;X<j.length;X++){var H=j.words[X]|0;J+=H*977,j.words[X]=J&67108863,J=H*64+(J/67108864|0)}if(j.words[j.length-1]===0){if(j.length--,j.words[j.length-1]===0)j.length--}return j};function i(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(i,y);function $$(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O($$,y);function Q(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Q,y),Q.prototype.imulK=function(j){var J=0;for(var X=0;X<j.length;X++){var H=(j.words[X]|0)*19+J,f=H&67108863;H>>>=26,j.words[X]=f,J=H}if(J!==0)j.words[j.length++]=J;return j},Y._prime=function(j){if(b[j])return b[j];var J;if(j==="k256")J=new p;else if(j==="p224")J=new i;else if(j==="p192")J=new $$;else if(j==="p25519")J=new Q;else throw Error("Unknown prime "+j);return b[j]=J,J};function c(j){if(typeof j==="string"){var J=Y._prime(j);this.m=J.p,this.prime=J}else K(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}c.prototype._verify1=function(j){K(j.negative===0,"red works only with positives"),K(j.red,"red works only with red numbers")},c.prototype._verify2=function(j,J){K((j.negative|J.negative)===0,"red works only with positives"),K(j.red&&j.red===J.red,"red works only with red numbers")},c.prototype.imod=function(j){if(this.prime)return this.prime.ireduce(j)._forceRed(this);return j.umod(this.m)._forceRed(this)},c.prototype.neg=function(j){if(j.isZero())return j.clone();return this.m.sub(j)._forceRed(this)},c.prototype.add=function(j,J){this._verify2(j,J);var X=j.add(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X._forceRed(this)},c.prototype.iadd=function(j,J){this._verify2(j,J);var X=j.iadd(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X},c.prototype.sub=function(j,J){this._verify2(j,J);var X=j.sub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X._forceRed(this)},c.prototype.isub=function(j,J){this._verify2(j,J);var X=j.isub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X},c.prototype.shl=function(j,J){return this._verify1(j),this.imod(j.ushln(J))},c.prototype.imul=function(j,J){return this._verify2(j,J),this.imod(j.imul(J))},c.prototype.mul=function(j,J){return this._verify2(j,J),this.imod(j.mul(J))},c.prototype.isqr=function(j){return this.imul(j,j.clone())},c.prototype.sqr=function(j){return this.mul(j,j)},c.prototype.sqrt=function(j){if(j.isZero())return j.clone();var J=this.m.andln(3);if(K(J%2===1),J===3){var X=this.m.add(new Y(1)).iushrn(2);return this.pow(j,X)}var H=this.m.subn(1),f=0;while(!H.isZero()&&H.andln(1)===0)f++,H.iushrn(1);K(!H.isZero());var V=new Y(1).toRed(this),S=V.redNeg(),A=this.m.subn(1).iushrn(1),z=this.m.bitLength();z=new Y(2*z*z).toRed(this);while(this.pow(z,A).cmp(S)!==0)z.redIAdd(S);var G=this.pow(z,H),I=this.pow(j,H.addn(1).iushrn(1)),C=this.pow(j,H),g=f;while(C.cmp(V)!==0){var x=C;for(var l=0;x.cmp(V)!==0;l++)x=x.redSqr();K(l<g);var o=this.pow(G,new Y(1).iushln(g-l-1));I=I.redMul(o),G=o.redSqr(),C=C.redMul(G),g=l}return I},c.prototype.invm=function(j){var J=j._invmp(this.m);if(J.negative!==0)return J.negative=0,this.imod(J).redNeg();else return this.imod(J)},c.prototype.pow=function(j,J){if(J.isZero())return new Y(1).toRed(this);if(J.cmpn(1)===0)return j.clone();var X=4,H=Array(1<<X);H[0]=new Y(1).toRed(this),H[1]=j;for(var f=2;f<H.length;f++)H[f]=this.mul(H[f-1],j);var V=H[0],S=0,A=0,z=J.bitLength()%26;if(z===0)z=26;for(f=J.length-1;f>=0;f--){var G=J.words[f];for(var I=z-1;I>=0;I--){var C=G>>I&1;if(V!==H[0])V=this.sqr(V);if(C===0&&S===0){A=0;continue}if(S<<=1,S|=C,A++,A!==X&&(f!==0||I!==0))continue;V=this.mul(V,H[S]),A=0,S=0}z=26}return V},c.prototype.convertTo=function(j){var J=j.umod(this.m);return J===j?J.clone():J},c.prototype.convertFrom=function(j){var J=j.clone();return J.red=null,J},Y.mont=function(j){return new a(j)};function a(j){if(c.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(a,c),a.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},a.prototype.convertFrom=function(j){var J=this.imod(j.mul(this.rinv));return J.red=null,J},a.prototype.imul=function(j,J){if(j.isZero()||J.isZero())return j.words[0]=0,j.length=1,j;var X=j.imul(J),H=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=X.isub(H).iushrn(this.shift),V=f;if(f.cmp(this.m)>=0)V=f.isub(this.m);else if(f.cmpn(0)<0)V=f.iadd(this.m);return V._forceRed(this)},a.prototype.mul=function(j,J){if(j.isZero()||J.isZero())return new Y(0)._forceRed(this);var X=j.mul(J),H=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=X.isub(H).iushrn(this.shift),V=f;if(f.cmp(this.m)>=0)V=f.isub(this.m);else if(f.cmpn(0)<0)V=f.iadd(this.m);return V._forceRed(this)},a.prototype.invm=function(j){var J=this.imod(j._invmp(this.m).mul(this.r2));return J._forceRed(this)}})(typeof q>"u"||q,$)}),dU=Z$(($,q)=>{var _=cU(),P=mU();q.exports=function(v){return new O(v)};var K={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};K.p224=K.secp224r1,K.p256=K.secp256r1=K.prime256v1,K.p192=K.secp192r1=K.prime192v1,K.p384=K.secp384r1,K.p521=K.secp521r1;function O(v){if(this.curveType=K[v],!this.curveType)this.curveType={name:v};this.curve=new _.ec(this.curveType.name),this.keys=void 0}O.prototype.generateKeys=function(v,W){return this.keys=this.curve.genKeyPair(),this.getPublicKey(v,W)},O.prototype.computeSecret=function(v,W,T){if(W=W||"utf8",!Buffer.isBuffer(v))v=new Buffer(v,W);var Z=this.curve.keyFromPublic(v).getPublic(),w=Z.mul(this.keys.getPrivate()).getX();return Y(w,T,this.curveType.byteLength)},O.prototype.getPublicKey=function(v,W){var T=this.keys.getPublic(W==="compressed",!0);if(W==="hybrid")if(T[T.length-1]%2)T[0]=7;else T[0]=6;return Y(T,v)},O.prototype.getPrivateKey=function(v){return Y(this.keys.getPrivate(),v)},O.prototype.setPublicKey=function(v,W){if(W=W||"utf8",!Buffer.isBuffer(v))v=new Buffer(v,W);return this.keys._importPublic(v),this},O.prototype.setPrivateKey=function(v,W){if(W=W||"utf8",!Buffer.isBuffer(v))v=new Buffer(v,W);var T=new P(v);return T=T.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(T),this};function Y(v,W,T){if(!Array.isArray(v))v=v.toArray();var Z=new Buffer(v);if(T&&Z.length<T){var w=new Buffer(T-Z.length);w.fill(0),Z=Buffer.concat([w,Z])}if(!W)return Z;else return Z.toString(W)}}),lU=Z$(($,q)=>{var _=(tq(),H6(Uq)).createECDH;q.exports=_||dU()}),rU=Z$(($,q)=>{(function(_,P){function K(j,J){if(!j)throw Error(J||"Assertion failed")}function O(j,J){j.super_=J;var X=function(){};X.prototype=J.prototype,j.prototype=new X,j.prototype.constructor=j}function Y(j,J,X){if(Y.isBN(j))return j;if(this.negative=0,this.words=null,this.length=0,this.red=null,j!==null){if(J==="le"||J==="be")X=J,J=10;this._init(j||0,J||10,X||"be")}}if(typeof _==="object")_.exports=Y;else P.BN=Y;Y.BN=Y,Y.wordSize=26;var v;try{if(typeof window<"u"&&typeof window.Buffer<"u")v=window.Buffer;else v=(Xq(),H6(fq)).Buffer}catch(j){}Y.isBN=function(j){if(j instanceof Y)return!0;return j!==null&&typeof j==="object"&&j.constructor.wordSize===Y.wordSize&&Array.isArray(j.words)},Y.max=function(j,J){if(j.cmp(J)>0)return j;return J},Y.min=function(j,J){if(j.cmp(J)<0)return j;return J},Y.prototype._init=function(j,J,X){if(typeof j==="number")return this._initNumber(j,J,X);if(typeof j==="object")return this._initArray(j,J,X);if(J==="hex")J=16;K(J===(J|0)&&J>=2&&J<=36),j=j.toString().replace(/\s+/g,"");var H=0;if(j[0]==="-")H++,this.negative=1;if(H<j.length){if(J===16)this._parseHex(j,H,X);else if(this._parseBase(j,J,H),X==="le")this._initArray(this.toArray(),J,X)}},Y.prototype._initNumber=function(j,J,X){if(j<0)this.negative=1,j=-j;if(j<67108864)this.words=[j&67108863],this.length=1;else if(j<4503599627370496)this.words=[j&67108863,j/67108864&67108863],this.length=2;else K(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3;if(X!=="le")return;this._initArray(this.toArray(),J,X)},Y.prototype._initArray=function(j,J,X){if(K(typeof j.length==="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var f,V,S=0;if(X==="be"){for(H=j.length-1,f=0;H>=0;H-=3)if(V=j[H]|j[H-1]<<8|j[H-2]<<16,this.words[f]|=V<<S&67108863,this.words[f+1]=V>>>26-S&67108863,S+=24,S>=26)S-=26,f++}else if(X==="le"){for(H=0,f=0;H<j.length;H+=3)if(V=j[H]|j[H+1]<<8|j[H+2]<<16,this.words[f]|=V<<S&67108863,this.words[f+1]=V>>>26-S&67108863,S+=24,S>=26)S-=26,f++}return this.strip()};function W(j,J){var X=j.charCodeAt(J);if(X>=65&&X<=70)return X-55;else if(X>=97&&X<=102)return X-87;else return X-48&15}function T(j,J,X){var H=W(j,X);if(X-1>=J)H|=W(j,X-1)<<4;return H}Y.prototype._parseHex=function(j,J,X){this.length=Math.ceil((j.length-J)/6),this.words=Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var f=0,V=0,S;if(X==="be")for(H=j.length-1;H>=J;H-=2)if(S=T(j,J,H)<<f,this.words[V]|=S&67108863,f>=18)f-=18,V+=1,this.words[V]|=S>>>26;else f+=8;else{var A=j.length-J;for(H=A%2===0?J+1:J;H<j.length;H+=2)if(S=T(j,J,H)<<f,this.words[V]|=S&67108863,f>=18)f-=18,V+=1,this.words[V]|=S>>>26;else f+=8}this.strip()};function Z(j,J,X,H){var f=0,V=Math.min(j.length,X);for(var S=J;S<V;S++){var A=j.charCodeAt(S)-48;if(f*=H,A>=49)f+=A-49+10;else if(A>=17)f+=A-17+10;else f+=A}return f}Y.prototype._parseBase=function(j,J,X){this.words=[0],this.length=1;for(var H=0,f=1;f<=67108863;f*=J)H++;H--,f=f/J|0;var V=j.length-X,S=V%H,A=Math.min(V,V-S)+X,z=0;for(var G=X;G<A;G+=H)if(z=Z(j,G,G+H,J),this.imuln(f),this.words[0]+z<67108864)this.words[0]+=z;else this._iaddn(z);if(S!==0){var I=1;z=Z(j,G,j.length,J);for(G=0;G<S;G++)I*=J;if(this.imuln(I),this.words[0]+z<67108864)this.words[0]+=z;else this._iaddn(z)}this.strip()},Y.prototype.copy=function(j){j.words=Array(this.length);for(var J=0;J<this.length;J++)j.words[J]=this.words[J];j.length=this.length,j.negative=this.negative,j.red=this.red},Y.prototype.clone=function(){var j=new Y(null);return this.copy(j),j},Y.prototype._expand=function(j){while(this.length<j)this.words[this.length++]=0;return this},Y.prototype.strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},Y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(j,J){j=j||10,J=J|0||1;var X;if(j===16||j==="hex"){X="";var H=0,f=0;for(var V=0;V<this.length;V++){var S=this.words[V],A=((S<<H|f)&16777215).toString(16);if(f=S>>>24-H&16777215,H+=2,H>=26)H-=26,V--;if(f!==0||V!==this.length-1)X=w[6-A.length]+A+X;else X=A+X}if(f!==0)X=f.toString(16)+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}if(j===(j|0)&&j>=2&&j<=36){var z=k[j],G=M[j];X="";var I=this.clone();I.negative=0;while(!I.isZero()){var C=I.modn(G).toString(j);if(I=I.idivn(G),!I.isZero())X=w[z-C.length]+C+X;else X=C+X}if(this.isZero())X="0"+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}K(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var j=this.words[0];if(this.length===2)j+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)j+=4503599627370496+this.words[1]*67108864;else if(this.length>2)K(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-j:j},Y.prototype.toJSON=function(){return this.toString(16)},Y.prototype.toBuffer=function(j,J){return K(typeof v<"u"),this.toArrayLike(v,j,J)},Y.prototype.toArray=function(j,J){return this.toArrayLike(Array,j,J)},Y.prototype.toArrayLike=function(j,J,X){var H=this.byteLength(),f=X||Math.max(1,H);K(H<=f,"byte array longer than desired length"),K(f>0,"Requested array length <= 0"),this.strip();var V=J==="le",S=new j(f),A,z,G=this.clone();if(!V){for(z=0;z<f-H;z++)S[z]=0;for(z=0;!G.isZero();z++)A=G.andln(255),G.iushrn(8),S[f-z-1]=A}else{for(z=0;!G.isZero();z++)A=G.andln(255),G.iushrn(8),S[z]=A;for(;z<f;z++)S[z]=0}return S},Math.clz32)Y.prototype._countBits=function(j){return 32-Math.clz32(j)};else Y.prototype._countBits=function(j){var J=j,X=0;if(J>=4096)X+=13,J>>>=13;if(J>=64)X+=7,J>>>=7;if(J>=8)X+=4,J>>>=4;if(J>=2)X+=2,J>>>=2;return X+J};Y.prototype._zeroBits=function(j){if(j===0)return 26;var J=j,X=0;if((J&8191)===0)X+=13,J>>>=13;if((J&127)===0)X+=7,J>>>=7;if((J&15)===0)X+=4,J>>>=4;if((J&3)===0)X+=2,J>>>=2;if((J&1)===0)X++;return X},Y.prototype.bitLength=function(){var j=this.words[this.length-1],J=this._countBits(j);return(this.length-1)*26+J};function N(j){var J=Array(j.bitLength());for(var X=0;X<J.length;X++){var H=X/26|0,f=X%26;J[X]=(j.words[H]&1<<f)>>>f}return J}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var j=0;for(var J=0;J<this.length;J++){var X=this._zeroBits(this.words[J]);if(j+=X,X!==26)break}return j},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(j){if(this.negative!==0)return this.abs().inotn(j).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(j){if(this.testn(j-1))return this.notn(j).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(j){while(this.length<j.length)this.words[this.length++]=0;for(var J=0;J<j.length;J++)this.words[J]=this.words[J]|j.words[J];return this.strip()},Y.prototype.ior=function(j){return K((this.negative|j.negative)===0),this.iuor(j)},Y.prototype.or=function(j){if(this.length>j.length)return this.clone().ior(j);return j.clone().ior(this)},Y.prototype.uor=function(j){if(this.length>j.length)return this.clone().iuor(j);return j.clone().iuor(this)},Y.prototype.iuand=function(j){var J;if(this.length>j.length)J=j;else J=this;for(var X=0;X<J.length;X++)this.words[X]=this.words[X]&j.words[X];return this.length=J.length,this.strip()},Y.prototype.iand=function(j){return K((this.negative|j.negative)===0),this.iuand(j)},Y.prototype.and=function(j){if(this.length>j.length)return this.clone().iand(j);return j.clone().iand(this)},Y.prototype.uand=function(j){if(this.length>j.length)return this.clone().iuand(j);return j.clone().iuand(this)},Y.prototype.iuxor=function(j){var J,X;if(this.length>j.length)J=this,X=j;else J=j,X=this;for(var H=0;H<X.length;H++)this.words[H]=J.words[H]^X.words[H];if(this!==J)for(;H<J.length;H++)this.words[H]=J.words[H];return this.length=J.length,this.strip()},Y.prototype.ixor=function(j){return K((this.negative|j.negative)===0),this.iuxor(j)},Y.prototype.xor=function(j){if(this.length>j.length)return this.clone().ixor(j);return j.clone().ixor(this)},Y.prototype.uxor=function(j){if(this.length>j.length)return this.clone().iuxor(j);return j.clone().iuxor(this)},Y.prototype.inotn=function(j){K(typeof j==="number"&&j>=0);var J=Math.ceil(j/26)|0,X=j%26;if(this._expand(J),X>0)J--;for(var H=0;H<J;H++)this.words[H]=~this.words[H]&67108863;if(X>0)this.words[H]=~this.words[H]&67108863>>26-X;return this.strip()},Y.prototype.notn=function(j){return this.clone().inotn(j)},Y.prototype.setn=function(j,J){K(typeof j==="number"&&j>=0);var X=j/26|0,H=j%26;if(this._expand(X+1),J)this.words[X]=this.words[X]|1<<H;else this.words[X]=this.words[X]&~(1<<H);return this.strip()},Y.prototype.iadd=function(j){var J;if(this.negative!==0&&j.negative===0)return this.negative=0,J=this.isub(j),this.negative^=1,this._normSign();else if(this.negative===0&&j.negative!==0)return j.negative=0,J=this.isub(j),j.negative=1,J._normSign();var X,H;if(this.length>j.length)X=this,H=j;else X=j,H=this;var f=0;for(var V=0;V<H.length;V++)J=(X.words[V]|0)+(H.words[V]|0)+f,this.words[V]=J&67108863,f=J>>>26;for(;f!==0&&V<X.length;V++)J=(X.words[V]|0)+f,this.words[V]=J&67108863,f=J>>>26;if(this.length=X.length,f!==0)this.words[this.length]=f,this.length++;else if(X!==this)for(;V<X.length;V++)this.words[V]=X.words[V];return this},Y.prototype.add=function(j){var J;if(j.negative!==0&&this.negative===0)return j.negative=0,J=this.sub(j),j.negative^=1,J;else if(j.negative===0&&this.negative!==0)return this.negative=0,J=j.sub(this),this.negative=1,J;if(this.length>j.length)return this.clone().iadd(j);return j.clone().iadd(this)},Y.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var J=this.iadd(j);return j.negative=1,J._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var X=this.cmp(j);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,f;if(X>0)H=this,f=j;else H=j,f=this;var V=0;for(var S=0;S<f.length;S++)J=(H.words[S]|0)-(f.words[S]|0)+V,V=J>>26,this.words[S]=J&67108863;for(;V!==0&&S<H.length;S++)J=(H.words[S]|0)+V,V=J>>26,this.words[S]=J&67108863;if(V===0&&S<H.length&&H!==this)for(;S<H.length;S++)this.words[S]=H.words[S];if(this.length=Math.max(this.length,S),H!==this)this.negative=1;return this.strip()},Y.prototype.sub=function(j){return this.clone().isub(j)};function R(j,J,X){X.negative=J.negative^j.negative;var H=j.length+J.length|0;X.length=H,H=H-1|0;var f=j.words[0]|0,V=J.words[0]|0,S=f*V,A=S&67108863,z=S/67108864|0;X.words[0]=A;for(var G=1;G<H;G++){var I=z>>>26,C=z&67108863,g=Math.min(G,J.length-1);for(var x=Math.max(0,G-j.length+1);x<=g;x++){var l=G-x|0;f=j.words[l]|0,V=J.words[x]|0,S=f*V+C,I+=S/67108864|0,C=S&67108863}X.words[G]=C|0,z=I|0}if(z!==0)X.words[G]=z|0;else X.length--;return X.strip()}var E=function(j,J,X){var H=j.words,f=J.words,V=X.words,S=0,A,z,G,I=H[0]|0,C=I&8191,g=I>>>13,x=H[1]|0,l=x&8191,o=x>>>13,T$=H[2]|0,e=T$&8191,n=T$>>>13,j$=H[3]|0,s=j$&8191,P$=j$>>>13,n$=H[4]|0,m=n$&8191,r=n$>>>13,W$=H[5]|0,q$=W$&8191,_$=W$>>>13,v$=H[6]|0,d=v$&8191,B=v$>>>13,H$=H[7]|0,t=H$&8191,F=H$>>>13,A$=H[8]|0,J$=A$&8191,z$=A$>>>13,G6=H[9]|0,X$=G6&8191,k$=G6>>>13,B6=f[0]|0,M$=B6&8191,S$=B6>>>13,Cq=f[1]|0,E$=Cq&8191,g$=Cq>>>13,Eq=f[2]|0,b$=Eq&8191,R$=Eq>>>13,Aq=f[3]|0,y$=Aq&8191,I$=Aq>>>13,Hq=f[4]|0,u$=Hq&8191,x$=Hq>>>13,Tq=f[5]|0,h$=Tq&8191,u=Tq>>>13,U=f[6]|0,K$=U&8191,O$=U>>>13,t$=f[7]|0,G$=t$&8191,V$=t$>>>13,d6=f[8]|0,D$=d6&8191,p$=d6>>>13,kq=f[9]|0,L$=kq&8191,C$=kq>>>13;X.negative=j.negative^J.negative,X.length=19,A=Math.imul(C,M$),z=Math.imul(C,S$),z=z+Math.imul(g,M$)|0,G=Math.imul(g,S$);var l6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(l6>>>26)|0,l6&=67108863,A=Math.imul(l,M$),z=Math.imul(l,S$),z=z+Math.imul(o,M$)|0,G=Math.imul(o,S$),A=A+Math.imul(C,E$)|0,z=z+Math.imul(C,g$)|0,z=z+Math.imul(g,E$)|0,G=G+Math.imul(g,g$)|0;var w6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(w6>>>26)|0,w6&=67108863,A=Math.imul(e,M$),z=Math.imul(e,S$),z=z+Math.imul(n,M$)|0,G=Math.imul(n,S$),A=A+Math.imul(l,E$)|0,z=z+Math.imul(l,g$)|0,z=z+Math.imul(o,E$)|0,G=G+Math.imul(o,g$)|0,A=A+Math.imul(C,b$)|0,z=z+Math.imul(C,R$)|0,z=z+Math.imul(g,b$)|0,G=G+Math.imul(g,R$)|0;var z6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(z6>>>26)|0,z6&=67108863,A=Math.imul(s,M$),z=Math.imul(s,S$),z=z+Math.imul(P$,M$)|0,G=Math.imul(P$,S$),A=A+Math.imul(e,E$)|0,z=z+Math.imul(e,g$)|0,z=z+Math.imul(n,E$)|0,G=G+Math.imul(n,g$)|0,A=A+Math.imul(l,b$)|0,z=z+Math.imul(l,R$)|0,z=z+Math.imul(o,b$)|0,G=G+Math.imul(o,R$)|0,A=A+Math.imul(C,y$)|0,z=z+Math.imul(C,I$)|0,z=z+Math.imul(g,y$)|0,G=G+Math.imul(g,I$)|0;var D6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(D6>>>26)|0,D6&=67108863,A=Math.imul(m,M$),z=Math.imul(m,S$),z=z+Math.imul(r,M$)|0,G=Math.imul(r,S$),A=A+Math.imul(s,E$)|0,z=z+Math.imul(s,g$)|0,z=z+Math.imul(P$,E$)|0,G=G+Math.imul(P$,g$)|0,A=A+Math.imul(e,b$)|0,z=z+Math.imul(e,R$)|0,z=z+Math.imul(n,b$)|0,G=G+Math.imul(n,R$)|0,A=A+Math.imul(l,y$)|0,z=z+Math.imul(l,I$)|0,z=z+Math.imul(o,y$)|0,G=G+Math.imul(o,I$)|0,A=A+Math.imul(C,u$)|0,z=z+Math.imul(C,x$)|0,z=z+Math.imul(g,u$)|0,G=G+Math.imul(g,x$)|0;var E6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(E6>>>26)|0,E6&=67108863,A=Math.imul(q$,M$),z=Math.imul(q$,S$),z=z+Math.imul(_$,M$)|0,G=Math.imul(_$,S$),A=A+Math.imul(m,E$)|0,z=z+Math.imul(m,g$)|0,z=z+Math.imul(r,E$)|0,G=G+Math.imul(r,g$)|0,A=A+Math.imul(s,b$)|0,z=z+Math.imul(s,R$)|0,z=z+Math.imul(P$,b$)|0,G=G+Math.imul(P$,R$)|0,A=A+Math.imul(e,y$)|0,z=z+Math.imul(e,I$)|0,z=z+Math.imul(n,y$)|0,G=G+Math.imul(n,I$)|0,A=A+Math.imul(l,u$)|0,z=z+Math.imul(l,x$)|0,z=z+Math.imul(o,u$)|0,G=G+Math.imul(o,x$)|0,A=A+Math.imul(C,h$)|0,z=z+Math.imul(C,u)|0,z=z+Math.imul(g,h$)|0,G=G+Math.imul(g,u)|0;var Q6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,A=Math.imul(d,M$),z=Math.imul(d,S$),z=z+Math.imul(B,M$)|0,G=Math.imul(B,S$),A=A+Math.imul(q$,E$)|0,z=z+Math.imul(q$,g$)|0,z=z+Math.imul(_$,E$)|0,G=G+Math.imul(_$,g$)|0,A=A+Math.imul(m,b$)|0,z=z+Math.imul(m,R$)|0,z=z+Math.imul(r,b$)|0,G=G+Math.imul(r,R$)|0,A=A+Math.imul(s,y$)|0,z=z+Math.imul(s,I$)|0,z=z+Math.imul(P$,y$)|0,G=G+Math.imul(P$,I$)|0,A=A+Math.imul(e,u$)|0,z=z+Math.imul(e,x$)|0,z=z+Math.imul(n,u$)|0,G=G+Math.imul(n,x$)|0,A=A+Math.imul(l,h$)|0,z=z+Math.imul(l,u)|0,z=z+Math.imul(o,h$)|0,G=G+Math.imul(o,u)|0,A=A+Math.imul(C,K$)|0,z=z+Math.imul(C,O$)|0,z=z+Math.imul(g,K$)|0,G=G+Math.imul(g,O$)|0;var a6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(a6>>>26)|0,a6&=67108863,A=Math.imul(t,M$),z=Math.imul(t,S$),z=z+Math.imul(F,M$)|0,G=Math.imul(F,S$),A=A+Math.imul(d,E$)|0,z=z+Math.imul(d,g$)|0,z=z+Math.imul(B,E$)|0,G=G+Math.imul(B,g$)|0,A=A+Math.imul(q$,b$)|0,z=z+Math.imul(q$,R$)|0,z=z+Math.imul(_$,b$)|0,G=G+Math.imul(_$,R$)|0,A=A+Math.imul(m,y$)|0,z=z+Math.imul(m,I$)|0,z=z+Math.imul(r,y$)|0,G=G+Math.imul(r,I$)|0,A=A+Math.imul(s,u$)|0,z=z+Math.imul(s,x$)|0,z=z+Math.imul(P$,u$)|0,G=G+Math.imul(P$,x$)|0,A=A+Math.imul(e,h$)|0,z=z+Math.imul(e,u)|0,z=z+Math.imul(n,h$)|0,G=G+Math.imul(n,u)|0,A=A+Math.imul(l,K$)|0,z=z+Math.imul(l,O$)|0,z=z+Math.imul(o,K$)|0,G=G+Math.imul(o,O$)|0,A=A+Math.imul(C,G$)|0,z=z+Math.imul(C,V$)|0,z=z+Math.imul(g,G$)|0,G=G+Math.imul(g,V$)|0;var e6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(e6>>>26)|0,e6&=67108863,A=Math.imul(J$,M$),z=Math.imul(J$,S$),z=z+Math.imul(z$,M$)|0,G=Math.imul(z$,S$),A=A+Math.imul(t,E$)|0,z=z+Math.imul(t,g$)|0,z=z+Math.imul(F,E$)|0,G=G+Math.imul(F,g$)|0,A=A+Math.imul(d,b$)|0,z=z+Math.imul(d,R$)|0,z=z+Math.imul(B,b$)|0,G=G+Math.imul(B,R$)|0,A=A+Math.imul(q$,y$)|0,z=z+Math.imul(q$,I$)|0,z=z+Math.imul(_$,y$)|0,G=G+Math.imul(_$,I$)|0,A=A+Math.imul(m,u$)|0,z=z+Math.imul(m,x$)|0,z=z+Math.imul(r,u$)|0,G=G+Math.imul(r,x$)|0,A=A+Math.imul(s,h$)|0,z=z+Math.imul(s,u)|0,z=z+Math.imul(P$,h$)|0,G=G+Math.imul(P$,u)|0,A=A+Math.imul(e,K$)|0,z=z+Math.imul(e,O$)|0,z=z+Math.imul(n,K$)|0,G=G+Math.imul(n,O$)|0,A=A+Math.imul(l,G$)|0,z=z+Math.imul(l,V$)|0,z=z+Math.imul(o,G$)|0,G=G+Math.imul(o,V$)|0,A=A+Math.imul(C,D$)|0,z=z+Math.imul(C,p$)|0,z=z+Math.imul(g,D$)|0,G=G+Math.imul(g,p$)|0;var s6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(s6>>>26)|0,s6&=67108863,A=Math.imul(X$,M$),z=Math.imul(X$,S$),z=z+Math.imul(k$,M$)|0,G=Math.imul(k$,S$),A=A+Math.imul(J$,E$)|0,z=z+Math.imul(J$,g$)|0,z=z+Math.imul(z$,E$)|0,G=G+Math.imul(z$,g$)|0,A=A+Math.imul(t,b$)|0,z=z+Math.imul(t,R$)|0,z=z+Math.imul(F,b$)|0,G=G+Math.imul(F,R$)|0,A=A+Math.imul(d,y$)|0,z=z+Math.imul(d,I$)|0,z=z+Math.imul(B,y$)|0,G=G+Math.imul(B,I$)|0,A=A+Math.imul(q$,u$)|0,z=z+Math.imul(q$,x$)|0,z=z+Math.imul(_$,u$)|0,G=G+Math.imul(_$,x$)|0,A=A+Math.imul(m,h$)|0,z=z+Math.imul(m,u)|0,z=z+Math.imul(r,h$)|0,G=G+Math.imul(r,u)|0,A=A+Math.imul(s,K$)|0,z=z+Math.imul(s,O$)|0,z=z+Math.imul(P$,K$)|0,G=G+Math.imul(P$,O$)|0,A=A+Math.imul(e,G$)|0,z=z+Math.imul(e,V$)|0,z=z+Math.imul(n,G$)|0,G=G+Math.imul(n,V$)|0,A=A+Math.imul(l,D$)|0,z=z+Math.imul(l,p$)|0,z=z+Math.imul(o,D$)|0,G=G+Math.imul(o,p$)|0,A=A+Math.imul(C,L$)|0,z=z+Math.imul(C,C$)|0,z=z+Math.imul(g,L$)|0,G=G+Math.imul(g,C$)|0;var $q=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+($q>>>26)|0,$q&=67108863,A=Math.imul(X$,E$),z=Math.imul(X$,g$),z=z+Math.imul(k$,E$)|0,G=Math.imul(k$,g$),A=A+Math.imul(J$,b$)|0,z=z+Math.imul(J$,R$)|0,z=z+Math.imul(z$,b$)|0,G=G+Math.imul(z$,R$)|0,A=A+Math.imul(t,y$)|0,z=z+Math.imul(t,I$)|0,z=z+Math.imul(F,y$)|0,G=G+Math.imul(F,I$)|0,A=A+Math.imul(d,u$)|0,z=z+Math.imul(d,x$)|0,z=z+Math.imul(B,u$)|0,G=G+Math.imul(B,x$)|0,A=A+Math.imul(q$,h$)|0,z=z+Math.imul(q$,u)|0,z=z+Math.imul(_$,h$)|0,G=G+Math.imul(_$,u)|0,A=A+Math.imul(m,K$)|0,z=z+Math.imul(m,O$)|0,z=z+Math.imul(r,K$)|0,G=G+Math.imul(r,O$)|0,A=A+Math.imul(s,G$)|0,z=z+Math.imul(s,V$)|0,z=z+Math.imul(P$,G$)|0,G=G+Math.imul(P$,V$)|0,A=A+Math.imul(e,D$)|0,z=z+Math.imul(e,p$)|0,z=z+Math.imul(n,D$)|0,G=G+Math.imul(n,p$)|0,A=A+Math.imul(l,L$)|0,z=z+Math.imul(l,C$)|0,z=z+Math.imul(o,L$)|0,G=G+Math.imul(o,C$)|0;var qq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(qq>>>26)|0,qq&=67108863,A=Math.imul(X$,b$),z=Math.imul(X$,R$),z=z+Math.imul(k$,b$)|0,G=Math.imul(k$,R$),A=A+Math.imul(J$,y$)|0,z=z+Math.imul(J$,I$)|0,z=z+Math.imul(z$,y$)|0,G=G+Math.imul(z$,I$)|0,A=A+Math.imul(t,u$)|0,z=z+Math.imul(t,x$)|0,z=z+Math.imul(F,u$)|0,G=G+Math.imul(F,x$)|0,A=A+Math.imul(d,h$)|0,z=z+Math.imul(d,u)|0,z=z+Math.imul(B,h$)|0,G=G+Math.imul(B,u)|0,A=A+Math.imul(q$,K$)|0,z=z+Math.imul(q$,O$)|0,z=z+Math.imul(_$,K$)|0,G=G+Math.imul(_$,O$)|0,A=A+Math.imul(m,G$)|0,z=z+Math.imul(m,V$)|0,z=z+Math.imul(r,G$)|0,G=G+Math.imul(r,V$)|0,A=A+Math.imul(s,D$)|0,z=z+Math.imul(s,p$)|0,z=z+Math.imul(P$,D$)|0,G=G+Math.imul(P$,p$)|0,A=A+Math.imul(e,L$)|0,z=z+Math.imul(e,C$)|0,z=z+Math.imul(n,L$)|0,G=G+Math.imul(n,C$)|0;var _q=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(_q>>>26)|0,_q&=67108863,A=Math.imul(X$,y$),z=Math.imul(X$,I$),z=z+Math.imul(k$,y$)|0,G=Math.imul(k$,I$),A=A+Math.imul(J$,u$)|0,z=z+Math.imul(J$,x$)|0,z=z+Math.imul(z$,u$)|0,G=G+Math.imul(z$,x$)|0,A=A+Math.imul(t,h$)|0,z=z+Math.imul(t,u)|0,z=z+Math.imul(F,h$)|0,G=G+Math.imul(F,u)|0,A=A+Math.imul(d,K$)|0,z=z+Math.imul(d,O$)|0,z=z+Math.imul(B,K$)|0,G=G+Math.imul(B,O$)|0,A=A+Math.imul(q$,G$)|0,z=z+Math.imul(q$,V$)|0,z=z+Math.imul(_$,G$)|0,G=G+Math.imul(_$,V$)|0,A=A+Math.imul(m,D$)|0,z=z+Math.imul(m,p$)|0,z=z+Math.imul(r,D$)|0,G=G+Math.imul(r,p$)|0,A=A+Math.imul(s,L$)|0,z=z+Math.imul(s,C$)|0,z=z+Math.imul(P$,L$)|0,G=G+Math.imul(P$,C$)|0;var Kq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,A=Math.imul(X$,u$),z=Math.imul(X$,x$),z=z+Math.imul(k$,u$)|0,G=Math.imul(k$,x$),A=A+Math.imul(J$,h$)|0,z=z+Math.imul(J$,u)|0,z=z+Math.imul(z$,h$)|0,G=G+Math.imul(z$,u)|0,A=A+Math.imul(t,K$)|0,z=z+Math.imul(t,O$)|0,z=z+Math.imul(F,K$)|0,G=G+Math.imul(F,O$)|0,A=A+Math.imul(d,G$)|0,z=z+Math.imul(d,V$)|0,z=z+Math.imul(B,G$)|0,G=G+Math.imul(B,V$)|0,A=A+Math.imul(q$,D$)|0,z=z+Math.imul(q$,p$)|0,z=z+Math.imul(_$,D$)|0,G=G+Math.imul(_$,p$)|0,A=A+Math.imul(m,L$)|0,z=z+Math.imul(m,C$)|0,z=z+Math.imul(r,L$)|0,G=G+Math.imul(r,C$)|0;var Pq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,A=Math.imul(X$,h$),z=Math.imul(X$,u),z=z+Math.imul(k$,h$)|0,G=Math.imul(k$,u),A=A+Math.imul(J$,K$)|0,z=z+Math.imul(J$,O$)|0,z=z+Math.imul(z$,K$)|0,G=G+Math.imul(z$,O$)|0,A=A+Math.imul(t,G$)|0,z=z+Math.imul(t,V$)|0,z=z+Math.imul(F,G$)|0,G=G+Math.imul(F,V$)|0,A=A+Math.imul(d,D$)|0,z=z+Math.imul(d,p$)|0,z=z+Math.imul(B,D$)|0,G=G+Math.imul(B,p$)|0,A=A+Math.imul(q$,L$)|0,z=z+Math.imul(q$,C$)|0,z=z+Math.imul(_$,L$)|0,G=G+Math.imul(_$,C$)|0;var Yq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,A=Math.imul(X$,K$),z=Math.imul(X$,O$),z=z+Math.imul(k$,K$)|0,G=Math.imul(k$,O$),A=A+Math.imul(J$,G$)|0,z=z+Math.imul(J$,V$)|0,z=z+Math.imul(z$,G$)|0,G=G+Math.imul(z$,V$)|0,A=A+Math.imul(t,D$)|0,z=z+Math.imul(t,p$)|0,z=z+Math.imul(F,D$)|0,G=G+Math.imul(F,p$)|0,A=A+Math.imul(d,L$)|0,z=z+Math.imul(d,C$)|0,z=z+Math.imul(B,L$)|0,G=G+Math.imul(B,C$)|0;var Oq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,A=Math.imul(X$,G$),z=Math.imul(X$,V$),z=z+Math.imul(k$,G$)|0,G=Math.imul(k$,V$),A=A+Math.imul(J$,D$)|0,z=z+Math.imul(J$,p$)|0,z=z+Math.imul(z$,D$)|0,G=G+Math.imul(z$,p$)|0,A=A+Math.imul(t,L$)|0,z=z+Math.imul(t,C$)|0,z=z+Math.imul(F,L$)|0,G=G+Math.imul(F,C$)|0;var jq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(jq>>>26)|0,jq&=67108863,A=Math.imul(X$,D$),z=Math.imul(X$,p$),z=z+Math.imul(k$,D$)|0,G=Math.imul(k$,p$),A=A+Math.imul(J$,L$)|0,z=z+Math.imul(J$,C$)|0,z=z+Math.imul(z$,L$)|0,G=G+Math.imul(z$,C$)|0;var vq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(vq>>>26)|0,vq&=67108863,A=Math.imul(X$,L$),z=Math.imul(X$,C$),z=z+Math.imul(k$,L$)|0,G=Math.imul(k$,C$);var zq=(S+A|0)+((z&8191)<<13)|0;if(S=(G+(z>>>13)|0)+(zq>>>26)|0,zq&=67108863,V[0]=l6,V[1]=w6,V[2]=z6,V[3]=D6,V[4]=E6,V[5]=Q6,V[6]=a6,V[7]=e6,V[8]=s6,V[9]=$q,V[10]=qq,V[11]=_q,V[12]=Kq,V[13]=Pq,V[14]=Yq,V[15]=Oq,V[16]=jq,V[17]=vq,V[18]=zq,S!==0)V[19]=S,X.length++;return X};if(!Math.imul)E=R;function D(j,J,X){X.negative=J.negative^j.negative,X.length=j.length+J.length;var H=0,f=0;for(var V=0;V<X.length-1;V++){var S=f;f=0;var A=H&67108863,z=Math.min(V,J.length-1);for(var G=Math.max(0,V-j.length+1);G<=z;G++){var I=V-G,C=j.words[I]|0,g=J.words[G]|0,x=C*g,l=x&67108863;S=S+(x/67108864|0)|0,l=l+A|0,A=l&67108863,S=S+(l>>>26)|0,f+=S>>>26,S&=67108863}X.words[V]=A,H=S,S=f}if(H!==0)X.words[V]=H;else X.length--;return X.strip()}function h(j,J,X){var H=new L;return H.mulp(j,J,X)}Y.prototype.mulTo=function(j,J){var X,H=this.length+j.length;if(this.length===10&&j.length===10)X=E(this,j,J);else if(H<63)X=R(this,j,J);else if(H<1024)X=D(this,j,J);else X=h(this,j,J);return X};function L(j,J){this.x=j,this.y=J}L.prototype.makeRBT=function(j){var J=Array(j),X=Y.prototype._countBits(j)-1;for(var H=0;H<j;H++)J[H]=this.revBin(H,X,j);return J},L.prototype.revBin=function(j,J,X){if(j===0||j===X-1)return j;var H=0;for(var f=0;f<J;f++)H|=(j&1)<<J-f-1,j>>=1;return H},L.prototype.permute=function(j,J,X,H,f,V){for(var S=0;S<V;S++)H[S]=J[j[S]],f[S]=X[j[S]]},L.prototype.transform=function(j,J,X,H,f,V){this.permute(V,j,J,X,H,f);for(var S=1;S<f;S<<=1){var A=S<<1,z=Math.cos(2*Math.PI/A),G=Math.sin(2*Math.PI/A);for(var I=0;I<f;I+=A){var C=z,g=G;for(var x=0;x<S;x++){var l=X[I+x],o=H[I+x],T$=X[I+x+S],e=H[I+x+S],n=C*T$-g*e;if(e=C*e+g*T$,T$=n,X[I+x]=l+T$,H[I+x]=o+e,X[I+x+S]=l-T$,H[I+x+S]=o-e,x!==A)n=z*C-G*g,g=z*g+G*C,C=n}}}},L.prototype.guessLen13b=function(j,J){var X=Math.max(J,j)|1,H=X&1,f=0;for(X=X/2|0;X;X=X>>>1)f++;return 1<<f+1+H},L.prototype.conjugate=function(j,J,X){if(X<=1)return;for(var H=0;H<X/2;H++){var f=j[H];j[H]=j[X-H-1],j[X-H-1]=f,f=J[H],J[H]=-J[X-H-1],J[X-H-1]=-f}},L.prototype.normalize13b=function(j,J){var X=0;for(var H=0;H<J/2;H++){var f=Math.round(j[2*H+1]/J)*8192+Math.round(j[2*H]/J)+X;if(j[H]=f&67108863,f<67108864)X=0;else X=f/67108864|0}return j},L.prototype.convert13b=function(j,J,X,H){var f=0;for(var V=0;V<J;V++)f=f+(j[V]|0),X[2*V]=f&8191,f=f>>>13,X[2*V+1]=f&8191,f=f>>>13;for(V=2*J;V<H;++V)X[V]=0;K(f===0),K((f&-8192)===0)},L.prototype.stub=function(j){var J=Array(j);for(var X=0;X<j;X++)J[X]=0;return J},L.prototype.mulp=function(j,J,X){var H=2*this.guessLen13b(j.length,J.length),f=this.makeRBT(H),V=this.stub(H),S=Array(H),A=Array(H),z=Array(H),G=Array(H),I=Array(H),C=Array(H),g=X.words;g.length=H,this.convert13b(j.words,j.length,S,H),this.convert13b(J.words,J.length,G,H),this.transform(S,V,A,z,H,f),this.transform(G,V,I,C,H,f);for(var x=0;x<H;x++){var l=A[x]*I[x]-z[x]*C[x];z[x]=A[x]*C[x]+z[x]*I[x],A[x]=l}return this.conjugate(A,z,H),this.transform(A,z,g,V,H,f),this.conjugate(g,V,H),this.normalize13b(g,H),X.negative=j.negative^J.negative,X.length=j.length+J.length,X.strip()},Y.prototype.mul=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),this.mulTo(j,J)},Y.prototype.mulf=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),h(this,j,J)},Y.prototype.imul=function(j){return this.clone().mulTo(j,this)},Y.prototype.imuln=function(j){K(typeof j==="number"),K(j<67108864);var J=0;for(var X=0;X<this.length;X++){var H=(this.words[X]|0)*j,f=(H&67108863)+(J&67108863);J>>=26,J+=H/67108864|0,J+=f>>>26,this.words[X]=f&67108863}if(J!==0)this.words[X]=J,this.length++;return this.length=j===0?1:this.length,this},Y.prototype.muln=function(j){return this.clone().imuln(j)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(j){var J=N(j);if(J.length===0)return new Y(1);var X=this;for(var H=0;H<J.length;H++,X=X.sqr())if(J[H]!==0)break;if(++H<J.length)for(var f=X.sqr();H<J.length;H++,f=f.sqr()){if(J[H]===0)continue;X=X.mul(f)}return X},Y.prototype.iushln=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,H=67108863>>>26-J<<26-J,f;if(J!==0){var V=0;for(f=0;f<this.length;f++){var S=this.words[f]&H,A=(this.words[f]|0)-S<<J;this.words[f]=A|V,V=S>>>26-J}if(V)this.words[f]=V,this.length++}if(X!==0){for(f=this.length-1;f>=0;f--)this.words[f+X]=this.words[f];for(f=0;f<X;f++)this.words[f]=0;this.length+=X}return this.strip()},Y.prototype.ishln=function(j){return K(this.negative===0),this.iushln(j)},Y.prototype.iushrn=function(j,J,X){K(typeof j==="number"&&j>=0);var H;if(J)H=(J-J%26)/26;else H=0;var f=j%26,V=Math.min((j-f)/26,this.length),S=67108863^67108863>>>f<<f,A=X;if(H-=V,H=Math.max(0,H),A){for(var z=0;z<V;z++)A.words[z]=this.words[z];A.length=V}if(V===0);else if(this.length>V){this.length-=V;for(z=0;z<this.length;z++)this.words[z]=this.words[z+V]}else this.words[0]=0,this.length=1;var G=0;for(z=this.length-1;z>=0&&(G!==0||z>=H);z--){var I=this.words[z]|0;this.words[z]=G<<26-f|I>>>f,G=I&S}if(A&&G!==0)A.words[A.length++]=G;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},Y.prototype.ishrn=function(j,J,X){return K(this.negative===0),this.iushrn(j,J,X)},Y.prototype.shln=function(j){return this.clone().ishln(j)},Y.prototype.ushln=function(j){return this.clone().iushln(j)},Y.prototype.shrn=function(j){return this.clone().ishrn(j)},Y.prototype.ushrn=function(j){return this.clone().iushrn(j)},Y.prototype.testn=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,H=1<<J;if(this.length<=X)return!1;var f=this.words[X];return!!(f&H)},Y.prototype.imaskn=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26;if(K(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(J!==0)X++;if(this.length=Math.min(X,this.length),J!==0){var H=67108863^67108863>>>J<<J;this.words[this.length-1]&=H}return this.strip()},Y.prototype.maskn=function(j){return this.clone().imaskn(j)},Y.prototype.iaddn=function(j){if(K(typeof j==="number"),K(j<67108864),j<0)return this.isubn(-j);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<j)return this.words[0]=j-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(j),this.negative=1,this}return this._iaddn(j)},Y.prototype._iaddn=function(j){this.words[0]+=j;for(var J=0;J<this.length&&this.words[J]>=67108864;J++)if(this.words[J]-=67108864,J===this.length-1)this.words[J+1]=1;else this.words[J+1]++;return this.length=Math.max(this.length,J+1),this},Y.prototype.isubn=function(j){if(K(typeof j==="number"),K(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var J=0;J<this.length&&this.words[J]<0;J++)this.words[J]+=67108864,this.words[J+1]-=1;return this.strip()},Y.prototype.addn=function(j){return this.clone().iaddn(j)},Y.prototype.subn=function(j){return this.clone().isubn(j)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(j,J,X){var H=j.length+X,f;this._expand(H);var V,S=0;for(f=0;f<j.length;f++){V=(this.words[f+X]|0)+S;var A=(j.words[f]|0)*J;V-=A&67108863,S=(V>>26)-(A/67108864|0),this.words[f+X]=V&67108863}for(;f<this.length-X;f++)V=(this.words[f+X]|0)+S,S=V>>26,this.words[f+X]=V&67108863;if(S===0)return this.strip();K(S===-1),S=0;for(f=0;f<this.length;f++)V=-(this.words[f]|0)+S,S=V>>26,this.words[f]=V&67108863;return this.negative=1,this.strip()},Y.prototype._wordDiv=function(j,J){var X=this.length-j.length,H=this.clone(),f=j,V=f.words[f.length-1]|0,S=this._countBits(V);if(X=26-S,X!==0)f=f.ushln(X),H.iushln(X),V=f.words[f.length-1]|0;var A=H.length-f.length,z;if(J!=="mod"){z=new Y(null),z.length=A+1,z.words=Array(z.length);for(var G=0;G<z.length;G++)z.words[G]=0}var I=H.clone()._ishlnsubmul(f,1,A);if(I.negative===0){if(H=I,z)z.words[A]=1}for(var C=A-1;C>=0;C--){var g=(H.words[f.length+C]|0)*67108864+(H.words[f.length+C-1]|0);g=Math.min(g/V|0,67108863),H._ishlnsubmul(f,g,C);while(H.negative!==0)if(g--,H.negative=0,H._ishlnsubmul(f,1,C),!H.isZero())H.negative^=1;if(z)z.words[C]=g}if(z)z.strip();if(H.strip(),J!=="div"&&X!==0)H.iushrn(X);return{div:z||null,mod:H}},Y.prototype.divmod=function(j,J,X){if(K(!j.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var H,f,V;if(this.negative!==0&&j.negative===0){if(V=this.neg().divmod(j,J),J!=="mod")H=V.div.neg();if(J!=="div"){if(f=V.mod.neg(),X&&f.negative!==0)f.iadd(j)}return{div:H,mod:f}}if(this.negative===0&&j.negative!==0){if(V=this.divmod(j.neg(),J),J!=="mod")H=V.div.neg();return{div:H,mod:V.mod}}if((this.negative&j.negative)!==0){if(V=this.neg().divmod(j.neg(),J),J!=="div"){if(f=V.mod.neg(),X&&f.negative!==0)f.isub(j)}return{div:V.div,mod:f}}if(j.length>this.length||this.cmp(j)<0)return{div:new Y(0),mod:this};if(j.length===1){if(J==="div")return{div:this.divn(j.words[0]),mod:null};if(J==="mod")return{div:null,mod:new Y(this.modn(j.words[0]))};return{div:this.divn(j.words[0]),mod:new Y(this.modn(j.words[0]))}}return this._wordDiv(j,J)},Y.prototype.div=function(j){return this.divmod(j,"div",!1).div},Y.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},Y.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},Y.prototype.divRound=function(j){var J=this.divmod(j);if(J.mod.isZero())return J.div;var X=J.div.negative!==0?J.mod.isub(j):J.mod,H=j.ushrn(1),f=j.andln(1),V=X.cmp(H);if(V<0||f===1&&V===0)return J.div;return J.div.negative!==0?J.div.isubn(1):J.div.iaddn(1)},Y.prototype.modn=function(j){K(j<=67108863);var J=67108864%j,X=0;for(var H=this.length-1;H>=0;H--)X=(J*X+(this.words[H]|0))%j;return X},Y.prototype.idivn=function(j){K(j<=67108863);var J=0;for(var X=this.length-1;X>=0;X--){var H=(this.words[X]|0)+J*67108864;this.words[X]=H/j|0,J=H%j}return this.strip()},Y.prototype.divn=function(j){return this.clone().idivn(j)},Y.prototype.egcd=function(j){K(j.negative===0),K(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var H=new Y(1),f=new Y(0),V=new Y(0),S=new Y(1),A=0;while(J.isEven()&&X.isEven())J.iushrn(1),X.iushrn(1),++A;var z=X.clone(),G=J.clone();while(!J.isZero()){for(var I=0,C=1;(J.words[0]&C)===0&&I<26;++I,C<<=1);if(I>0){J.iushrn(I);while(I-- >0){if(H.isOdd()||f.isOdd())H.iadd(z),f.isub(G);H.iushrn(1),f.iushrn(1)}}for(var g=0,x=1;(X.words[0]&x)===0&&g<26;++g,x<<=1);if(g>0){X.iushrn(g);while(g-- >0){if(V.isOdd()||S.isOdd())V.iadd(z),S.isub(G);V.iushrn(1),S.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),H.isub(V),f.isub(S);else X.isub(J),V.isub(H),S.isub(f)}return{a:V,b:S,gcd:X.iushln(A)}},Y.prototype._invmp=function(j){K(j.negative===0),K(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var H=new Y(1),f=new Y(0),V=X.clone();while(J.cmpn(1)>0&&X.cmpn(1)>0){for(var S=0,A=1;(J.words[0]&A)===0&&S<26;++S,A<<=1);if(S>0){J.iushrn(S);while(S-- >0){if(H.isOdd())H.iadd(V);H.iushrn(1)}}for(var z=0,G=1;(X.words[0]&G)===0&&z<26;++z,G<<=1);if(z>0){X.iushrn(z);while(z-- >0){if(f.isOdd())f.iadd(V);f.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),H.isub(f);else X.isub(J),f.isub(H)}var I;if(J.cmpn(1)===0)I=H;else I=f;if(I.cmpn(0)<0)I.iadd(j);return I},Y.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var J=this.clone(),X=j.clone();J.negative=0,X.negative=0;for(var H=0;J.isEven()&&X.isEven();H++)J.iushrn(1),X.iushrn(1);do{while(J.isEven())J.iushrn(1);while(X.isEven())X.iushrn(1);var f=J.cmp(X);if(f<0){var V=J;J=X,X=V}else if(f===0||X.cmpn(1)===0)break;J.isub(X)}while(!0);return X.iushln(H)},Y.prototype.invm=function(j){return this.egcd(j).a.umod(j)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(j){return this.words[0]&j},Y.prototype.bincn=function(j){K(typeof j==="number");var J=j%26,X=(j-J)/26,H=1<<J;if(this.length<=X)return this._expand(X+1),this.words[X]|=H,this;var f=H;for(var V=X;f!==0&&V<this.length;V++){var S=this.words[V]|0;S+=f,f=S>>>26,S&=67108863,this.words[V]=S}if(f!==0)this.words[V]=f,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(j){var J=j<0;if(this.negative!==0&&!J)return-1;if(this.negative===0&&J)return 1;this.strip();var X;if(this.length>1)X=1;else{if(J)j=-j;K(j<=67108863,"Number is too big");var H=this.words[0]|0;X=H===j?0:H<j?-1:1}if(this.negative!==0)return-X|0;return X},Y.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var J=this.ucmp(j);if(this.negative!==0)return-J|0;return J},Y.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;var J=0;for(var X=this.length-1;X>=0;X--){var H=this.words[X]|0,f=j.words[X]|0;if(H===f)continue;if(H<f)J=-1;else if(H>f)J=1;break}return J},Y.prototype.gtn=function(j){return this.cmpn(j)===1},Y.prototype.gt=function(j){return this.cmp(j)===1},Y.prototype.gten=function(j){return this.cmpn(j)>=0},Y.prototype.gte=function(j){return this.cmp(j)>=0},Y.prototype.ltn=function(j){return this.cmpn(j)===-1},Y.prototype.lt=function(j){return this.cmp(j)===-1},Y.prototype.lten=function(j){return this.cmpn(j)<=0},Y.prototype.lte=function(j){return this.cmp(j)<=0},Y.prototype.eqn=function(j){return this.cmpn(j)===0},Y.prototype.eq=function(j){return this.cmp(j)===0},Y.red=function(j){return new c(j)},Y.prototype.toRed=function(j){return K(!this.red,"Already a number in reduction context"),K(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},Y.prototype.fromRed=function(){return K(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(j){return this.red=j,this},Y.prototype.forceRed=function(j){return K(!this.red,"Already a number in reduction context"),this._forceRed(j)},Y.prototype.redAdd=function(j){return K(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},Y.prototype.redIAdd=function(j){return K(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},Y.prototype.redSub=function(j){return K(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},Y.prototype.redISub=function(j){return K(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},Y.prototype.redShl=function(j){return K(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},Y.prototype.redMul=function(j){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},Y.prototype.redIMul=function(j){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},Y.prototype.redSqr=function(){return K(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return K(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return K(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return K(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return K(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(j){return K(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var b={k256:null,p224:null,p192:null,p25519:null};function y(j,J){this.name=j,this.p=new Y(J,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var j=new Y(null);return j.words=Array(Math.ceil(this.n/13)),j},y.prototype.ireduce=function(j){var J=j,X;do this.split(J,this.tmp),J=this.imulK(J),J=J.iadd(this.tmp),X=J.bitLength();while(X>this.n);var H=X<this.n?-1:J.ucmp(this.p);if(H===0)J.words[0]=0,J.length=1;else if(H>0)J.isub(this.p);else if(J.strip!==void 0)J.strip();else J._strip();return J},y.prototype.split=function(j,J){j.iushrn(this.n,0,J)},y.prototype.imulK=function(j){return j.imul(this.k)};function p(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(p,y),p.prototype.split=function(j,J){var X=4194303,H=Math.min(j.length,9);for(var f=0;f<H;f++)J.words[f]=j.words[f];if(J.length=H,j.length<=9){j.words[0]=0,j.length=1;return}var V=j.words[9];J.words[J.length++]=V&X;for(f=10;f<j.length;f++){var S=j.words[f]|0;j.words[f-10]=(S&X)<<4|V>>>22,V=S}if(V>>>=22,j.words[f-10]=V,V===0&&j.length>10)j.length-=10;else j.length-=9},p.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;var J=0;for(var X=0;X<j.length;X++){var H=j.words[X]|0;J+=H*977,j.words[X]=J&67108863,J=H*64+(J/67108864|0)}if(j.words[j.length-1]===0){if(j.length--,j.words[j.length-1]===0)j.length--}return j};function i(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(i,y);function $$(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O($$,y);function Q(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Q,y),Q.prototype.imulK=function(j){var J=0;for(var X=0;X<j.length;X++){var H=(j.words[X]|0)*19+J,f=H&67108863;H>>>=26,j.words[X]=f,J=H}if(J!==0)j.words[j.length++]=J;return j},Y._prime=function(j){if(b[j])return b[j];var J;if(j==="k256")J=new p;else if(j==="p224")J=new i;else if(j==="p192")J=new $$;else if(j==="p25519")J=new Q;else throw Error("Unknown prime "+j);return b[j]=J,J};function c(j){if(typeof j==="string"){var J=Y._prime(j);this.m=J.p,this.prime=J}else K(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}c.prototype._verify1=function(j){K(j.negative===0,"red works only with positives"),K(j.red,"red works only with red numbers")},c.prototype._verify2=function(j,J){K((j.negative|J.negative)===0,"red works only with positives"),K(j.red&&j.red===J.red,"red works only with red numbers")},c.prototype.imod=function(j){if(this.prime)return this.prime.ireduce(j)._forceRed(this);return j.umod(this.m)._forceRed(this)},c.prototype.neg=function(j){if(j.isZero())return j.clone();return this.m.sub(j)._forceRed(this)},c.prototype.add=function(j,J){this._verify2(j,J);var X=j.add(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X._forceRed(this)},c.prototype.iadd=function(j,J){this._verify2(j,J);var X=j.iadd(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X},c.prototype.sub=function(j,J){this._verify2(j,J);var X=j.sub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X._forceRed(this)},c.prototype.isub=function(j,J){this._verify2(j,J);var X=j.isub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X},c.prototype.shl=function(j,J){return this._verify1(j),this.imod(j.ushln(J))},c.prototype.imul=function(j,J){return this._verify2(j,J),this.imod(j.imul(J))},c.prototype.mul=function(j,J){return this._verify2(j,J),this.imod(j.mul(J))},c.prototype.isqr=function(j){return this.imul(j,j.clone())},c.prototype.sqr=function(j){return this.mul(j,j)},c.prototype.sqrt=function(j){if(j.isZero())return j.clone();var J=this.m.andln(3);if(K(J%2===1),J===3){var X=this.m.add(new Y(1)).iushrn(2);return this.pow(j,X)}var H=this.m.subn(1),f=0;while(!H.isZero()&&H.andln(1)===0)f++,H.iushrn(1);K(!H.isZero());var V=new Y(1).toRed(this),S=V.redNeg(),A=this.m.subn(1).iushrn(1),z=this.m.bitLength();z=new Y(2*z*z).toRed(this);while(this.pow(z,A).cmp(S)!==0)z.redIAdd(S);var G=this.pow(z,H),I=this.pow(j,H.addn(1).iushrn(1)),C=this.pow(j,H),g=f;while(C.cmp(V)!==0){var x=C;for(var l=0;x.cmp(V)!==0;l++)x=x.redSqr();K(l<g);var o=this.pow(G,new Y(1).iushln(g-l-1));I=I.redMul(o),G=o.redSqr(),C=C.redMul(G),g=l}return I},c.prototype.invm=function(j){var J=j._invmp(this.m);if(J.negative!==0)return J.negative=0,this.imod(J).redNeg();else return this.imod(J)},c.prototype.pow=function(j,J){if(J.isZero())return new Y(1).toRed(this);if(J.cmpn(1)===0)return j.clone();var X=4,H=Array(1<<X);H[0]=new Y(1).toRed(this),H[1]=j;for(var f=2;f<H.length;f++)H[f]=this.mul(H[f-1],j);var V=H[0],S=0,A=0,z=J.bitLength()%26;if(z===0)z=26;for(f=J.length-1;f>=0;f--){var G=J.words[f];for(var I=z-1;I>=0;I--){var C=G>>I&1;if(V!==H[0])V=this.sqr(V);if(C===0&&S===0){A=0;continue}if(S<<=1,S|=C,A++,A!==X&&(f!==0||I!==0))continue;V=this.mul(V,H[S]),A=0,S=0}z=26}return V},c.prototype.convertTo=function(j){var J=j.umod(this.m);return J===j?J.clone():J},c.prototype.convertFrom=function(j){var J=j.clone();return J.red=null,J},Y.mont=function(j){return new a(j)};function a(j){if(c.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(a,c),a.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},a.prototype.convertFrom=function(j){var J=this.imod(j.mul(this.rinv));return J.red=null,J},a.prototype.imul=function(j,J){if(j.isZero()||J.isZero())return j.words[0]=0,j.length=1,j;var X=j.imul(J),H=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=X.isub(H).iushrn(this.shift),V=f;if(f.cmp(this.m)>=0)V=f.isub(this.m);else if(f.cmpn(0)<0)V=f.iadd(this.m);return V._forceRed(this)},a.prototype.mul=function(j,J){if(j.isZero()||J.isZero())return new Y(0)._forceRed(this);var X=j.mul(J),H=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=X.isub(H).iushrn(this.shift),V=f;if(f.cmp(this.m)>=0)V=f.isub(this.m);else if(f.cmpn(0)<0)V=f.iadd(this.m);return V._forceRed(this)},a.prototype.invm=function(j){var J=this.imod(j._invmp(this.m).mul(this.r2));return J._forceRed(this)}})(typeof q>"u"||q,$)}),oU=Z$(($)=>{var q=u7(),_=T8(),P=$;P.define=function(O,Y){return new K(O,Y)};function K(O,Y){this.name=O,this.body=Y,this.decoders={},this.encoders={}}K.prototype._createNamed=function(O){var Y;try{Y=(()=>{throw new Error("Cannot require module "+"vm");})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch(v){Y=function(W){this._initNamed(W)}}return _(Y,O),Y.prototype._initNamed=function(v){O.call(this,v)},new Y(this)},K.prototype._getDecoder=function(O){if(O=O||"der",!this.decoders.hasOwnProperty(O))this.decoders[O]=this._createNamed(q.decoders[O]);return this.decoders[O]},K.prototype.decode=function(O,Y,v){return this._getDecoder(Y).decode(O,v)},K.prototype._getEncoder=function(O){if(O=O||"der",!this.encoders.hasOwnProperty(O))this.encoders[O]=this._createNamed(q.encoders[O]);return this.encoders[O]},K.prototype.encode=function(O,Y,v){return this._getEncoder(Y).encode(O,v)}}),nU=Z$(($)=>{var q=T8();function _(K){this._reporterState={obj:null,path:[],options:K||{},errors:[]}}$.Reporter=_,_.prototype.isError=function(K){return K instanceof P},_.prototype.save=function(){var K=this._reporterState;return{obj:K.obj,pathLen:K.path.length}},_.prototype.restore=function(K){var O=this._reporterState;O.obj=K.obj,O.path=O.path.slice(0,K.pathLen)},_.prototype.enterKey=function(K){return this._reporterState.path.push(K)},_.prototype.exitKey=function(K){var O=this._reporterState;O.path=O.path.slice(0,K-1)},_.prototype.leaveKey=function(K,O,Y){var v=this._reporterState;if(this.exitKey(K),v.obj!==null)v.obj[O]=Y},_.prototype.path=function(){return this._reporterState.path.join("/")},_.prototype.enterObject=function(){var K=this._reporterState,O=K.obj;return K.obj={},O},_.prototype.leaveObject=function(K){var O=this._reporterState,Y=O.obj;return O.obj=K,Y},_.prototype.error=function(K){var O,Y=this._reporterState,v=K instanceof P;if(v)O=K;else O=new P(Y.path.map(function(W){return"["+JSON.stringify(W)+"]"}).join(""),K.message||K,K.stack);if(!Y.options.partial)throw O;if(!v)Y.errors.push(O);return O},_.prototype.wrapResult=function(K){var O=this._reporterState;if(!O.options.partial)return K;return{result:this.isError(K)?null:K,errors:O.errors}};function P(K,O){this.path=K,this.rethrow(O)}q(P,Error),P.prototype.rethrow=function(K){if(this.message=K+" at: "+(this.path||"(shallow)"),Error.captureStackTrace)Error.captureStackTrace(this,P);if(!this.stack)try{throw Error(this.message)}catch(O){this.stack=O.stack}return this}}),iC=Z$(($)=>{var q=T8(),_=D7().Reporter,P=(Xq(),H6(fq)).Buffer;function K(Y,v){if(_.call(this,v),!P.isBuffer(Y)){this.error("Input not Buffer");return}this.base=Y,this.offset=0,this.length=Y.length}q(K,_),$.DecoderBuffer=K,K.prototype.save=function(){return{offset:this.offset,reporter:_.prototype.save.call(this)}},K.prototype.restore=function(Y){var v=new K(this.base);return v.offset=Y.offset,v.length=this.offset,this.offset=Y.offset,_.prototype.restore.call(this,Y.reporter),v},K.prototype.isEmpty=function(){return this.offset===this.length},K.prototype.readUInt8=function(Y){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,!0);else return this.error(Y||"DecoderBuffer overrun")},K.prototype.skip=function(Y,v){if(!(this.offset+Y<=this.length))return this.error(v||"DecoderBuffer overrun");var W=new K(this.base);return W._reporterState=this._reporterState,W.offset=this.offset,W.length=this.offset+Y,this.offset+=Y,W},K.prototype.raw=function(Y){return this.base.slice(Y?Y.offset:this.offset,this.length)};function O(Y,v){if(Array.isArray(Y))this.length=0,this.value=Y.map(function(W){if(!(W instanceof O))W=new O(W,v);return this.length+=W.length,W},this);else if(typeof Y==="number"){if(!(0<=Y&&Y<=255))return v.error("non-byte EncoderBuffer value");this.value=Y,this.length=1}else if(typeof Y==="string")this.value=Y,this.length=P.byteLength(Y);else if(P.isBuffer(Y))this.value=Y,this.length=Y.length;else return v.error("Unsupported type: "+typeof Y)}$.EncoderBuffer=O,O.prototype.join=function(Y,v){if(!Y)Y=new P(this.length);if(!v)v=0;if(this.length===0)return Y;if(Array.isArray(this.value))this.value.forEach(function(W){W.join(Y,v),v+=W.length});else{if(typeof this.value==="number")Y[v]=this.value;else if(typeof this.value==="string")Y.write(this.value,v);else if(P.isBuffer(this.value))this.value.copy(Y,v);v+=this.length}return Y}}),iU=Z$(($,q)=>{var _=D7().Reporter,P=D7().EncoderBuffer,K=D7().DecoderBuffer,O=XK(),Y=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],v=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Y),W=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function T(w,k){var M={};if(this._baseState=M,M.enc=w,M.parent=k||null,M.children=null,M.tag=null,M.args=null,M.reverseArgs=null,M.choice=null,M.optional=!1,M.any=!1,M.obj=!1,M.use=null,M.useDecoder=null,M.key=null,M.default=null,M.explicit=null,M.implicit=null,M.contains=null,!M.parent)M.children=[],this._wrap()}q.exports=T;var Z=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];T.prototype.clone=function(){var w=this._baseState,k={};Z.forEach(function(N){k[N]=w[N]});var M=new this.constructor(k.parent);return M._baseState=k,M},T.prototype._wrap=function(){var w=this._baseState;v.forEach(function(k){this[k]=function(){var M=new this.constructor(this);return w.children.push(M),M[k].apply(M,arguments)}},this)},T.prototype._init=function(w){var k=this._baseState;O(k.parent===null),w.call(this),k.children=k.children.filter(function(M){return M._baseState.parent===this},this),O.equal(k.children.length,1,"Root node can have only one child")},T.prototype._useArgs=function(w){var k=this._baseState,M=w.filter(function(N){return N instanceof this.constructor},this);if(w=w.filter(function(N){return!(N instanceof this.constructor)},this),M.length!==0)O(k.children===null),k.children=M,M.forEach(function(N){N._baseState.parent=this},this);if(w.length!==0)O(k.args===null),k.args=w,k.reverseArgs=w.map(function(N){if(typeof N!=="object"||N.constructor!==Object)return N;var R={};return Object.keys(N).forEach(function(E){if(E==(E|0))E|=0;var D=N[E];R[D]=E}),R})},W.forEach(function(w){T.prototype[w]=function(){var k=this._baseState;throw Error(w+" not implemented for encoding: "+k.enc)}}),Y.forEach(function(w){T.prototype[w]=function(){var k=this._baseState,M=Array.prototype.slice.call(arguments);return O(k.tag===null),k.tag=w,this._useArgs(M),this}}),T.prototype.use=function(w){O(w);var k=this._baseState;return O(k.use===null),k.use=w,this},T.prototype.optional=function(){var w=this._baseState;return w.optional=!0,this},T.prototype.def=function(w){var k=this._baseState;return O(k.default===null),k.default=w,k.optional=!0,this},T.prototype.explicit=function(w){var k=this._baseState;return O(k.explicit===null&&k.implicit===null),k.explicit=w,this},T.prototype.implicit=function(w){var k=this._baseState;return O(k.explicit===null&&k.implicit===null),k.implicit=w,this},T.prototype.obj=function(){var w=this._baseState,k=Array.prototype.slice.call(arguments);if(w.obj=!0,k.length!==0)this._useArgs(k);return this},T.prototype.key=function(w){var k=this._baseState;return O(k.key===null),k.key=w,this},T.prototype.any=function(){var w=this._baseState;return w.any=!0,this},T.prototype.choice=function(w){var k=this._baseState;return O(k.choice===null),k.choice=w,this._useArgs(Object.keys(w).map(function(M){return w[M]})),this},T.prototype.contains=function(w){var k=this._baseState;return O(k.use===null),k.contains=w,this},T.prototype._decode=function(w,k){var M=this._baseState;if(M.parent===null)return w.wrapResult(M.children[0]._decode(w,k));var N=M.default,R=!0,E=null;if(M.key!==null)E=w.enterKey(M.key);if(M.optional){var D=null;if(M.explicit!==null)D=M.explicit;else if(M.implicit!==null)D=M.implicit;else if(M.tag!==null)D=M.tag;if(D===null&&!M.any){var h=w.save();try{if(M.choice===null)this._decodeGeneric(M.tag,w,k);else this._decodeChoice(w,k);R=!0}catch($$){R=!1}w.restore(h)}else if(R=this._peekTag(w,D,M.any),w.isError(R))return R}var L;if(M.obj&&R)L=w.enterObject();if(R){if(M.explicit!==null){var b=this._decodeTag(w,M.explicit);if(w.isError(b))return b;w=b}var y=w.offset;if(M.use===null&&M.choice===null){if(M.any)var h=w.save();var p=this._decodeTag(w,M.implicit!==null?M.implicit:M.tag,M.any);if(w.isError(p))return p;if(M.any)N=w.raw(h);else w=p}if(k&&k.track&&M.tag!==null)k.track(w.path(),y,w.length,"tagged");if(k&&k.track&&M.tag!==null)k.track(w.path(),w.offset,w.length,"content");if(M.any)N=N;else if(M.choice===null)N=this._decodeGeneric(M.tag,w,k);else N=this._decodeChoice(w,k);if(w.isError(N))return N;if(!M.any&&M.choice===null&&M.children!==null)M.children.forEach(function($$){$$._decode(w,k)});if(M.contains&&(M.tag==="octstr"||M.tag==="bitstr")){var i=new K(N);N=this._getUse(M.contains,w._reporterState.obj)._decode(i,k)}}if(M.obj&&R)N=w.leaveObject(L);if(M.key!==null&&(N!==null||R===!0))w.leaveKey(E,M.key,N);else if(E!==null)w.exitKey(E);return N},T.prototype._decodeGeneric=function(w,k,M){var N=this._baseState;if(w==="seq"||w==="set")return null;if(w==="seqof"||w==="setof")return this._decodeList(k,w,N.args[0],M);else if(/str$/.test(w))return this._decodeStr(k,w,M);else if(w==="objid"&&N.args)return this._decodeObjid(k,N.args[0],N.args[1],M);else if(w==="objid")return this._decodeObjid(k,null,null,M);else if(w==="gentime"||w==="utctime")return this._decodeTime(k,w,M);else if(w==="null_")return this._decodeNull(k,M);else if(w==="bool")return this._decodeBool(k,M);else if(w==="objDesc")return this._decodeStr(k,w,M);else if(w==="int"||w==="enum")return this._decodeInt(k,N.args&&N.args[0],M);if(N.use!==null)return this._getUse(N.use,k._reporterState.obj)._decode(k,M);else return k.error("unknown tag: "+w)},T.prototype._getUse=function(w,k){var M=this._baseState;if(M.useDecoder=this._use(w,k),O(M.useDecoder._baseState.parent===null),M.useDecoder=M.useDecoder._baseState.children[0],M.implicit!==M.useDecoder._baseState.implicit)M.useDecoder=M.useDecoder.clone(),M.useDecoder._baseState.implicit=M.implicit;return M.useDecoder},T.prototype._decodeChoice=function(w,k){var M=this._baseState,N=null,R=!1;if(Object.keys(M.choice).some(function(E){var D=w.save(),h=M.choice[E];try{var L=h._decode(w,k);if(w.isError(L))return!1;N={type:E,value:L},R=!0}catch(b){return w.restore(D),!1}return!0},this),!R)return w.error("Choice not matched");return N},T.prototype._createEncoderBuffer=function(w){return new P(w,this.reporter)},T.prototype._encode=function(w,k,M){var N=this._baseState;if(N.default!==null&&N.default===w)return;var R=this._encodeValue(w,k,M);if(R===void 0)return;if(this._skipDefault(R,k,M))return;return R},T.prototype._encodeValue=function(w,k,M){var N=this._baseState;if(N.parent===null)return N.children[0]._encode(w,k||new _);var h=null;if(this.reporter=k,N.optional&&w===void 0)if(N.default!==null)w=N.default;else return;var R=null,E=!1;if(N.any)h=this._createEncoderBuffer(w);else if(N.choice)h=this._encodeChoice(w,k);else if(N.contains)R=this._getUse(N.contains,M)._encode(w,k),E=!0;else if(N.children)R=N.children.map(function(y){if(y._baseState.tag==="null_")return y._encode(null,k,w);if(y._baseState.key===null)return k.error("Child should have a key");var p=k.enterKey(y._baseState.key);if(typeof w!=="object")return k.error("Child expected, but input is not object");var i=y._encode(w[y._baseState.key],k,w);return k.leaveKey(p),i},this).filter(function(y){return y}),R=this._createEncoderBuffer(R);else if(N.tag==="seqof"||N.tag==="setof"){if(!(N.args&&N.args.length===1))return k.error("Too many args for : "+N.tag);if(!Array.isArray(w))return k.error("seqof/setof, but data is not Array");var D=this.clone();D._baseState.implicit=null,R=this._createEncoderBuffer(w.map(function(y){var p=this._baseState;return this._getUse(p.args[0],w)._encode(y,k)},D))}else if(N.use!==null)h=this._getUse(N.use,M)._encode(w,k);else R=this._encodePrimitive(N.tag,w),E=!0;var h;if(!N.any&&N.choice===null){var L=N.implicit!==null?N.implicit:N.tag,b=N.implicit===null?"universal":"context";if(L===null){if(N.use===null)k.error("Tag could be omitted only for .use()")}else if(N.use===null)h=this._encodeComposite(L,E,b,R)}if(N.explicit!==null)h=this._encodeComposite(N.explicit,!1,"context",h);return h},T.prototype._encodeChoice=function(w,k){var M=this._baseState,N=M.choice[w.type];if(!N)O(!1,w.type+" not found in "+JSON.stringify(Object.keys(M.choice)));return N._encode(w.value,k)},T.prototype._encodePrimitive=function(w,k){var M=this._baseState;if(/str$/.test(w))return this._encodeStr(k,w);else if(w==="objid"&&M.args)return this._encodeObjid(k,M.reverseArgs[0],M.args[1]);else if(w==="objid")return this._encodeObjid(k,null,null);else if(w==="gentime"||w==="utctime")return this._encodeTime(k,w);else if(w==="null_")return this._encodeNull();else if(w==="int"||w==="enum")return this._encodeInt(k,M.args&&M.reverseArgs[0]);else if(w==="bool")return this._encodeBool(k);else if(w==="objDesc")return this._encodeStr(k,w);else throw Error("Unsupported tag: "+w)},T.prototype._isNumstr=function(w){return/^[0-9 ]*$/.test(w)},T.prototype._isPrintstr=function(w){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(w)}}),D7=Z$(($)=>{var q=$;q.Reporter=nU().Reporter,q.DecoderBuffer=iC().DecoderBuffer,q.EncoderBuffer=iC().EncoderBuffer,q.Node=iU()}),BU=Z$(($)=>{var q=JE();$.tagClass={0:"universal",1:"application",2:"context",3:"private"},$.tagClassByName=q._reverse($.tagClass),$.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},$.tagByName=q._reverse($.tag)}),JE=Z$(($)=>{var q=$;q._reverse=function(_){var P={};return Object.keys(_).forEach(function(K){if((K|0)==K)K=K|0;var O=_[K];P[O]=K}),P},q.der=BU()}),WE=Z$(($,q)=>{var _=T8(),P=u7(),K=P.base,O=P.bignum,Y=P.constants.der;function v(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new W,this.tree._init(w.body)}q.exports=v,v.prototype.decode=function(w,k){if(!(w instanceof K.DecoderBuffer))w=new K.DecoderBuffer(w,k);return this.tree._decode(w,k)};function W(w){K.Node.call(this,"der",w)}_(W,K.Node),W.prototype._peekTag=function(w,k,M){if(w.isEmpty())return!1;var N=w.save(),R=T(w,'Failed to peek tag: "'+k+'"');if(w.isError(R))return R;return w.restore(N),R.tag===k||R.tagStr===k||R.tagStr+"of"===k||M},W.prototype._decodeTag=function(w,k,M){var N=T(w,'Failed to decode tag of "'+k+'"');if(w.isError(N))return N;var R=Z(w,N.primitive,'Failed to get length of "'+k+'"');if(w.isError(R))return R;if(!M&&N.tag!==k&&N.tagStr!==k&&N.tagStr+"of"!==k)return w.error('Failed to match tag: "'+k+'"');if(N.primitive||R!==null)return w.skip(R,'Failed to match body of: "'+k+'"');var E=w.save(),D=this._skipUntilEnd(w,'Failed to skip indefinite length body: "'+this.tag+'"');if(w.isError(D))return D;return R=w.offset-E.offset,w.restore(E),w.skip(R,'Failed to match body of: "'+k+'"')},W.prototype._skipUntilEnd=function(w,k){while(!0){var M=T(w,k);if(w.isError(M))return M;var N=Z(w,M.primitive,k);if(w.isError(N))return N;var R;if(M.primitive||N!==null)R=w.skip(N);else R=this._skipUntilEnd(w,k);if(w.isError(R))return R;if(M.tagStr==="end")break}},W.prototype._decodeList=function(w,k,M,N){var R=[];while(!w.isEmpty()){var E=this._peekTag(w,"end");if(w.isError(E))return E;var D=M.decode(w,"der",N);if(w.isError(D)&&E)break;R.push(D)}return R},W.prototype._decodeStr=function(w,k){if(k==="bitstr"){var M=w.readUInt8();if(w.isError(M))return M;return{unused:M,data:w.raw()}}else if(k==="bmpstr"){var N=w.raw();if(N.length%2===1)return w.error("Decoding of string type: bmpstr length mismatch");var R="";for(var E=0;E<N.length/2;E++)R+=String.fromCharCode(N.readUInt16BE(E*2));return R}else if(k==="numstr"){var D=w.raw().toString("ascii");if(!this._isNumstr(D))return w.error("Decoding of string type: numstr unsupported characters");return D}else if(k==="octstr")return w.raw();else if(k==="objDesc")return w.raw();else if(k==="printstr"){var h=w.raw().toString("ascii");if(!this._isPrintstr(h))return w.error("Decoding of string type: printstr unsupported characters");return h}else if(/str$/.test(k))return w.raw().toString();else return w.error("Decoding of string type: "+k+" unsupported")},W.prototype._decodeObjid=function(w,k,M){var N,R=[],E=0;while(!w.isEmpty()){var D=w.readUInt8();if(E<<=7,E|=D&127,(D&128)===0)R.push(E),E=0}if(D&128)R.push(E);var h=R[0]/40|0,L=R[0]%40;if(M)N=R;else N=[h,L].concat(R.slice(1));if(k){var b=k[N.join(" ")];if(b===void 0)b=k[N.join(".")];if(b!==void 0)N=b}return N},W.prototype._decodeTime=function(w,k){var M=w.raw().toString();if(k==="gentime")var N=M.slice(0,4)|0,R=M.slice(4,6)|0,E=M.slice(6,8)|0,D=M.slice(8,10)|0,h=M.slice(10,12)|0,L=M.slice(12,14)|0;else if(k==="utctime"){var N=M.slice(0,2)|0,R=M.slice(2,4)|0,E=M.slice(4,6)|0,D=M.slice(6,8)|0,h=M.slice(8,10)|0,L=M.slice(10,12)|0;if(N<70)N=2000+N;else N=1900+N}else return w.error("Decoding "+k+" time is not supported yet");return Date.UTC(N,R-1,E,D,h,L,0)},W.prototype._decodeNull=function(w){return null},W.prototype._decodeBool=function(w){var k=w.readUInt8();if(w.isError(k))return k;else return k!==0},W.prototype._decodeInt=function(w,k){var M=w.raw(),N=new O(M);if(k)N=k[N.toString(10)]||N;return N},W.prototype._use=function(w,k){if(typeof w==="function")w=w(k);return w._getDecoder("der").tree};function T(w,k){var M=w.readUInt8(k);if(w.isError(M))return M;var N=Y.tagClass[M>>6],R=(M&32)===0;if((M&31)===31){var E=M;M=0;while((E&128)===128){if(E=w.readUInt8(k),w.isError(E))return E;M<<=7,M|=E&127}}else M&=31;var D=Y.tag[M];return{cls:N,primitive:R,tag:M,tagStr:D}}function Z(w,k,M){var N=w.readUInt8(M);if(w.isError(N))return N;if(!k&&N===128)return null;if((N&128)===0)return N;var R=N&127;if(R>4)return w.error("length octect is too long");N=0;for(var E=0;E<R;E++){N<<=8;var D=w.readUInt8(M);if(w.isError(D))return D;N|=D}return N}}),UU=Z$(($,q)=>{var _=T8(),P=(Xq(),H6(fq)).Buffer,K=WE();function O(Y){K.call(this,Y),this.enc="pem"}_(O,K),q.exports=O,O.prototype.decode=function(Y,v){var W=Y.toString().split(/[\r\n]+/g),T=v.label.toUpperCase(),Z=/^-----(BEGIN|END) ([^-]+)-----$/,w=-1,k=-1;for(var M=0;M<W.length;M++){var N=W[M].match(Z);if(N===null)continue;if(N[2]!==T)continue;if(w===-1){if(N[1]!=="BEGIN")break;w=M}else{if(N[1]!=="END")break;k=M;break}}if(w===-1||k===-1)throw Error("PEM section not found for: "+T);var R=W.slice(w+1,k).join("");R.replace(/[^a-z0-9\+\/=]+/gi,"");var E=new P(R,"base64");return K.prototype.decode.call(this,E,v)}}),tU=Z$(($)=>{var q=$;q.der=WE(),q.pem=UU()}),HE=Z$(($,q)=>{var _=T8(),P=(Xq(),H6(fq)).Buffer,K=u7(),O=K.base,Y=K.constants.der;function v(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new W,this.tree._init(w.body)}q.exports=v,v.prototype.encode=function(w,k){return this.tree._encode(w,k).join()};function W(w){O.Node.call(this,"der",w)}_(W,O.Node),W.prototype._encodeComposite=function(w,k,M,N){var R=Z(w,k,M,this.reporter);if(N.length<128){var h=new P(2);return h[0]=R,h[1]=N.length,this._createEncoderBuffer([h,N])}var E=1;for(var D=N.length;D>=256;D>>=8)E++;var h=new P(2+E);h[0]=R,h[1]=128|E;for(var D=1+E,L=N.length;L>0;D--,L>>=8)h[D]=L&255;return this._createEncoderBuffer([h,N])},W.prototype._encodeStr=function(w,k){if(k==="bitstr")return this._createEncoderBuffer([w.unused|0,w.data]);else if(k==="bmpstr"){var M=new P(w.length*2);for(var N=0;N<w.length;N++)M.writeUInt16BE(w.charCodeAt(N),N*2);return this._createEncoderBuffer(M)}else if(k==="numstr"){if(!this._isNumstr(w))return this.reporter.error("Encoding of string type: numstr supports only digits and space");return this._createEncoderBuffer(w)}else if(k==="printstr"){if(!this._isPrintstr(w))return this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark");return this._createEncoderBuffer(w)}else if(/str$/.test(k))return this._createEncoderBuffer(w);else if(k==="objDesc")return this._createEncoderBuffer(w);else return this.reporter.error("Encoding of string type: "+k+" unsupported")},W.prototype._encodeObjid=function(w,k,M){if(typeof w==="string"){if(!k)return this.reporter.error("string objid given, but no values map found");if(!k.hasOwnProperty(w))return this.reporter.error("objid not found in values map");w=k[w].split(/[\s\.]+/g);for(var N=0;N<w.length;N++)w[N]|=0}else if(Array.isArray(w)){w=w.slice();for(var N=0;N<w.length;N++)w[N]|=0}if(!Array.isArray(w))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(w));if(!M){if(w[1]>=40)return this.reporter.error("Second objid identifier OOB");w.splice(0,2,w[0]*40+w[1])}var R=0;for(var N=0;N<w.length;N++){var E=w[N];for(R++;E>=128;E>>=7)R++}var D=new P(R),h=D.length-1;for(var N=w.length-1;N>=0;N--){var E=w[N];D[h--]=E&127;while((E>>=7)>0)D[h--]=128|E&127}return this._createEncoderBuffer(D)};function T(w){if(w<10)return"0"+w;else return w}W.prototype._encodeTime=function(w,k){var M,N=new Date(w);if(k==="gentime")M=[T(N.getFullYear()),T(N.getUTCMonth()+1),T(N.getUTCDate()),T(N.getUTCHours()),T(N.getUTCMinutes()),T(N.getUTCSeconds()),"Z"].join("");else if(k==="utctime")M=[T(N.getFullYear()%100),T(N.getUTCMonth()+1),T(N.getUTCDate()),T(N.getUTCHours()),T(N.getUTCMinutes()),T(N.getUTCSeconds()),"Z"].join("");else this.reporter.error("Encoding "+k+" time is not supported yet");return this._encodeStr(M,"octstr")},W.prototype._encodeNull=function(){return this._createEncoderBuffer("")},W.prototype._encodeInt=function(w,k){if(typeof w==="string"){if(!k)return this.reporter.error("String int or enum given, but no values map");if(!k.hasOwnProperty(w))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(w));w=k[w]}if(typeof w!=="number"&&!P.isBuffer(w)){var M=w.toArray();if(!w.sign&&M[0]&128)M.unshift(0);w=new P(M)}if(P.isBuffer(w)){var N=w.length;if(w.length===0)N++;var E=new P(N);if(w.copy(E),w.length===0)E[0]=0;return this._createEncoderBuffer(E)}if(w<128)return this._createEncoderBuffer(w);if(w<256)return this._createEncoderBuffer([0,w]);var N=1;for(var R=w;R>=256;R>>=8)N++;var E=Array(N);for(var R=E.length-1;R>=0;R--)E[R]=w&255,w>>=8;if(E[0]&128)E.unshift(0);return this._createEncoderBuffer(new P(E))},W.prototype._encodeBool=function(w){return this._createEncoderBuffer(w?255:0)},W.prototype._use=function(w,k){if(typeof w==="function")w=w(k);return w._getEncoder("der").tree},W.prototype._skipDefault=function(w,k,M){var N=this._baseState,R;if(N.default===null)return!1;var E=w.join();if(N.defaultBuffer===void 0)N.defaultBuffer=this._encodeValue(N.default,k,M).join();if(E.length!==N.defaultBuffer.length)return!1;for(R=0;R<E.length;R++)if(E[R]!==N.defaultBuffer[R])return!1;return!0};function Z(w,k,M,N){var R;if(w==="seqof")w="seq";else if(w==="setof")w="set";if(Y.tagByName.hasOwnProperty(w))R=Y.tagByName[w];else if(typeof w==="number"&&(w|0)===w)R=w;else return N.error("Unknown tag: "+w);if(R>=31)return N.error("Multi-octet tag encoding unsupported");if(!k)R|=32;return R|=Y.tagClassByName[M||"universal"]<<6,R}}),FU=Z$(($,q)=>{var _=T8(),P=HE();function K(O){P.call(this,O),this.enc="pem"}_(K,P),q.exports=K,K.prototype.encode=function(O,Y){var v=P.prototype.encode.call(this,O),W=v.toString("base64"),T=["-----BEGIN "+Y.label+"-----"];for(var Z=0;Z<W.length;Z+=64)T.push(W.slice(Z,Z+64));return T.push("-----END "+Y.label+"-----"),T.join(`
`)}}),QU=Z$(($)=>{var q=$;q.der=HE(),q.pem=FU()}),u7=Z$(($)=>{var q=$;q.bignum=rU(),q.define=oU().define,q.base=D7(),q.constants=JE(),q.decoders=tU(),q.encoders=QU()}),aU=Z$(($,q)=>{var _=u7(),P=_.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),K=_.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),O=_.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Y=_.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(O),this.key("subjectPublicKey").bitstr())}),v=_.define("RelativeDistinguishedName",function(){this.setof(K)}),W=_.define("RDNSequence",function(){this.seqof(v)}),T=_.define("Name",function(){this.choice({rdnSequence:this.use(W)})}),Z=_.define("Validity",function(){this.seq().obj(this.key("notBefore").use(P),this.key("notAfter").use(P))}),w=_.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),k=_.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(O),this.key("issuer").use(T),this.key("validity").use(Z),this.key("subject").use(T),this.key("subjectPublicKeyInfo").use(Y),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(w).optional())}),M=_.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(k),this.key("signatureAlgorithm").use(O),this.key("signatureValue").bitstr())});q.exports=M}),eU=Z$(($)=>{var q=u7();$.certificate=aU();var _=q.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});$.RSAPrivateKey=_;var P=q.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});$.RSAPublicKey=P;var K=q.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),O=q.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(K),this.key("subjectPublicKey").bitstr())});$.PublicKey=O;var Y=q.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(K),this.key("subjectPrivateKey").octstr())});$.PrivateKey=Y;var v=q.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});$.EncryptedPrivateKey=v;var W=q.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});$.DSAPrivateKey=W,$.DSAparam=q.define("DSAparam",function(){this.int()});var T=q.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Z=q.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(T),this.key("publicKey").optional().explicit(1).bitstr())});$.ECPrivateKey=Z,$.signature=q.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),sU=Z$(($,q)=>{q.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),$t=Z$(($,q)=>{var _=Bq().Buffer,P=Vw().Transform,K=T8();function O(T){P.call(this),this._block=_.allocUnsafe(T),this._blockSize=T,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}K(O,P),O.prototype._transform=function(T,Z,w){var k=null;try{this.update(T,Z)}catch(M){k=M}w(k)},O.prototype._flush=function(T){var Z=null;try{this.push(this.digest())}catch(w){Z=w}T(Z)};var Y=typeof Uint8Array<"u",v=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(_.prototype instanceof Uint8Array||_.TYPED_ARRAY_SUPPORT);function W(T,Z){if(T instanceof _)return T;if(typeof T==="string")return _.from(T,Z);if(v&&ArrayBuffer.isView(T)){if(T.byteLength===0)return _.alloc(0);var w=_.from(T.buffer,T.byteOffset,T.byteLength);if(w.byteLength===T.byteLength)return w}if(Y&&T instanceof Uint8Array)return _.from(T);if(_.isBuffer(T)&&T.constructor&&typeof T.constructor.isBuffer==="function"&&T.constructor.isBuffer(T))return _.from(T);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}O.prototype.update=function(T,Z){if(this._finalized)throw Error("Digest already called");T=W(T,Z);var w=this._block,k=0;while(this._blockOffset+T.length-k>=this._blockSize){for(var M=this._blockOffset;M<this._blockSize;)w[M++]=T[k++];this._update(),this._blockOffset=0}while(k<T.length)w[this._blockOffset++]=T[k++];for(var N=0,R=T.length*8;R>0;++N)if(this._length[N]+=R,R=this._length[N]/4294967296|0,R>0)this._length[N]-=4294967296*R;return this},O.prototype._update=function(){throw Error("_update is not implemented")},O.prototype.digest=function(T){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var Z=this._digest();if(T!==void 0)Z=Z.toString(T);this._block.fill(0),this._blockOffset=0;for(var w=0;w<4;++w)this._length[w]=0;return Z},O.prototype._digest=function(){throw Error("_digest is not implemented")},q.exports=O}),qt=Z$(($,q)=>{var _=T8(),P=$t(),K=Bq().Buffer,O=Array(16);function Y(){P.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}_(Y,P),Y.prototype._update=function(){var k=O;for(var M=0;M<16;++M)k[M]=this._block.readInt32LE(M*4);var N=this._a,R=this._b,E=this._c,D=this._d;N=W(N,R,E,D,k[0],3614090360,7),D=W(D,N,R,E,k[1],3905402710,12),E=W(E,D,N,R,k[2],606105819,17),R=W(R,E,D,N,k[3],3250441966,22),N=W(N,R,E,D,k[4],4118548399,7),D=W(D,N,R,E,k[5],1200080426,12),E=W(E,D,N,R,k[6],2821735955,17),R=W(R,E,D,N,k[7],4249261313,22),N=W(N,R,E,D,k[8],1770035416,7),D=W(D,N,R,E,k[9],2336552879,12),E=W(E,D,N,R,k[10],4294925233,17),R=W(R,E,D,N,k[11],2304563134,22),N=W(N,R,E,D,k[12],1804603682,7),D=W(D,N,R,E,k[13],4254626195,12),E=W(E,D,N,R,k[14],2792965006,17),R=W(R,E,D,N,k[15],1236535329,22),N=T(N,R,E,D,k[1],4129170786,5),D=T(D,N,R,E,k[6],3225465664,9),E=T(E,D,N,R,k[11],643717713,14),R=T(R,E,D,N,k[0],3921069994,20),N=T(N,R,E,D,k[5],3593408605,5),D=T(D,N,R,E,k[10],38016083,9),E=T(E,D,N,R,k[15],3634488961,14),R=T(R,E,D,N,k[4],3889429448,20),N=T(N,R,E,D,k[9],568446438,5),D=T(D,N,R,E,k[14],3275163606,9),E=T(E,D,N,R,k[3],4107603335,14),R=T(R,E,D,N,k[8],1163531501,20),N=T(N,R,E,D,k[13],2850285829,5),D=T(D,N,R,E,k[2],4243563512,9),E=T(E,D,N,R,k[7],1735328473,14),R=T(R,E,D,N,k[12],2368359562,20),N=Z(N,R,E,D,k[5],4294588738,4),D=Z(D,N,R,E,k[8],2272392833,11),E=Z(E,D,N,R,k[11],1839030562,16),R=Z(R,E,D,N,k[14],4259657740,23),N=Z(N,R,E,D,k[1],2763975236,4),D=Z(D,N,R,E,k[4],1272893353,11),E=Z(E,D,N,R,k[7],4139469664,16),R=Z(R,E,D,N,k[10],3200236656,23),N=Z(N,R,E,D,k[13],681279174,4),D=Z(D,N,R,E,k[0],3936430074,11),E=Z(E,D,N,R,k[3],3572445317,16),R=Z(R,E,D,N,k[6],76029189,23),N=Z(N,R,E,D,k[9],3654602809,4),D=Z(D,N,R,E,k[12],3873151461,11),E=Z(E,D,N,R,k[15],530742520,16),R=Z(R,E,D,N,k[2],3299628645,23),N=w(N,R,E,D,k[0],4096336452,6),D=w(D,N,R,E,k[7],1126891415,10),E=w(E,D,N,R,k[14],2878612391,15),R=w(R,E,D,N,k[5],4237533241,21),N=w(N,R,E,D,k[12],1700485571,6),D=w(D,N,R,E,k[3],2399980690,10),E=w(E,D,N,R,k[10],4293915773,15),R=w(R,E,D,N,k[1],2240044497,21),N=w(N,R,E,D,k[8],1873313359,6),D=w(D,N,R,E,k[15],4264355552,10),E=w(E,D,N,R,k[6],2734768916,15),R=w(R,E,D,N,k[13],1309151649,21),N=w(N,R,E,D,k[4],4149444226,6),D=w(D,N,R,E,k[11],3174756917,10),E=w(E,D,N,R,k[2],718787259,15),R=w(R,E,D,N,k[9],3951481745,21),this._a=this._a+N|0,this._b=this._b+R|0,this._c=this._c+E|0,this._d=this._d+D|0},Y.prototype._digest=function(){if(this._block[this._blockOffset++]=128,this._blockOffset>56)this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0;this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var k=K.allocUnsafe(16);return k.writeInt32LE(this._a,0),k.writeInt32LE(this._b,4),k.writeInt32LE(this._c,8),k.writeInt32LE(this._d,12),k};function v(k,M){return k<<M|k>>>32-M}function W(k,M,N,R,E,D,h){return v(k+(M&N|~M&R)+E+D|0,h)+M|0}function T(k,M,N,R,E,D,h){return v(k+(M&R|N&~R)+E+D|0,h)+M|0}function Z(k,M,N,R,E,D,h){return v(k+(M^N^R)+E+D|0,h)+M|0}function w(k,M,N,R,E,D,h){return v(k+(N^(M|~R))+E+D|0,h)+M|0}q.exports=Y}),_t=Z$(($,q)=>{var _=Bq().Buffer,P=qt();function K(O,Y,v,W){if(!_.isBuffer(O))O=_.from(O,"binary");if(Y){if(!_.isBuffer(Y))Y=_.from(Y,"binary");if(Y.length!==8)throw RangeError("salt should be Buffer with 8 byte length")}var T=v/8,Z=_.alloc(T),w=_.alloc(W||0),k=_.alloc(0);while(T>0||W>0){var M=new P;if(M.update(k),M.update(O),Y)M.update(Y);k=M.digest();var N=0;if(T>0){var R=Z.length-T;N=Math.min(T,k.length),k.copy(Z,R,0,N),T-=N}if(N<k.length&&W>0){var E=w.length-W,D=Math.min(W,k.length-N);k.copy(w,E,N,N+D),W-=D}}return k.fill(0),{key:Z,iv:w}}q.exports=K}),TE=Z$(($)=>{var q=(tq(),H6(Uq));$.createCipher=$.Cipher=q.createCipher,$.createCipheriv=$.Cipheriv=q.createCipheriv,$.createDecipher=$.Decipher=q.createDecipher,$.createDecipheriv=$.Decipheriv=q.createDecipheriv,$.listCiphers=$.getCiphers=q.getCiphers}),Kt=Z$(($,q)=>{var _=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,P=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,K=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,O=_t(),Y=TE(),v=Bq().Buffer;q.exports=function(W,T){var Z=W.toString(),w=Z.match(_),k;if(!w){var M=Z.match(K);k=v.from(M[2].replace(/[\r\n]/g,""),"base64")}else{var N="aes"+w[1],R=v.from(w[2],"hex"),E=v.from(w[3].replace(/[\r\n]/g,""),"base64"),D=O(T,R.slice(0,8),parseInt(w[1],10)).key,h=[],L=Y.createDecipheriv(N,D,R);h.push(L.update(E)),h.push(L.final()),k=v.concat(h)}var b=Z.match(P)[1];return{tag:b,data:k}}}),wE=Z$(($,q)=>{var _=eU(),P=sU(),K=Kt(),O=TE(),Y=KE().pbkdf2Sync,v=Bq().Buffer;function W(Z,w){var k=Z.algorithm.decrypt.kde.kdeparams.salt,M=parseInt(Z.algorithm.decrypt.kde.kdeparams.iters.toString(),10),N=P[Z.algorithm.decrypt.cipher.algo.join(".")],R=Z.algorithm.decrypt.cipher.iv,E=Z.subjectPrivateKey,D=parseInt(N.split("-")[1],10)/8,h=Y(w,k,M,D,"sha1"),L=O.createDecipheriv(N,h,R),b=[];return b.push(L.update(E)),b.push(L.final()),v.concat(b)}function T(Z){var w;if(typeof Z==="object"&&!v.isBuffer(Z))w=Z.passphrase,Z=Z.key;if(typeof Z==="string")Z=v.from(Z);var k=K(Z,w),M=k.tag,N=k.data,R,E;switch(M){case"CERTIFICATE":E=_.certificate.decode(N,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":if(!E)E=_.PublicKey.decode(N,"der");switch(R=E.algorithm.algorithm.join("."),R){case"1.2.840.113549.1.1.1":return _.RSAPublicKey.decode(E.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return E.subjectPrivateKey=E.subjectPublicKey,{type:"ec",data:E};case"1.2.840.10040.4.1":return E.algorithm.params.pub_key=_.DSAparam.decode(E.subjectPublicKey.data,"der"),{type:"dsa",data:E.algorithm.params};default:throw Error("unknown key id "+R)}case"ENCRYPTED PRIVATE KEY":N=_.EncryptedPrivateKey.decode(N,"der"),N=W(N,w);case"PRIVATE KEY":switch(E=_.PrivateKey.decode(N,"der"),R=E.algorithm.algorithm.join("."),R){case"1.2.840.113549.1.1.1":return _.RSAPrivateKey.decode(E.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:E.algorithm.curve,privateKey:_.ECPrivateKey.decode(E.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return E.algorithm.params.priv_key=_.DSAparam.decode(E.subjectPrivateKey,"der"),{type:"dsa",params:E.algorithm.params};default:throw Error("unknown key id "+R)}case"RSA PUBLIC KEY":return _.RSAPublicKey.decode(N,"der");case"RSA PRIVATE KEY":return _.RSAPrivateKey.decode(N,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_.DSAPrivateKey.decode(N,"der")};case"EC PRIVATE KEY":return N=_.ECPrivateKey.decode(N,"der"),{curve:N.parameters.value,privateKey:N.privateKey};default:throw Error("unknown key type "+M)}}T.signature=_.signature,q.exports=T}),ZE=Z$(($,q)=>{var _=EY(),P=Bq().Buffer;q.exports=function(O,Y){var v=P.alloc(0),W=0,T;while(v.length<Y)T=K(W++),v=P.concat([v,_("sha1").update(O).update(T).digest()]);return v.slice(0,Y)};function K(O){var Y=P.allocUnsafe(4);return Y.writeUInt32BE(O,0),Y}}),fE=Z$(($,q)=>{q.exports=function(_,P){var K=_.length,O=-1;while(++O<K)_[O]^=P[O];return _}}),Lw=Z$(($,q)=>{(function(_,P){function K(j,J){if(!j)throw Error(J||"Assertion failed")}function O(j,J){j.super_=J;var X=function(){};X.prototype=J.prototype,j.prototype=new X,j.prototype.constructor=j}function Y(j,J,X){if(Y.isBN(j))return j;if(this.negative=0,this.words=null,this.length=0,this.red=null,j!==null){if(J==="le"||J==="be")X=J,J=10;this._init(j||0,J||10,X||"be")}}if(typeof _==="object")_.exports=Y;else P.BN=Y;Y.BN=Y,Y.wordSize=26;var v;try{if(typeof window<"u"&&typeof window.Buffer<"u")v=window.Buffer;else v=(Xq(),H6(fq)).Buffer}catch(j){}Y.isBN=function(j){if(j instanceof Y)return!0;return j!==null&&typeof j==="object"&&j.constructor.wordSize===Y.wordSize&&Array.isArray(j.words)},Y.max=function(j,J){if(j.cmp(J)>0)return j;return J},Y.min=function(j,J){if(j.cmp(J)<0)return j;return J},Y.prototype._init=function(j,J,X){if(typeof j==="number")return this._initNumber(j,J,X);if(typeof j==="object")return this._initArray(j,J,X);if(J==="hex")J=16;K(J===(J|0)&&J>=2&&J<=36),j=j.toString().replace(/\s+/g,"");var H=0;if(j[0]==="-")H++,this.negative=1;if(H<j.length){if(J===16)this._parseHex(j,H,X);else if(this._parseBase(j,J,H),X==="le")this._initArray(this.toArray(),J,X)}},Y.prototype._initNumber=function(j,J,X){if(j<0)this.negative=1,j=-j;if(j<67108864)this.words=[j&67108863],this.length=1;else if(j<4503599627370496)this.words=[j&67108863,j/67108864&67108863],this.length=2;else K(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3;if(X!=="le")return;this._initArray(this.toArray(),J,X)},Y.prototype._initArray=function(j,J,X){if(K(typeof j.length==="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var f,V,S=0;if(X==="be"){for(H=j.length-1,f=0;H>=0;H-=3)if(V=j[H]|j[H-1]<<8|j[H-2]<<16,this.words[f]|=V<<S&67108863,this.words[f+1]=V>>>26-S&67108863,S+=24,S>=26)S-=26,f++}else if(X==="le"){for(H=0,f=0;H<j.length;H+=3)if(V=j[H]|j[H+1]<<8|j[H+2]<<16,this.words[f]|=V<<S&67108863,this.words[f+1]=V>>>26-S&67108863,S+=24,S>=26)S-=26,f++}return this.strip()};function W(j,J){var X=j.charCodeAt(J);if(X>=65&&X<=70)return X-55;else if(X>=97&&X<=102)return X-87;else return X-48&15}function T(j,J,X){var H=W(j,X);if(X-1>=J)H|=W(j,X-1)<<4;return H}Y.prototype._parseHex=function(j,J,X){this.length=Math.ceil((j.length-J)/6),this.words=Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var f=0,V=0,S;if(X==="be")for(H=j.length-1;H>=J;H-=2)if(S=T(j,J,H)<<f,this.words[V]|=S&67108863,f>=18)f-=18,V+=1,this.words[V]|=S>>>26;else f+=8;else{var A=j.length-J;for(H=A%2===0?J+1:J;H<j.length;H+=2)if(S=T(j,J,H)<<f,this.words[V]|=S&67108863,f>=18)f-=18,V+=1,this.words[V]|=S>>>26;else f+=8}this.strip()};function Z(j,J,X,H){var f=0,V=Math.min(j.length,X);for(var S=J;S<V;S++){var A=j.charCodeAt(S)-48;if(f*=H,A>=49)f+=A-49+10;else if(A>=17)f+=A-17+10;else f+=A}return f}Y.prototype._parseBase=function(j,J,X){this.words=[0],this.length=1;for(var H=0,f=1;f<=67108863;f*=J)H++;H--,f=f/J|0;var V=j.length-X,S=V%H,A=Math.min(V,V-S)+X,z=0;for(var G=X;G<A;G+=H)if(z=Z(j,G,G+H,J),this.imuln(f),this.words[0]+z<67108864)this.words[0]+=z;else this._iaddn(z);if(S!==0){var I=1;z=Z(j,G,j.length,J);for(G=0;G<S;G++)I*=J;if(this.imuln(I),this.words[0]+z<67108864)this.words[0]+=z;else this._iaddn(z)}this.strip()},Y.prototype.copy=function(j){j.words=Array(this.length);for(var J=0;J<this.length;J++)j.words[J]=this.words[J];j.length=this.length,j.negative=this.negative,j.red=this.red},Y.prototype.clone=function(){var j=new Y(null);return this.copy(j),j},Y.prototype._expand=function(j){while(this.length<j)this.words[this.length++]=0;return this},Y.prototype.strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},Y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(j,J){j=j||10,J=J|0||1;var X;if(j===16||j==="hex"){X="";var H=0,f=0;for(var V=0;V<this.length;V++){var S=this.words[V],A=((S<<H|f)&16777215).toString(16);if(f=S>>>24-H&16777215,H+=2,H>=26)H-=26,V--;if(f!==0||V!==this.length-1)X=w[6-A.length]+A+X;else X=A+X}if(f!==0)X=f.toString(16)+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}if(j===(j|0)&&j>=2&&j<=36){var z=k[j],G=M[j];X="";var I=this.clone();I.negative=0;while(!I.isZero()){var C=I.modn(G).toString(j);if(I=I.idivn(G),!I.isZero())X=w[z-C.length]+C+X;else X=C+X}if(this.isZero())X="0"+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}K(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var j=this.words[0];if(this.length===2)j+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)j+=4503599627370496+this.words[1]*67108864;else if(this.length>2)K(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-j:j},Y.prototype.toJSON=function(){return this.toString(16)},Y.prototype.toBuffer=function(j,J){return K(typeof v<"u"),this.toArrayLike(v,j,J)},Y.prototype.toArray=function(j,J){return this.toArrayLike(Array,j,J)},Y.prototype.toArrayLike=function(j,J,X){var H=this.byteLength(),f=X||Math.max(1,H);K(H<=f,"byte array longer than desired length"),K(f>0,"Requested array length <= 0"),this.strip();var V=J==="le",S=new j(f),A,z,G=this.clone();if(!V){for(z=0;z<f-H;z++)S[z]=0;for(z=0;!G.isZero();z++)A=G.andln(255),G.iushrn(8),S[f-z-1]=A}else{for(z=0;!G.isZero();z++)A=G.andln(255),G.iushrn(8),S[z]=A;for(;z<f;z++)S[z]=0}return S},Math.clz32)Y.prototype._countBits=function(j){return 32-Math.clz32(j)};else Y.prototype._countBits=function(j){var J=j,X=0;if(J>=4096)X+=13,J>>>=13;if(J>=64)X+=7,J>>>=7;if(J>=8)X+=4,J>>>=4;if(J>=2)X+=2,J>>>=2;return X+J};Y.prototype._zeroBits=function(j){if(j===0)return 26;var J=j,X=0;if((J&8191)===0)X+=13,J>>>=13;if((J&127)===0)X+=7,J>>>=7;if((J&15)===0)X+=4,J>>>=4;if((J&3)===0)X+=2,J>>>=2;if((J&1)===0)X++;return X},Y.prototype.bitLength=function(){var j=this.words[this.length-1],J=this._countBits(j);return(this.length-1)*26+J};function N(j){var J=Array(j.bitLength());for(var X=0;X<J.length;X++){var H=X/26|0,f=X%26;J[X]=(j.words[H]&1<<f)>>>f}return J}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var j=0;for(var J=0;J<this.length;J++){var X=this._zeroBits(this.words[J]);if(j+=X,X!==26)break}return j},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(j){if(this.negative!==0)return this.abs().inotn(j).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(j){if(this.testn(j-1))return this.notn(j).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(j){while(this.length<j.length)this.words[this.length++]=0;for(var J=0;J<j.length;J++)this.words[J]=this.words[J]|j.words[J];return this.strip()},Y.prototype.ior=function(j){return K((this.negative|j.negative)===0),this.iuor(j)},Y.prototype.or=function(j){if(this.length>j.length)return this.clone().ior(j);return j.clone().ior(this)},Y.prototype.uor=function(j){if(this.length>j.length)return this.clone().iuor(j);return j.clone().iuor(this)},Y.prototype.iuand=function(j){var J;if(this.length>j.length)J=j;else J=this;for(var X=0;X<J.length;X++)this.words[X]=this.words[X]&j.words[X];return this.length=J.length,this.strip()},Y.prototype.iand=function(j){return K((this.negative|j.negative)===0),this.iuand(j)},Y.prototype.and=function(j){if(this.length>j.length)return this.clone().iand(j);return j.clone().iand(this)},Y.prototype.uand=function(j){if(this.length>j.length)return this.clone().iuand(j);return j.clone().iuand(this)},Y.prototype.iuxor=function(j){var J,X;if(this.length>j.length)J=this,X=j;else J=j,X=this;for(var H=0;H<X.length;H++)this.words[H]=J.words[H]^X.words[H];if(this!==J)for(;H<J.length;H++)this.words[H]=J.words[H];return this.length=J.length,this.strip()},Y.prototype.ixor=function(j){return K((this.negative|j.negative)===0),this.iuxor(j)},Y.prototype.xor=function(j){if(this.length>j.length)return this.clone().ixor(j);return j.clone().ixor(this)},Y.prototype.uxor=function(j){if(this.length>j.length)return this.clone().iuxor(j);return j.clone().iuxor(this)},Y.prototype.inotn=function(j){K(typeof j==="number"&&j>=0);var J=Math.ceil(j/26)|0,X=j%26;if(this._expand(J),X>0)J--;for(var H=0;H<J;H++)this.words[H]=~this.words[H]&67108863;if(X>0)this.words[H]=~this.words[H]&67108863>>26-X;return this.strip()},Y.prototype.notn=function(j){return this.clone().inotn(j)},Y.prototype.setn=function(j,J){K(typeof j==="number"&&j>=0);var X=j/26|0,H=j%26;if(this._expand(X+1),J)this.words[X]=this.words[X]|1<<H;else this.words[X]=this.words[X]&~(1<<H);return this.strip()},Y.prototype.iadd=function(j){var J;if(this.negative!==0&&j.negative===0)return this.negative=0,J=this.isub(j),this.negative^=1,this._normSign();else if(this.negative===0&&j.negative!==0)return j.negative=0,J=this.isub(j),j.negative=1,J._normSign();var X,H;if(this.length>j.length)X=this,H=j;else X=j,H=this;var f=0;for(var V=0;V<H.length;V++)J=(X.words[V]|0)+(H.words[V]|0)+f,this.words[V]=J&67108863,f=J>>>26;for(;f!==0&&V<X.length;V++)J=(X.words[V]|0)+f,this.words[V]=J&67108863,f=J>>>26;if(this.length=X.length,f!==0)this.words[this.length]=f,this.length++;else if(X!==this)for(;V<X.length;V++)this.words[V]=X.words[V];return this},Y.prototype.add=function(j){var J;if(j.negative!==0&&this.negative===0)return j.negative=0,J=this.sub(j),j.negative^=1,J;else if(j.negative===0&&this.negative!==0)return this.negative=0,J=j.sub(this),this.negative=1,J;if(this.length>j.length)return this.clone().iadd(j);return j.clone().iadd(this)},Y.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var J=this.iadd(j);return j.negative=1,J._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var X=this.cmp(j);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,f;if(X>0)H=this,f=j;else H=j,f=this;var V=0;for(var S=0;S<f.length;S++)J=(H.words[S]|0)-(f.words[S]|0)+V,V=J>>26,this.words[S]=J&67108863;for(;V!==0&&S<H.length;S++)J=(H.words[S]|0)+V,V=J>>26,this.words[S]=J&67108863;if(V===0&&S<H.length&&H!==this)for(;S<H.length;S++)this.words[S]=H.words[S];if(this.length=Math.max(this.length,S),H!==this)this.negative=1;return this.strip()},Y.prototype.sub=function(j){return this.clone().isub(j)};function R(j,J,X){X.negative=J.negative^j.negative;var H=j.length+J.length|0;X.length=H,H=H-1|0;var f=j.words[0]|0,V=J.words[0]|0,S=f*V,A=S&67108863,z=S/67108864|0;X.words[0]=A;for(var G=1;G<H;G++){var I=z>>>26,C=z&67108863,g=Math.min(G,J.length-1);for(var x=Math.max(0,G-j.length+1);x<=g;x++){var l=G-x|0;f=j.words[l]|0,V=J.words[x]|0,S=f*V+C,I+=S/67108864|0,C=S&67108863}X.words[G]=C|0,z=I|0}if(z!==0)X.words[G]=z|0;else X.length--;return X.strip()}var E=function(j,J,X){var H=j.words,f=J.words,V=X.words,S=0,A,z,G,I=H[0]|0,C=I&8191,g=I>>>13,x=H[1]|0,l=x&8191,o=x>>>13,T$=H[2]|0,e=T$&8191,n=T$>>>13,j$=H[3]|0,s=j$&8191,P$=j$>>>13,n$=H[4]|0,m=n$&8191,r=n$>>>13,W$=H[5]|0,q$=W$&8191,_$=W$>>>13,v$=H[6]|0,d=v$&8191,B=v$>>>13,H$=H[7]|0,t=H$&8191,F=H$>>>13,A$=H[8]|0,J$=A$&8191,z$=A$>>>13,G6=H[9]|0,X$=G6&8191,k$=G6>>>13,B6=f[0]|0,M$=B6&8191,S$=B6>>>13,Cq=f[1]|0,E$=Cq&8191,g$=Cq>>>13,Eq=f[2]|0,b$=Eq&8191,R$=Eq>>>13,Aq=f[3]|0,y$=Aq&8191,I$=Aq>>>13,Hq=f[4]|0,u$=Hq&8191,x$=Hq>>>13,Tq=f[5]|0,h$=Tq&8191,u=Tq>>>13,U=f[6]|0,K$=U&8191,O$=U>>>13,t$=f[7]|0,G$=t$&8191,V$=t$>>>13,d6=f[8]|0,D$=d6&8191,p$=d6>>>13,kq=f[9]|0,L$=kq&8191,C$=kq>>>13;X.negative=j.negative^J.negative,X.length=19,A=Math.imul(C,M$),z=Math.imul(C,S$),z=z+Math.imul(g,M$)|0,G=Math.imul(g,S$);var l6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(l6>>>26)|0,l6&=67108863,A=Math.imul(l,M$),z=Math.imul(l,S$),z=z+Math.imul(o,M$)|0,G=Math.imul(o,S$),A=A+Math.imul(C,E$)|0,z=z+Math.imul(C,g$)|0,z=z+Math.imul(g,E$)|0,G=G+Math.imul(g,g$)|0;var w6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(w6>>>26)|0,w6&=67108863,A=Math.imul(e,M$),z=Math.imul(e,S$),z=z+Math.imul(n,M$)|0,G=Math.imul(n,S$),A=A+Math.imul(l,E$)|0,z=z+Math.imul(l,g$)|0,z=z+Math.imul(o,E$)|0,G=G+Math.imul(o,g$)|0,A=A+Math.imul(C,b$)|0,z=z+Math.imul(C,R$)|0,z=z+Math.imul(g,b$)|0,G=G+Math.imul(g,R$)|0;var z6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(z6>>>26)|0,z6&=67108863,A=Math.imul(s,M$),z=Math.imul(s,S$),z=z+Math.imul(P$,M$)|0,G=Math.imul(P$,S$),A=A+Math.imul(e,E$)|0,z=z+Math.imul(e,g$)|0,z=z+Math.imul(n,E$)|0,G=G+Math.imul(n,g$)|0,A=A+Math.imul(l,b$)|0,z=z+Math.imul(l,R$)|0,z=z+Math.imul(o,b$)|0,G=G+Math.imul(o,R$)|0,A=A+Math.imul(C,y$)|0,z=z+Math.imul(C,I$)|0,z=z+Math.imul(g,y$)|0,G=G+Math.imul(g,I$)|0;var D6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(D6>>>26)|0,D6&=67108863,A=Math.imul(m,M$),z=Math.imul(m,S$),z=z+Math.imul(r,M$)|0,G=Math.imul(r,S$),A=A+Math.imul(s,E$)|0,z=z+Math.imul(s,g$)|0,z=z+Math.imul(P$,E$)|0,G=G+Math.imul(P$,g$)|0,A=A+Math.imul(e,b$)|0,z=z+Math.imul(e,R$)|0,z=z+Math.imul(n,b$)|0,G=G+Math.imul(n,R$)|0,A=A+Math.imul(l,y$)|0,z=z+Math.imul(l,I$)|0,z=z+Math.imul(o,y$)|0,G=G+Math.imul(o,I$)|0,A=A+Math.imul(C,u$)|0,z=z+Math.imul(C,x$)|0,z=z+Math.imul(g,u$)|0,G=G+Math.imul(g,x$)|0;var E6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(E6>>>26)|0,E6&=67108863,A=Math.imul(q$,M$),z=Math.imul(q$,S$),z=z+Math.imul(_$,M$)|0,G=Math.imul(_$,S$),A=A+Math.imul(m,E$)|0,z=z+Math.imul(m,g$)|0,z=z+Math.imul(r,E$)|0,G=G+Math.imul(r,g$)|0,A=A+Math.imul(s,b$)|0,z=z+Math.imul(s,R$)|0,z=z+Math.imul(P$,b$)|0,G=G+Math.imul(P$,R$)|0,A=A+Math.imul(e,y$)|0,z=z+Math.imul(e,I$)|0,z=z+Math.imul(n,y$)|0,G=G+Math.imul(n,I$)|0,A=A+Math.imul(l,u$)|0,z=z+Math.imul(l,x$)|0,z=z+Math.imul(o,u$)|0,G=G+Math.imul(o,x$)|0,A=A+Math.imul(C,h$)|0,z=z+Math.imul(C,u)|0,z=z+Math.imul(g,h$)|0,G=G+Math.imul(g,u)|0;var Q6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,A=Math.imul(d,M$),z=Math.imul(d,S$),z=z+Math.imul(B,M$)|0,G=Math.imul(B,S$),A=A+Math.imul(q$,E$)|0,z=z+Math.imul(q$,g$)|0,z=z+Math.imul(_$,E$)|0,G=G+Math.imul(_$,g$)|0,A=A+Math.imul(m,b$)|0,z=z+Math.imul(m,R$)|0,z=z+Math.imul(r,b$)|0,G=G+Math.imul(r,R$)|0,A=A+Math.imul(s,y$)|0,z=z+Math.imul(s,I$)|0,z=z+Math.imul(P$,y$)|0,G=G+Math.imul(P$,I$)|0,A=A+Math.imul(e,u$)|0,z=z+Math.imul(e,x$)|0,z=z+Math.imul(n,u$)|0,G=G+Math.imul(n,x$)|0,A=A+Math.imul(l,h$)|0,z=z+Math.imul(l,u)|0,z=z+Math.imul(o,h$)|0,G=G+Math.imul(o,u)|0,A=A+Math.imul(C,K$)|0,z=z+Math.imul(C,O$)|0,z=z+Math.imul(g,K$)|0,G=G+Math.imul(g,O$)|0;var a6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(a6>>>26)|0,a6&=67108863,A=Math.imul(t,M$),z=Math.imul(t,S$),z=z+Math.imul(F,M$)|0,G=Math.imul(F,S$),A=A+Math.imul(d,E$)|0,z=z+Math.imul(d,g$)|0,z=z+Math.imul(B,E$)|0,G=G+Math.imul(B,g$)|0,A=A+Math.imul(q$,b$)|0,z=z+Math.imul(q$,R$)|0,z=z+Math.imul(_$,b$)|0,G=G+Math.imul(_$,R$)|0,A=A+Math.imul(m,y$)|0,z=z+Math.imul(m,I$)|0,z=z+Math.imul(r,y$)|0,G=G+Math.imul(r,I$)|0,A=A+Math.imul(s,u$)|0,z=z+Math.imul(s,x$)|0,z=z+Math.imul(P$,u$)|0,G=G+Math.imul(P$,x$)|0,A=A+Math.imul(e,h$)|0,z=z+Math.imul(e,u)|0,z=z+Math.imul(n,h$)|0,G=G+Math.imul(n,u)|0,A=A+Math.imul(l,K$)|0,z=z+Math.imul(l,O$)|0,z=z+Math.imul(o,K$)|0,G=G+Math.imul(o,O$)|0,A=A+Math.imul(C,G$)|0,z=z+Math.imul(C,V$)|0,z=z+Math.imul(g,G$)|0,G=G+Math.imul(g,V$)|0;var e6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(e6>>>26)|0,e6&=67108863,A=Math.imul(J$,M$),z=Math.imul(J$,S$),z=z+Math.imul(z$,M$)|0,G=Math.imul(z$,S$),A=A+Math.imul(t,E$)|0,z=z+Math.imul(t,g$)|0,z=z+Math.imul(F,E$)|0,G=G+Math.imul(F,g$)|0,A=A+Math.imul(d,b$)|0,z=z+Math.imul(d,R$)|0,z=z+Math.imul(B,b$)|0,G=G+Math.imul(B,R$)|0,A=A+Math.imul(q$,y$)|0,z=z+Math.imul(q$,I$)|0,z=z+Math.imul(_$,y$)|0,G=G+Math.imul(_$,I$)|0,A=A+Math.imul(m,u$)|0,z=z+Math.imul(m,x$)|0,z=z+Math.imul(r,u$)|0,G=G+Math.imul(r,x$)|0,A=A+Math.imul(s,h$)|0,z=z+Math.imul(s,u)|0,z=z+Math.imul(P$,h$)|0,G=G+Math.imul(P$,u)|0,A=A+Math.imul(e,K$)|0,z=z+Math.imul(e,O$)|0,z=z+Math.imul(n,K$)|0,G=G+Math.imul(n,O$)|0,A=A+Math.imul(l,G$)|0,z=z+Math.imul(l,V$)|0,z=z+Math.imul(o,G$)|0,G=G+Math.imul(o,V$)|0,A=A+Math.imul(C,D$)|0,z=z+Math.imul(C,p$)|0,z=z+Math.imul(g,D$)|0,G=G+Math.imul(g,p$)|0;var s6=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(s6>>>26)|0,s6&=67108863,A=Math.imul(X$,M$),z=Math.imul(X$,S$),z=z+Math.imul(k$,M$)|0,G=Math.imul(k$,S$),A=A+Math.imul(J$,E$)|0,z=z+Math.imul(J$,g$)|0,z=z+Math.imul(z$,E$)|0,G=G+Math.imul(z$,g$)|0,A=A+Math.imul(t,b$)|0,z=z+Math.imul(t,R$)|0,z=z+Math.imul(F,b$)|0,G=G+Math.imul(F,R$)|0,A=A+Math.imul(d,y$)|0,z=z+Math.imul(d,I$)|0,z=z+Math.imul(B,y$)|0,G=G+Math.imul(B,I$)|0,A=A+Math.imul(q$,u$)|0,z=z+Math.imul(q$,x$)|0,z=z+Math.imul(_$,u$)|0,G=G+Math.imul(_$,x$)|0,A=A+Math.imul(m,h$)|0,z=z+Math.imul(m,u)|0,z=z+Math.imul(r,h$)|0,G=G+Math.imul(r,u)|0,A=A+Math.imul(s,K$)|0,z=z+Math.imul(s,O$)|0,z=z+Math.imul(P$,K$)|0,G=G+Math.imul(P$,O$)|0,A=A+Math.imul(e,G$)|0,z=z+Math.imul(e,V$)|0,z=z+Math.imul(n,G$)|0,G=G+Math.imul(n,V$)|0,A=A+Math.imul(l,D$)|0,z=z+Math.imul(l,p$)|0,z=z+Math.imul(o,D$)|0,G=G+Math.imul(o,p$)|0,A=A+Math.imul(C,L$)|0,z=z+Math.imul(C,C$)|0,z=z+Math.imul(g,L$)|0,G=G+Math.imul(g,C$)|0;var $q=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+($q>>>26)|0,$q&=67108863,A=Math.imul(X$,E$),z=Math.imul(X$,g$),z=z+Math.imul(k$,E$)|0,G=Math.imul(k$,g$),A=A+Math.imul(J$,b$)|0,z=z+Math.imul(J$,R$)|0,z=z+Math.imul(z$,b$)|0,G=G+Math.imul(z$,R$)|0,A=A+Math.imul(t,y$)|0,z=z+Math.imul(t,I$)|0,z=z+Math.imul(F,y$)|0,G=G+Math.imul(F,I$)|0,A=A+Math.imul(d,u$)|0,z=z+Math.imul(d,x$)|0,z=z+Math.imul(B,u$)|0,G=G+Math.imul(B,x$)|0,A=A+Math.imul(q$,h$)|0,z=z+Math.imul(q$,u)|0,z=z+Math.imul(_$,h$)|0,G=G+Math.imul(_$,u)|0,A=A+Math.imul(m,K$)|0,z=z+Math.imul(m,O$)|0,z=z+Math.imul(r,K$)|0,G=G+Math.imul(r,O$)|0,A=A+Math.imul(s,G$)|0,z=z+Math.imul(s,V$)|0,z=z+Math.imul(P$,G$)|0,G=G+Math.imul(P$,V$)|0,A=A+Math.imul(e,D$)|0,z=z+Math.imul(e,p$)|0,z=z+Math.imul(n,D$)|0,G=G+Math.imul(n,p$)|0,A=A+Math.imul(l,L$)|0,z=z+Math.imul(l,C$)|0,z=z+Math.imul(o,L$)|0,G=G+Math.imul(o,C$)|0;var qq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(qq>>>26)|0,qq&=67108863,A=Math.imul(X$,b$),z=Math.imul(X$,R$),z=z+Math.imul(k$,b$)|0,G=Math.imul(k$,R$),A=A+Math.imul(J$,y$)|0,z=z+Math.imul(J$,I$)|0,z=z+Math.imul(z$,y$)|0,G=G+Math.imul(z$,I$)|0,A=A+Math.imul(t,u$)|0,z=z+Math.imul(t,x$)|0,z=z+Math.imul(F,u$)|0,G=G+Math.imul(F,x$)|0,A=A+Math.imul(d,h$)|0,z=z+Math.imul(d,u)|0,z=z+Math.imul(B,h$)|0,G=G+Math.imul(B,u)|0,A=A+Math.imul(q$,K$)|0,z=z+Math.imul(q$,O$)|0,z=z+Math.imul(_$,K$)|0,G=G+Math.imul(_$,O$)|0,A=A+Math.imul(m,G$)|0,z=z+Math.imul(m,V$)|0,z=z+Math.imul(r,G$)|0,G=G+Math.imul(r,V$)|0,A=A+Math.imul(s,D$)|0,z=z+Math.imul(s,p$)|0,z=z+Math.imul(P$,D$)|0,G=G+Math.imul(P$,p$)|0,A=A+Math.imul(e,L$)|0,z=z+Math.imul(e,C$)|0,z=z+Math.imul(n,L$)|0,G=G+Math.imul(n,C$)|0;var _q=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(_q>>>26)|0,_q&=67108863,A=Math.imul(X$,y$),z=Math.imul(X$,I$),z=z+Math.imul(k$,y$)|0,G=Math.imul(k$,I$),A=A+Math.imul(J$,u$)|0,z=z+Math.imul(J$,x$)|0,z=z+Math.imul(z$,u$)|0,G=G+Math.imul(z$,x$)|0,A=A+Math.imul(t,h$)|0,z=z+Math.imul(t,u)|0,z=z+Math.imul(F,h$)|0,G=G+Math.imul(F,u)|0,A=A+Math.imul(d,K$)|0,z=z+Math.imul(d,O$)|0,z=z+Math.imul(B,K$)|0,G=G+Math.imul(B,O$)|0,A=A+Math.imul(q$,G$)|0,z=z+Math.imul(q$,V$)|0,z=z+Math.imul(_$,G$)|0,G=G+Math.imul(_$,V$)|0,A=A+Math.imul(m,D$)|0,z=z+Math.imul(m,p$)|0,z=z+Math.imul(r,D$)|0,G=G+Math.imul(r,p$)|0,A=A+Math.imul(s,L$)|0,z=z+Math.imul(s,C$)|0,z=z+Math.imul(P$,L$)|0,G=G+Math.imul(P$,C$)|0;var Kq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,A=Math.imul(X$,u$),z=Math.imul(X$,x$),z=z+Math.imul(k$,u$)|0,G=Math.imul(k$,x$),A=A+Math.imul(J$,h$)|0,z=z+Math.imul(J$,u)|0,z=z+Math.imul(z$,h$)|0,G=G+Math.imul(z$,u)|0,A=A+Math.imul(t,K$)|0,z=z+Math.imul(t,O$)|0,z=z+Math.imul(F,K$)|0,G=G+Math.imul(F,O$)|0,A=A+Math.imul(d,G$)|0,z=z+Math.imul(d,V$)|0,z=z+Math.imul(B,G$)|0,G=G+Math.imul(B,V$)|0,A=A+Math.imul(q$,D$)|0,z=z+Math.imul(q$,p$)|0,z=z+Math.imul(_$,D$)|0,G=G+Math.imul(_$,p$)|0,A=A+Math.imul(m,L$)|0,z=z+Math.imul(m,C$)|0,z=z+Math.imul(r,L$)|0,G=G+Math.imul(r,C$)|0;var Pq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,A=Math.imul(X$,h$),z=Math.imul(X$,u),z=z+Math.imul(k$,h$)|0,G=Math.imul(k$,u),A=A+Math.imul(J$,K$)|0,z=z+Math.imul(J$,O$)|0,z=z+Math.imul(z$,K$)|0,G=G+Math.imul(z$,O$)|0,A=A+Math.imul(t,G$)|0,z=z+Math.imul(t,V$)|0,z=z+Math.imul(F,G$)|0,G=G+Math.imul(F,V$)|0,A=A+Math.imul(d,D$)|0,z=z+Math.imul(d,p$)|0,z=z+Math.imul(B,D$)|0,G=G+Math.imul(B,p$)|0,A=A+Math.imul(q$,L$)|0,z=z+Math.imul(q$,C$)|0,z=z+Math.imul(_$,L$)|0,G=G+Math.imul(_$,C$)|0;var Yq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,A=Math.imul(X$,K$),z=Math.imul(X$,O$),z=z+Math.imul(k$,K$)|0,G=Math.imul(k$,O$),A=A+Math.imul(J$,G$)|0,z=z+Math.imul(J$,V$)|0,z=z+Math.imul(z$,G$)|0,G=G+Math.imul(z$,V$)|0,A=A+Math.imul(t,D$)|0,z=z+Math.imul(t,p$)|0,z=z+Math.imul(F,D$)|0,G=G+Math.imul(F,p$)|0,A=A+Math.imul(d,L$)|0,z=z+Math.imul(d,C$)|0,z=z+Math.imul(B,L$)|0,G=G+Math.imul(B,C$)|0;var Oq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,A=Math.imul(X$,G$),z=Math.imul(X$,V$),z=z+Math.imul(k$,G$)|0,G=Math.imul(k$,V$),A=A+Math.imul(J$,D$)|0,z=z+Math.imul(J$,p$)|0,z=z+Math.imul(z$,D$)|0,G=G+Math.imul(z$,p$)|0,A=A+Math.imul(t,L$)|0,z=z+Math.imul(t,C$)|0,z=z+Math.imul(F,L$)|0,G=G+Math.imul(F,C$)|0;var jq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(jq>>>26)|0,jq&=67108863,A=Math.imul(X$,D$),z=Math.imul(X$,p$),z=z+Math.imul(k$,D$)|0,G=Math.imul(k$,p$),A=A+Math.imul(J$,L$)|0,z=z+Math.imul(J$,C$)|0,z=z+Math.imul(z$,L$)|0,G=G+Math.imul(z$,C$)|0;var vq=(S+A|0)+((z&8191)<<13)|0;S=(G+(z>>>13)|0)+(vq>>>26)|0,vq&=67108863,A=Math.imul(X$,L$),z=Math.imul(X$,C$),z=z+Math.imul(k$,L$)|0,G=Math.imul(k$,C$);var zq=(S+A|0)+((z&8191)<<13)|0;if(S=(G+(z>>>13)|0)+(zq>>>26)|0,zq&=67108863,V[0]=l6,V[1]=w6,V[2]=z6,V[3]=D6,V[4]=E6,V[5]=Q6,V[6]=a6,V[7]=e6,V[8]=s6,V[9]=$q,V[10]=qq,V[11]=_q,V[12]=Kq,V[13]=Pq,V[14]=Yq,V[15]=Oq,V[16]=jq,V[17]=vq,V[18]=zq,S!==0)V[19]=S,X.length++;return X};if(!Math.imul)E=R;function D(j,J,X){X.negative=J.negative^j.negative,X.length=j.length+J.length;var H=0,f=0;for(var V=0;V<X.length-1;V++){var S=f;f=0;var A=H&67108863,z=Math.min(V,J.length-1);for(var G=Math.max(0,V-j.length+1);G<=z;G++){var I=V-G,C=j.words[I]|0,g=J.words[G]|0,x=C*g,l=x&67108863;S=S+(x/67108864|0)|0,l=l+A|0,A=l&67108863,S=S+(l>>>26)|0,f+=S>>>26,S&=67108863}X.words[V]=A,H=S,S=f}if(H!==0)X.words[V]=H;else X.length--;return X.strip()}function h(j,J,X){var H=new L;return H.mulp(j,J,X)}Y.prototype.mulTo=function(j,J){var X,H=this.length+j.length;if(this.length===10&&j.length===10)X=E(this,j,J);else if(H<63)X=R(this,j,J);else if(H<1024)X=D(this,j,J);else X=h(this,j,J);return X};function L(j,J){this.x=j,this.y=J}L.prototype.makeRBT=function(j){var J=Array(j),X=Y.prototype._countBits(j)-1;for(var H=0;H<j;H++)J[H]=this.revBin(H,X,j);return J},L.prototype.revBin=function(j,J,X){if(j===0||j===X-1)return j;var H=0;for(var f=0;f<J;f++)H|=(j&1)<<J-f-1,j>>=1;return H},L.prototype.permute=function(j,J,X,H,f,V){for(var S=0;S<V;S++)H[S]=J[j[S]],f[S]=X[j[S]]},L.prototype.transform=function(j,J,X,H,f,V){this.permute(V,j,J,X,H,f);for(var S=1;S<f;S<<=1){var A=S<<1,z=Math.cos(2*Math.PI/A),G=Math.sin(2*Math.PI/A);for(var I=0;I<f;I+=A){var C=z,g=G;for(var x=0;x<S;x++){var l=X[I+x],o=H[I+x],T$=X[I+x+S],e=H[I+x+S],n=C*T$-g*e;if(e=C*e+g*T$,T$=n,X[I+x]=l+T$,H[I+x]=o+e,X[I+x+S]=l-T$,H[I+x+S]=o-e,x!==A)n=z*C-G*g,g=z*g+G*C,C=n}}}},L.prototype.guessLen13b=function(j,J){var X=Math.max(J,j)|1,H=X&1,f=0;for(X=X/2|0;X;X=X>>>1)f++;return 1<<f+1+H},L.prototype.conjugate=function(j,J,X){if(X<=1)return;for(var H=0;H<X/2;H++){var f=j[H];j[H]=j[X-H-1],j[X-H-1]=f,f=J[H],J[H]=-J[X-H-1],J[X-H-1]=-f}},L.prototype.normalize13b=function(j,J){var X=0;for(var H=0;H<J/2;H++){var f=Math.round(j[2*H+1]/J)*8192+Math.round(j[2*H]/J)+X;if(j[H]=f&67108863,f<67108864)X=0;else X=f/67108864|0}return j},L.prototype.convert13b=function(j,J,X,H){var f=0;for(var V=0;V<J;V++)f=f+(j[V]|0),X[2*V]=f&8191,f=f>>>13,X[2*V+1]=f&8191,f=f>>>13;for(V=2*J;V<H;++V)X[V]=0;K(f===0),K((f&-8192)===0)},L.prototype.stub=function(j){var J=Array(j);for(var X=0;X<j;X++)J[X]=0;return J},L.prototype.mulp=function(j,J,X){var H=2*this.guessLen13b(j.length,J.length),f=this.makeRBT(H),V=this.stub(H),S=Array(H),A=Array(H),z=Array(H),G=Array(H),I=Array(H),C=Array(H),g=X.words;g.length=H,this.convert13b(j.words,j.length,S,H),this.convert13b(J.words,J.length,G,H),this.transform(S,V,A,z,H,f),this.transform(G,V,I,C,H,f);for(var x=0;x<H;x++){var l=A[x]*I[x]-z[x]*C[x];z[x]=A[x]*C[x]+z[x]*I[x],A[x]=l}return this.conjugate(A,z,H),this.transform(A,z,g,V,H,f),this.conjugate(g,V,H),this.normalize13b(g,H),X.negative=j.negative^J.negative,X.length=j.length+J.length,X.strip()},Y.prototype.mul=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),this.mulTo(j,J)},Y.prototype.mulf=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),h(this,j,J)},Y.prototype.imul=function(j){return this.clone().mulTo(j,this)},Y.prototype.imuln=function(j){K(typeof j==="number"),K(j<67108864);var J=0;for(var X=0;X<this.length;X++){var H=(this.words[X]|0)*j,f=(H&67108863)+(J&67108863);J>>=26,J+=H/67108864|0,J+=f>>>26,this.words[X]=f&67108863}if(J!==0)this.words[X]=J,this.length++;return this.length=j===0?1:this.length,this},Y.prototype.muln=function(j){return this.clone().imuln(j)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(j){var J=N(j);if(J.length===0)return new Y(1);var X=this;for(var H=0;H<J.length;H++,X=X.sqr())if(J[H]!==0)break;if(++H<J.length)for(var f=X.sqr();H<J.length;H++,f=f.sqr()){if(J[H]===0)continue;X=X.mul(f)}return X},Y.prototype.iushln=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,H=67108863>>>26-J<<26-J,f;if(J!==0){var V=0;for(f=0;f<this.length;f++){var S=this.words[f]&H,A=(this.words[f]|0)-S<<J;this.words[f]=A|V,V=S>>>26-J}if(V)this.words[f]=V,this.length++}if(X!==0){for(f=this.length-1;f>=0;f--)this.words[f+X]=this.words[f];for(f=0;f<X;f++)this.words[f]=0;this.length+=X}return this.strip()},Y.prototype.ishln=function(j){return K(this.negative===0),this.iushln(j)},Y.prototype.iushrn=function(j,J,X){K(typeof j==="number"&&j>=0);var H;if(J)H=(J-J%26)/26;else H=0;var f=j%26,V=Math.min((j-f)/26,this.length),S=67108863^67108863>>>f<<f,A=X;if(H-=V,H=Math.max(0,H),A){for(var z=0;z<V;z++)A.words[z]=this.words[z];A.length=V}if(V===0);else if(this.length>V){this.length-=V;for(z=0;z<this.length;z++)this.words[z]=this.words[z+V]}else this.words[0]=0,this.length=1;var G=0;for(z=this.length-1;z>=0&&(G!==0||z>=H);z--){var I=this.words[z]|0;this.words[z]=G<<26-f|I>>>f,G=I&S}if(A&&G!==0)A.words[A.length++]=G;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},Y.prototype.ishrn=function(j,J,X){return K(this.negative===0),this.iushrn(j,J,X)},Y.prototype.shln=function(j){return this.clone().ishln(j)},Y.prototype.ushln=function(j){return this.clone().iushln(j)},Y.prototype.shrn=function(j){return this.clone().ishrn(j)},Y.prototype.ushrn=function(j){return this.clone().iushrn(j)},Y.prototype.testn=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,H=1<<J;if(this.length<=X)return!1;var f=this.words[X];return!!(f&H)},Y.prototype.imaskn=function(j){K(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26;if(K(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(J!==0)X++;if(this.length=Math.min(X,this.length),J!==0){var H=67108863^67108863>>>J<<J;this.words[this.length-1]&=H}return this.strip()},Y.prototype.maskn=function(j){return this.clone().imaskn(j)},Y.prototype.iaddn=function(j){if(K(typeof j==="number"),K(j<67108864),j<0)return this.isubn(-j);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<j)return this.words[0]=j-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(j),this.negative=1,this}return this._iaddn(j)},Y.prototype._iaddn=function(j){this.words[0]+=j;for(var J=0;J<this.length&&this.words[J]>=67108864;J++)if(this.words[J]-=67108864,J===this.length-1)this.words[J+1]=1;else this.words[J+1]++;return this.length=Math.max(this.length,J+1),this},Y.prototype.isubn=function(j){if(K(typeof j==="number"),K(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var J=0;J<this.length&&this.words[J]<0;J++)this.words[J]+=67108864,this.words[J+1]-=1;return this.strip()},Y.prototype.addn=function(j){return this.clone().iaddn(j)},Y.prototype.subn=function(j){return this.clone().isubn(j)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(j,J,X){var H=j.length+X,f;this._expand(H);var V,S=0;for(f=0;f<j.length;f++){V=(this.words[f+X]|0)+S;var A=(j.words[f]|0)*J;V-=A&67108863,S=(V>>26)-(A/67108864|0),this.words[f+X]=V&67108863}for(;f<this.length-X;f++)V=(this.words[f+X]|0)+S,S=V>>26,this.words[f+X]=V&67108863;if(S===0)return this.strip();K(S===-1),S=0;for(f=0;f<this.length;f++)V=-(this.words[f]|0)+S,S=V>>26,this.words[f]=V&67108863;return this.negative=1,this.strip()},Y.prototype._wordDiv=function(j,J){var X=this.length-j.length,H=this.clone(),f=j,V=f.words[f.length-1]|0,S=this._countBits(V);if(X=26-S,X!==0)f=f.ushln(X),H.iushln(X),V=f.words[f.length-1]|0;var A=H.length-f.length,z;if(J!=="mod"){z=new Y(null),z.length=A+1,z.words=Array(z.length);for(var G=0;G<z.length;G++)z.words[G]=0}var I=H.clone()._ishlnsubmul(f,1,A);if(I.negative===0){if(H=I,z)z.words[A]=1}for(var C=A-1;C>=0;C--){var g=(H.words[f.length+C]|0)*67108864+(H.words[f.length+C-1]|0);g=Math.min(g/V|0,67108863),H._ishlnsubmul(f,g,C);while(H.negative!==0)if(g--,H.negative=0,H._ishlnsubmul(f,1,C),!H.isZero())H.negative^=1;if(z)z.words[C]=g}if(z)z.strip();if(H.strip(),J!=="div"&&X!==0)H.iushrn(X);return{div:z||null,mod:H}},Y.prototype.divmod=function(j,J,X){if(K(!j.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var H,f,V;if(this.negative!==0&&j.negative===0){if(V=this.neg().divmod(j,J),J!=="mod")H=V.div.neg();if(J!=="div"){if(f=V.mod.neg(),X&&f.negative!==0)f.iadd(j)}return{div:H,mod:f}}if(this.negative===0&&j.negative!==0){if(V=this.divmod(j.neg(),J),J!=="mod")H=V.div.neg();return{div:H,mod:V.mod}}if((this.negative&j.negative)!==0){if(V=this.neg().divmod(j.neg(),J),J!=="div"){if(f=V.mod.neg(),X&&f.negative!==0)f.isub(j)}return{div:V.div,mod:f}}if(j.length>this.length||this.cmp(j)<0)return{div:new Y(0),mod:this};if(j.length===1){if(J==="div")return{div:this.divn(j.words[0]),mod:null};if(J==="mod")return{div:null,mod:new Y(this.modn(j.words[0]))};return{div:this.divn(j.words[0]),mod:new Y(this.modn(j.words[0]))}}return this._wordDiv(j,J)},Y.prototype.div=function(j){return this.divmod(j,"div",!1).div},Y.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},Y.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},Y.prototype.divRound=function(j){var J=this.divmod(j);if(J.mod.isZero())return J.div;var X=J.div.negative!==0?J.mod.isub(j):J.mod,H=j.ushrn(1),f=j.andln(1),V=X.cmp(H);if(V<0||f===1&&V===0)return J.div;return J.div.negative!==0?J.div.isubn(1):J.div.iaddn(1)},Y.prototype.modn=function(j){K(j<=67108863);var J=67108864%j,X=0;for(var H=this.length-1;H>=0;H--)X=(J*X+(this.words[H]|0))%j;return X},Y.prototype.idivn=function(j){K(j<=67108863);var J=0;for(var X=this.length-1;X>=0;X--){var H=(this.words[X]|0)+J*67108864;this.words[X]=H/j|0,J=H%j}return this.strip()},Y.prototype.divn=function(j){return this.clone().idivn(j)},Y.prototype.egcd=function(j){K(j.negative===0),K(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var H=new Y(1),f=new Y(0),V=new Y(0),S=new Y(1),A=0;while(J.isEven()&&X.isEven())J.iushrn(1),X.iushrn(1),++A;var z=X.clone(),G=J.clone();while(!J.isZero()){for(var I=0,C=1;(J.words[0]&C)===0&&I<26;++I,C<<=1);if(I>0){J.iushrn(I);while(I-- >0){if(H.isOdd()||f.isOdd())H.iadd(z),f.isub(G);H.iushrn(1),f.iushrn(1)}}for(var g=0,x=1;(X.words[0]&x)===0&&g<26;++g,x<<=1);if(g>0){X.iushrn(g);while(g-- >0){if(V.isOdd()||S.isOdd())V.iadd(z),S.isub(G);V.iushrn(1),S.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),H.isub(V),f.isub(S);else X.isub(J),V.isub(H),S.isub(f)}return{a:V,b:S,gcd:X.iushln(A)}},Y.prototype._invmp=function(j){K(j.negative===0),K(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var H=new Y(1),f=new Y(0),V=X.clone();while(J.cmpn(1)>0&&X.cmpn(1)>0){for(var S=0,A=1;(J.words[0]&A)===0&&S<26;++S,A<<=1);if(S>0){J.iushrn(S);while(S-- >0){if(H.isOdd())H.iadd(V);H.iushrn(1)}}for(var z=0,G=1;(X.words[0]&G)===0&&z<26;++z,G<<=1);if(z>0){X.iushrn(z);while(z-- >0){if(f.isOdd())f.iadd(V);f.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),H.isub(f);else X.isub(J),f.isub(H)}var I;if(J.cmpn(1)===0)I=H;else I=f;if(I.cmpn(0)<0)I.iadd(j);return I},Y.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var J=this.clone(),X=j.clone();J.negative=0,X.negative=0;for(var H=0;J.isEven()&&X.isEven();H++)J.iushrn(1),X.iushrn(1);do{while(J.isEven())J.iushrn(1);while(X.isEven())X.iushrn(1);var f=J.cmp(X);if(f<0){var V=J;J=X,X=V}else if(f===0||X.cmpn(1)===0)break;J.isub(X)}while(!0);return X.iushln(H)},Y.prototype.invm=function(j){return this.egcd(j).a.umod(j)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(j){return this.words[0]&j},Y.prototype.bincn=function(j){K(typeof j==="number");var J=j%26,X=(j-J)/26,H=1<<J;if(this.length<=X)return this._expand(X+1),this.words[X]|=H,this;var f=H;for(var V=X;f!==0&&V<this.length;V++){var S=this.words[V]|0;S+=f,f=S>>>26,S&=67108863,this.words[V]=S}if(f!==0)this.words[V]=f,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(j){var J=j<0;if(this.negative!==0&&!J)return-1;if(this.negative===0&&J)return 1;this.strip();var X;if(this.length>1)X=1;else{if(J)j=-j;K(j<=67108863,"Number is too big");var H=this.words[0]|0;X=H===j?0:H<j?-1:1}if(this.negative!==0)return-X|0;return X},Y.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var J=this.ucmp(j);if(this.negative!==0)return-J|0;return J},Y.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;var J=0;for(var X=this.length-1;X>=0;X--){var H=this.words[X]|0,f=j.words[X]|0;if(H===f)continue;if(H<f)J=-1;else if(H>f)J=1;break}return J},Y.prototype.gtn=function(j){return this.cmpn(j)===1},Y.prototype.gt=function(j){return this.cmp(j)===1},Y.prototype.gten=function(j){return this.cmpn(j)>=0},Y.prototype.gte=function(j){return this.cmp(j)>=0},Y.prototype.ltn=function(j){return this.cmpn(j)===-1},Y.prototype.lt=function(j){return this.cmp(j)===-1},Y.prototype.lten=function(j){return this.cmpn(j)<=0},Y.prototype.lte=function(j){return this.cmp(j)<=0},Y.prototype.eqn=function(j){return this.cmpn(j)===0},Y.prototype.eq=function(j){return this.cmp(j)===0},Y.red=function(j){return new c(j)},Y.prototype.toRed=function(j){return K(!this.red,"Already a number in reduction context"),K(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},Y.prototype.fromRed=function(){return K(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(j){return this.red=j,this},Y.prototype.forceRed=function(j){return K(!this.red,"Already a number in reduction context"),this._forceRed(j)},Y.prototype.redAdd=function(j){return K(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},Y.prototype.redIAdd=function(j){return K(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},Y.prototype.redSub=function(j){return K(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},Y.prototype.redISub=function(j){return K(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},Y.prototype.redShl=function(j){return K(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},Y.prototype.redMul=function(j){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},Y.prototype.redIMul=function(j){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},Y.prototype.redSqr=function(){return K(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return K(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return K(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return K(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return K(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(j){return K(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var b={k256:null,p224:null,p192:null,p25519:null};function y(j,J){this.name=j,this.p=new Y(J,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var j=new Y(null);return j.words=Array(Math.ceil(this.n/13)),j},y.prototype.ireduce=function(j){var J=j,X;do this.split(J,this.tmp),J=this.imulK(J),J=J.iadd(this.tmp),X=J.bitLength();while(X>this.n);var H=X<this.n?-1:J.ucmp(this.p);if(H===0)J.words[0]=0,J.length=1;else if(H>0)J.isub(this.p);else if(J.strip!==void 0)J.strip();else J._strip();return J},y.prototype.split=function(j,J){j.iushrn(this.n,0,J)},y.prototype.imulK=function(j){return j.imul(this.k)};function p(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(p,y),p.prototype.split=function(j,J){var X=4194303,H=Math.min(j.length,9);for(var f=0;f<H;f++)J.words[f]=j.words[f];if(J.length=H,j.length<=9){j.words[0]=0,j.length=1;return}var V=j.words[9];J.words[J.length++]=V&X;for(f=10;f<j.length;f++){var S=j.words[f]|0;j.words[f-10]=(S&X)<<4|V>>>22,V=S}if(V>>>=22,j.words[f-10]=V,V===0&&j.length>10)j.length-=10;else j.length-=9},p.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;var J=0;for(var X=0;X<j.length;X++){var H=j.words[X]|0;J+=H*977,j.words[X]=J&67108863,J=H*64+(J/67108864|0)}if(j.words[j.length-1]===0){if(j.length--,j.words[j.length-1]===0)j.length--}return j};function i(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(i,y);function $$(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O($$,y);function Q(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Q,y),Q.prototype.imulK=function(j){var J=0;for(var X=0;X<j.length;X++){var H=(j.words[X]|0)*19+J,f=H&67108863;H>>>=26,j.words[X]=f,J=H}if(J!==0)j.words[j.length++]=J;return j},Y._prime=function(j){if(b[j])return b[j];var J;if(j==="k256")J=new p;else if(j==="p224")J=new i;else if(j==="p192")J=new $$;else if(j==="p25519")J=new Q;else throw Error("Unknown prime "+j);return b[j]=J,J};function c(j){if(typeof j==="string"){var J=Y._prime(j);this.m=J.p,this.prime=J}else K(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}c.prototype._verify1=function(j){K(j.negative===0,"red works only with positives"),K(j.red,"red works only with red numbers")},c.prototype._verify2=function(j,J){K((j.negative|J.negative)===0,"red works only with positives"),K(j.red&&j.red===J.red,"red works only with red numbers")},c.prototype.imod=function(j){if(this.prime)return this.prime.ireduce(j)._forceRed(this);return j.umod(this.m)._forceRed(this)},c.prototype.neg=function(j){if(j.isZero())return j.clone();return this.m.sub(j)._forceRed(this)},c.prototype.add=function(j,J){this._verify2(j,J);var X=j.add(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X._forceRed(this)},c.prototype.iadd=function(j,J){this._verify2(j,J);var X=j.iadd(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X},c.prototype.sub=function(j,J){this._verify2(j,J);var X=j.sub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X._forceRed(this)},c.prototype.isub=function(j,J){this._verify2(j,J);var X=j.isub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X},c.prototype.shl=function(j,J){return this._verify1(j),this.imod(j.ushln(J))},c.prototype.imul=function(j,J){return this._verify2(j,J),this.imod(j.imul(J))},c.prototype.mul=function(j,J){return this._verify2(j,J),this.imod(j.mul(J))},c.prototype.isqr=function(j){return this.imul(j,j.clone())},c.prototype.sqr=function(j){return this.mul(j,j)},c.prototype.sqrt=function(j){if(j.isZero())return j.clone();var J=this.m.andln(3);if(K(J%2===1),J===3){var X=this.m.add(new Y(1)).iushrn(2);return this.pow(j,X)}var H=this.m.subn(1),f=0;while(!H.isZero()&&H.andln(1)===0)f++,H.iushrn(1);K(!H.isZero());var V=new Y(1).toRed(this),S=V.redNeg(),A=this.m.subn(1).iushrn(1),z=this.m.bitLength();z=new Y(2*z*z).toRed(this);while(this.pow(z,A).cmp(S)!==0)z.redIAdd(S);var G=this.pow(z,H),I=this.pow(j,H.addn(1).iushrn(1)),C=this.pow(j,H),g=f;while(C.cmp(V)!==0){var x=C;for(var l=0;x.cmp(V)!==0;l++)x=x.redSqr();K(l<g);var o=this.pow(G,new Y(1).iushln(g-l-1));I=I.redMul(o),G=o.redSqr(),C=C.redMul(G),g=l}return I},c.prototype.invm=function(j){var J=j._invmp(this.m);if(J.negative!==0)return J.negative=0,this.imod(J).redNeg();else return this.imod(J)},c.prototype.pow=function(j,J){if(J.isZero())return new Y(1).toRed(this);if(J.cmpn(1)===0)return j.clone();var X=4,H=Array(1<<X);H[0]=new Y(1).toRed(this),H[1]=j;for(var f=2;f<H.length;f++)H[f]=this.mul(H[f-1],j);var V=H[0],S=0,A=0,z=J.bitLength()%26;if(z===0)z=26;for(f=J.length-1;f>=0;f--){var G=J.words[f];for(var I=z-1;I>=0;I--){var C=G>>I&1;if(V!==H[0])V=this.sqr(V);if(C===0&&S===0){A=0;continue}if(S<<=1,S|=C,A++,A!==X&&(f!==0||I!==0))continue;V=this.mul(V,H[S]),A=0,S=0}z=26}return V},c.prototype.convertTo=function(j){var J=j.umod(this.m);return J===j?J.clone():J},c.prototype.convertFrom=function(j){var J=j.clone();return J.red=null,J},Y.mont=function(j){return new a(j)};function a(j){if(c.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(a,c),a.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},a.prototype.convertFrom=function(j){var J=this.imod(j.mul(this.rinv));return J.red=null,J},a.prototype.imul=function(j,J){if(j.isZero()||J.isZero())return j.words[0]=0,j.length=1,j;var X=j.imul(J),H=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=X.isub(H).iushrn(this.shift),V=f;if(f.cmp(this.m)>=0)V=f.isub(this.m);else if(f.cmpn(0)<0)V=f.iadd(this.m);return V._forceRed(this)},a.prototype.mul=function(j,J){if(j.isZero()||J.isZero())return new Y(0)._forceRed(this);var X=j.mul(J),H=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=X.isub(H).iushrn(this.shift),V=f;if(f.cmp(this.m)>=0)V=f.isub(this.m);else if(f.cmpn(0)<0)V=f.iadd(this.m);return V._forceRed(this)},a.prototype.invm=function(j){var J=this.imod(j._invmp(this.m).mul(this.r2));return J._forceRed(this)}})(typeof q>"u"||q,$)}),XE=Z$(($,q)=>{var _=Lw(),P=Bq().Buffer;function K(O,Y){return P.from(O.toRed(_.mont(Y.modulus)).redPow(new _(Y.publicExponent)).fromRed().toArray())}q.exports=K}),Pt=Z$(($,q)=>{(function(_,P){function K(H,f){if(!H)throw Error(f||"Assertion failed")}function O(H,f){H.super_=f;var V=function(){};V.prototype=f.prototype,H.prototype=new V,H.prototype.constructor=H}function Y(H,f,V){if(Y.isBN(H))return H;if(this.negative=0,this.words=null,this.length=0,this.red=null,H!==null){if(f==="le"||f==="be")V=f,f=10;this._init(H||0,f||10,V||"be")}}if(typeof _==="object")_.exports=Y;else P.BN=Y;Y.BN=Y,Y.wordSize=26;var v;try{if(typeof window<"u"&&typeof window.Buffer<"u")v=window.Buffer;else v=(Xq(),H6(fq)).Buffer}catch(H){}Y.isBN=function(H){if(H instanceof Y)return!0;return H!==null&&typeof H==="object"&&H.constructor.wordSize===Y.wordSize&&Array.isArray(H.words)},Y.max=function(H,f){if(H.cmp(f)>0)return H;return f},Y.min=function(H,f){if(H.cmp(f)<0)return H;return f},Y.prototype._init=function(H,f,V){if(typeof H==="number")return this._initNumber(H,f,V);if(typeof H==="object")return this._initArray(H,f,V);if(f==="hex")f=16;K(f===(f|0)&&f>=2&&f<=36),H=H.toString().replace(/\s+/g,"");var S=0;if(H[0]==="-")S++,this.negative=1;if(S<H.length){if(f===16)this._parseHex(H,S,V);else if(this._parseBase(H,f,S),V==="le")this._initArray(this.toArray(),f,V)}},Y.prototype._initNumber=function(H,f,V){if(H<0)this.negative=1,H=-H;if(H<67108864)this.words=[H&67108863],this.length=1;else if(H<4503599627370496)this.words=[H&67108863,H/67108864&67108863],this.length=2;else K(H<9007199254740992),this.words=[H&67108863,H/67108864&67108863,1],this.length=3;if(V!=="le")return;this._initArray(this.toArray(),f,V)},Y.prototype._initArray=function(H,f,V){if(K(typeof H.length==="number"),H.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(H.length/3),this.words=Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var A,z,G=0;if(V==="be"){for(S=H.length-1,A=0;S>=0;S-=3)if(z=H[S]|H[S-1]<<8|H[S-2]<<16,this.words[A]|=z<<G&67108863,this.words[A+1]=z>>>26-G&67108863,G+=24,G>=26)G-=26,A++}else if(V==="le"){for(S=0,A=0;S<H.length;S+=3)if(z=H[S]|H[S+1]<<8|H[S+2]<<16,this.words[A]|=z<<G&67108863,this.words[A+1]=z>>>26-G&67108863,G+=24,G>=26)G-=26,A++}return this._strip()};function W(H,f){var V=H.charCodeAt(f);if(V>=48&&V<=57)return V-48;else if(V>=65&&V<=70)return V-55;else if(V>=97&&V<=102)return V-87;else K(!1,"Invalid character in "+H)}function T(H,f,V){var S=W(H,V);if(V-1>=f)S|=W(H,V-1)<<4;return S}Y.prototype._parseHex=function(H,f,V){this.length=Math.ceil((H.length-f)/6),this.words=Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var A=0,z=0,G;if(V==="be")for(S=H.length-1;S>=f;S-=2)if(G=T(H,f,S)<<A,this.words[z]|=G&67108863,A>=18)A-=18,z+=1,this.words[z]|=G>>>26;else A+=8;else{var I=H.length-f;for(S=I%2===0?f+1:f;S<H.length;S+=2)if(G=T(H,f,S)<<A,this.words[z]|=G&67108863,A>=18)A-=18,z+=1,this.words[z]|=G>>>26;else A+=8}this._strip()};function Z(H,f,V,S){var A=0,z=0,G=Math.min(H.length,V);for(var I=f;I<G;I++){var C=H.charCodeAt(I)-48;if(A*=S,C>=49)z=C-49+10;else if(C>=17)z=C-17+10;else z=C;K(C>=0&&z<S,"Invalid character"),A+=z}return A}Y.prototype._parseBase=function(H,f,V){this.words=[0],this.length=1;for(var S=0,A=1;A<=67108863;A*=f)S++;S--,A=A/f|0;var z=H.length-V,G=z%S,I=Math.min(z,z-G)+V,C=0;for(var g=V;g<I;g+=S)if(C=Z(H,g,g+S,f),this.imuln(A),this.words[0]+C<67108864)this.words[0]+=C;else this._iaddn(C);if(G!==0){var x=1;C=Z(H,g,H.length,f);for(g=0;g<G;g++)x*=f;if(this.imuln(x),this.words[0]+C<67108864)this.words[0]+=C;else this._iaddn(C)}this._strip()},Y.prototype.copy=function(H){H.words=Array(this.length);for(var f=0;f<this.length;f++)H.words[f]=this.words[f];H.length=this.length,H.negative=this.negative,H.red=this.red};function w(H,f){H.words=f.words,H.length=f.length,H.negative=f.negative,H.red=f.red}if(Y.prototype._move=function(H){w(H,this)},Y.prototype.clone=function(){var H=new Y(null);return this.copy(H),H},Y.prototype._expand=function(H){while(this.length<H)this.words[this.length++]=0;return this},Y.prototype._strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},typeof Symbol<"u"&&typeof Symbol.for==="function")try{Y.prototype[Symbol.for("nodejs.util.inspect.custom")]=k}catch(H){Y.prototype.inspect=k}else Y.prototype.inspect=k;function k(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(H,f){H=H||10,f=f|0||1;var V;if(H===16||H==="hex"){V="";var S=0,A=0;for(var z=0;z<this.length;z++){var G=this.words[z],I=((G<<S|A)&16777215).toString(16);if(A=G>>>24-S&16777215,S+=2,S>=26)S-=26,z--;if(A!==0||z!==this.length-1)V=M[6-I.length]+I+V;else V=I+V}if(A!==0)V=A.toString(16)+V;while(V.length%f!==0)V="0"+V;if(this.negative!==0)V="-"+V;return V}if(H===(H|0)&&H>=2&&H<=36){var C=N[H],g=R[H];V="";var x=this.clone();x.negative=0;while(!x.isZero()){var l=x.modrn(g).toString(H);if(x=x.idivn(g),!x.isZero())V=M[C-l.length]+l+V;else V=l+V}if(this.isZero())V="0"+V;while(V.length%f!==0)V="0"+V;if(this.negative!==0)V="-"+V;return V}K(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var H=this.words[0];if(this.length===2)H+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)H+=4503599627370496+this.words[1]*67108864;else if(this.length>2)K(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-H:H},Y.prototype.toJSON=function(){return this.toString(16,2)},v)Y.prototype.toBuffer=function(H,f){return this.toArrayLike(v,H,f)};Y.prototype.toArray=function(H,f){return this.toArrayLike(Array,H,f)};var E=function(H,f){if(H.allocUnsafe)return H.allocUnsafe(f);return new H(f)};if(Y.prototype.toArrayLike=function(H,f,V){this._strip();var S=this.byteLength(),A=V||Math.max(1,S);K(S<=A,"byte array longer than desired length"),K(A>0,"Requested array length <= 0");var z=E(H,A),G=f==="le"?"LE":"BE";return this["_toArrayLike"+G](z,S),z},Y.prototype._toArrayLikeLE=function(H,f){var V=0,S=0;for(var A=0,z=0;A<this.length;A++){var G=this.words[A]<<z|S;if(H[V++]=G&255,V<H.length)H[V++]=G>>8&255;if(V<H.length)H[V++]=G>>16&255;if(z===6){if(V<H.length)H[V++]=G>>24&255;S=0,z=0}else S=G>>>24,z+=2}if(V<H.length){H[V++]=S;while(V<H.length)H[V++]=0}},Y.prototype._toArrayLikeBE=function(H,f){var V=H.length-1,S=0;for(var A=0,z=0;A<this.length;A++){var G=this.words[A]<<z|S;if(H[V--]=G&255,V>=0)H[V--]=G>>8&255;if(V>=0)H[V--]=G>>16&255;if(z===6){if(V>=0)H[V--]=G>>24&255;S=0,z=0}else S=G>>>24,z+=2}if(V>=0){H[V--]=S;while(V>=0)H[V--]=0}},Math.clz32)Y.prototype._countBits=function(H){return 32-Math.clz32(H)};else Y.prototype._countBits=function(H){var f=H,V=0;if(f>=4096)V+=13,f>>>=13;if(f>=64)V+=7,f>>>=7;if(f>=8)V+=4,f>>>=4;if(f>=2)V+=2,f>>>=2;return V+f};Y.prototype._zeroBits=function(H){if(H===0)return 26;var f=H,V=0;if((f&8191)===0)V+=13,f>>>=13;if((f&127)===0)V+=7,f>>>=7;if((f&15)===0)V+=4,f>>>=4;if((f&3)===0)V+=2,f>>>=2;if((f&1)===0)V++;return V},Y.prototype.bitLength=function(){var H=this.words[this.length-1],f=this._countBits(H);return(this.length-1)*26+f};function D(H){var f=Array(H.bitLength());for(var V=0;V<f.length;V++){var S=V/26|0,A=V%26;f[V]=H.words[S]>>>A&1}return f}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var H=0;for(var f=0;f<this.length;f++){var V=this._zeroBits(this.words[f]);if(H+=V,V!==26)break}return H},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(H){if(this.negative!==0)return this.abs().inotn(H).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(H){if(this.testn(H-1))return this.notn(H).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(H){while(this.length<H.length)this.words[this.length++]=0;for(var f=0;f<H.length;f++)this.words[f]=this.words[f]|H.words[f];return this._strip()},Y.prototype.ior=function(H){return K((this.negative|H.negative)===0),this.iuor(H)},Y.prototype.or=function(H){if(this.length>H.length)return this.clone().ior(H);return H.clone().ior(this)},Y.prototype.uor=function(H){if(this.length>H.length)return this.clone().iuor(H);return H.clone().iuor(this)},Y.prototype.iuand=function(H){var f;if(this.length>H.length)f=H;else f=this;for(var V=0;V<f.length;V++)this.words[V]=this.words[V]&H.words[V];return this.length=f.length,this._strip()},Y.prototype.iand=function(H){return K((this.negative|H.negative)===0),this.iuand(H)},Y.prototype.and=function(H){if(this.length>H.length)return this.clone().iand(H);return H.clone().iand(this)},Y.prototype.uand=function(H){if(this.length>H.length)return this.clone().iuand(H);return H.clone().iuand(this)},Y.prototype.iuxor=function(H){var f,V;if(this.length>H.length)f=this,V=H;else f=H,V=this;for(var S=0;S<V.length;S++)this.words[S]=f.words[S]^V.words[S];if(this!==f)for(;S<f.length;S++)this.words[S]=f.words[S];return this.length=f.length,this._strip()},Y.prototype.ixor=function(H){return K((this.negative|H.negative)===0),this.iuxor(H)},Y.prototype.xor=function(H){if(this.length>H.length)return this.clone().ixor(H);return H.clone().ixor(this)},Y.prototype.uxor=function(H){if(this.length>H.length)return this.clone().iuxor(H);return H.clone().iuxor(this)},Y.prototype.inotn=function(H){K(typeof H==="number"&&H>=0);var f=Math.ceil(H/26)|0,V=H%26;if(this._expand(f),V>0)f--;for(var S=0;S<f;S++)this.words[S]=~this.words[S]&67108863;if(V>0)this.words[S]=~this.words[S]&67108863>>26-V;return this._strip()},Y.prototype.notn=function(H){return this.clone().inotn(H)},Y.prototype.setn=function(H,f){K(typeof H==="number"&&H>=0);var V=H/26|0,S=H%26;if(this._expand(V+1),f)this.words[V]=this.words[V]|1<<S;else this.words[V]=this.words[V]&~(1<<S);return this._strip()},Y.prototype.iadd=function(H){var f;if(this.negative!==0&&H.negative===0)return this.negative=0,f=this.isub(H),this.negative^=1,this._normSign();else if(this.negative===0&&H.negative!==0)return H.negative=0,f=this.isub(H),H.negative=1,f._normSign();var V,S;if(this.length>H.length)V=this,S=H;else V=H,S=this;var A=0;for(var z=0;z<S.length;z++)f=(V.words[z]|0)+(S.words[z]|0)+A,this.words[z]=f&67108863,A=f>>>26;for(;A!==0&&z<V.length;z++)f=(V.words[z]|0)+A,this.words[z]=f&67108863,A=f>>>26;if(this.length=V.length,A!==0)this.words[this.length]=A,this.length++;else if(V!==this)for(;z<V.length;z++)this.words[z]=V.words[z];return this},Y.prototype.add=function(H){var f;if(H.negative!==0&&this.negative===0)return H.negative=0,f=this.sub(H),H.negative^=1,f;else if(H.negative===0&&this.negative!==0)return this.negative=0,f=H.sub(this),this.negative=1,f;if(this.length>H.length)return this.clone().iadd(H);return H.clone().iadd(this)},Y.prototype.isub=function(H){if(H.negative!==0){H.negative=0;var f=this.iadd(H);return H.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(H),this.negative=1,this._normSign();var V=this.cmp(H);if(V===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,A;if(V>0)S=this,A=H;else S=H,A=this;var z=0;for(var G=0;G<A.length;G++)f=(S.words[G]|0)-(A.words[G]|0)+z,z=f>>26,this.words[G]=f&67108863;for(;z!==0&&G<S.length;G++)f=(S.words[G]|0)+z,z=f>>26,this.words[G]=f&67108863;if(z===0&&G<S.length&&S!==this)for(;G<S.length;G++)this.words[G]=S.words[G];if(this.length=Math.max(this.length,G),S!==this)this.negative=1;return this._strip()},Y.prototype.sub=function(H){return this.clone().isub(H)};function h(H,f,V){V.negative=f.negative^H.negative;var S=H.length+f.length|0;V.length=S,S=S-1|0;var A=H.words[0]|0,z=f.words[0]|0,G=A*z,I=G&67108863,C=G/67108864|0;V.words[0]=I;for(var g=1;g<S;g++){var x=C>>>26,l=C&67108863,o=Math.min(g,f.length-1);for(var T$=Math.max(0,g-H.length+1);T$<=o;T$++){var e=g-T$|0;A=H.words[e]|0,z=f.words[T$]|0,G=A*z+l,x+=G/67108864|0,l=G&67108863}V.words[g]=l|0,C=x|0}if(C!==0)V.words[g]=C|0;else V.length--;return V._strip()}var L=function(H,f,V){var S=H.words,A=f.words,z=V.words,G=0,I,C,g,x=S[0]|0,l=x&8191,o=x>>>13,T$=S[1]|0,e=T$&8191,n=T$>>>13,j$=S[2]|0,s=j$&8191,P$=j$>>>13,n$=S[3]|0,m=n$&8191,r=n$>>>13,W$=S[4]|0,q$=W$&8191,_$=W$>>>13,v$=S[5]|0,d=v$&8191,B=v$>>>13,H$=S[6]|0,t=H$&8191,F=H$>>>13,A$=S[7]|0,J$=A$&8191,z$=A$>>>13,G6=S[8]|0,X$=G6&8191,k$=G6>>>13,B6=S[9]|0,M$=B6&8191,S$=B6>>>13,Cq=A[0]|0,E$=Cq&8191,g$=Cq>>>13,Eq=A[1]|0,b$=Eq&8191,R$=Eq>>>13,Aq=A[2]|0,y$=Aq&8191,I$=Aq>>>13,Hq=A[3]|0,u$=Hq&8191,x$=Hq>>>13,Tq=A[4]|0,h$=Tq&8191,u=Tq>>>13,U=A[5]|0,K$=U&8191,O$=U>>>13,t$=A[6]|0,G$=t$&8191,V$=t$>>>13,d6=A[7]|0,D$=d6&8191,p$=d6>>>13,kq=A[8]|0,L$=kq&8191,C$=kq>>>13,l6=A[9]|0,w6=l6&8191,z6=l6>>>13;V.negative=H.negative^f.negative,V.length=19,I=Math.imul(l,E$),C=Math.imul(l,g$),C=C+Math.imul(o,E$)|0,g=Math.imul(o,g$);var D6=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(D6>>>26)|0,D6&=67108863,I=Math.imul(e,E$),C=Math.imul(e,g$),C=C+Math.imul(n,E$)|0,g=Math.imul(n,g$),I=I+Math.imul(l,b$)|0,C=C+Math.imul(l,R$)|0,C=C+Math.imul(o,b$)|0,g=g+Math.imul(o,R$)|0;var E6=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(E6>>>26)|0,E6&=67108863,I=Math.imul(s,E$),C=Math.imul(s,g$),C=C+Math.imul(P$,E$)|0,g=Math.imul(P$,g$),I=I+Math.imul(e,b$)|0,C=C+Math.imul(e,R$)|0,C=C+Math.imul(n,b$)|0,g=g+Math.imul(n,R$)|0,I=I+Math.imul(l,y$)|0,C=C+Math.imul(l,I$)|0,C=C+Math.imul(o,y$)|0,g=g+Math.imul(o,I$)|0;var Q6=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,I=Math.imul(m,E$),C=Math.imul(m,g$),C=C+Math.imul(r,E$)|0,g=Math.imul(r,g$),I=I+Math.imul(s,b$)|0,C=C+Math.imul(s,R$)|0,C=C+Math.imul(P$,b$)|0,g=g+Math.imul(P$,R$)|0,I=I+Math.imul(e,y$)|0,C=C+Math.imul(e,I$)|0,C=C+Math.imul(n,y$)|0,g=g+Math.imul(n,I$)|0,I=I+Math.imul(l,u$)|0,C=C+Math.imul(l,x$)|0,C=C+Math.imul(o,u$)|0,g=g+Math.imul(o,x$)|0;var a6=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(a6>>>26)|0,a6&=67108863,I=Math.imul(q$,E$),C=Math.imul(q$,g$),C=C+Math.imul(_$,E$)|0,g=Math.imul(_$,g$),I=I+Math.imul(m,b$)|0,C=C+Math.imul(m,R$)|0,C=C+Math.imul(r,b$)|0,g=g+Math.imul(r,R$)|0,I=I+Math.imul(s,y$)|0,C=C+Math.imul(s,I$)|0,C=C+Math.imul(P$,y$)|0,g=g+Math.imul(P$,I$)|0,I=I+Math.imul(e,u$)|0,C=C+Math.imul(e,x$)|0,C=C+Math.imul(n,u$)|0,g=g+Math.imul(n,x$)|0,I=I+Math.imul(l,h$)|0,C=C+Math.imul(l,u)|0,C=C+Math.imul(o,h$)|0,g=g+Math.imul(o,u)|0;var e6=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(e6>>>26)|0,e6&=67108863,I=Math.imul(d,E$),C=Math.imul(d,g$),C=C+Math.imul(B,E$)|0,g=Math.imul(B,g$),I=I+Math.imul(q$,b$)|0,C=C+Math.imul(q$,R$)|0,C=C+Math.imul(_$,b$)|0,g=g+Math.imul(_$,R$)|0,I=I+Math.imul(m,y$)|0,C=C+Math.imul(m,I$)|0,C=C+Math.imul(r,y$)|0,g=g+Math.imul(r,I$)|0,I=I+Math.imul(s,u$)|0,C=C+Math.imul(s,x$)|0,C=C+Math.imul(P$,u$)|0,g=g+Math.imul(P$,x$)|0,I=I+Math.imul(e,h$)|0,C=C+Math.imul(e,u)|0,C=C+Math.imul(n,h$)|0,g=g+Math.imul(n,u)|0,I=I+Math.imul(l,K$)|0,C=C+Math.imul(l,O$)|0,C=C+Math.imul(o,K$)|0,g=g+Math.imul(o,O$)|0;var s6=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(s6>>>26)|0,s6&=67108863,I=Math.imul(t,E$),C=Math.imul(t,g$),C=C+Math.imul(F,E$)|0,g=Math.imul(F,g$),I=I+Math.imul(d,b$)|0,C=C+Math.imul(d,R$)|0,C=C+Math.imul(B,b$)|0,g=g+Math.imul(B,R$)|0,I=I+Math.imul(q$,y$)|0,C=C+Math.imul(q$,I$)|0,C=C+Math.imul(_$,y$)|0,g=g+Math.imul(_$,I$)|0,I=I+Math.imul(m,u$)|0,C=C+Math.imul(m,x$)|0,C=C+Math.imul(r,u$)|0,g=g+Math.imul(r,x$)|0,I=I+Math.imul(s,h$)|0,C=C+Math.imul(s,u)|0,C=C+Math.imul(P$,h$)|0,g=g+Math.imul(P$,u)|0,I=I+Math.imul(e,K$)|0,C=C+Math.imul(e,O$)|0,C=C+Math.imul(n,K$)|0,g=g+Math.imul(n,O$)|0,I=I+Math.imul(l,G$)|0,C=C+Math.imul(l,V$)|0,C=C+Math.imul(o,G$)|0,g=g+Math.imul(o,V$)|0;var $q=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+($q>>>26)|0,$q&=67108863,I=Math.imul(J$,E$),C=Math.imul(J$,g$),C=C+Math.imul(z$,E$)|0,g=Math.imul(z$,g$),I=I+Math.imul(t,b$)|0,C=C+Math.imul(t,R$)|0,C=C+Math.imul(F,b$)|0,g=g+Math.imul(F,R$)|0,I=I+Math.imul(d,y$)|0,C=C+Math.imul(d,I$)|0,C=C+Math.imul(B,y$)|0,g=g+Math.imul(B,I$)|0,I=I+Math.imul(q$,u$)|0,C=C+Math.imul(q$,x$)|0,C=C+Math.imul(_$,u$)|0,g=g+Math.imul(_$,x$)|0,I=I+Math.imul(m,h$)|0,C=C+Math.imul(m,u)|0,C=C+Math.imul(r,h$)|0,g=g+Math.imul(r,u)|0,I=I+Math.imul(s,K$)|0,C=C+Math.imul(s,O$)|0,C=C+Math.imul(P$,K$)|0,g=g+Math.imul(P$,O$)|0,I=I+Math.imul(e,G$)|0,C=C+Math.imul(e,V$)|0,C=C+Math.imul(n,G$)|0,g=g+Math.imul(n,V$)|0,I=I+Math.imul(l,D$)|0,C=C+Math.imul(l,p$)|0,C=C+Math.imul(o,D$)|0,g=g+Math.imul(o,p$)|0;var qq=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(qq>>>26)|0,qq&=67108863,I=Math.imul(X$,E$),C=Math.imul(X$,g$),C=C+Math.imul(k$,E$)|0,g=Math.imul(k$,g$),I=I+Math.imul(J$,b$)|0,C=C+Math.imul(J$,R$)|0,C=C+Math.imul(z$,b$)|0,g=g+Math.imul(z$,R$)|0,I=I+Math.imul(t,y$)|0,C=C+Math.imul(t,I$)|0,C=C+Math.imul(F,y$)|0,g=g+Math.imul(F,I$)|0,I=I+Math.imul(d,u$)|0,C=C+Math.imul(d,x$)|0,C=C+Math.imul(B,u$)|0,g=g+Math.imul(B,x$)|0,I=I+Math.imul(q$,h$)|0,C=C+Math.imul(q$,u)|0,C=C+Math.imul(_$,h$)|0,g=g+Math.imul(_$,u)|0,I=I+Math.imul(m,K$)|0,C=C+Math.imul(m,O$)|0,C=C+Math.imul(r,K$)|0,g=g+Math.imul(r,O$)|0,I=I+Math.imul(s,G$)|0,C=C+Math.imul(s,V$)|0,C=C+Math.imul(P$,G$)|0,g=g+Math.imul(P$,V$)|0,I=I+Math.imul(e,D$)|0,C=C+Math.imul(e,p$)|0,C=C+Math.imul(n,D$)|0,g=g+Math.imul(n,p$)|0,I=I+Math.imul(l,L$)|0,C=C+Math.imul(l,C$)|0,C=C+Math.imul(o,L$)|0,g=g+Math.imul(o,C$)|0;var _q=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(_q>>>26)|0,_q&=67108863,I=Math.imul(M$,E$),C=Math.imul(M$,g$),C=C+Math.imul(S$,E$)|0,g=Math.imul(S$,g$),I=I+Math.imul(X$,b$)|0,C=C+Math.imul(X$,R$)|0,C=C+Math.imul(k$,b$)|0,g=g+Math.imul(k$,R$)|0,I=I+Math.imul(J$,y$)|0,C=C+Math.imul(J$,I$)|0,C=C+Math.imul(z$,y$)|0,g=g+Math.imul(z$,I$)|0,I=I+Math.imul(t,u$)|0,C=C+Math.imul(t,x$)|0,C=C+Math.imul(F,u$)|0,g=g+Math.imul(F,x$)|0,I=I+Math.imul(d,h$)|0,C=C+Math.imul(d,u)|0,C=C+Math.imul(B,h$)|0,g=g+Math.imul(B,u)|0,I=I+Math.imul(q$,K$)|0,C=C+Math.imul(q$,O$)|0,C=C+Math.imul(_$,K$)|0,g=g+Math.imul(_$,O$)|0,I=I+Math.imul(m,G$)|0,C=C+Math.imul(m,V$)|0,C=C+Math.imul(r,G$)|0,g=g+Math.imul(r,V$)|0,I=I+Math.imul(s,D$)|0,C=C+Math.imul(s,p$)|0,C=C+Math.imul(P$,D$)|0,g=g+Math.imul(P$,p$)|0,I=I+Math.imul(e,L$)|0,C=C+Math.imul(e,C$)|0,C=C+Math.imul(n,L$)|0,g=g+Math.imul(n,C$)|0,I=I+Math.imul(l,w6)|0,C=C+Math.imul(l,z6)|0,C=C+Math.imul(o,w6)|0,g=g+Math.imul(o,z6)|0;var Kq=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,I=Math.imul(M$,b$),C=Math.imul(M$,R$),C=C+Math.imul(S$,b$)|0,g=Math.imul(S$,R$),I=I+Math.imul(X$,y$)|0,C=C+Math.imul(X$,I$)|0,C=C+Math.imul(k$,y$)|0,g=g+Math.imul(k$,I$)|0,I=I+Math.imul(J$,u$)|0,C=C+Math.imul(J$,x$)|0,C=C+Math.imul(z$,u$)|0,g=g+Math.imul(z$,x$)|0,I=I+Math.imul(t,h$)|0,C=C+Math.imul(t,u)|0,C=C+Math.imul(F,h$)|0,g=g+Math.imul(F,u)|0,I=I+Math.imul(d,K$)|0,C=C+Math.imul(d,O$)|0,C=C+Math.imul(B,K$)|0,g=g+Math.imul(B,O$)|0,I=I+Math.imul(q$,G$)|0,C=C+Math.imul(q$,V$)|0,C=C+Math.imul(_$,G$)|0,g=g+Math.imul(_$,V$)|0,I=I+Math.imul(m,D$)|0,C=C+Math.imul(m,p$)|0,C=C+Math.imul(r,D$)|0,g=g+Math.imul(r,p$)|0,I=I+Math.imul(s,L$)|0,C=C+Math.imul(s,C$)|0,C=C+Math.imul(P$,L$)|0,g=g+Math.imul(P$,C$)|0,I=I+Math.imul(e,w6)|0,C=C+Math.imul(e,z6)|0,C=C+Math.imul(n,w6)|0,g=g+Math.imul(n,z6)|0;var Pq=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,I=Math.imul(M$,y$),C=Math.imul(M$,I$),C=C+Math.imul(S$,y$)|0,g=Math.imul(S$,I$),I=I+Math.imul(X$,u$)|0,C=C+Math.imul(X$,x$)|0,C=C+Math.imul(k$,u$)|0,g=g+Math.imul(k$,x$)|0,I=I+Math.imul(J$,h$)|0,C=C+Math.imul(J$,u)|0,C=C+Math.imul(z$,h$)|0,g=g+Math.imul(z$,u)|0,I=I+Math.imul(t,K$)|0,C=C+Math.imul(t,O$)|0,C=C+Math.imul(F,K$)|0,g=g+Math.imul(F,O$)|0,I=I+Math.imul(d,G$)|0,C=C+Math.imul(d,V$)|0,C=C+Math.imul(B,G$)|0,g=g+Math.imul(B,V$)|0,I=I+Math.imul(q$,D$)|0,C=C+Math.imul(q$,p$)|0,C=C+Math.imul(_$,D$)|0,g=g+Math.imul(_$,p$)|0,I=I+Math.imul(m,L$)|0,C=C+Math.imul(m,C$)|0,C=C+Math.imul(r,L$)|0,g=g+Math.imul(r,C$)|0,I=I+Math.imul(s,w6)|0,C=C+Math.imul(s,z6)|0,C=C+Math.imul(P$,w6)|0,g=g+Math.imul(P$,z6)|0;var Yq=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,I=Math.imul(M$,u$),C=Math.imul(M$,x$),C=C+Math.imul(S$,u$)|0,g=Math.imul(S$,x$),I=I+Math.imul(X$,h$)|0,C=C+Math.imul(X$,u)|0,C=C+Math.imul(k$,h$)|0,g=g+Math.imul(k$,u)|0,I=I+Math.imul(J$,K$)|0,C=C+Math.imul(J$,O$)|0,C=C+Math.imul(z$,K$)|0,g=g+Math.imul(z$,O$)|0,I=I+Math.imul(t,G$)|0,C=C+Math.imul(t,V$)|0,C=C+Math.imul(F,G$)|0,g=g+Math.imul(F,V$)|0,I=I+Math.imul(d,D$)|0,C=C+Math.imul(d,p$)|0,C=C+Math.imul(B,D$)|0,g=g+Math.imul(B,p$)|0,I=I+Math.imul(q$,L$)|0,C=C+Math.imul(q$,C$)|0,C=C+Math.imul(_$,L$)|0,g=g+Math.imul(_$,C$)|0,I=I+Math.imul(m,w6)|0,C=C+Math.imul(m,z6)|0,C=C+Math.imul(r,w6)|0,g=g+Math.imul(r,z6)|0;var Oq=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,I=Math.imul(M$,h$),C=Math.imul(M$,u),C=C+Math.imul(S$,h$)|0,g=Math.imul(S$,u),I=I+Math.imul(X$,K$)|0,C=C+Math.imul(X$,O$)|0,C=C+Math.imul(k$,K$)|0,g=g+Math.imul(k$,O$)|0,I=I+Math.imul(J$,G$)|0,C=C+Math.imul(J$,V$)|0,C=C+Math.imul(z$,G$)|0,g=g+Math.imul(z$,V$)|0,I=I+Math.imul(t,D$)|0,C=C+Math.imul(t,p$)|0,C=C+Math.imul(F,D$)|0,g=g+Math.imul(F,p$)|0,I=I+Math.imul(d,L$)|0,C=C+Math.imul(d,C$)|0,C=C+Math.imul(B,L$)|0,g=g+Math.imul(B,C$)|0,I=I+Math.imul(q$,w6)|0,C=C+Math.imul(q$,z6)|0,C=C+Math.imul(_$,w6)|0,g=g+Math.imul(_$,z6)|0;var jq=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(jq>>>26)|0,jq&=67108863,I=Math.imul(M$,K$),C=Math.imul(M$,O$),C=C+Math.imul(S$,K$)|0,g=Math.imul(S$,O$),I=I+Math.imul(X$,G$)|0,C=C+Math.imul(X$,V$)|0,C=C+Math.imul(k$,G$)|0,g=g+Math.imul(k$,V$)|0,I=I+Math.imul(J$,D$)|0,C=C+Math.imul(J$,p$)|0,C=C+Math.imul(z$,D$)|0,g=g+Math.imul(z$,p$)|0,I=I+Math.imul(t,L$)|0,C=C+Math.imul(t,C$)|0,C=C+Math.imul(F,L$)|0,g=g+Math.imul(F,C$)|0,I=I+Math.imul(d,w6)|0,C=C+Math.imul(d,z6)|0,C=C+Math.imul(B,w6)|0,g=g+Math.imul(B,z6)|0;var vq=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(vq>>>26)|0,vq&=67108863,I=Math.imul(M$,G$),C=Math.imul(M$,V$),C=C+Math.imul(S$,G$)|0,g=Math.imul(S$,V$),I=I+Math.imul(X$,D$)|0,C=C+Math.imul(X$,p$)|0,C=C+Math.imul(k$,D$)|0,g=g+Math.imul(k$,p$)|0,I=I+Math.imul(J$,L$)|0,C=C+Math.imul(J$,C$)|0,C=C+Math.imul(z$,L$)|0,g=g+Math.imul(z$,C$)|0,I=I+Math.imul(t,w6)|0,C=C+Math.imul(t,z6)|0,C=C+Math.imul(F,w6)|0,g=g+Math.imul(F,z6)|0;var zq=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(zq>>>26)|0,zq&=67108863,I=Math.imul(M$,D$),C=Math.imul(M$,p$),C=C+Math.imul(S$,D$)|0,g=Math.imul(S$,p$),I=I+Math.imul(X$,L$)|0,C=C+Math.imul(X$,C$)|0,C=C+Math.imul(k$,L$)|0,g=g+Math.imul(k$,C$)|0,I=I+Math.imul(J$,w6)|0,C=C+Math.imul(J$,z6)|0,C=C+Math.imul(z$,w6)|0,g=g+Math.imul(z$,z6)|0;var eY=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(eY>>>26)|0,eY&=67108863,I=Math.imul(M$,L$),C=Math.imul(M$,C$),C=C+Math.imul(S$,L$)|0,g=Math.imul(S$,C$),I=I+Math.imul(X$,w6)|0,C=C+Math.imul(X$,z6)|0,C=C+Math.imul(k$,w6)|0,g=g+Math.imul(k$,z6)|0;var sY=(G+I|0)+((C&8191)<<13)|0;G=(g+(C>>>13)|0)+(sY>>>26)|0,sY&=67108863,I=Math.imul(M$,w6),C=Math.imul(M$,z6),C=C+Math.imul(S$,w6)|0,g=Math.imul(S$,z6);var $O=(G+I|0)+((C&8191)<<13)|0;if(G=(g+(C>>>13)|0)+($O>>>26)|0,$O&=67108863,z[0]=D6,z[1]=E6,z[2]=Q6,z[3]=a6,z[4]=e6,z[5]=s6,z[6]=$q,z[7]=qq,z[8]=_q,z[9]=Kq,z[10]=Pq,z[11]=Yq,z[12]=Oq,z[13]=jq,z[14]=vq,z[15]=zq,z[16]=eY,z[17]=sY,z[18]=$O,G!==0)z[19]=G,V.length++;return V};if(!Math.imul)L=h;function b(H,f,V){V.negative=f.negative^H.negative,V.length=H.length+f.length;var S=0,A=0;for(var z=0;z<V.length-1;z++){var G=A;A=0;var I=S&67108863,C=Math.min(z,f.length-1);for(var g=Math.max(0,z-H.length+1);g<=C;g++){var x=z-g,l=H.words[x]|0,o=f.words[g]|0,T$=l*o,e=T$&67108863;G=G+(T$/67108864|0)|0,e=e+I|0,I=e&67108863,G=G+(e>>>26)|0,A+=G>>>26,G&=67108863}V.words[z]=I,S=G,G=A}if(S!==0)V.words[z]=S;else V.length--;return V._strip()}function y(H,f,V){return b(H,f,V)}Y.prototype.mulTo=function(H,f){var V,S=this.length+H.length;if(this.length===10&&H.length===10)V=L(this,H,f);else if(S<63)V=h(this,H,f);else if(S<1024)V=b(this,H,f);else V=y(this,H,f);return V};function p(H,f){this.x=H,this.y=f}p.prototype.makeRBT=function(H){var f=Array(H),V=Y.prototype._countBits(H)-1;for(var S=0;S<H;S++)f[S]=this.revBin(S,V,H);return f},p.prototype.revBin=function(H,f,V){if(H===0||H===V-1)return H;var S=0;for(var A=0;A<f;A++)S|=(H&1)<<f-A-1,H>>=1;return S},p.prototype.permute=function(H,f,V,S,A,z){for(var G=0;G<z;G++)S[G]=f[H[G]],A[G]=V[H[G]]},p.prototype.transform=function(H,f,V,S,A,z){this.permute(z,H,f,V,S,A);for(var G=1;G<A;G<<=1){var I=G<<1,C=Math.cos(2*Math.PI/I),g=Math.sin(2*Math.PI/I);for(var x=0;x<A;x+=I){var l=C,o=g;for(var T$=0;T$<G;T$++){var e=V[x+T$],n=S[x+T$],j$=V[x+T$+G],s=S[x+T$+G],P$=l*j$-o*s;if(s=l*s+o*j$,j$=P$,V[x+T$]=e+j$,S[x+T$]=n+s,V[x+T$+G]=e-j$,S[x+T$+G]=n-s,T$!==I)P$=C*l-g*o,o=C*o+g*l,l=P$}}}},p.prototype.guessLen13b=function(H,f){var V=Math.max(f,H)|1,S=V&1,A=0;for(V=V/2|0;V;V=V>>>1)A++;return 1<<A+1+S},p.prototype.conjugate=function(H,f,V){if(V<=1)return;for(var S=0;S<V/2;S++){var A=H[S];H[S]=H[V-S-1],H[V-S-1]=A,A=f[S],f[S]=-f[V-S-1],f[V-S-1]=-A}},p.prototype.normalize13b=function(H,f){var V=0;for(var S=0;S<f/2;S++){var A=Math.round(H[2*S+1]/f)*8192+Math.round(H[2*S]/f)+V;if(H[S]=A&67108863,A<67108864)V=0;else V=A/67108864|0}return H},p.prototype.convert13b=function(H,f,V,S){var A=0;for(var z=0;z<f;z++)A=A+(H[z]|0),V[2*z]=A&8191,A=A>>>13,V[2*z+1]=A&8191,A=A>>>13;for(z=2*f;z<S;++z)V[z]=0;K(A===0),K((A&-8192)===0)},p.prototype.stub=function(H){var f=Array(H);for(var V=0;V<H;V++)f[V]=0;return f},p.prototype.mulp=function(H,f,V){var S=2*this.guessLen13b(H.length,f.length),A=this.makeRBT(S),z=this.stub(S),G=Array(S),I=Array(S),C=Array(S),g=Array(S),x=Array(S),l=Array(S),o=V.words;o.length=S,this.convert13b(H.words,H.length,G,S),this.convert13b(f.words,f.length,g,S),this.transform(G,z,I,C,S,A),this.transform(g,z,x,l,S,A);for(var T$=0;T$<S;T$++){var e=I[T$]*x[T$]-C[T$]*l[T$];C[T$]=I[T$]*l[T$]+C[T$]*x[T$],I[T$]=e}return this.conjugate(I,C,S),this.transform(I,C,o,z,S,A),this.conjugate(o,z,S),this.normalize13b(o,S),V.negative=H.negative^f.negative,V.length=H.length+f.length,V._strip()},Y.prototype.mul=function(H){var f=new Y(null);return f.words=Array(this.length+H.length),this.mulTo(H,f)},Y.prototype.mulf=function(H){var f=new Y(null);return f.words=Array(this.length+H.length),y(this,H,f)},Y.prototype.imul=function(H){return this.clone().mulTo(H,this)},Y.prototype.imuln=function(H){var f=H<0;if(f)H=-H;K(typeof H==="number"),K(H<67108864);var V=0;for(var S=0;S<this.length;S++){var A=(this.words[S]|0)*H,z=(A&67108863)+(V&67108863);V>>=26,V+=A/67108864|0,V+=z>>>26,this.words[S]=z&67108863}if(V!==0)this.words[S]=V,this.length++;return this.length=H===0?1:this.length,f?this.ineg():this},Y.prototype.muln=function(H){return this.clone().imuln(H)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(H){var f=D(H);if(f.length===0)return new Y(1);var V=this;for(var S=0;S<f.length;S++,V=V.sqr())if(f[S]!==0)break;if(++S<f.length)for(var A=V.sqr();S<f.length;S++,A=A.sqr()){if(f[S]===0)continue;V=V.mul(A)}return V},Y.prototype.iushln=function(H){K(typeof H==="number"&&H>=0);var f=H%26,V=(H-f)/26,S=67108863>>>26-f<<26-f,A;if(f!==0){var z=0;for(A=0;A<this.length;A++){var G=this.words[A]&S,I=(this.words[A]|0)-G<<f;this.words[A]=I|z,z=G>>>26-f}if(z)this.words[A]=z,this.length++}if(V!==0){for(A=this.length-1;A>=0;A--)this.words[A+V]=this.words[A];for(A=0;A<V;A++)this.words[A]=0;this.length+=V}return this._strip()},Y.prototype.ishln=function(H){return K(this.negative===0),this.iushln(H)},Y.prototype.iushrn=function(H,f,V){K(typeof H==="number"&&H>=0);var S;if(f)S=(f-f%26)/26;else S=0;var A=H%26,z=Math.min((H-A)/26,this.length),G=67108863^67108863>>>A<<A,I=V;if(S-=z,S=Math.max(0,S),I){for(var C=0;C<z;C++)I.words[C]=this.words[C];I.length=z}if(z===0);else if(this.length>z){this.length-=z;for(C=0;C<this.length;C++)this.words[C]=this.words[C+z]}else this.words[0]=0,this.length=1;var g=0;for(C=this.length-1;C>=0&&(g!==0||C>=S);C--){var x=this.words[C]|0;this.words[C]=g<<26-A|x>>>A,g=x&G}if(I&&g!==0)I.words[I.length++]=g;if(this.length===0)this.words[0]=0,this.length=1;return this._strip()},Y.prototype.ishrn=function(H,f,V){return K(this.negative===0),this.iushrn(H,f,V)},Y.prototype.shln=function(H){return this.clone().ishln(H)},Y.prototype.ushln=function(H){return this.clone().iushln(H)},Y.prototype.shrn=function(H){return this.clone().ishrn(H)},Y.prototype.ushrn=function(H){return this.clone().iushrn(H)},Y.prototype.testn=function(H){K(typeof H==="number"&&H>=0);var f=H%26,V=(H-f)/26,S=1<<f;if(this.length<=V)return!1;var A=this.words[V];return!!(A&S)},Y.prototype.imaskn=function(H){K(typeof H==="number"&&H>=0);var f=H%26,V=(H-f)/26;if(K(this.negative===0,"imaskn works only with positive numbers"),this.length<=V)return this;if(f!==0)V++;if(this.length=Math.min(V,this.length),f!==0){var S=67108863^67108863>>>f<<f;this.words[this.length-1]&=S}return this._strip()},Y.prototype.maskn=function(H){return this.clone().imaskn(H)},Y.prototype.iaddn=function(H){if(K(typeof H==="number"),K(H<67108864),H<0)return this.isubn(-H);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=H)return this.words[0]=H-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(H),this.negative=1,this}return this._iaddn(H)},Y.prototype._iaddn=function(H){this.words[0]+=H;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)if(this.words[f]-=67108864,f===this.length-1)this.words[f+1]=1;else this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},Y.prototype.isubn=function(H){if(K(typeof H==="number"),K(H<67108864),H<0)return this.iaddn(-H);if(this.negative!==0)return this.negative=0,this.iaddn(H),this.negative=1,this;if(this.words[0]-=H,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},Y.prototype.addn=function(H){return this.clone().iaddn(H)},Y.prototype.subn=function(H){return this.clone().isubn(H)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(H,f,V){var S=H.length+V,A;this._expand(S);var z,G=0;for(A=0;A<H.length;A++){z=(this.words[A+V]|0)+G;var I=(H.words[A]|0)*f;z-=I&67108863,G=(z>>26)-(I/67108864|0),this.words[A+V]=z&67108863}for(;A<this.length-V;A++)z=(this.words[A+V]|0)+G,G=z>>26,this.words[A+V]=z&67108863;if(G===0)return this._strip();K(G===-1),G=0;for(A=0;A<this.length;A++)z=-(this.words[A]|0)+G,G=z>>26,this.words[A]=z&67108863;return this.negative=1,this._strip()},Y.prototype._wordDiv=function(H,f){var V=this.length-H.length,S=this.clone(),A=H,z=A.words[A.length-1]|0,G=this._countBits(z);if(V=26-G,V!==0)A=A.ushln(V),S.iushln(V),z=A.words[A.length-1]|0;var I=S.length-A.length,C;if(f!=="mod"){C=new Y(null),C.length=I+1,C.words=Array(C.length);for(var g=0;g<C.length;g++)C.words[g]=0}var x=S.clone()._ishlnsubmul(A,1,I);if(x.negative===0){if(S=x,C)C.words[I]=1}for(var l=I-1;l>=0;l--){var o=(S.words[A.length+l]|0)*67108864+(S.words[A.length+l-1]|0);o=Math.min(o/z|0,67108863),S._ishlnsubmul(A,o,l);while(S.negative!==0)if(o--,S.negative=0,S._ishlnsubmul(A,1,l),!S.isZero())S.negative^=1;if(C)C.words[l]=o}if(C)C._strip();if(S._strip(),f!=="div"&&V!==0)S.iushrn(V);return{div:C||null,mod:S}},Y.prototype.divmod=function(H,f,V){if(K(!H.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var S,A,z;if(this.negative!==0&&H.negative===0){if(z=this.neg().divmod(H,f),f!=="mod")S=z.div.neg();if(f!=="div"){if(A=z.mod.neg(),V&&A.negative!==0)A.iadd(H)}return{div:S,mod:A}}if(this.negative===0&&H.negative!==0){if(z=this.divmod(H.neg(),f),f!=="mod")S=z.div.neg();return{div:S,mod:z.mod}}if((this.negative&H.negative)!==0){if(z=this.neg().divmod(H.neg(),f),f!=="div"){if(A=z.mod.neg(),V&&A.negative!==0)A.isub(H)}return{div:z.div,mod:A}}if(H.length>this.length||this.cmp(H)<0)return{div:new Y(0),mod:this};if(H.length===1){if(f==="div")return{div:this.divn(H.words[0]),mod:null};if(f==="mod")return{div:null,mod:new Y(this.modrn(H.words[0]))};return{div:this.divn(H.words[0]),mod:new Y(this.modrn(H.words[0]))}}return this._wordDiv(H,f)},Y.prototype.div=function(H){return this.divmod(H,"div",!1).div},Y.prototype.mod=function(H){return this.divmod(H,"mod",!1).mod},Y.prototype.umod=function(H){return this.divmod(H,"mod",!0).mod},Y.prototype.divRound=function(H){var f=this.divmod(H);if(f.mod.isZero())return f.div;var V=f.div.negative!==0?f.mod.isub(H):f.mod,S=H.ushrn(1),A=H.andln(1),z=V.cmp(S);if(z<0||A===1&&z===0)return f.div;return f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},Y.prototype.modrn=function(H){var f=H<0;if(f)H=-H;K(H<=67108863);var V=67108864%H,S=0;for(var A=this.length-1;A>=0;A--)S=(V*S+(this.words[A]|0))%H;return f?-S:S},Y.prototype.modn=function(H){return this.modrn(H)},Y.prototype.idivn=function(H){var f=H<0;if(f)H=-H;K(H<=67108863);var V=0;for(var S=this.length-1;S>=0;S--){var A=(this.words[S]|0)+V*67108864;this.words[S]=A/H|0,V=A%H}return this._strip(),f?this.ineg():this},Y.prototype.divn=function(H){return this.clone().idivn(H)},Y.prototype.egcd=function(H){K(H.negative===0),K(!H.isZero());var f=this,V=H.clone();if(f.negative!==0)f=f.umod(H);else f=f.clone();var S=new Y(1),A=new Y(0),z=new Y(0),G=new Y(1),I=0;while(f.isEven()&&V.isEven())f.iushrn(1),V.iushrn(1),++I;var C=V.clone(),g=f.clone();while(!f.isZero()){for(var x=0,l=1;(f.words[0]&l)===0&&x<26;++x,l<<=1);if(x>0){f.iushrn(x);while(x-- >0){if(S.isOdd()||A.isOdd())S.iadd(C),A.isub(g);S.iushrn(1),A.iushrn(1)}}for(var o=0,T$=1;(V.words[0]&T$)===0&&o<26;++o,T$<<=1);if(o>0){V.iushrn(o);while(o-- >0){if(z.isOdd()||G.isOdd())z.iadd(C),G.isub(g);z.iushrn(1),G.iushrn(1)}}if(f.cmp(V)>=0)f.isub(V),S.isub(z),A.isub(G);else V.isub(f),z.isub(S),G.isub(A)}return{a:z,b:G,gcd:V.iushln(I)}},Y.prototype._invmp=function(H){K(H.negative===0),K(!H.isZero());var f=this,V=H.clone();if(f.negative!==0)f=f.umod(H);else f=f.clone();var S=new Y(1),A=new Y(0),z=V.clone();while(f.cmpn(1)>0&&V.cmpn(1)>0){for(var G=0,I=1;(f.words[0]&I)===0&&G<26;++G,I<<=1);if(G>0){f.iushrn(G);while(G-- >0){if(S.isOdd())S.iadd(z);S.iushrn(1)}}for(var C=0,g=1;(V.words[0]&g)===0&&C<26;++C,g<<=1);if(C>0){V.iushrn(C);while(C-- >0){if(A.isOdd())A.iadd(z);A.iushrn(1)}}if(f.cmp(V)>=0)f.isub(V),S.isub(A);else V.isub(f),A.isub(S)}var x;if(f.cmpn(1)===0)x=S;else x=A;if(x.cmpn(0)<0)x.iadd(H);return x},Y.prototype.gcd=function(H){if(this.isZero())return H.abs();if(H.isZero())return this.abs();var f=this.clone(),V=H.clone();f.negative=0,V.negative=0;for(var S=0;f.isEven()&&V.isEven();S++)f.iushrn(1),V.iushrn(1);do{while(f.isEven())f.iushrn(1);while(V.isEven())V.iushrn(1);var A=f.cmp(V);if(A<0){var z=f;f=V,V=z}else if(A===0||V.cmpn(1)===0)break;f.isub(V)}while(!0);return V.iushln(S)},Y.prototype.invm=function(H){return this.egcd(H).a.umod(H)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(H){return this.words[0]&H},Y.prototype.bincn=function(H){K(typeof H==="number");var f=H%26,V=(H-f)/26,S=1<<f;if(this.length<=V)return this._expand(V+1),this.words[V]|=S,this;var A=S;for(var z=V;A!==0&&z<this.length;z++){var G=this.words[z]|0;G+=A,A=G>>>26,G&=67108863,this.words[z]=G}if(A!==0)this.words[z]=A,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(H){var f=H<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var V;if(this.length>1)V=1;else{if(f)H=-H;K(H<=67108863,"Number is too big");var S=this.words[0]|0;V=S===H?0:S<H?-1:1}if(this.negative!==0)return-V|0;return V},Y.prototype.cmp=function(H){if(this.negative!==0&&H.negative===0)return-1;if(this.negative===0&&H.negative!==0)return 1;var f=this.ucmp(H);if(this.negative!==0)return-f|0;return f},Y.prototype.ucmp=function(H){if(this.length>H.length)return 1;if(this.length<H.length)return-1;var f=0;for(var V=this.length-1;V>=0;V--){var S=this.words[V]|0,A=H.words[V]|0;if(S===A)continue;if(S<A)f=-1;else if(S>A)f=1;break}return f},Y.prototype.gtn=function(H){return this.cmpn(H)===1},Y.prototype.gt=function(H){return this.cmp(H)===1},Y.prototype.gten=function(H){return this.cmpn(H)>=0},Y.prototype.gte=function(H){return this.cmp(H)>=0},Y.prototype.ltn=function(H){return this.cmpn(H)===-1},Y.prototype.lt=function(H){return this.cmp(H)===-1},Y.prototype.lten=function(H){return this.cmpn(H)<=0},Y.prototype.lte=function(H){return this.cmp(H)<=0},Y.prototype.eqn=function(H){return this.cmpn(H)===0},Y.prototype.eq=function(H){return this.cmp(H)===0},Y.red=function(H){return new J(H)},Y.prototype.toRed=function(H){return K(!this.red,"Already a number in reduction context"),K(this.negative===0,"red works only with positives"),H.convertTo(this)._forceRed(H)},Y.prototype.fromRed=function(){return K(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(H){return this.red=H,this},Y.prototype.forceRed=function(H){return K(!this.red,"Already a number in reduction context"),this._forceRed(H)},Y.prototype.redAdd=function(H){return K(this.red,"redAdd works only with red numbers"),this.red.add(this,H)},Y.prototype.redIAdd=function(H){return K(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,H)},Y.prototype.redSub=function(H){return K(this.red,"redSub works only with red numbers"),this.red.sub(this,H)},Y.prototype.redISub=function(H){return K(this.red,"redISub works only with red numbers"),this.red.isub(this,H)},Y.prototype.redShl=function(H){return K(this.red,"redShl works only with red numbers"),this.red.shl(this,H)},Y.prototype.redMul=function(H){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.mul(this,H)},Y.prototype.redIMul=function(H){return K(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.imul(this,H)},Y.prototype.redSqr=function(){return K(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return K(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return K(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return K(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return K(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(H){return K(this.red&&!H.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,H)};var i={k256:null,p224:null,p192:null,p25519:null};function $$(H,f){this.name=H,this.p=new Y(f,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$$.prototype._tmp=function(){var H=new Y(null);return H.words=Array(Math.ceil(this.n/13)),H},$$.prototype.ireduce=function(H){var f=H,V;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),V=f.bitLength();while(V>this.n);var S=V<this.n?-1:f.ucmp(this.p);if(S===0)f.words[0]=0,f.length=1;else if(S>0)f.isub(this.p);else if(f.strip!==void 0)f.strip();else f._strip();return f},$$.prototype.split=function(H,f){H.iushrn(this.n,0,f)},$$.prototype.imulK=function(H){return H.imul(this.k)};function Q(){$$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(Q,$$),Q.prototype.split=function(H,f){var V=4194303,S=Math.min(H.length,9);for(var A=0;A<S;A++)f.words[A]=H.words[A];if(f.length=S,H.length<=9){H.words[0]=0,H.length=1;return}var z=H.words[9];f.words[f.length++]=z&V;for(A=10;A<H.length;A++){var G=H.words[A]|0;H.words[A-10]=(G&V)<<4|z>>>22,z=G}if(z>>>=22,H.words[A-10]=z,z===0&&H.length>10)H.length-=10;else H.length-=9},Q.prototype.imulK=function(H){H.words[H.length]=0,H.words[H.length+1]=0,H.length+=2;var f=0;for(var V=0;V<H.length;V++){var S=H.words[V]|0;f+=S*977,H.words[V]=f&67108863,f=S*64+(f/67108864|0)}if(H.words[H.length-1]===0){if(H.length--,H.words[H.length-1]===0)H.length--}return H};function c(){$$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(c,$$);function a(){$$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(a,$$);function j(){$$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(j,$$),j.prototype.imulK=function(H){var f=0;for(var V=0;V<H.length;V++){var S=(H.words[V]|0)*19+f,A=S&67108863;S>>>=26,H.words[V]=A,f=S}if(f!==0)H.words[H.length++]=f;return H},Y._prime=function(H){if(i[H])return i[H];var f;if(H==="k256")f=new Q;else if(H==="p224")f=new c;else if(H==="p192")f=new a;else if(H==="p25519")f=new j;else throw Error("Unknown prime "+H);return i[H]=f,f};function J(H){if(typeof H==="string"){var f=Y._prime(H);this.m=f.p,this.prime=f}else K(H.gtn(1),"modulus must be greater than 1"),this.m=H,this.prime=null}J.prototype._verify1=function(H){K(H.negative===0,"red works only with positives"),K(H.red,"red works only with red numbers")},J.prototype._verify2=function(H,f){K((H.negative|f.negative)===0,"red works only with positives"),K(H.red&&H.red===f.red,"red works only with red numbers")},J.prototype.imod=function(H){if(this.prime)return this.prime.ireduce(H)._forceRed(this);return w(H,H.umod(this.m)._forceRed(this)),H},J.prototype.neg=function(H){if(H.isZero())return H.clone();return this.m.sub(H)._forceRed(this)},J.prototype.add=function(H,f){this._verify2(H,f);var V=H.add(f);if(V.cmp(this.m)>=0)V.isub(this.m);return V._forceRed(this)},J.prototype.iadd=function(H,f){this._verify2(H,f);var V=H.iadd(f);if(V.cmp(this.m)>=0)V.isub(this.m);return V},J.prototype.sub=function(H,f){this._verify2(H,f);var V=H.sub(f);if(V.cmpn(0)<0)V.iadd(this.m);return V._forceRed(this)},J.prototype.isub=function(H,f){this._verify2(H,f);var V=H.isub(f);if(V.cmpn(0)<0)V.iadd(this.m);return V},J.prototype.shl=function(H,f){return this._verify1(H),this.imod(H.ushln(f))},J.prototype.imul=function(H,f){return this._verify2(H,f),this.imod(H.imul(f))},J.prototype.mul=function(H,f){return this._verify2(H,f),this.imod(H.mul(f))},J.prototype.isqr=function(H){return this.imul(H,H.clone())},J.prototype.sqr=function(H){return this.mul(H,H)},J.prototype.sqrt=function(H){if(H.isZero())return H.clone();var f=this.m.andln(3);if(K(f%2===1),f===3){var V=this.m.add(new Y(1)).iushrn(2);return this.pow(H,V)}var S=this.m.subn(1),A=0;while(!S.isZero()&&S.andln(1)===0)A++,S.iushrn(1);K(!S.isZero());var z=new Y(1).toRed(this),G=z.redNeg(),I=this.m.subn(1).iushrn(1),C=this.m.bitLength();C=new Y(2*C*C).toRed(this);while(this.pow(C,I).cmp(G)!==0)C.redIAdd(G);var g=this.pow(C,S),x=this.pow(H,S.addn(1).iushrn(1)),l=this.pow(H,S),o=A;while(l.cmp(z)!==0){var T$=l;for(var e=0;T$.cmp(z)!==0;e++)T$=T$.redSqr();K(e<o);var n=this.pow(g,new Y(1).iushln(o-e-1));x=x.redMul(n),g=n.redSqr(),l=l.redMul(g),o=e}return x},J.prototype.invm=function(H){var f=H._invmp(this.m);if(f.negative!==0)return f.negative=0,this.imod(f).redNeg();else return this.imod(f)},J.prototype.pow=function(H,f){if(f.isZero())return new Y(1).toRed(this);if(f.cmpn(1)===0)return H.clone();var V=4,S=Array(1<<V);S[0]=new Y(1).toRed(this),S[1]=H;for(var A=2;A<S.length;A++)S[A]=this.mul(S[A-1],H);var z=S[0],G=0,I=0,C=f.bitLength()%26;if(C===0)C=26;for(A=f.length-1;A>=0;A--){var g=f.words[A];for(var x=C-1;x>=0;x--){var l=g>>x&1;if(z!==S[0])z=this.sqr(z);if(l===0&&G===0){I=0;continue}if(G<<=1,G|=l,I++,I!==V&&(A!==0||x!==0))continue;z=this.mul(z,S[G]),I=0,G=0}C=26}return z},J.prototype.convertTo=function(H){var f=H.umod(this.m);return f===H?f.clone():f},J.prototype.convertFrom=function(H){var f=H.clone();return f.red=null,f},Y.mont=function(H){return new X(H)};function X(H){if(J.call(this,H),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(X,J),X.prototype.convertTo=function(H){return this.imod(H.ushln(this.shift))},X.prototype.convertFrom=function(H){var f=this.imod(H.mul(this.rinv));return f.red=null,f},X.prototype.imul=function(H,f){if(H.isZero()||f.isZero())return H.words[0]=0,H.length=1,H;var V=H.imul(f),S=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=V.isub(S).iushrn(this.shift),z=A;if(A.cmp(this.m)>=0)z=A.isub(this.m);else if(A.cmpn(0)<0)z=A.iadd(this.m);return z._forceRed(this)},X.prototype.mul=function(H,f){if(H.isZero()||f.isZero())return new Y(0)._forceRed(this);var V=H.mul(f),S=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=V.isub(S).iushrn(this.shift),z=A;if(A.cmp(this.m)>=0)z=A.isub(this.m);else if(A.cmpn(0)<0)z=A.iadd(this.m);return z._forceRed(this)},X.prototype.invm=function(H){var f=this.imod(H._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof q>"u"||q,$)}),AE=Z$(($,q)=>{var _=Pt(),P=CY(),K=Bq().Buffer;function O(W){var T=W.modulus.byteLength(),Z;do Z=new _(P(T));while(Z.cmp(W.modulus)>=0||!Z.umod(W.prime1)||!Z.umod(W.prime2));return Z}function Y(W){var T=O(W),Z=T.toRed(_.mont(W.modulus)).redPow(new _(W.publicExponent)).fromRed();return{blinder:Z,unblinder:T.invm(W.modulus)}}function v(W,T){var Z=Y(T),w=T.modulus.byteLength(),k=new _(W).mul(Z.blinder).umod(T.modulus),M=k.toRed(_.mont(T.prime1)),N=k.toRed(_.mont(T.prime2)),R=T.coefficient,E=T.prime1,D=T.prime2,h=M.redPow(T.exponent1).fromRed(),L=N.redPow(T.exponent2).fromRed(),b=h.isub(L).imul(R).umod(E).imul(D);return L.iadd(b).imul(Z.unblinder).umod(T.modulus).toArrayLike(K,"be",w)}v.getr=O,q.exports=v}),Yt=Z$(($,q)=>{var _=wE(),P=CY(),K=EY(),O=ZE(),Y=fE(),v=Lw(),W=XE(),T=AE(),Z=Bq().Buffer;q.exports=function(N,R,E){var D;if(N.padding)D=N.padding;else if(E)D=1;else D=4;var h=_(N),L;if(D===4)L=w(h,R);else if(D===1)L=k(h,R,E);else if(D===3){if(L=new v(R),L.cmp(h.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");if(E)return T(L,h);else return W(L,h)};function w(N,R){var E=N.modulus.byteLength(),D=R.length,h=K("sha1").update(Z.alloc(0)).digest(),L=h.length,b=2*L;if(D>E-b-2)throw Error("message too long");var y=Z.alloc(E-D-b-2),p=E-L-1,i=P(L),$$=Y(Z.concat([h,y,Z.alloc(1,1),R],p),O(i,p)),Q=Y(i,O($$,L));return new v(Z.concat([Z.alloc(1),Q,$$],E))}function k(N,R,E){var D=R.length,h=N.modulus.byteLength();if(D>h-11)throw Error("message too long");var L;if(E)L=Z.alloc(h-D-3,255);else L=M(h-D-3);return new v(Z.concat([Z.from([0,E?1:2]),L,Z.alloc(1),R],h))}function M(N){var R=Z.allocUnsafe(N),E=0,D=P(N*2),h=0,L;while(E<N){if(h===D.length)D=P(N*2),h=0;if(L=D[h++],L)R[E++]=L}return R}}),Ot=Z$(($,q)=>{var _=wE(),P=ZE(),K=fE(),O=Lw(),Y=AE(),v=EY(),W=XE(),T=Bq().Buffer;q.exports=function(M,N,R){var E;if(M.padding)E=M.padding;else if(R)E=1;else E=4;var D=_(M),h=D.modulus.byteLength();if(N.length>h||new O(N).cmp(D.modulus)>=0)throw Error("decryption error");var L;if(R)L=W(new O(N),D);else L=Y(N,D);var b=T.alloc(h-L.length);if(L=T.concat([b,L],h),E===4)return Z(D,L);else if(E===1)return w(D,L,R);else if(E===3)return L;else throw Error("unknown padding")};function Z(M,N){var R=M.modulus.byteLength(),E=v("sha1").update(T.alloc(0)).digest(),D=E.length;if(N[0]!==0)throw Error("decryption error");var h=N.slice(1,D+1),L=N.slice(D+1),b=K(h,P(L,D)),y=K(L,P(b,R-D-1));if(k(E,y.slice(0,D)))throw Error("decryption error");var p=D;while(y[p]===0)p++;if(y[p++]!==1)throw Error("decryption error");return y.slice(p)}function w(M,N,R){var E=N.slice(0,2),D=2,h=0;while(N[D++]!==0)if(D>=N.length){h++;break}var L=N.slice(2,D-1);if(E.toString("hex")!=="0002"&&!R||E.toString("hex")!=="0001"&&R)h++;if(L.length<8)h++;if(h)throw Error("decryption error");return N.slice(D)}function k(M,N){M=T.from(M),N=T.from(N);var R=0,E=M.length;if(M.length!==N.length)R++,E=Math.min(M.length,N.length);var D=-1;while(++D<E)R+=M[D]^N[D];return R}}),Sw=Z$(($)=>{$.publicEncrypt=Yt(),$.privateDecrypt=Ot(),$.privateEncrypt=function(q,_){return $.publicEncrypt(q,_,!0)},$.publicDecrypt=function(q,_){return $.privateDecrypt(q,_,!0)}}),jt=Z$(($)=>{var q=(tq(),H6(Uq));if(typeof q.publicEncrypt!=="function")q=Sw();if($.publicEncrypt=q.publicEncrypt,$.privateDecrypt=q.privateDecrypt,typeof q.privateEncrypt!=="function")$.privateEncrypt=Sw().privateEncrypt;else $.privateEncrypt=q.privateEncrypt;if(typeof q.publicDecrypt!=="function")$.publicDecrypt=Sw().publicDecrypt;else $.publicDecrypt=q.publicDecrypt}),vt=Z$(($)=>{var q=Bq(),_=CY(),P=q.Buffer,K=q.kMaxLength,O=globalThis.crypto||globalThis.msCrypto,Y=Math.pow(2,32)-1;function v(k,M){if(typeof k!=="number"||k!==k)throw TypeError("offset must be a number");if(k>Y||k<0)throw TypeError("offset must be a uint32");if(k>K||k>M)throw RangeError("offset out of range")}function W(k,M,N){if(typeof k!=="number"||k!==k)throw TypeError("size must be a number");if(k>Y||k<0)throw TypeError("size must be a uint32");if(k+M>N||k>K)throw RangeError("buffer too small")}O&&O.getRandomValues,$.randomFill=T,$.randomFillSync=w;function T(k,M,N,R){if(!P.isBuffer(k)&&!(k instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof M==="function")R=M,M=0,N=k.length;else if(typeof N==="function")R=N,N=k.length-M;else if(typeof R!=="function")throw TypeError('"cb" argument must be a function');return v(M,k.length),W(N,M,k.length),Z(k,M,N,R)}function Z(k,M,N,R){if(!1)var E,D;if(R){_(N,function(L,b){if(L)return R(L);b.copy(k,M),R(null,k)});return}var h=_(N);return h.copy(k,M),k}function w(k,M,N){if(typeof M>"u")M=0;if(!P.isBuffer(k)&&!(k instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(v(M,k.length),N===void 0)N=k.length-M;return W(N,M,k.length),Z(k,M,N)}}),zt=Z$(($,q)=>{var _=(tq(),H6(Uq));if(typeof _.randomFill==="function"&&typeof _.randomFillSync==="function")$.randomFill=_.randomFill,$.randomFillSync=_.randomFillSync;else q.exports=vt()}),Jt=Z$(($)=>{$.randomBytes=$.rng=$.pseudoRandomBytes=$.prng=CY(),$.createHash=$.Hash=EY(),$.createHmac=$.Hmac=BC();var q=yB(),_=Object.keys(q),P=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(_);$.getHashes=function(){return P};var K=KE();$.pbkdf2=K.pbkdf2,$.pbkdf2Sync=K.pbkdf2Sync;var O=fU();$.Cipher=O.Cipher,$.createCipher=O.createCipher,$.Cipheriv=O.Cipheriv,$.createCipheriv=O.createCipheriv,$.Decipher=O.Decipher,$.createDecipher=O.createDecipher,$.Decipheriv=O.Decipheriv,$.createDecipheriv=O.createDecipheriv,$.getCiphers=O.getCiphers,$.listCiphers=O.listCiphers;var Y=XU();$.DiffieHellmanGroup=Y.DiffieHellmanGroup,$.createDiffieHellmanGroup=Y.createDiffieHellmanGroup,$.getDiffieHellman=Y.getDiffieHellman,$.createDiffieHellman=Y.createDiffieHellman,$.DiffieHellman=Y.DiffieHellman;var v=AU();$.createSign=v.createSign,$.Sign=v.Sign,$.createVerify=v.createVerify,$.Verify=v.Verify,$.createECDH=lU();var W=jt();$.publicEncrypt=W.publicEncrypt,$.privateEncrypt=W.privateEncrypt,$.publicDecrypt=W.publicDecrypt,$.privateDecrypt=W.privateDecrypt;var T=zt();$.randomFill=T.randomFill,$.randomFillSync=T.randomFillSync,$.createCredentials=function(){throw Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},$.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),X6=bB(Jt(),1),Wt=X6.prng,Ht=X6.pseudoRandomBytes,Tt=X6.rng,wt=X6.randomBytes,Zt=X6.Hash,ft=X6.createHash,Xt=X6.Hmac,At=X6.createHmac,kt=X6.getHashes,Gt=X6.pbkdf2,Vt=X6.pbkdf2Sync,St=X6.Cipher,Mt=X6.createCipher,Nt=X6.Cipheriv,Ct=X6.createCipheriv,Et=X6.Decipher,Rt=X6.createDecipher,It=X6.Decipheriv,ht=X6.createDecipheriv,Dt=X6.getCiphers,Lt=X6.listCiphers,gt=X6.DiffieHellmanGroup,bt=X6.createDiffieHellmanGroup,yt=X6.getDiffieHellman,ut=X6.createDiffieHellman,xt=X6.DiffieHellman,pt=X6.createSign,ct=X6.Sign,mt=X6.createVerify,dt=X6.Verify,lt=X6.createECDH,rt=X6.publicEncrypt,ot=X6.privateEncrypt,nt=X6.publicDecrypt,it=X6.privateDecrypt,Bt=X6.randomFill,Ut=X6.randomFillSync,tt=X6.createCredentials,Ft=X6.constants,st=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"];qF=crypto,_F=crypto});var kE=N$((BY$,KF)=>{KF.exports={name:"dotenv",version:"17.2.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run tests/**/*.js --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run tests/**/*.js --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var CE=N$((UY$,y_)=>{var gw=(()=>({})),hY=(HY(),H6(WY)),PF=(QT(),H6(FT)),YF=(tq(),H6(Uq)),OF=kE(),bw=OF.version,GE=["\uD83D\uDD10 encrypt with Dotenvx: https://dotenvx.com","\uD83D\uDD10 prevent committing .env to code: https://dotenvx.com/precommit","\uD83D\uDD10 prevent building .env in docker: https://dotenvx.com/prebuild","\uD83D\uDCE1 add observability to secrets: https://dotenvx.com/ops","\uD83D\uDC65 sync secrets across teammates & machines: https://dotenvx.com/ops","\uD83D\uDDC2 backup and recover secrets: https://dotenvx.com/ops"," audit secrets and track compliance: https://dotenvx.com/ops","\uD83D\uDD04 add secrets lifecycle management: https://dotenvx.com/ops","\uD83D\uDD11 add access controls to secrets: https://dotenvx.com/ops","\uD83D\uDEE0  run anywhere with `dotenvx run -- yourcommand`","  specify custom .env file path with { path: '/custom/path/.env' }","  enable debug logging with { debug: true }","  override existing env vars with { override: true }","  suppress all logs with { quiet: true }","  write to custom object with { processEnv: myObject }","  load multiple .env files with { path: ['.env.local', '.env'] }"];function jF(){return GE[Math.floor(Math.random()*GE.length)]}function MP($){if(typeof $==="string")return!["false","0","no","off",""].includes($.toLowerCase());return Boolean($)}function vF(){return process.stdout.isTTY}function zF($){return vF()?`\x1B[2m${$}\x1B[0m`:$}var JF=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function WF($){let q={},_=$.toString();_=_.replace(/\r\n?/mg,`
`);let P;while((P=JF.exec(_))!=null){let K=P[1],O=P[2]||"";O=O.trim();let Y=O[0];if(O=O.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),Y==='"')O=O.replace(/\\n/g,`
`),O=O.replace(/\\r/g,"\r");q[K]=O}return q}function HF($){$=$||{};let q=NE($);$.path=q;let _=Wq.configDotenv($);if(!_.parsed){let Y=Error(`MISSING_DATA: Cannot parse ${q} for an unknown reason`);throw Y.code="MISSING_DATA",Y}let P=ME($).split(","),K=P.length,O;for(let Y=0;Y<K;Y++)try{let v=P[Y].trim(),W=wF(_,v);O=Wq.decrypt(W.ciphertext,W.key);break}catch(v){if(Y+1>=K)throw v}return Wq.parse(O)}function TF($){console.error(`[dotenv@${bw}][WARN] ${$}`)}function x7($){console.log(`[dotenv@${bw}][DEBUG] ${$}`)}function SE($){console.log(`[dotenv@${bw}] ${$}`)}function ME($){if($&&$.DOTENV_KEY&&$.DOTENV_KEY.length>0)return $.DOTENV_KEY;if(process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0)return process.env.DOTENV_KEY;return""}function wF($,q){let _;try{_=new URL(q)}catch(v){if(v.code==="ERR_INVALID_URL"){let W=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw W.code="INVALID_DOTENV_KEY",W}throw v}let P=_.password;if(!P){let v=Error("INVALID_DOTENV_KEY: Missing key part");throw v.code="INVALID_DOTENV_KEY",v}let K=_.searchParams.get("environment");if(!K){let v=Error("INVALID_DOTENV_KEY: Missing environment part");throw v.code="INVALID_DOTENV_KEY",v}let O=`DOTENV_VAULT_${K.toUpperCase()}`,Y=$.parsed[O];if(!Y){let v=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${O} in your .env.vault file.`);throw v.code="NOT_FOUND_DOTENV_ENVIRONMENT",v}return{ciphertext:Y,key:P}}function NE($){let q=null;if($&&$.path&&$.path.length>0)if(Array.isArray($.path)){for(let _ of $.path)if(gw.existsSync(_))q=_.endsWith(".vault")?_:`${_}.vault`}else q=$.path.endsWith(".vault")?$.path:`${$.path}.vault`;else q=hY.resolve(process.cwd(),".env.vault");if(gw.existsSync(q))return q;return null}function VE($){return $[0]==="~"?hY.join(PF.homedir(),$.slice(1)):$}function ZF($){let q=MP(process.env.DOTENV_CONFIG_DEBUG||$&&$.debug),_=MP(process.env.DOTENV_CONFIG_QUIET||$&&$.quiet);if(q||!_)SE("Loading env from encrypted .env.vault");let P=Wq._parseVault($),K=process.env;if($&&$.processEnv!=null)K=$.processEnv;return Wq.populate(K,P,$),{parsed:P}}function fF($){let q=hY.resolve(process.cwd(),".env"),_="utf8",P=process.env;if($&&$.processEnv!=null)P=$.processEnv;let K=MP(P.DOTENV_CONFIG_DEBUG||$&&$.debug),O=MP(P.DOTENV_CONFIG_QUIET||$&&$.quiet);if($&&$.encoding)_=$.encoding;else if(K)x7("No encoding is specified. UTF-8 is used by default");let Y=[q];if($&&$.path)if(!Array.isArray($.path))Y=[VE($.path)];else{Y=[];for(let Z of $.path)Y.push(VE(Z))}let v,W={};for(let Z of Y)try{let w=Wq.parse(gw.readFileSync(Z,{encoding:_}));Wq.populate(W,w,$)}catch(w){if(K)x7(`Failed to load ${Z} ${w.message}`);v=w}let T=Wq.populate(P,W,$);if(K=MP(P.DOTENV_CONFIG_DEBUG||K),O=MP(P.DOTENV_CONFIG_QUIET||O),K||!O){let Z=Object.keys(T).length,w=[];for(let k of Y)try{let M=hY.relative(process.cwd(),k);w.push(M)}catch(M){if(K)x7(`Failed to load ${k} ${M.message}`);v=M}SE(`injecting env (${Z}) from ${w.join(",")} ${zF(`-- tip: ${jF()}`)}`)}if(v)return{parsed:W,error:v};else return{parsed:W}}function XF($){if(ME($).length===0)return Wq.configDotenv($);let q=NE($);if(!q)return TF(`You set DOTENV_KEY but you are missing a .env.vault file at ${q}. Did you forget to build it?`),Wq.configDotenv($);return Wq._configVault($)}function AF($,q){let _=Buffer.from(q.slice(-64),"hex"),P=Buffer.from($,"base64"),K=P.subarray(0,12),O=P.subarray(-16);P=P.subarray(12,-16);try{let Y=YF.createDecipheriv("aes-256-gcm",_,K);return Y.setAuthTag(O),`${Y.update(P)}${Y.final()}`}catch(Y){let v=Y instanceof RangeError,W=Y.message==="Invalid key length",T=Y.message==="Unsupported state or unable to authenticate data";if(v||W){let Z=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw Z.code="INVALID_DOTENV_KEY",Z}else if(T){let Z=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw Z.code="DECRYPTION_FAILED",Z}else throw Y}}function kF($,q,_={}){let P=Boolean(_&&_.debug),K=Boolean(_&&_.override),O={};if(typeof q!=="object"){let Y=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw Y.code="OBJECT_REQUIRED",Y}for(let Y of Object.keys(q))if(Object.prototype.hasOwnProperty.call($,Y)){if(K===!0)$[Y]=q[Y],O[Y]=q[Y];if(P)if(K===!0)x7(`"${Y}" is already defined and WAS overwritten`);else x7(`"${Y}" is already defined and was NOT overwritten`)}else $[Y]=q[Y],O[Y]=q[Y];return O}var Wq={configDotenv:fF,_configVault:ZF,_parseVault:HF,config:XF,decrypt:AF,parse:WF,populate:kF};UY$.configDotenv=Wq.configDotenv;UY$._configVault=Wq._configVault;UY$._parseVault=Wq._parseVault;UY$.config=Wq.config;UY$.decrypt=Wq.decrypt;UY$.parse=Wq.parse;UY$.populate=Wq.populate;y_.exports=Wq});var rE=N$((fO$,dw)=>{var T6=String,lE=function(){return{isColorSupported:!1,reset:T6,bold:T6,dim:T6,italic:T6,underline:T6,inverse:T6,hidden:T6,strikethrough:T6,black:T6,red:T6,green:T6,yellow:T6,blue:T6,magenta:T6,cyan:T6,white:T6,gray:T6,bgBlack:T6,bgRed:T6,bgGreen:T6,bgYellow:T6,bgBlue:T6,bgMagenta:T6,bgCyan:T6,bgWhite:T6,blackBright:T6,redBright:T6,greenBright:T6,yellowBright:T6,blueBright:T6,magentaBright:T6,cyanBright:T6,whiteBright:T6,bgBlackBright:T6,bgRedBright:T6,bgGreenBright:T6,bgYellowBright:T6,bgBlueBright:T6,bgMagentaBright:T6,bgCyanBright:T6,bgWhiteBright:T6}};dw.exports=lE();dw.exports.createColors=lE});var _R=N$((a3$,qR)=>{qR.exports=FF;function FF($={}){let{ERR_PATHS_MUST_BE_STRINGS:q=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:_=(P)=>`fast-redact  Invalid path (${P})`}=$;return function({paths:K}){K.forEach((O)=>{if(typeof O!=="string")throw Error(q());try{if(//.test(O))throw Error();let Y=(O[0]==="["?"":".")+O.replace(/^\*/,"").replace(/\.\*/g,".").replace(/\[\*\]/g,"[]");if(/\n|\r|;/.test(Y))throw Error();if(/\/\*/.test(Y))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const  = null;
            o${Y}
            if ([o${Y}].length !== 1) throw Error()`)()}catch(Y){throw Error(_(O))}})}}});var lY=N$((e3$,KR)=>{KR.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var YR=N$((s3$,PR)=>{var QF=lY();PR.exports=aF;function aF({paths:$}){let q=[];var _=0;let P=$.reduce(function(K,O,Y){var v=O.match(QF).map((Z)=>Z.replace(/'|"|`/g,""));let W=O[0]==="[";v=v.map((Z)=>{if(Z[0]==="[")return Z.substr(1,Z.length-2);else return Z});let T=v.indexOf("*");if(T>-1){let Z=v.slice(0,T),w=Z.join("."),k=v.slice(T+1,v.length),M=k.length>0;_++,q.push({before:Z,beforeStr:w,after:k,nested:M})}else K[O]={path:v,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(O),leadingBracket:W};return K},{});return{wildcards:q,wcLen:_,secret:P}}});var jR=N$(($j$,OR)=>{var eF=lY();OR.exports=sF;function sF({secret:$,serialize:q,wcLen:_,strict:P,isCensorFct:K,censorFctTakesPath:O},Y){let v=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${KQ(P,q)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${$Q($,K,O)}
    this.compileRestore()
    ${qQ(_>0,K,O)}
    this.secret = originalSecret
    ${_Q(q)}
  `).bind(Y);if(v.state=Y,q===!1)v.restore=(W)=>Y.restore(W);return v}function $Q($,q,_){return Object.keys($).map((P)=>{let{escPath:K,leadingBracket:O,path:Y}=$[P],v=O?1:0,W=O?"":".",T=[];var Z;while((Z=eF.exec(P))!==null){let[,N]=Z,{index:R,input:E}=Z;if(R>v)T.push(E.substring(0,R-(N?0:1)))}var w=T.map((N)=>`o${W}${N}`).join(" && ");if(w.length===0)w+=`o${W}${P} != null`;else w+=` && o${W}${P} != null`;let k=`
      switch (true) {
        ${T.reverse().map((N)=>`
          case o${W}${N} === censor:
            secret[${K}].circle = ${JSON.stringify(N)}
            break
        `).join(`
`)}
      }
    `,M=_?`val, ${JSON.stringify(Y)}`:"val";return`
      if (${w}) {
        const val = o${W}${P}
        if (val === censor) {
          secret[${K}].precensored = true
        } else {
          secret[${K}].val = val
          o${W}${P} = ${q?`censor(${M})`:"censor"}
          ${k}
        }
      }
    `}).join(`
`)}function qQ($,q,_){return $===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${q}, ${_})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${q}, ${_})
      }
    }
  `:""}function _Q($){return $===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function KQ($,q){return $===!0?"throw Error('fast-redact: primitives cannot be redacted')":q===!1?"return o":"return this.serialize(o)"}});var vZ=N$((qj$,JR)=>{JR.exports={groupRedact:YQ,groupRestore:PQ,nestedRedact:jQ,nestedRestore:OQ};function PQ({keys:$,values:q,target:_}){if(_==null||typeof _==="string")return;let P=$.length;for(var K=0;K<P;K++){let O=$[K];_[O]=q[K]}}function YQ($,q,_,P,K){let O=vR($,q);if(O==null||typeof O==="string")return{keys:null,values:null,target:O,flat:!0};let Y=Object.keys(O),v=Y.length,W=q.length,T=K?[...q]:void 0,Z=Array(v);for(var w=0;w<v;w++){let k=Y[w];if(Z[w]=O[k],K)T[W]=k,O[k]=_(O[k],T);else if(P)O[k]=_(O[k]);else O[k]=_}return{keys:Y,values:Z,target:O,flat:!0}}function OQ($){for(let q=0;q<$.length;q++){let{target:_,path:P,value:K}=$[q],O=_;for(let Y=P.length-1;Y>0;Y--)O=O[P[Y]];O[P[0]]=K}}function jQ($,q,_,P,K,O,Y){let v=vR(q,_);if(v==null)return;let W=Object.keys(v),T=W.length;for(var Z=0;Z<T;Z++){let w=W[Z];vQ($,v,w,_,P,K,O,Y)}return $}function jZ($,q){return $!==void 0&&$!==null?"hasOwn"in Object?Object.hasOwn($,q):Object.prototype.hasOwnProperty.call($,q):!1}function vQ($,q,_,P,K,O,Y,v){let W=K.length,T=W-1,Z=_;var w=-1,k,M,N,R=null,E=null,D,h,L=!1,b=0,y=0,p=zQ();if(N=k=q[_],typeof k!=="object")return;while(k!=null&&++w<W){if(y+=1,_=K[w],R=N,_!=="*"&&!E&&!(typeof k==="object"&&(_ in k)))break;if(_==="*"){if(E==="*")L=!0;if(E=_,w!==T)continue}if(E){let $$=Object.keys(k);for(var i=0;i<$$.length;i++){let Q=$$[i];if(h=k[Q],D=_==="*",L)p=c_(p,Q,y),b=w,N=zR(h,b-1,_,P,K,O,Y,v,Z,k,M,N,D,Q,w,T,p,$,q[Z],y+1);else if(D||typeof h==="object"&&h!==null&&_ in h){if(D)N=h;else N=h[_];if(M=w!==T?N:Y?v?O(N,[...P,Z,...K]):O(N):O,D){let c=i7(c_(p,Q,y),N,q[Z]);$.push(c),k[Q]=M}else if(h[_]===M);else if(M===void 0&&O!==void 0||jZ(h,_)&&M===N)p=c_(p,Q,y);else{p=c_(p,Q,y);let c=i7(c_(p,_,y+1),N,q[Z]);$.push(c),h[_]=M}}}E=null}else{if(N=k[_],p=c_(p,_,y),M=w!==T?N:Y?v?O(N,[...P,Z,...K]):O(N):O,jZ(k,_)&&M===N||M===void 0&&O!==void 0);else{let $$=i7(p,N,q[Z]);$.push($$),k[_]=M}k=k[_]}if(typeof k!=="object")break}}function vR($,q){var _=-1,P=q.length,K=$;while(K!=null&&++_<P)K=K[q[_]];return K}function zR($,q,_,P,K,O,Y,v,W,T,Z,w,k,M,N,R,E,D,h,L){if(q===0){if(k||typeof $==="object"&&$!==null&&_ in $){if(k)w=$;else w=$[_];if(Z=N!==R?w:Y?v?O(w,[...P,W,...K]):O(w):O,k){let b=i7(E,w,h);D.push(b),T[M]=Z}else if($[_]===Z);else if(Z===void 0&&O!==void 0||jZ($,_)&&Z===w);else{let b=i7(c_(E,_,L+1),w,h);D.push(b),$[_]=Z}}}for(let b in $)if(typeof $[b]==="object")E=c_(E,b,L),zR($[b],q-1,_,P,K,O,Y,v,W,T,Z,w,k,M,N,R,E,D,h,L+1)}function zQ(){return{parent:null,key:null,children:[],depth:0}}function c_($,q,_){if($.depth===_)return c_($.parent,q,_);var P={parent:$,key:q,depth:_,children:[]};return $.children.push(P),P}function i7($,q,_){let P=$,K=[];do K.push(P.key),P=P.parent;while(P.parent!=null);return{path:K,value:q,target:_}}});var HR=N$((_j$,WR)=>{var{groupRestore:JQ,nestedRestore:WQ}=vZ();WR.exports=HQ;function HQ(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:q,wcLen:_}=this,P=Object.keys(q),K=TQ(q,P),O=_>0,Y=O?{secret:q,groupRestore:JQ,nestedRestore:WQ}:{secret:q};this.restore=Function("o",wQ(K,P,O)).bind(Y),this.restore.state=Y}}function TQ($,q){return q.map((_)=>{let{circle:P,escPath:K,leadingBracket:O}=$[_],v=P?`o.${P} = secret[${K}].val`:`o${O?"":"."}${_} = secret[${K}].val`,W=`secret[${K}].val = undefined`;return`
      if (secret[${K}].val !== undefined) {
        try { ${v} } catch (e) {}
        ${W}
      }
    `}).join("")}function wQ($,q,_){return`
    const secret = this.secret
    ${_===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${q.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${$}
    return o
  `}});var wR=N$((Kj$,TR)=>{TR.exports=ZQ;function ZQ($){let{secret:q,censor:_,compileRestore:P,serialize:K,groupRedact:O,nestedRedact:Y,wildcards:v,wcLen:W}=$,T=[{secret:q,censor:_,compileRestore:P}];if(K!==!1)T.push({serialize:K});if(W>0)T.push({groupRedact:O,nestedRedact:Y,wildcards:v,wcLen:W});return Object.assign(...T)}});var XR=N$((Pj$,fR)=>{var ZR=_R(),fQ=YR(),XQ=jR(),AQ=HR(),{groupRedact:kQ,nestedRedact:GQ}=vZ(),VQ=wR(),SQ=lY(),MQ=ZR(),zZ=($)=>$;zZ.restore=zZ;var NQ="[REDACTED]";JZ.rx=SQ;JZ.validator=ZR;fR.exports=JZ;function JZ($={}){let q=Array.from(new Set($.paths||[])),_="serialize"in $?$.serialize===!1?$.serialize:typeof $.serialize==="function"?$.serialize:JSON.stringify:JSON.stringify,P=$.remove;if(P===!0&&_!==JSON.stringify)throw Error("fast-redact  remove option may only be set when serializer is JSON.stringify");let K=P===!0?void 0:("censor"in $)?$.censor:NQ,O=typeof K==="function",Y=O&&K.length>1;if(q.length===0)return _||zZ;MQ({paths:q,serialize:_,censor:K});let{wildcards:v,wcLen:W,secret:T}=fQ({paths:q,censor:K}),Z=AQ(),w="strict"in $?$.strict:!0;return XQ({secret:T,wcLen:W,serialize:_,strict:w,isCensorFct:O,censorFctTakesPath:Y},VQ({secret:T,censor:K,compileRestore:Z,serialize:_,groupRedact:kQ,nestedRedact:GQ,wildcards:v,wcLen:W}))}});class uZ{run($,q){return q()}active(){return}}var $9=new uZ;function xZ($){$9=$}function ma(){return $9}function kK($,q){return $9.run($,q)}function Y4(){return $9.active()}class pZ{stack=[];run($,q){this.stack.push($);try{return q()}finally{this.stack.pop()}}active(){return this.stack.length>0?this.stack[this.stack.length-1]:void 0}}function cZ(){return new pZ}function qO($){if(!$||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($))throw Error(`Invalid UUID format: ${$}`);return $}var mP;((O)=>{O.IMAGE="image";O.VIDEO="video";O.AUDIO="audio";O.DOCUMENT="document";O.LINK="link"})(mP||={});var OI;((P)=>{P.OWNER="OWNER";P.ADMIN="ADMIN";P.NONE="NONE"})(OI||={});var dP;((Z)=>{Z.SELF="SELF";Z.DM="DM";Z.GROUP="GROUP";Z.VOICE_DM="VOICE_DM";Z.VOICE_GROUP="VOICE_GROUP";Z.FEED="FEED";Z.THREAD="THREAD";Z.WORLD="WORLD";Z.FORUM="FORUM";Z.API="API"})(dP||={});var jI;((O)=>{O.DOCUMENT="document";O.FRAGMENT="fragment";O.MESSAGE="message";O.DESCRIPTION="description";O.CUSTOM="custom"})(jI||={});var vI;((_)=>{_.ACTIVE="active";_.INACTIVE="inactive"})(vI||={});var Ba={TRANSCRIPTION:"transcription",VIDEO:"video",BROWSER:"browser",PDF:"pdf",REMOTE_FILES:"aws_s3",WEB_SEARCH:"web_search",EMAIL:"email",TEE:"tee",TASK:"task",WALLET:"wallet",LP_POOL:"lp_pool",TOKEN_DATA:"token_data",MESSAGE_SERVICE:"message_service",MESSAGE:"message",POST:"post",UNKNOWN:"unknown"};class _O{runtime;constructor($){if($)this.runtime=$}static serviceType;config;static async start($){throw Error("Not implemented")}static async stop($){throw Error("Not implemented")}}function Ua($,q){return $.getService(q)}function ta($,q="UNKNOWN_ERROR"){if($ instanceof Error)return{code:q,message:$.message,cause:$};return{code:q,message:String($)}}var A6={SMALL:"TEXT_SMALL",MEDIUM:"TEXT_LARGE",LARGE:"TEXT_LARGE",TEXT_SMALL:"TEXT_SMALL",TEXT_LARGE:"TEXT_LARGE",TEXT_EMBEDDING:"TEXT_EMBEDDING",TEXT_TOKENIZER_ENCODE:"TEXT_TOKENIZER_ENCODE",TEXT_TOKENIZER_DECODE:"TEXT_TOKENIZER_DECODE",TEXT_REASONING_SMALL:"REASONING_SMALL",TEXT_REASONING_LARGE:"REASONING_LARGE",TEXT_COMPLETION:"TEXT_COMPLETION",IMAGE:"IMAGE",IMAGE_DESCRIPTION:"IMAGE_DESCRIPTION",TRANSCRIPTION:"TRANSCRIPTION",TEXT_TO_SPEECH:"TEXT_TO_SPEECH",AUDIO:"AUDIO",VIDEO:"VIDEO",OBJECT_SMALL:"OBJECT_SMALL",OBJECT_LARGE:"OBJECT_LARGE"},lP={DEFAULT_MAX_TOKENS:"DEFAULT_MAX_TOKENS",DEFAULT_TEMPERATURE:"DEFAULT_TEMPERATURE",DEFAULT_TOP_P:"DEFAULT_TOP_P",DEFAULT_TOP_K:"DEFAULT_TOP_K",DEFAULT_MIN_P:"DEFAULT_MIN_P",DEFAULT_SEED:"DEFAULT_SEED",DEFAULT_REPETITION_PENALTY:"DEFAULT_REPETITION_PENALTY",DEFAULT_FREQUENCY_PENALTY:"DEFAULT_FREQUENCY_PENALTY",DEFAULT_PRESENCE_PENALTY:"DEFAULT_PRESENCE_PENALTY",TEXT_SMALL_MAX_TOKENS:"TEXT_SMALL_MAX_TOKENS",TEXT_SMALL_TEMPERATURE:"TEXT_SMALL_TEMPERATURE",TEXT_SMALL_TOP_P:"TEXT_SMALL_TOP_P",TEXT_SMALL_TOP_K:"TEXT_SMALL_TOP_K",TEXT_SMALL_MIN_P:"TEXT_SMALL_MIN_P",TEXT_SMALL_SEED:"TEXT_SMALL_SEED",TEXT_SMALL_REPETITION_PENALTY:"TEXT_SMALL_REPETITION_PENALTY",TEXT_SMALL_FREQUENCY_PENALTY:"TEXT_SMALL_FREQUENCY_PENALTY",TEXT_SMALL_PRESENCE_PENALTY:"TEXT_SMALL_PRESENCE_PENALTY",TEXT_LARGE_MAX_TOKENS:"TEXT_LARGE_MAX_TOKENS",TEXT_LARGE_TEMPERATURE:"TEXT_LARGE_TEMPERATURE",TEXT_LARGE_TOP_P:"TEXT_LARGE_TOP_P",TEXT_LARGE_TOP_K:"TEXT_LARGE_TOP_K",TEXT_LARGE_MIN_P:"TEXT_LARGE_MIN_P",TEXT_LARGE_SEED:"TEXT_LARGE_SEED",TEXT_LARGE_REPETITION_PENALTY:"TEXT_LARGE_REPETITION_PENALTY",TEXT_LARGE_FREQUENCY_PENALTY:"TEXT_LARGE_FREQUENCY_PENALTY",TEXT_LARGE_PRESENCE_PENALTY:"TEXT_LARGE_PRESENCE_PENALTY",OBJECT_SMALL_MAX_TOKENS:"OBJECT_SMALL_MAX_TOKENS",OBJECT_SMALL_TEMPERATURE:"OBJECT_SMALL_TEMPERATURE",OBJECT_SMALL_TOP_P:"OBJECT_SMALL_TOP_P",OBJECT_SMALL_TOP_K:"OBJECT_SMALL_TOP_K",OBJECT_SMALL_MIN_P:"OBJECT_SMALL_MIN_P",OBJECT_SMALL_SEED:"OBJECT_SMALL_SEED",OBJECT_SMALL_REPETITION_PENALTY:"OBJECT_SMALL_REPETITION_PENALTY",OBJECT_SMALL_FREQUENCY_PENALTY:"OBJECT_SMALL_FREQUENCY_PENALTY",OBJECT_SMALL_PRESENCE_PENALTY:"OBJECT_SMALL_PRESENCE_PENALTY",OBJECT_LARGE_MAX_TOKENS:"OBJECT_LARGE_MAX_TOKENS",OBJECT_LARGE_TEMPERATURE:"OBJECT_LARGE_TEMPERATURE",OBJECT_LARGE_TOP_P:"OBJECT_LARGE_TOP_P",OBJECT_LARGE_TOP_K:"OBJECT_LARGE_TOP_K",OBJECT_LARGE_MIN_P:"OBJECT_LARGE_MIN_P",OBJECT_LARGE_SEED:"OBJECT_LARGE_SEED",OBJECT_LARGE_REPETITION_PENALTY:"OBJECT_LARGE_REPETITION_PENALTY",OBJECT_LARGE_FREQUENCY_PENALTY:"OBJECT_LARGE_FREQUENCY_PENALTY",OBJECT_LARGE_PRESENCE_PENALTY:"OBJECT_LARGE_PRESENCE_PENALTY",TEXT_REASONING_SMALL_MAX_TOKENS:"TEXT_REASONING_SMALL_MAX_TOKENS",TEXT_REASONING_SMALL_TEMPERATURE:"TEXT_REASONING_SMALL_TEMPERATURE",TEXT_REASONING_SMALL_TOP_P:"TEXT_REASONING_SMALL_TOP_P",TEXT_REASONING_SMALL_TOP_K:"TEXT_REASONING_SMALL_TOP_K",TEXT_REASONING_SMALL_MIN_P:"TEXT_REASONING_SMALL_MIN_P",TEXT_REASONING_SMALL_SEED:"TEXT_REASONING_SMALL_SEED",TEXT_REASONING_SMALL_REPETITION_PENALTY:"TEXT_REASONING_SMALL_REPETITION_PENALTY",TEXT_REASONING_SMALL_FREQUENCY_PENALTY:"TEXT_REASONING_SMALL_FREQUENCY_PENALTY",TEXT_REASONING_SMALL_PRESENCE_PENALTY:"TEXT_REASONING_SMALL_PRESENCE_PENALTY",TEXT_REASONING_LARGE_MAX_TOKENS:"TEXT_REASONING_LARGE_MAX_TOKENS",TEXT_REASONING_LARGE_TEMPERATURE:"TEXT_REASONING_LARGE_TEMPERATURE",TEXT_REASONING_LARGE_TOP_P:"TEXT_REASONING_LARGE_TOP_P",TEXT_REASONING_LARGE_TOP_K:"TEXT_REASONING_LARGE_TOP_K",TEXT_REASONING_LARGE_MIN_P:"TEXT_REASONING_LARGE_MIN_P",TEXT_REASONING_LARGE_SEED:"TEXT_REASONING_LARGE_SEED",TEXT_REASONING_LARGE_REPETITION_PENALTY:"TEXT_REASONING_LARGE_REPETITION_PENALTY",TEXT_REASONING_LARGE_FREQUENCY_PENALTY:"TEXT_REASONING_LARGE_FREQUENCY_PENALTY",TEXT_REASONING_LARGE_PRESENCE_PENALTY:"TEXT_REASONING_LARGE_PRESENCE_PENALTY",TEXT_COMPLETION_MAX_TOKENS:"TEXT_COMPLETION_MAX_TOKENS",TEXT_COMPLETION_TEMPERATURE:"TEXT_COMPLETION_TEMPERATURE",TEXT_COMPLETION_TOP_P:"TEXT_COMPLETION_TOP_P",TEXT_COMPLETION_TOP_K:"TEXT_COMPLETION_TOP_K",TEXT_COMPLETION_MIN_P:"TEXT_COMPLETION_MIN_P",TEXT_COMPLETION_SEED:"TEXT_COMPLETION_SEED",TEXT_COMPLETION_REPETITION_PENALTY:"TEXT_COMPLETION_REPETITION_PENALTY",TEXT_COMPLETION_FREQUENCY_PENALTY:"TEXT_COMPLETION_FREQUENCY_PENALTY",TEXT_COMPLETION_PRESENCE_PENALTY:"TEXT_COMPLETION_PRESENCE_PENALTY",MODEL_MAX_TOKEN:"MODEL_MAX_TOKEN",MODEL_TEMPERATURE:"MODEL_TEMPERATURE",MODEL_FREQ_PENALTY:"MODEL_FREQ_PENALTY",MODEL_PRESENCE_PENALTY:"MODEL_PRESENCE_PENALTY"};function Qa($){return[A6.TEXT_SMALL,A6.TEXT_LARGE,A6.TEXT_REASONING_SMALL,A6.TEXT_REASONING_LARGE,A6.TEXT_COMPLETION].includes($)}var ea={SMALL:384,MEDIUM:512,LARGE:768,XL:1024,XXL:1536,XXXL:3072};var KO;((J)=>{J.WORLD_JOINED="WORLD_JOINED";J.WORLD_CONNECTED="WORLD_CONNECTED";J.WORLD_LEFT="WORLD_LEFT";J.ENTITY_JOINED="ENTITY_JOINED";J.ENTITY_LEFT="ENTITY_LEFT";J.ENTITY_UPDATED="ENTITY_UPDATED";J.ROOM_JOINED="ROOM_JOINED";J.ROOM_LEFT="ROOM_LEFT";J.MESSAGE_RECEIVED="MESSAGE_RECEIVED";J.MESSAGE_SENT="MESSAGE_SENT";J.MESSAGE_DELETED="MESSAGE_DELETED";J.CHANNEL_CLEARED="CHANNEL_CLEARED";J.VOICE_MESSAGE_RECEIVED="VOICE_MESSAGE_RECEIVED";J.VOICE_MESSAGE_SENT="VOICE_MESSAGE_SENT";J.REACTION_RECEIVED="REACTION_RECEIVED";J.POST_GENERATED="POST_GENERATED";J.INTERACTION_RECEIVED="INTERACTION_RECEIVED";J.RUN_STARTED="RUN_STARTED";J.RUN_ENDED="RUN_ENDED";J.RUN_TIMEOUT="RUN_TIMEOUT";J.ACTION_STARTED="ACTION_STARTED";J.ACTION_COMPLETED="ACTION_COMPLETED";J.EVALUATOR_STARTED="EVALUATOR_STARTED";J.EVALUATOR_COMPLETED="EVALUATOR_COMPLETED";J.MODEL_USED="MODEL_USED";J.EMBEDDING_GENERATION_REQUESTED="EMBEDDING_GENERATION_REQUESTED";J.EMBEDDING_GENERATION_COMPLETED="EMBEDDING_GENERATION_COMPLETED";J.EMBEDDING_GENERATION_FAILED="EMBEDDING_GENERATION_FAILED";J.CONTROL_MESSAGE="CONTROL_MESSAGE"})(KO||={});var zI;((P)=>{P.DISCORD="DISCORD";P.TELEGRAM="TELEGRAM";P.TWITTER="TWITTER"})(zI||={});var JI;((K)=>{K.OFF="OFF";K.LOCAL="LOCAL";K.DOCKER="DOCKER";K.PRODUCTION="PRODUCTION"})(JI||={});var WI;((q)=>q.TDX_DSTACK="tdx_dstack")(WI||={});var HI;((Y)=>{Y[Y.ROOM_JOINING=1]="ROOM_JOINING";Y[Y.SEND_MESSAGE=2]="SEND_MESSAGE";Y[Y.MESSAGE=3]="MESSAGE";Y[Y.ACK=4]="ACK";Y[Y.THINKING=5]="THINKING";Y[Y.CONTROL=6]="CONTROL"})(HI||={});var _e={messageStreamChunk:"messageStreamChunk",messageStreamError:"messageStreamError",messageBroadcast:"messageBroadcast"};var TI=Object.defineProperty,k6=($,q)=>{for(var _ in q)TI($,_,{get:q[_],enumerable:!0})};var q9=class{pageContent;metadata;id;constructor($){this.pageContent=$.pageContent!==void 0?$.pageContent.toString():"",this.metadata=$.metadata??{},this.id=$.id}};var tZ=R8(dZ(),1),GI=R8(UZ(),1);function FZ($,q){return q?.[$]||tZ.default($)}function QZ($,q,_){let P={};for(let K in $)if(Object.hasOwn($,K))P[q(K,_)]=$[K];return P}function VI($){return"lc"in $||Object.keys($).length===1&&"__lc_escaped__"in $}function SI($){return{["__lc_escaped__"]:$}}function MI($){return $!==null&&typeof $==="object"&&"lc_serializable"in $&&typeof $.toJSON==="function"}function NI($){let q;if($!==null&&typeof $==="object")if("lc_id"in $&&Array.isArray($.lc_id))q=$.lc_id;else q=[$.constructor?.name??"Object"];else q=[typeof $];return{lc:1,type:"not_implemented",id:q}}function _9($,q=new WeakSet){if($!==null&&typeof $==="object"&&!Array.isArray($)){if(q.has($))return NI($);if(MI($))return $;q.add($);let _=$;if(VI(_))return q.delete($),SI(_);let P={};for(let[K,O]of Object.entries(_))P[K]=_9(O,q);return q.delete($),P}if(Array.isArray($))return $.map((_)=>_9(_,q));return $}var CI={};k6(CI,{Serializable:()=>r_,get_lc_unique_name:()=>K9});function aZ($){return Array.isArray($)?[...$]:{...$}}function EI($,q){let _=aZ($);for(let[P,K]of Object.entries(q)){let[O,...Y]=P.split(".").reverse(),v=_;for(let W of Y.reverse()){if(v[W]===void 0)break;v[W]=aZ(v[W]),v=v[W]}if(v[O]!==void 0)v[O]={lc:1,type:"secret",id:[K]}}return _}function K9($){let q=Object.getPrototypeOf($);if(typeof $.lc_name==="function"&&(typeof q.lc_name!=="function"||$.lc_name()!==q.lc_name()))return $.lc_name();else return $.name}var r_=class ${lc_serializable=!1;lc_kwargs;static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,K9(this.constructor)]}get lc_secrets(){return}get lc_attributes(){return}get lc_aliases(){return}get lc_serializable_keys(){return}constructor(q,..._){if(this.lc_serializable_keys!==void 0)this.lc_kwargs=Object.fromEntries(Object.entries(q||{}).filter(([P])=>this.lc_serializable_keys?.includes(P)));else this.lc_kwargs=q??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof $||typeof this.lc_kwargs!=="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let q={},_={},P=Object.keys(this.lc_kwargs).reduce((W,T)=>{return W[T]=T in this?this[T]:this.lc_kwargs[T],W},{});for(let W=Object.getPrototypeOf(this);W;W=Object.getPrototypeOf(W))Object.assign(q,Reflect.get(W,"lc_aliases",this)),Object.assign(_,Reflect.get(W,"lc_secrets",this)),Object.assign(P,Reflect.get(W,"lc_attributes",this));Object.keys(_).forEach((W)=>{let T=this,Z=P,[w,...k]=W.split(".").reverse();for(let M of k.reverse()){if(!(M in T)||T[M]===void 0)return;if(!(M in Z)||Z[M]===void 0){if(typeof T[M]==="object"&&T[M]!=null)Z[M]={};else if(Array.isArray(T[M]))Z[M]=[]}T=T[M],Z=Z[M]}if(w in T&&T[w]!==void 0)Z[w]=Z[w]||T[w]});let K={},O=new WeakSet;O.add(this);for(let[W,T]of Object.entries(P))K[W]=_9(T,O);let Y=Object.keys(_).length?EI(K,_):K,v=QZ(Y,FZ,q);return{lc:1,type:"constructor",id:this.lc_id,kwargs:v}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function YO($){return!!($&&typeof $==="object"&&("type"in $)&&$.type==="tool_call")}var eZ=class extends Error{output;constructor($,q){super($);this.output=q}};var sZ=Symbol.for("ls:tracing_async_local_storage"),o_=Symbol.for("lc:context_variables"),$f=($)=>{globalThis[sZ]=$},n_=()=>{return globalThis[sZ]};function O4($){return typeof $==="object"&&$!==null&&"type"in $&&typeof $.type==="string"&&"source_type"in $&&($.source_type==="url"||$.source_type==="base64"||$.source_type==="text"||$.source_type==="id")}function qf($){return O4($)&&$.source_type==="url"&&"url"in $&&typeof $.url==="string"}function _f($){return O4($)&&$.source_type==="base64"&&"data"in $&&typeof $.data==="string"}function Kf($){return O4($)&&$.source_type==="id"&&"id"in $&&typeof $.id==="string"}function OO({dataUrl:$,asTypedArray:q=!1}){let _=$.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/),P;if(_){P=_[1].toLowerCase();let K=q?Uint8Array.from(atob(_[2]),(O)=>O.charCodeAt(0)):_[2];return{mime_type:P,data:K}}return}function s$($,q){return K6($)&&$.type===q}function K6($){return typeof $==="object"&&$!==null}function Iq($){return Array.isArray($)}function i$($){return typeof $==="string"}function j8($){return typeof $==="number"}function P9($){return $ instanceof Uint8Array}function jO($){try{return JSON.parse($)}catch{return}}var Z_=($)=>$();function RI($){if($.type==="char_location"&&i$($.document_title)&&j8($.start_char_index)&&j8($.end_char_index)&&i$($.cited_text)){let{document_title:q,start_char_index:_,end_char_index:P,cited_text:K,...O}=$;return{...O,type:"citation",source:"char",title:q??void 0,startIndex:_,endIndex:P,citedText:K}}if($.type==="page_location"&&i$($.document_title)&&j8($.start_page_number)&&j8($.end_page_number)&&i$($.cited_text)){let{document_title:q,start_page_number:_,end_page_number:P,cited_text:K,...O}=$;return{...O,type:"citation",source:"page",title:q??void 0,startIndex:_,endIndex:P,citedText:K}}if($.type==="content_block_location"&&i$($.document_title)&&j8($.start_block_index)&&j8($.end_block_index)&&i$($.cited_text)){let{document_title:q,start_block_index:_,end_block_index:P,cited_text:K,...O}=$;return{...O,type:"citation",source:"block",title:q??void 0,startIndex:_,endIndex:P,citedText:K}}if($.type==="web_search_result_location"&&i$($.url)&&i$($.title)&&i$($.encrypted_index)&&i$($.cited_text)){let{url:q,title:_,encrypted_index:P,cited_text:K,...O}=$;return{...O,type:"citation",source:"url",url:q,title:_,startIndex:Number(P),endIndex:Number(P),citedText:K}}if($.type==="search_result_location"&&i$($.source)&&i$($.title)&&j8($.start_block_index)&&j8($.end_block_index)&&i$($.cited_text)){let{source:q,title:_,start_block_index:P,end_block_index:K,cited_text:O,...Y}=$;return{...Y,type:"citation",source:"search",url:q,title:_??void 0,startIndex:P,endIndex:K,citedText:O}}return}function Yf($){if(s$($,"document")&&K6($.source)&&"type"in $.source){if($.source.type==="base64"&&i$($.source.media_type)&&i$($.source.data))return{type:"file",mimeType:$.source.media_type,data:$.source.data};else if($.source.type==="url"&&i$($.source.url))return{type:"file",url:$.source.url};else if($.source.type==="file"&&i$($.source.file_id))return{type:"file",fileId:$.source.file_id};else if($.source.type==="text"&&i$($.source.data))return{type:"file",mimeType:String($.source.media_type??"text/plain"),data:$.source.data}}else if(s$($,"image")&&K6($.source)&&"type"in $.source){if($.source.type==="base64"&&i$($.source.media_type)&&i$($.source.data))return{type:"image",mimeType:$.source.media_type,data:$.source.data};else if($.source.type==="url"&&i$($.source.url))return{type:"image",url:$.source.url};else if($.source.type==="file"&&i$($.source.file_id))return{type:"image",fileId:$.source.file_id}}return}function Of($){function*q(){for(let _ of $){let P=Yf(_);if(P)yield P;else yield _}}return Array.from(q())}function Pf($){function*q(){let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let P of _){if(s$(P,"text")&&i$(P.text)){let{text:K,citations:O,...Y}=P;if(Iq(O)&&O.length){let v=O.reduce((W,T)=>{let Z=RI(T);if(Z)return[...W,Z];return W},[]);yield{...Y,type:"text",text:K,annotations:v};continue}else{yield{...Y,type:"text",text:K};continue}}else if(s$(P,"thinking")&&i$(P.thinking)){let{thinking:K,signature:O,...Y}=P;yield{...Y,type:"reasoning",reasoning:K,signature:O};continue}else if(s$(P,"redacted_thinking")){yield{type:"non_standard",value:P};continue}else if(s$(P,"tool_use")&&i$(P.name)&&i$(P.id)){yield{type:"tool_call",id:P.id,name:P.name,args:P.input};continue}else if(s$(P,"input_json_delta")){if(II($)&&$.tool_call_chunks?.length){let K=$.tool_call_chunks[0];yield{type:"tool_call_chunk",id:K.id,name:K.name,args:K.args,index:K.index};continue}}else if(s$(P,"server_tool_use")&&i$(P.name)&&i$(P.id)){let{name:K,id:O}=P;if(K==="web_search"){let Y=Z_(()=>{if(typeof P.input==="string")return P.input;else if(K6(P.input)&&i$(P.input.query))return P.input.query;else if(i$(P.partial_json)){let v=jO(P.partial_json);if(v?.query)return v.query}return""});yield{id:O,type:"server_tool_call",name:"web_search",args:{query:Y}};continue}else if(P.name==="code_execution"){let Y=Z_(()=>{if(typeof P.input==="string")return P.input;else if(K6(P.input)&&i$(P.input.code))return P.input.code;else if(i$(P.partial_json)){let v=jO(P.partial_json);if(v?.code)return v.code}return""});yield{id:O,type:"server_tool_call",name:"code_execution",args:{code:Y}};continue}}else if(s$(P,"web_search_tool_result")&&i$(P.tool_use_id)&&Iq(P.content)){let{content:K,tool_use_id:O}=P,Y=K.reduce((v,W)=>{if(s$(W,"web_search_result"))return[...v,W.url];return v},[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:O,status:"success",output:{urls:Y}};continue}else if(s$(P,"code_execution_tool_result")&&i$(P.tool_use_id)&&K6(P.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:P.tool_use_id,status:"success",output:P.content};continue}else if(s$(P,"mcp_tool_use")){yield{id:P.id,type:"server_tool_call",name:"mcp_tool_use",args:P.input};continue}else if(s$(P,"mcp_tool_result")&&i$(P.tool_use_id)&&K6(P.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:P.tool_use_id,status:"success",output:P.content};continue}else if(s$(P,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:P.input};continue}else if(s$(P,"search_result")){yield{id:P.id,type:"non_standard",value:P};continue}else if(s$(P,"tool_result")){yield{id:P.id,type:"non_standard",value:P};continue}else{let K=Yf(P);if(K){yield K;continue}}yield{type:"non_standard",value:P}}}return Array.from(q())}var jf={translateContent:Pf,translateContentChunk:Pf};function II($){return typeof $?._getType==="function"&&typeof $.concat==="function"&&$._getType()==="ai"}function hI($){if(qf($))return{type:$.type,mimeType:$.mime_type,url:$.url,metadata:$.metadata};if(_f($))return{type:$.type,mimeType:$.mime_type??"application/octet-stream",data:$.data,metadata:$.metadata};if(Kf($))return{type:$.type,mimeType:$.mime_type,fileId:$.id,metadata:$.metadata};return $}function vf($){return $.map(hI)}function zf($){if(s$($,"image_url")&&K6($.image_url))return!0;if(s$($,"input_audio")&&K6($.input_audio))return!0;if(s$($,"file")&&K6($.file))return!0;return!1}function Jf($){if(s$($,"image_url")&&K6($.image_url)&&i$($.image_url.url)){let q=OO({dataUrl:$.image_url.url});if(q)return{type:"image",mimeType:q.mime_type,data:q.data};else return{type:"image",url:$.image_url.url}}else if(s$($,"input_audio")&&K6($.input_audio)&&i$($.input_audio.data)&&i$($.input_audio.format))return{type:"audio",data:$.input_audio.data,mimeType:`audio/${$.input_audio.format}`};else if(s$($,"file")&&K6($.file)&&i$($.file.data)){let q=OO({dataUrl:$.file.data});if(q)return{type:"file",data:q.data,mimeType:q.mime_type};else if(i$($.file.file_id))return{type:"file",fileId:$.file.file_id}}return $}function DI($){let q=[];if(typeof $.content==="string")q.push({type:"text",text:$.content});else q.push(...Y9($.content));for(let _ of $.tool_calls??[])q.push({type:"tool_call",id:_.id,name:_.name,args:_.args});return q}function LI($){let q=[];if(typeof $.content==="string")q.push({type:"text",text:$.content});else q.push(...Y9($.content));for(let _ of $.tool_calls??[])q.push({type:"tool_call",id:_.id,name:_.name,args:_.args});return q}function Y9($){let q=[];for(let _ of $)if(zf(_))q.push(Jf(_));else q.push(_);return q}function gI($){if($.type==="url_citation"){let{url:q,title:_,start_index:P,end_index:K}=$;return{type:"citation",url:q,title:_,startIndex:P,endIndex:K}}if($.type==="file_citation"){let{file_id:q,filename:_,index:P}=$;return{type:"citation",title:_,startIndex:P,endIndex:P,fileId:q}}return $}function Wf($){function*q(){if(K6($.additional_kwargs?.reasoning)&&Iq($.additional_kwargs.reasoning.summary))yield{type:"reasoning",reasoning:$.additional_kwargs.reasoning.summary.reduce((K,O)=>{if(K6(O)&&i$(O.text))return`${K}${O.text}`;return K},"")};let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let P of _)if(s$(P,"text")){let{text:K,annotations:O,...Y}=P;if(Array.isArray(O))yield{...Y,type:"text",text:String(K),annotations:O.map(gI)};else yield{...Y,type:"text",text:String(K)}}for(let P of $.tool_calls??[])yield{type:"tool_call",id:P.id,name:P.name,args:P.args};if(K6($.additional_kwargs)&&Iq($.additional_kwargs.tool_outputs))for(let P of $.additional_kwargs.tool_outputs){if(s$(P,"web_search_call")){yield{id:P.id,type:"server_tool_call",name:"web_search",args:{query:P.query}};continue}else if(s$(P,"file_search_call")){yield{id:P.id,type:"server_tool_call",name:"file_search",args:{query:P.query}};continue}else if(s$(P,"computer_call")){yield{type:"non_standard",value:P};continue}else if(s$(P,"code_interpreter_call")){if(i$(P.code))yield{id:P.id,type:"server_tool_call",name:"code_interpreter",args:{code:P.code}};if(Iq(P.outputs)){let K=Z_(()=>{if(P.status==="in_progress")return;if(P.status==="completed")return 0;if(P.status==="incomplete")return 127;if(P.status==="interpreting")return;if(P.status==="failed")return 1;return});for(let O of P.outputs)if(s$(O,"logs")){yield{type:"server_tool_call_result",toolCallId:P.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:K??0,stderr:[0,void 0].includes(K)?void 0:String(O.logs),stdout:[0,void 0].includes(K)?String(O.logs):void 0}};continue}}continue}else if(s$(P,"mcp_call")){yield{id:P.id,type:"server_tool_call",name:"mcp_call",args:P.input};continue}else if(s$(P,"mcp_list_tools")){yield{id:P.id,type:"server_tool_call",name:"mcp_list_tools",args:P.input};continue}else if(s$(P,"mcp_approval_request")){yield{type:"non_standard",value:P};continue}else if(s$(P,"image_generation_call")){yield{type:"non_standard",value:P};continue}if(K6(P))yield{type:"non_standard",value:P}}}return Array.from(q())}function bI($){function*q(){yield*Wf($);for(let _ of $.tool_call_chunks??[])yield{type:"tool_call_chunk",id:_.id,name:_.name,args:_.args}}return Array.from(q())}var Hf={translateContent:($)=>{if(typeof $.content==="string")return DI($);return Wf($)},translateContentChunk:($)=>{if(typeof $.content==="string")return LI($);return bI($)}};function Tf($){return typeof $==="object"&&$!==null&&"type"in $&&"content"in $&&(typeof $.content==="string"||Array.isArray($.content))}function wf($,q="pretty"){if(q==="pretty")return yI($);return JSON.stringify($)}function yI($){let q=[],_=` ${$.type.charAt(0).toUpperCase()+$.type.slice(1)} Message `,P=Math.floor((80-_.length)/2),K="=".repeat(P),O=_.length%2===0?K:`${K}=`;if(q.push(`${K}${_}${O}`),$.type==="ai"){let Y=$;if(Y.tool_calls&&Y.tool_calls.length>0){q.push("Tool Calls:");for(let v of Y.tool_calls){q.push(`  ${v.name} (${v.id})`),q.push(` Call ID: ${v.id}`),q.push("  Args:");for(let[W,T]of Object.entries(v.args))q.push(`    ${W}: ${typeof T==="object"?JSON.stringify(T):T}`)}}}if($.type==="tool"){let Y=$;if(Y.name)q.push(`Name: ${Y.name}`)}if(typeof $.content==="string"&&$.content.trim()){if(q.length>1)q.push("");q.push($.content)}return q.join(`
`)}var vO=Symbol.for("langchain.message");function i_($,q){if(typeof $==="string"){if($==="")return q;if(typeof q==="string")return $+q;else if(Array.isArray(q)&&q.length===0)return $;else if(Array.isArray(q)&&q.some((_)=>O4(_)))return[{type:"text",source_type:"text",text:$},...q];else return[{type:"text",text:$},...q]}else if(Array.isArray(q))return rP($,q)??[...$,...q];else if(q==="")return $;else if(Array.isArray($)&&$.some((_)=>O4(_)))return[...$,{type:"file",source_type:"text",text:q}];else return[...$,{type:"text",text:q}]}function Zf($,q){if($==="error"||q==="error")return"error";return"success"}function uI($,q){function _(P,K){if(typeof P!=="object"||P===null||P===void 0)return P;if(K>=q){if(Array.isArray(P))return"[Array]";return"[Object]"}if(Array.isArray(P))return P.map((Y)=>_(Y,K+1));let O={};for(let Y of Object.keys(P))O[Y]=_(P[Y],K+1);return O}return JSON.stringify(_($,0),null,2)}var i8=class extends r_{lc_namespace=["langchain_core","messages"];lc_serializable=!0;get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}[vO]=!0;id;name;content;additional_kwargs;response_metadata;_getType(){return this.type}getType(){return this._getType()}constructor($){let q=typeof $==="string"||Array.isArray($)?{content:$}:$;if(!q.additional_kwargs)q.additional_kwargs={};if(!q.response_metadata)q.response_metadata={};super(q);if(this.name=q.name,q.content===void 0&&q.contentBlocks!==void 0)this.content=q.contentBlocks,this.response_metadata={output_version:"v1",...q.response_metadata};else if(q.content!==void 0)this.content=q.content??[],this.response_metadata=q.response_metadata;else this.content=[],this.response_metadata=q.response_metadata;this.additional_kwargs=q.additional_kwargs,this.id=q.id}get text(){if(typeof this.content==="string")return this.content;if(!Array.isArray(this.content))return"";return this.content.map(($)=>{if(typeof $==="string")return $;if($.type==="text")return $.text;return""}).join("")}get contentBlocks(){let $=typeof this.content==="string"?[{type:"text",text:this.content}]:this.content;return[vf,Y9,Of].reduce((P,K)=>K(P),$)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance($){return typeof $==="object"&&$!==null&&vO in $&&$[vO]===!0&&Tf($)}_updateId($){this.id=$,this.lc_kwargs.id=$}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")]($){if($===null)return this;let q=uI(this._printableFields,Math.max(4,$));return`${this.constructor.lc_name()} ${q}`}toFormattedString($="pretty"){return wf(this,$)}};var xI=["index","created","timestamp"];function Fq($,q,_){let P=_?.ignoreKeys??xI;if($===void 0&&q===void 0)return;if($===void 0||q===void 0)return $??q;let K={...$};for(let[O,Y]of Object.entries(q))if(K[O]==null)K[O]=Y;else if(Y==null)continue;else if(typeof K[O]!==typeof Y||Array.isArray(K[O])!==Array.isArray(Y))throw Error(`field[${O}] already exists in the message chunk, but with a different type.`);else if(typeof K[O]==="string")if(O==="type")continue;else if(["id","name","output_version","model_provider"].includes(O)){if(Y)K[O]=Y}else if(P.includes(O))continue;else K[O]+=Y;else if(typeof K[O]==="number"){if(P.includes(O))continue;K[O]=K[O]+Y}else if(typeof K[O]==="object"&&!Array.isArray(K[O]))K[O]=Fq(K[O],Y,_);else if(Array.isArray(K[O]))K[O]=rP(K[O],Y,_);else if(K[O]===Y)continue;else console.warn(`field[${O}] already exists in this message chunk and value has unsupported type.`);return K}function rP($,q,_){if($===void 0&&q===void 0)return;else if($===void 0||q===void 0)return $||q;else{let P=[...$];for(let K of q)if(typeof K==="object"&&K!==null&&"index"in K&&typeof K.index==="number"){let O=P.findIndex((Y)=>{let v=typeof Y==="object",W="index"in Y&&Y.index===K.index,T="id"in Y&&"id"in K&&Y?.id===K?.id,Z=!("id"in Y)||!Y?.id||!("id"in K)||!K?.id;return v&&W&&(T||Z)});if(O!==-1&&typeof P[O]==="object"&&P[O]!==null)P[O]=Fq(P[O],K,_);else P.push(K)}else if(typeof K==="object"&&K!==null&&"text"in K&&K.text==="")continue;else P.push(K);return P}}function ff($,q,_){if($===void 0&&q===void 0)return;if($===void 0||q===void 0)return $??q;else if(typeof $!==typeof q)throw Error(`Cannot merge objects of different types.
Left ${typeof $}
Right ${typeof q}`);else if(typeof $==="string"&&typeof q==="string")return $+q;else if(Array.isArray($)&&Array.isArray(q))return rP($,q,_);else if(typeof $==="object"&&typeof q==="object")return Fq($,q,_);else if($===q)return $;else throw Error(`Can not merge objects of different types.
Left ${$}
Right ${q}`)}var B_=class $ extends i8{static isInstance(q){if(!super.isInstance(q))return!1;let _=Object.getPrototypeOf(q);while(_!==null){if(_===$.prototype)return!0;_=Object.getPrototypeOf(_)}return!1}};var pI={};k6(pI,{ToolMessage:()=>Xf,ToolMessageChunk:()=>mI,defaultToolCallParser:()=>zO,isDirectToolOutput:()=>cI,isToolMessage:()=>dI,isToolMessageChunk:()=>lI});function cI($){return $!=null&&typeof $==="object"&&"lc_direct_tool_output"in $&&$.lc_direct_tool_output===!0}var Xf=class extends i8{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}lc_direct_tool_output=!0;type="tool";status;tool_call_id;metadata;artifact;constructor($,q,_){let P=typeof $==="string"||Array.isArray($)?{content:$,name:_,tool_call_id:q}:$;super(P);this.tool_call_id=P.tool_call_id,this.artifact=P.artifact,this.status=P.status,this.metadata=P.metadata}static isInstance($){return super.isInstance($)&&$.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},mI=class extends B_{type="tool";tool_call_id;status;artifact;constructor($){super($);this.tool_call_id=$.tool_call_id,this.artifact=$.artifact,this.status=$.status}static lc_name(){return"ToolMessageChunk"}concat($){return new this.constructor({content:i_(this.content,$.content),additional_kwargs:Fq(this.additional_kwargs,$.additional_kwargs),response_metadata:Fq(this.response_metadata,$.response_metadata),artifact:ff(this.artifact,$.artifact),tool_call_id:this.tool_call_id,id:this.id??$.id,status:Zf(this.status,$.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function zO($){let q=[],_=[];for(let P of $)if(!P.function)continue;else{let K=P.function.name;try{let O=JSON.parse(P.function.arguments);q.push({name:K||"",args:O||{},id:P.id})}catch{_.push({name:K,args:P.function.arguments,id:P.id,error:"Malformed args."})}}return[q,_]}function dI($){return typeof $==="object"&&$!==null&&"getType"in $&&typeof $.getType==="function"&&$.getType()==="tool"}function lI($){return $._getType()==="tool"}function rI($){try{return JSON.parse($)}catch{}let q=$.trim();if(q.length===0)throw Error("Unexpected end of JSON input");let _=0;function P(){while(_<q.length&&/\s/.test(q[_]))_+=1}function K(){if(q[_]!=='"')throw Error(`Expected '"' at position ${_}, got '${q[_]}'`);_+=1;let Z="",w=!1;while(_<q.length){let k=q[_];if(w){if(k==="n")Z+=`
`;else if(k==="t")Z+="\t";else if(k==="r")Z+="\r";else if(k==="\\")Z+="\\";else if(k==='"')Z+='"';else if(k==="b")Z+="\b";else if(k==="f")Z+="\f";else if(k==="/")Z+="/";else if(k==="u"){let M=q.substring(_+1,_+5);if(/^[0-9A-Fa-f]{0,4}$/.test(M)){if(M.length===4)Z+=String.fromCharCode(Number.parseInt(M,16));else Z+=`u${M}`;_+=M.length}else throw Error(`Invalid unicode escape sequence '\\u${M}' at position ${_}`)}else throw Error(`Invalid escape sequence '\\${k}' at position ${_}`);w=!1}else if(k==="\\")w=!0;else if(k==='"')return _+=1,Z;else Z+=k;_+=1}if(w)Z+="\\";return Z}function O(){let Z=_,w="";if(q[_]==="-")w+="-",_+=1;if(_<q.length&&q[_]==="0"){if(w+="0",_+=1,q[_]>="0"&&q[_]<="9")throw Error(`Invalid number at position ${Z}`)}if(_<q.length&&q[_]>="1"&&q[_]<="9")while(_<q.length&&q[_]>="0"&&q[_]<="9")w+=q[_],_+=1;if(_<q.length&&q[_]==="."){w+=".",_+=1;while(_<q.length&&q[_]>="0"&&q[_]<="9")w+=q[_],_+=1}if(_<q.length&&(q[_]==="e"||q[_]==="E")){if(w+=q[_],_+=1,_<q.length&&(q[_]==="+"||q[_]==="-"))w+=q[_],_+=1;while(_<q.length&&q[_]>="0"&&q[_]<="9")w+=q[_],_+=1}if(w==="-")return-0;let k=Number.parseFloat(w);if(Number.isNaN(k))throw _=Z,Error(`Invalid number '${w}' at position ${Z}`);return k}function Y(){if(P(),_>=q.length)throw Error(`Unexpected end of input at position ${_}`);let Z=q[_];if(Z==="{")return W();if(Z==="[")return v();if(Z==='"')return K();if("null".startsWith(q.substring(_,_+4)))return _+=Math.min(4,q.length-_),null;if("true".startsWith(q.substring(_,_+4)))return _+=Math.min(4,q.length-_),!0;if("false".startsWith(q.substring(_,_+5)))return _+=Math.min(5,q.length-_),!1;if(Z==="-"||Z>="0"&&Z<="9")return O();throw Error(`Unexpected character '${Z}' at position ${_}`)}function v(){if(q[_]!=="[")throw Error(`Expected '[' at position ${_}, got '${q[_]}'`);let Z=[];if(_+=1,P(),_>=q.length)return Z;if(q[_]==="]")return _+=1,Z;while(_<q.length){if(P(),_>=q.length)return Z;if(Z.push(Y()),P(),_>=q.length)return Z;if(q[_]==="]")return _+=1,Z;else if(q[_]===","){_+=1;continue}throw Error(`Expected ',' or ']' at position ${_}, got '${q[_]}'`)}return Z}function W(){if(q[_]!=="{")throw Error(`Expected '{' at position ${_}, got '${q[_]}'`);let Z={};if(_+=1,P(),_>=q.length)return Z;if(q[_]==="}")return _+=1,Z;while(_<q.length){if(P(),_>=q.length)return Z;let w=K();if(P(),_>=q.length)return Z;if(q[_]!==":")throw Error(`Expected ':' at position ${_}, got '${q[_]}'`);if(_+=1,P(),_>=q.length)return Z;if(Z[w]=Y(),P(),_>=q.length)return Z;if(q[_]==="}")return _+=1,Z;else if(q[_]===","){_+=1;continue}throw Error(`Expected ',' or '}' at position ${_}, got '${q[_]}'`)}return Z}let T=Y();if(P(),_<q.length)throw Error(`Unexpected character '${q[_]}' at position ${_}`);return T}function Af($){try{if(typeof $>"u")return null;return rI($)}catch{return null}}function JO($){switch($){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function oI($){if(K6($.document)&&K6($.document.source)){let q=K6($.document)&&i$($.document.format)?$.document.format:"",_=JO(q);if(K6($.document.source)){if(K6($.document.source.s3Location)&&i$($.document.source.s3Location.uri))return{type:"file",mimeType:_,fileId:$.document.source.s3Location.uri};if(P9($.document.source.bytes))return{type:"file",mimeType:_,data:$.document.source.bytes};if(i$($.document.source.text))return{type:"file",mimeType:_,data:Buffer.from($.document.source.text).toString("base64")};if(Iq($.document.source.content)){let P=$.document.source.content.reduce((K,O)=>{if(K6(O)&&i$(O.text))return K+O.text;return K},"");return{type:"file",mimeType:_,data:P}}}}return{type:"non_standard",value:$}}function nI($){if(s$($,"image")&&K6($.image)){let q=K6($.image)&&i$($.image.format)?$.image.format:"",_=JO(q);if(K6($.image.source)){if(K6($.image.source.s3Location)&&i$($.image.source.s3Location.uri))return{type:"image",mimeType:_,fileId:$.image.source.s3Location.uri};if(P9($.image.source.bytes))return{type:"image",mimeType:_,data:$.image.source.bytes}}}return{type:"non_standard",value:$}}function iI($){if(s$($,"video")&&K6($.video)){let q=K6($.video)&&i$($.video.format)?$.video.format:"",_=JO(q);if(K6($.video.source)){if(K6($.video.source.s3Location)&&i$($.video.source.s3Location.uri))return{type:"video",mimeType:_,fileId:$.video.source.s3Location.uri};if(P9($.video.source.bytes))return{type:"video",mimeType:_,data:$.video.source.bytes}}}return{type:"non_standard",value:$}}function kf($){function*q(){let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let P of _){if(s$(P,"cache_point")){yield{type:"non_standard",value:P};continue}else if(s$(P,"citations_content")&&K6(P.citationsContent)){let K=Iq(P.citationsContent.content)?P.citationsContent.content.reduce((Y,v)=>{if(K6(v)&&i$(v.text))return Y+v.text;return Y},""):"",O=Iq(P.citationsContent.citations)?P.citationsContent.citations.reduce((Y,v)=>{if(K6(v)){let W=Iq(v.sourceContent)?v.sourceContent.reduce((Z,w)=>{if(K6(w)&&i$(w.text))return Z+w.text;return Z},""):"",T=Z_(()=>{if(K6(v.location)){let Z=v.location.documentChar||v.location.documentPage||v.location.documentChunk;if(K6(Z))return{source:j8(Z.documentIndex)?Z.documentIndex.toString():void 0,startIndex:j8(Z.start)?Z.start:void 0,endIndex:j8(Z.end)?Z.end:void 0}}return{}});Y.push({type:"citation",citedText:W,...T})}return Y},[]):[];yield{type:"text",text:K,annotations:O};continue}else if(s$(P,"document")&&K6(P.document)){yield oI(P);continue}else if(s$(P,"guard_content")){yield{type:"non_standard",value:P};continue}else if(s$(P,"image")&&K6(P.image)){yield nI(P);continue}else if(s$(P,"reasoning_content")&&i$(P.reasoningText)){yield{type:"reasoning",reasoning:P.reasoningText};continue}else if(s$(P,"text")&&i$(P.text)){yield{type:"text",text:P.text};continue}else if(s$(P,"tool_result")){yield{type:"non_standard",value:P};continue}else if(s$(P,"tool_call"))continue;else if(s$(P,"video")&&K6(P.video)){yield iI(P);continue}yield{type:"non_standard",value:P}}}return Array.from(q())}var Gf={translateContent:kf,translateContentChunk:kf};function Vf($){let q=[],_=$.additional_kwargs?.reasoning_content;if(i$(_)&&_.length>0)q.push({type:"reasoning",reasoning:_});if(typeof $.content==="string"){if($.content.length>0)q.push({type:"text",text:$.content})}else for(let P of $.content)if(typeof P==="object"&&"type"in P&&P.type==="text"&&"text"in P&&i$(P.text))q.push({type:"text",text:P.text});for(let P of $.tool_calls??[])q.push({type:"tool_call",id:P.id,name:P.name,args:P.args});return q}var Sf={translateContent:Vf,translateContentChunk:Vf};function Mf($){function*q(){let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let P of _){if(s$(P,"text")&&i$(P.text)){yield{type:"text",text:P.text};continue}else if(s$(P,"thinking")&&i$(P.thinking)){yield{type:"reasoning",reasoning:P.thinking,...P.signature?{signature:P.signature}:{}};continue}else if(s$(P,"inlineData")&&K6(P.inlineData)&&i$(P.inlineData.mimeType)&&i$(P.inlineData.data)){yield{type:"file",mimeType:P.inlineData.mimeType,data:P.inlineData.data};continue}else if(s$(P,"functionCall")&&K6(P.functionCall)&&i$(P.functionCall.name)&&K6(P.functionCall.args)){yield{type:"tool_call",id:$.id,name:P.functionCall.name,args:P.functionCall.args};continue}else if(s$(P,"functionResponse")){yield{type:"non_standard",value:P};continue}else if(s$(P,"fileData")&&K6(P.fileData)&&i$(P.fileData.mimeType)&&i$(P.fileData.fileUri)){yield{type:"file",mimeType:P.fileData.mimeType,fileId:P.fileData.fileUri};continue}else if(s$(P,"executableCode")){yield{type:"non_standard",value:P};continue}else if(s$(P,"codeExecutionResult")){yield{type:"non_standard",value:P};continue}yield{type:"non_standard",value:P}}}return Array.from(q())}var Nf={translateContent:Mf,translateContentChunk:Mf};function Cf($){function*q(){let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let P of _){if(s$(P,"reasoning")&&i$(P.reasoning)){let K=Z_(()=>{let O=_.indexOf(P);if(Iq($.additional_kwargs?.signatures)&&O>=0)return $.additional_kwargs.signatures.at(O);return});if(i$(K))yield{type:"reasoning",reasoning:P.reasoning,signature:K};else yield{type:"reasoning",reasoning:P.reasoning};continue}else if(s$(P,"thinking")&&i$(P.thinking)){yield{type:"reasoning",reasoning:P.thinking,...P.signature?{signature:P.signature}:{}};continue}else if(s$(P,"text")&&i$(P.text)){yield{type:"text",text:P.text};continue}else if(s$(P,"image_url")){if(i$(P.image_url))if(P.image_url.startsWith("data:")){let K=/^data:([^;]+);base64,(.+)$/,O=P.image_url.match(K);if(O)yield{type:"image",data:O[2],mimeType:O[1]};else yield{type:"image",url:P.image_url}}else yield{type:"image",url:P.image_url};continue}else if(s$(P,"media")&&i$(P.mimeType)&&i$(P.data)){yield{type:"file",mimeType:P.mimeType,data:P.data};continue}yield{type:"non_standard",value:P}}}return Array.from(q())}var Ef={translateContent:Cf,translateContentChunk:Cf};function Rf($){let q=[],_=$.additional_kwargs?.reasoning;if(i$(_)&&_.length>0)q.push({type:"reasoning",reasoning:_});if(typeof $.content==="string"){let P=$.content,K=P.match(/<think>([\s\S]*?)<\/think>/);if(K){let O=K[1].trim();if(O.length>0)q.push({type:"reasoning",reasoning:O});P=P.replace(/<think>[\s\S]*?<\/think>/,"").trim()}if(P.length>0)q.push({type:"text",text:P})}else for(let P of $.content)if(typeof P==="object"&&"type"in P&&P.type==="text"&&"text"in P&&i$(P.text)){let K=P.text,O=K.match(/<think>([\s\S]*?)<\/think>/);if(O){let Y=O[1].trim();if(Y.length>0)q.push({type:"reasoning",reasoning:Y});K=K.replace(/<think>[\s\S]*?<\/think>/,"").trim()}if(K.length>0)q.push({type:"text",text:K})}for(let P of $.tool_calls??[])q.push({type:"tool_call",id:P.id,name:P.name,args:P.args});return q}var If={translateContent:Rf,translateContentChunk:Rf};function hf($){let q=[],_=$.additional_kwargs?.reasoning_content;if(i$(_)&&_.length>0)q.push({type:"reasoning",reasoning:_});if(typeof $.content==="string"){if($.content.length>0)q.push({type:"text",text:$.content})}else for(let P of $.content)if(typeof P==="object"&&"type"in P&&P.type==="text"&&"text"in P&&i$(P.text))q.push({type:"text",text:P.text});for(let P of $.tool_calls??[])q.push({type:"tool_call",id:P.id,name:P.name,args:P.args});return q}var Df={translateContent:hf,translateContentChunk:hf};function Lf($){let q=[];if(K6($.additional_kwargs?.reasoning)){let P=$.additional_kwargs.reasoning;if(Iq(P.summary)){let K=P.summary.reduce((O,Y)=>{if(K6(Y)&&i$(Y.text))return`${O}${Y.text}`;return O},"");if(K.length>0)q.push({type:"reasoning",reasoning:K})}}let _=$.additional_kwargs?.reasoning_content;if(i$(_)&&_.length>0)q.push({type:"reasoning",reasoning:_});if(typeof $.content==="string"){if($.content.length>0)q.push({type:"text",text:$.content})}else for(let P of $.content)if(typeof P==="object"&&"type"in P&&P.type==="text"&&"text"in P&&i$(P.text))q.push({type:"text",text:P.text});for(let P of $.tool_calls??[])q.push({type:"tool_call",id:P.id,name:P.name,args:P.args});return q}var gf={translateContent:Lf,translateContentChunk:Lf};globalThis.lc_block_translators_registry??=new Map([["anthropic",jf],["bedrock-converse",Gf],["deepseek",Sf],["google-genai",Nf],["google-vertexai",Ef],["groq",If],["ollama",Df],["openai",Hf],["xai",gf]]);function WO($){return globalThis.lc_block_translators_registry.get($)}function bf($,q){return Fq($,q)??{}}function yf($,q){let _={};if($?.audio!==void 0||q?.audio!==void 0)_.audio=($?.audio??0)+(q?.audio??0);if($?.image!==void 0||q?.image!==void 0)_.image=($?.image??0)+(q?.image??0);if($?.video!==void 0||q?.video!==void 0)_.video=($?.video??0)+(q?.video??0);if($?.document!==void 0||q?.document!==void 0)_.document=($?.document??0)+(q?.document??0);if($?.text!==void 0||q?.text!==void 0)_.text=($?.text??0)+(q?.text??0);return _}function BI($,q){let _={...yf($,q)};if($?.cache_read!==void 0||q?.cache_read!==void 0)_.cache_read=($?.cache_read??0)+(q?.cache_read??0);if($?.cache_creation!==void 0||q?.cache_creation!==void 0)_.cache_creation=($?.cache_creation??0)+(q?.cache_creation??0);return _}function UI($,q){let _={...yf($,q)};if($?.reasoning!==void 0||q?.reasoning!==void 0)_.reasoning=($?.reasoning??0)+(q?.reasoning??0);return _}function O9($,q){return{input_tokens:($?.input_tokens??0)+(q?.input_tokens??0),output_tokens:($?.output_tokens??0)+(q?.output_tokens??0),total_tokens:($?.total_tokens??0)+(q?.total_tokens??0),input_token_details:BI($?.input_token_details,q?.input_token_details),output_token_details:UI($?.output_token_details,q?.output_token_details)}}var HO=class extends i8{type="ai";tool_calls=[];invalid_tool_calls=[];usage_metadata;get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor($){let q;if(typeof $==="string"||Array.isArray($))q={content:$,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{q=$;let _=q.additional_kwargs?.tool_calls,P=q.tool_calls;if(_!=null&&_.length>0&&(P===void 0||P.length===0))console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(_!=null&&P===void 0){let[K,O]=zO(_);q.tool_calls=K??[],q.invalid_tool_calls=O??[]}else q.tool_calls=q.tool_calls??[],q.invalid_tool_calls=q.invalid_tool_calls??[]}catch{q.tool_calls=[],q.invalid_tool_calls=[]}if(q.response_metadata!==void 0&&"output_version"in q.response_metadata&&q.response_metadata.output_version==="v1")q.contentBlocks=q.content,q.content=void 0;if(q.contentBlocks!==void 0){if(q.tool_calls)q.contentBlocks.push(...q.tool_calls.map((O)=>({type:"tool_call",id:O.id,name:O.name,args:O.args})));let K=q.contentBlocks.filter((O)=>O.type==="tool_call").filter((O)=>!q.tool_calls?.some((Y)=>Y.id===O.id&&Y.name===O.name));if(K.length>0)q.tool_calls=K.map((O)=>({type:"tool_call",id:O.id,name:O.name,args:O.args}))}}super(q);if(typeof q!=="string")this.tool_calls=q.tool_calls??this.tool_calls,this.invalid_tool_calls=q.invalid_tool_calls??this.invalid_tool_calls;this.usage_metadata=q.usage_metadata}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider==="string"){let q=WO(this.response_metadata.model_provider);if(q)return q.translateContent(this)}let $=super.contentBlocks;if(this.tool_calls){let q=this.tool_calls.filter((_)=>!$.some((P)=>P.id===_.id&&P.name===_.name));$.push(...q.map((_)=>({type:"tool_call",id:_.id,name:_.name,args:_.args})))}return $}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance($){return super.isInstance($)&&$.type==="ai"}};var oP=class extends B_{type="ai";tool_calls=[];invalid_tool_calls=[];tool_call_chunks=[];usage_metadata;constructor($){let q;if(typeof $==="string"||Array.isArray($))q={content:$,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if($.tool_call_chunks===void 0||$.tool_call_chunks.length===0)q={...$,tool_calls:$.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:$.usage_metadata!==void 0?$.usage_metadata:void 0};else{let _=uf($.tool_call_chunks??[]);q={...$,tool_call_chunks:_.tool_call_chunks,tool_calls:_.tool_calls,invalid_tool_calls:_.invalid_tool_calls,usage_metadata:$.usage_metadata!==void 0?$.usage_metadata:void 0}}super(q);this.tool_call_chunks=q.tool_call_chunks??this.tool_call_chunks,this.tool_calls=q.tool_calls??this.tool_calls,this.invalid_tool_calls=q.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=q.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider==="string"){let q=WO(this.response_metadata.model_provider);if(q)return q.translateContent(this)}let $=super.contentBlocks;if(this.tool_calls){if(typeof this.content!=="string"){let q=this.content.filter((_)=>_.type==="tool_call").map((_)=>_.id);for(let _ of this.tool_calls)if(_.id&&!q.includes(_.id))$.push({..._,type:"tool_call",id:_.id,name:_.name,args:_.args})}}return $}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat($){let q={content:i_(this.content,$.content),additional_kwargs:Fq(this.additional_kwargs,$.additional_kwargs),response_metadata:bf(this.response_metadata,$.response_metadata),tool_call_chunks:[],id:this.id??$.id};if(this.tool_call_chunks!==void 0||$.tool_call_chunks!==void 0){let P=rP(this.tool_call_chunks,$.tool_call_chunks);if(P!==void 0&&P.length>0)q.tool_call_chunks=P}if(this.usage_metadata!==void 0||$.usage_metadata!==void 0)q.usage_metadata=O9(this.usage_metadata,$.usage_metadata);return new this.constructor(q)}static isInstance($){return super.isInstance($)&&$.type==="ai"}};function xf($,q="Human",_="AI"){let P=[];for(let K of $){let O;if(K.type==="human")O=q;else if(K.type==="ai")O=_;else if(K.type==="system")O="System";else if(K.type==="tool")O="Tool";else if(K.type==="generic")O=K.role;else throw Error(`Got unsupported message type: ${K.type}`);let Y=K.name?`${K.name}, `:"",v=K.text,W=`${O}: ${Y}${v}`;if(K.type==="ai"){let T=K;if(T.tool_calls&&T.tool_calls.length>0)W+=JSON.stringify(T.tool_calls);else if(T.additional_kwargs&&"function_call"in T.additional_kwargs)W+=JSON.stringify(T.additional_kwargs.function_call)}P.push(W)}return P.join(`
`)}function uf($){let q=$.reduce((K,O)=>{let Y=K.findIndex(([v])=>{if("id"in O&&O.id&&"index"in O&&O.index!==void 0)return O.id===v.id&&O.index===v.index;if("id"in O&&O.id)return O.id===v.id;if("index"in O&&O.index!==void 0)return O.index===v.index;return!1});if(Y!==-1)K[Y].push(O);else K.push([O]);return K},[]),_=[],P=[];for(let K of q){let O=null,Y=K[0]?.name??"",v=K.map((Z)=>Z.args||"").join("").trim(),W=v.length?v:"{}",T=K[0]?.id;try{if(O=Af(W),!T||O===null||typeof O!=="object"||Array.isArray(O))throw Error("Malformed tool call chunk args.");_.push({name:Y,args:O,id:T,type:"tool_call"})}catch{P.push({name:Y,args:W,id:T,error:"Malformed args.",type:"invalid_tool_call"})}}return{tool_call_chunks:$,tool_calls:_,invalid_tool_calls:P}}var tI={};k6(tI,{getEnv:()=>lf,getEnvironmentVariable:()=>h8,getRuntimeEnvironment:()=>wO,isBrowser:()=>pf,isDeno:()=>j9,isJsDom:()=>mf,isNode:()=>df,isWebWorker:()=>cf});var pf=()=>typeof window<"u"&&typeof window.document<"u",cf=()=>typeof globalThis==="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",mf=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),j9=()=>typeof Deno<"u",df=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!j9(),lf=()=>{let $;if(pf())$="browser";else if(df())$="node";else if(cf())$="webworker";else if(mf())$="jsdom";else if(j9())$="deno";else $="other";return $},TO;function wO(){if(TO===void 0)TO={library:"langchain-js",runtime:lf()};return TO}function h8($){try{if(typeof process<"u")return process.env?.[$];else if(j9())return Deno?.env.get($);else return}catch{return}}var rf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function FI($){return typeof $==="string"&&rf.test($)}var j4=FI;var Gq=[];for(nP=0;nP<256;++nP)Gq.push((nP+256).toString(16).slice(1));var nP;function v9($,q=0){return(Gq[$[q+0]]+Gq[$[q+1]]+Gq[$[q+2]]+Gq[$[q+3]]+"-"+Gq[$[q+4]]+Gq[$[q+5]]+"-"+Gq[$[q+6]]+Gq[$[q+7]]+"-"+Gq[$[q+8]]+Gq[$[q+9]]+"-"+Gq[$[q+10]]+Gq[$[q+11]]+Gq[$[q+12]]+Gq[$[q+13]]+Gq[$[q+14]]+Gq[$[q+15]]).toLowerCase()}var z9,QI=new Uint8Array(16);function iP(){if(!z9){if(z9=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z9)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}return z9(QI)}var aI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ZO={randomUUID:aI};function eI($,q,_){if(ZO.randomUUID&&!q&&!$)return ZO.randomUUID();$=$||{};var P=$.random||($.rng||iP)();if(P[6]=P[6]&15|64,P[8]=P[8]&63|128,q){_=_||0;for(var K=0;K<16;++K)q[_+K]=P[K];return q}return v9(P)}var BP=eI;var of=null,nf=null,D8=0;function sI($,q,_){$=$||{};var P=q&&_||0,K=q||new Uint8Array(16),O=$.random||($.rng||iP)(),Y=$.msecs!==void 0?$.msecs:Date.now(),v=$.seq!==void 0?$.seq:null,W=nf,T=of;if(Y>D8&&$.msecs===void 0){if(D8=Y,v!==null)W=null,T=null}if(v!==null){if(v>2147483647)v=2147483647;W=v>>>19&4095,T=v&524287}if(W===null||T===null)W=O[6]&127,W=W<<8|O[7],T=O[8]&63,T=T<<8|O[9],T=T<<5|O[10]>>>3;if(Y+1e4>D8&&v===null){if(++T>524287){if(T=0,++W>4095)W=0,D8++}}else D8=Y;return nf=W,of=T,K[P++]=D8/1099511627776&255,K[P++]=D8/4294967296&255,K[P++]=D8/16777216&255,K[P++]=D8/65536&255,K[P++]=D8/256&255,K[P++]=D8&255,K[P++]=W>>>4&15|112,K[P++]=W&255,K[P++]=T>>>13&63|128,K[P++]=T>>>5&255,K[P++]=T<<3&255|O[10]&7,K[P++]=O[11],K[P++]=O[12],K[P++]=O[13],K[P++]=O[14],K[P++]=O[15],q||v9(K)}var B8=sI;var qh={};k6(qh,{BaseCallbackHandler:()=>GK,callbackHandlerPrefersStreaming:()=>Kh,isBaseCallbackHandler:()=>fO});var _h=class{};function Kh($){return"lc_prefer_streaming"in $&&$.lc_prefer_streaming}var GK=class extends _h{lc_serializable=!1;get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){return}get lc_attributes(){return}get lc_aliases(){return}get lc_serializable_keys(){return}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,K9(this.constructor)]}lc_kwargs;ignoreLLM=!1;ignoreChain=!1;ignoreAgent=!1;ignoreRetriever=!1;ignoreCustomEvent=!1;raiseError=!1;awaitHandlers=h8("LANGCHAIN_CALLBACKS_BACKGROUND")==="false";constructor($){super();if(this.lc_kwargs=$||{},$)this.ignoreLLM=$.ignoreLLM??this.ignoreLLM,this.ignoreChain=$.ignoreChain??this.ignoreChain,this.ignoreAgent=$.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=$.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=$.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=$.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||($._awaitHandler??this.awaitHandlers)}copy(){return new this.constructor(this)}toJSON(){return r_.prototype.toJSON.call(this)}toJSONNotImplemented(){return r_.prototype.toJSONNotImplemented.call(this)}static fromMethods($){class q extends GK{name=B8();constructor(){super();Object.assign(this,$)}}return new q}},fO=($)=>{let q=$;return q!==void 0&&typeof q.copy==="function"&&typeof q.name==="string"&&typeof q.awaitHandlers==="boolean"};var Bf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Ph($){return typeof $==="string"&&Bf.test($)}var Uf=Ph;function Yh($){if(!Uf($))throw TypeError("Invalid UUID");var q,_=new Uint8Array(16);return _[0]=(q=parseInt($.slice(0,8),16))>>>24,_[1]=q>>>16&255,_[2]=q>>>8&255,_[3]=q&255,_[4]=(q=parseInt($.slice(9,13),16))>>>8,_[5]=q&255,_[6]=(q=parseInt($.slice(14,18),16))>>>8,_[7]=q&255,_[8]=(q=parseInt($.slice(19,23),16))>>>8,_[9]=q&255,_[10]=(q=parseInt($.slice(24,36),16))/1099511627776&255,_[11]=q/4294967296&255,_[12]=q>>>24&255,_[13]=q>>>16&255,_[14]=q>>>8&255,_[15]=q&255,_}var tf=Yh;var Vq=[];for(UP=0;UP<256;++UP)Vq.push((UP+256).toString(16).slice(1));var UP;function v4($,q=0){return(Vq[$[q+0]]+Vq[$[q+1]]+Vq[$[q+2]]+Vq[$[q+3]]+"-"+Vq[$[q+4]]+Vq[$[q+5]]+"-"+Vq[$[q+6]]+Vq[$[q+7]]+"-"+Vq[$[q+8]]+Vq[$[q+9]]+"-"+Vq[$[q+10]]+Vq[$[q+11]]+Vq[$[q+12]]+Vq[$[q+13]]+Vq[$[q+14]]+Vq[$[q+15]]).toLowerCase()}var J9,Oh=new Uint8Array(16);function tP(){if(!J9){if(J9=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!J9)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}return J9(Oh)}function jh($){$=unescape(encodeURIComponent($));var q=[];for(var _=0;_<$.length;++_)q.push($.charCodeAt(_));return q}var vh="6ba7b810-9dad-11d1-80b4-00c04fd430c8",zh="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function XO($,q,_){function P(K,O,Y,v){var W;if(typeof K==="string")K=jh(K);if(typeof O==="string")O=tf(O);if(((W=O)===null||W===void 0?void 0:W.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var T=new Uint8Array(16+K.length);if(T.set(O),T.set(K,O.length),T=_(T),T[6]=T[6]&15|q,T[8]=T[8]&63|128,Y){v=v||0;for(var Z=0;Z<16;++Z)Y[v+Z]=T[Z];return Y}return v4(T)}try{P.name=$}catch(K){}return P.DNS=vh,P.URL=zh,P}var Jh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),AO={randomUUID:Jh};function Wh($,q,_){if(AO.randomUUID&&!q&&!$)return AO.randomUUID();$=$||{};var P=$.random||($.rng||tP)();if(P[6]=P[6]&15|64,P[8]=P[8]&63|128,q){_=_||0;for(var K=0;K<16;++K)q[_+K]=P[K];return q}return v4(P)}var VK=Wh;function Hh($,q,_,P){switch($){case 0:return q&_^~q&P;case 1:return q^_^P;case 2:return q&_^q&P^_&P;case 3:return q^_^P}}function kO($,q){return $<<q|$>>>32-q}function Th($){var q=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof $==="string"){var P=unescape(encodeURIComponent($));$=[];for(var K=0;K<P.length;++K)$.push(P.charCodeAt(K))}else if(!Array.isArray($))$=Array.prototype.slice.call($);$.push(128);var O=$.length/4+2,Y=Math.ceil(O/16),v=Array(Y);for(var W=0;W<Y;++W){var T=new Uint32Array(16);for(var Z=0;Z<16;++Z)T[Z]=$[W*64+Z*4]<<24|$[W*64+Z*4+1]<<16|$[W*64+Z*4+2]<<8|$[W*64+Z*4+3];v[W]=T}v[Y-1][14]=($.length-1)*8/Math.pow(2,32),v[Y-1][14]=Math.floor(v[Y-1][14]),v[Y-1][15]=($.length-1)*8&4294967295;for(var w=0;w<Y;++w){var k=new Uint32Array(80);for(var M=0;M<16;++M)k[M]=v[w][M];for(var N=16;N<80;++N)k[N]=kO(k[N-3]^k[N-8]^k[N-14]^k[N-16],1);var R=_[0],E=_[1],D=_[2],h=_[3],L=_[4];for(var b=0;b<80;++b){var y=Math.floor(b/20),p=kO(R,5)+Hh(y,E,D,h)+L+q[y]+k[b]>>>0;L=h,h=D,D=kO(E,30)>>>0,E=R,R=p}_[0]=_[0]+R>>>0,_[1]=_[1]+E>>>0,_[2]=_[2]+D>>>0,_[3]=_[3]+h>>>0,_[4]=_[4]+L>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,_[0]&255,_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,_[1]&255,_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,_[2]&255,_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,_[3]&255,_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,_[4]&255]}var Ff=Th;var wh=XO("v5",80,Ff),SK=wh;var Qf=null,af=null,L8=0;function Zh($,q,_){$=$||{};var P=q&&_||0,K=q||new Uint8Array(16),O=$.random||($.rng||tP)(),Y=$.msecs!==void 0?$.msecs:Date.now(),v=$.seq!==void 0?$.seq:null,W=af,T=Qf;if(Y>L8&&$.msecs===void 0){if(L8=Y,v!==null)W=null,T=null}if(v!==null){if(v>2147483647)v=2147483647;W=v>>>19&4095,T=v&524287}if(W===null||T===null)W=O[6]&127,W=W<<8|O[7],T=O[8]&63,T=T<<8|O[9],T=T<<5|O[10]>>>3;if(Y+1e4>L8&&v===null){if(++T>524287){if(T=0,++W>4095)W=0,L8++}}else L8=Y;return af=W,Qf=T,K[P++]=L8/1099511627776&255,K[P++]=L8/4294967296&255,K[P++]=L8/16777216&255,K[P++]=L8/65536&255,K[P++]=L8/256&255,K[P++]=L8&255,K[P++]=W>>>4&15|112,K[P++]=W&255,K[P++]=T>>>13&63|128,K[P++]=T>>>5&255,K[P++]=T<<3&255|O[10]&7,K[P++]=O[11],K[P++]=O[12],K[P++]=O[13],K[P++]=O[14],K[P++]=O[15],q||v4(K)}var GO=Zh;var ef="gen_ai.operation.name",sf="gen_ai.system",VO="gen_ai.request.model",$X="gen_ai.response.model",SO="gen_ai.usage.input_tokens",MO="gen_ai.usage.output_tokens",NO="gen_ai.usage.total_tokens",qX="gen_ai.request.max_tokens",_X="gen_ai.request.temperature",KX="gen_ai.request.top_p",PX="gen_ai.request.frequency_penalty",YX="gen_ai.request.presence_penalty",OX="gen_ai.response.finish_reasons",jX="gen_ai.prompt",vX="gen_ai.completion",zX="gen_ai.request.extra_query",JX="gen_ai.request.extra_body",WX="gen_ai.serialized.name",HX="gen_ai.serialized.signature",TX="gen_ai.serialized.doc",wX="gen_ai.response.id",ZX="gen_ai.response.service_tier",fX="gen_ai.response.system_fingerprint",XX="gen_ai.usage.input_token_details",AX="gen_ai.usage.output_token_details",kX="langsmith.trace.session_id",GX="langsmith.trace.session_name",VX="langsmith.span.kind",SX="langsmith.trace.name",MX="langsmith.metadata",CO="langsmith.span.tags";var NX="langsmith.request.streaming",CX="langsmith.request.headers";var Ah=(...$)=>fetch(...$),EX=Symbol.for("ls:fetch_implementation");var RX=()=>{let $=globalThis[EX];if(!$)return!1;return typeof $==="function"&&"Headers"in $&&"Request"in $&&"Response"in $},IX=($)=>{return async(...q)=>{if($||t6("DEBUG")==="true"){let[P,K]=q;console.log(` ${K?.method||"GET"} ${P}`)}let _=await(globalThis[EX]??Ah)(...q);if($||t6("DEBUG")==="true")console.log(` ${_.status} ${_.statusText} ${_.url}`);return _}};var FP=()=>{return t6("PROJECT")??v8("LANGCHAIN_SESSION")??"default"};var hX={};function QP($){if(!hX[$])console.warn($),hX[$]=!0}var kh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function j6($,q){if(!kh.test($)){let _=q!==void 0?`Invalid UUID for ${q}: ${$}`:`Invalid UUID: ${$}`;throw Error(_)}return $}function W9($){let q=typeof $==="string"?Date.parse($):$;return GO({msecs:q,seq:0})}function DX($,q){throw Error("dump() is not supported in browser environments.")}function LX($){throw Error("load() is not supported in browser environments.")}function Gh($,q){if(q===null)return!1;return Date.now()-$.createdAt>q*1000}class H9{constructor($={}){if(Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ttlSeconds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"refreshIntervalSeconds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchFunc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"refreshTimer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_metrics",{enumerable:!0,configurable:!0,writable:!0,value:{hits:0,misses:0,refreshes:0,refreshErrors:0}}),this.maxSize=$.maxSize??100,this.ttlSeconds=$.ttlSeconds??3600,this.refreshIntervalSeconds=$.refreshIntervalSeconds??60,this.fetchFunc=$.fetchFunc,this.fetchFunc&&this.ttlSeconds!==null)this.startRefreshLoop()}get metrics(){return{...this._metrics}}get totalRequests(){return this._metrics.hits+this._metrics.misses}get hitRate(){let $=this.totalRequests;return $>0?this._metrics.hits/$:0}resetMetrics(){this._metrics={hits:0,misses:0,refreshes:0,refreshErrors:0}}get($){let q=this.cache.get($);if(!q){this._metrics.misses+=1;return}return this.cache.delete($),this.cache.set($,q),this._metrics.hits+=1,q.value}set($,q){if(!this.cache.has($)&&this.cache.size>=this.maxSize){let P=this.cache.keys().next().value;if(P!==void 0)this.cache.delete(P)}let _={value:q,createdAt:Date.now()};this.cache.delete($),this.cache.set($,_)}invalidate($){this.cache.delete($)}clear(){this.cache.clear()}get size(){return this.cache.size}stop(){if(this.refreshTimer)clearInterval(this.refreshTimer),this.refreshTimer=void 0}dump($){let q={};for(let[_,P]of this.cache.entries())q[_]=P.value;DX($,q)}load($){let q=LX($);if(!q)return 0;let _=0,P=Date.now();for(let[K,O]of Object.entries(q)){if(this.cache.size>=this.maxSize)break;let Y={value:O,createdAt:P};this.cache.set(K,Y),_+=1}return _}startRefreshLoop(){if(this.refreshTimer=setInterval(()=>{this.refreshStaleEntries().catch(($)=>{console.warn("Unexpected error in cache refresh loop:",$)})},this.refreshIntervalSeconds*1000),this.refreshTimer.unref)this.refreshTimer.unref()}getStaleKeys(){let $=[];for(let[q,_]of this.cache.entries())if(Gh(_,this.ttlSeconds))$.push(q);return $}async refreshStaleEntries(){if(!this.fetchFunc)return;let $=this.getStaleKeys();if($.length===0)return;for(let q of $)try{let _=await this.fetchFunc(q);this.set(q,_),this._metrics.refreshes+=1}catch(_){this._metrics.refreshErrors+=1,console.warn(`Failed to refresh cache entry ${q}:`,_)}}}var T9="0.4.7";var U8,Vh=()=>typeof window<"u"&&typeof window.document<"u",Sh=()=>typeof globalThis==="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Mh=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),gX=()=>typeof Deno<"u",Nh=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!gX(),IO=()=>{if(U8)return U8;if(typeof Bun<"u")U8="bun";else if(Vh())U8="browser";else if(Nh())U8="node";else if(Sh())U8="webworker";else if(Mh())U8="jsdom";else if(gX())U8="deno";else U8="other";return U8},EO;function w9(){if(EO===void 0){let $=IO(),q=Eh();EO={library:"langsmith",runtime:$,sdk:"langsmith-js",sdk_version:T9,...q}}return EO}function hO(){let $=Ch(),q={},_=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(let[P,K]of Object.entries($))if(typeof K==="string"&&!_.includes(P)&&!P.toLowerCase().includes("key")&&!P.toLowerCase().includes("secret")&&!P.toLowerCase().includes("token"))if(P==="LANGCHAIN_REVISION_ID")q.revision_id=K;else q[P]=K;return q}function Ch(){let $={};try{if(typeof process<"u"&&process.env){for(let[q,_]of Object.entries(process.env))if((q.startsWith("LANGCHAIN_")||q.startsWith("LANGSMITH_"))&&_!=null)if((q.toLowerCase().includes("key")||q.toLowerCase().includes("secret")||q.toLowerCase().includes("token"))&&typeof _==="string")$[q]=_.slice(0,2)+"*".repeat(_.length-4)+_.slice(-2);else $[q]=_}}catch(q){}return $}function v8($){try{return typeof process<"u"?process.env?.[$]:void 0}catch(q){return}}function t6($){return v8(`LANGSMITH_${$}`)||v8(`LANGCHAIN_${$}`)}var RO;function Eh(){if(RO!==void 0)return RO;let $=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],q={};for(let _ of $){let P=v8(_);if(P!==void 0)q[_]=P}return RO=q,q}function Z9(){return v8("OTEL_ENABLED")==="true"||t6("OTEL_ENABLED")==="true"}class yX{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan($,...q){if(!this.hasWarned&&Z9())console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0;let _;if(q.length===1&&typeof q[0]==="function")_=q[0];else if(q.length===2&&typeof q[1]==="function")_=q[1];else if(q.length===3&&typeof q[2]==="function")_=q[2];if(typeof _==="function")return _();return}}class uX{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new yX})}getTracer($,q){return this.mockTracer}getActiveSpan(){return}setSpan($,q){return $}getSpan($){return}setSpanContext($,q){return $}getTracerProvider(){return}setGlobalTracerProvider($){return!1}}class xX{active(){return{}}with($,q){return q()}}var DO=Symbol.for("ls:otel_trace"),LO=Symbol.for("ls:otel_context"),bX=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),Rh=new uX,Ih=new xX;class pX{getTraceInstance(){return globalThis[DO]??Rh}getContextInstance(){return globalThis[LO]??Ih}initializeGlobalInstances($){if(globalThis[DO]===void 0)globalThis[DO]=$.trace;if(globalThis[LO]===void 0)globalThis[LO]=$.context}setDefaultOTLPTracerComponents($){globalThis[bX]=$}getDefaultOTLPTracerComponents(){return globalThis[bX]??void 0}}var gO=new pX;function f9(){return gO.getTraceInstance()}function cX(){return gO.getContextInstance()}function mX(){return gO.getDefaultOTLPTracerComponents()}var hh={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function Dh($){return hh[$]||$}class bO{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch($,q){for(let _ of $)try{if(!_.run)continue;if(_.operation==="post"){let P=this.createSpanForRun(_,_.run,q.get(_.id));if(P&&!_.run.end_time)this.spans.set(_.id,P)}else this.updateSpanForRun(_,_.run)}catch(P){console.error(`Error processing operation ${_.id}:`,P)}}createSpanForRun($,q,_){let P=_&&f9().getSpan(_);if(!P)return;try{return this.finishSpanSetup(P,q,$)}catch(K){console.error(`Failed to create span for run ${$.id}:`,K);return}}finishSpanSetup($,q,_){if(this.setSpanAttributes($,q,_),q.error)$.setStatus({code:2}),$.recordException(Error(q.error));else $.setStatus({code:1});if(q.end_time)$.end(new Date(q.end_time));return $}updateSpanForRun($,q){try{let _=this.spans.get($.id);if(!_){console.debug(`No span found for run ${$.id} during update`);return}if(this.setSpanAttributes(_,q,$),q.error)_.setStatus({code:2}),_.recordException(Error(q.error));else _.setStatus({code:1});let P=q.end_time;if(P)_.end(new Date(P)),this.spans.delete($.id)}catch(_){console.error(`Failed to update span for run ${$.id}:`,_)}}extractModelName($){if($.extra?.metadata){let q=$.extra.metadata;if(q.ls_model_name)return q.ls_model_name;if(q.invocation_params){let _=q.invocation_params;if(_.model)return _.model;else if(_.model_name)return _.model_name}}return}setSpanAttributes($,q,_){if("run_type"in q&&q.run_type){$.setAttribute(VX,q.run_type);let Y=Dh(q.run_type||"chain");$.setAttribute(ef,Y)}if("name"in q&&q.name)$.setAttribute(SX,q.name);if("session_id"in q&&q.session_id)$.setAttribute(kX,q.session_id);if("session_name"in q&&q.session_name)$.setAttribute(GX,q.session_name);this.setGenAiSystem($,q);let P=this.extractModelName(q);if(P)$.setAttribute(VO,P);if("prompt_tokens"in q&&typeof q.prompt_tokens==="number")$.setAttribute(SO,q.prompt_tokens);if("completion_tokens"in q&&typeof q.completion_tokens==="number")$.setAttribute(MO,q.completion_tokens);if("total_tokens"in q&&typeof q.total_tokens==="number")$.setAttribute(NO,q.total_tokens);this.setInvocationParameters($,q);let K=q.extra?.metadata||{};for(let[Y,v]of Object.entries(K))if(v!==null&&v!==void 0)$.setAttribute(`${MX}.${Y}`,String(v));let O=q.tags;if(O&&Array.isArray(O))$.setAttribute(CO,O.join(", "));else if(O)$.setAttribute(CO,String(O));if("serialized"in q&&typeof q.serialized==="object"){let Y=q.serialized;if(Y.name)$.setAttribute(WX,String(Y.name));if(Y.signature)$.setAttribute(HX,String(Y.signature));if(Y.doc)$.setAttribute(TX,String(Y.doc))}this.setIOAttributes($,_)}setGenAiSystem($,q){let _="langchain",P=this.extractModelName(q);if(P){let K=P.toLowerCase();if(K.includes("anthropic")||K.startsWith("claude"))_="anthropic";else if(K.includes("bedrock"))_="aws.bedrock";else if(K.includes("azure")&&K.includes("openai"))_="az.ai.openai";else if(K.includes("azure")&&K.includes("inference"))_="az.ai.inference";else if(K.includes("cohere"))_="cohere";else if(K.includes("deepseek"))_="deepseek";else if(K.includes("gemini"))_="gemini";else if(K.includes("groq"))_="groq";else if(K.includes("watson")||K.includes("ibm"))_="ibm.watsonx.ai";else if(K.includes("mistral"))_="mistral_ai";else if(K.includes("gpt")||K.includes("openai"))_="openai";else if(K.includes("perplexity")||K.includes("sonar"))_="perplexity";else if(K.includes("vertex"))_="vertex_ai";else if(K.includes("xai")||K.includes("grok"))_="xai"}$.setAttribute(sf,_)}setInvocationParameters($,q){if(!q.extra?.metadata?.invocation_params)return;let _=q.extra.metadata.invocation_params;if(_.max_tokens!==void 0)$.setAttribute(qX,_.max_tokens);if(_.temperature!==void 0)$.setAttribute(_X,_.temperature);if(_.top_p!==void 0)$.setAttribute(KX,_.top_p);if(_.frequency_penalty!==void 0)$.setAttribute(PX,_.frequency_penalty);if(_.presence_penalty!==void 0)$.setAttribute(YX,_.presence_penalty)}setIOAttributes($,q){if(q.run.inputs)try{let _=q.run.inputs;if(typeof _==="object"&&_!==null){if(_.model&&Array.isArray(_.messages))$.setAttribute(VO,_.model);if(_.stream!==void 0)$.setAttribute(NX,_.stream);if(_.extra_headers)$.setAttribute(CX,JSON.stringify(_.extra_headers));if(_.extra_query)$.setAttribute(zX,JSON.stringify(_.extra_query));if(_.extra_body)$.setAttribute(JX,JSON.stringify(_.extra_body))}$.setAttribute(jX,JSON.stringify(_))}catch(_){console.debug(`Failed to process inputs for run ${q.id}`,_)}if(q.run.outputs)try{let _=q.run.outputs,P=this.getUnifiedRunTokens(_);if(P)$.setAttribute(SO,P[0]),$.setAttribute(MO,P[1]),$.setAttribute(NO,P[0]+P[1]);if(_&&typeof _==="object"){if(_.model)$.setAttribute($X,String(_.model));if(_.id)$.setAttribute(wX,_.id);if(_.choices&&Array.isArray(_.choices)){let K=_.choices.map((O)=>O.finish_reason).filter((O)=>O).map(String);if(K.length>0)$.setAttribute(OX,K.join(", "))}if(_.service_tier)$.setAttribute(ZX,_.service_tier);if(_.system_fingerprint)$.setAttribute(fX,_.system_fingerprint);if(_.usage_metadata&&typeof _.usage_metadata==="object"){let K=_.usage_metadata;if(K.input_token_details)$.setAttribute(XX,JSON.stringify(K.input_token_details));if(K.output_token_details)$.setAttribute(AX,JSON.stringify(K.output_token_details))}}$.setAttribute(vX,JSON.stringify(_))}catch(_){console.debug(`Failed to process outputs for run ${q.id}`,_)}}getUnifiedRunTokens($){if(!$)return null;let q=this.extractUnifiedRunTokens($.usage_metadata);if(q)return q;let _=Object.keys($);for(let O of _){let Y=$[O];if(!Y||typeof Y!=="object")continue;if(q=this.extractUnifiedRunTokens(Y.usage_metadata),q)return q;if(Y.lc===1&&Y.kwargs&&typeof Y.kwargs==="object"){if(q=this.extractUnifiedRunTokens(Y.kwargs.usage_metadata),q)return q}}let P=$.generations||[];if(!Array.isArray(P))return null;let K=Array.isArray(P[0])?P.flat():P;for(let O of K)if(typeof O==="object"&&O.message&&typeof O.message==="object"&&O.message.kwargs&&typeof O.message.kwargs==="object"){if(q=this.extractUnifiedRunTokens(O.message.kwargs.usage_metadata),q)return q}return null}extractUnifiedRunTokens($){if(!$||typeof $!=="object")return null;if(typeof $.input_tokens!=="number"||typeof $.output_tokens!=="number")return null;return[$.input_tokens,$.output_tokens]}}var Lh=Object.prototype.toString,gh=($)=>Lh.call($)==="[object Error]",bh=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function yO($){if(!($&&gh($)&&$.name==="TypeError"&&typeof $.message==="string"))return!1;let{message:_,stack:P}=$;if(_==="Load failed")return P===void 0||"__sentry_captured__"in $;if(_.startsWith("error sending request for url"))return!0;return bh.has(_)}function yh($){if(typeof $==="number"){if($<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN($))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if($!==void 0)throw TypeError("Expected `retries` to be a number or Infinity.")}function X9($,q,{min:_=0,allowInfinity:P=!1}={}){if(q===void 0)return;if(typeof q!=="number"||Number.isNaN(q))throw TypeError(`Expected \`${$}\` to be a number${P?" or Infinity":""}.`);if(!P&&!Number.isFinite(q))throw TypeError(`Expected \`${$}\` to be a finite number.`);if(q<_)throw TypeError(`Expected \`${$}\` to be  ${_}.`)}class lX extends Error{constructor($){super();if($ instanceof Error)this.originalError=$,{message:$}=$;else this.originalError=Error($),this.originalError.stack=this.stack;this.name="AbortError",this.message=$}}function uh($,q){let _=Math.max(1,$+1),P=q.randomize?Math.random()+1:1,K=Math.round(P*q.minTimeout*q.factor**(_-1));return K=Math.min(K,q.maxTimeout),K}function dX($,q){if(!Number.isFinite(q))return q;return q-(performance.now()-$)}async function xh({error:$,attemptNumber:q,retriesConsumed:_,startTime:P,options:K}){let O=$ instanceof Error?$:TypeError(`Non-error was thrown: "${$}". You should only throw errors.`);if(O instanceof lX)throw O.originalError;let Y=Number.isFinite(K.retries)?Math.max(0,K.retries-_):K.retries,v=K.maxRetryTime??Number.POSITIVE_INFINITY,W=Object.freeze({error:O,attemptNumber:q,retriesLeft:Y,retriesConsumed:_});if(await K.onFailedAttempt(W),dX(P,v)<=0)throw O;let T=await K.shouldConsumeRetry(W),Z=dX(P,v);if(Z<=0||Y<=0)throw O;if(O instanceof TypeError&&!yO(O)){if(T)throw O;return K.signal?.throwIfAborted(),!1}if(!await K.shouldRetry(W))throw O;if(!T)return K.signal?.throwIfAborted(),!1;let w=uh(_,K),k=Math.min(w,Z);if(k>0)await new Promise((M,N)=>{let R=()=>{clearTimeout(E),K.signal?.removeEventListener("abort",R),N(K.signal.reason)},E=setTimeout(()=>{K.signal?.removeEventListener("abort",R),M()},k);if(K.unref)E.unref?.();K.signal?.addEventListener("abort",R,{once:!0})});return K.signal?.throwIfAborted(),!0}async function uO($,q={}){if(q={...q},yh(q.retries),Object.hasOwn(q,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");if(q.retries??=10,q.factor??=2,q.minTimeout??=1000,q.maxTimeout??=Number.POSITIVE_INFINITY,q.maxRetryTime??=Number.POSITIVE_INFINITY,q.randomize??=!1,q.onFailedAttempt??=()=>{},q.shouldRetry??=()=>!0,q.shouldConsumeRetry??=()=>!0,X9("factor",q.factor,{min:0,allowInfinity:!1}),X9("minTimeout",q.minTimeout,{min:0,allowInfinity:!1}),X9("maxTimeout",q.maxTimeout,{min:0,allowInfinity:!0}),X9("maxRetryTime",q.maxRetryTime,{min:0,allowInfinity:!0}),!(q.factor>0))q.factor=1;q.signal?.throwIfAborted();let _=0,P=0,K=performance.now();while(Number.isFinite(q.retries)?P<=q.retries:!0){_++;try{q.signal?.throwIfAborted();let O=await $(_);return q.signal?.throwIfAborted(),O}catch(O){if(await xh({error:O,attemptNumber:_,retriesConsumed:P,startTime:K,options:q}))P++}}throw Error("Retry attempts exhausted without throwing an error.")}var S9=R8(V9(),1),th=[408,425,429,500,502,503,504];class M9{constructor($){if(Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=$.maxConcurrency??1/0,this.maxRetries=$.maxRetries??6,this.maxQueueSizeBytes=$.maxQueueSizeBytes,"default"in S9.default)this.queue=new S9.default.default({concurrency:this.maxConcurrency});else this.queue=new S9.default({concurrency:this.maxConcurrency});this.onFailedResponseHook=$?.onFailedResponseHook}call($,...q){return this.callWithOptions({},$,...q)}callWithOptions($,q,..._){let P=$.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&P>0&&this.queueSizeBytes+P>this.maxQueueSizeBytes)return Promise.reject(Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${P} bytes.`));if(P>0)this.queueSizeBytes+=P;let K=this.onFailedResponseHook,O=this.queue.add(()=>uO(()=>q(..._).catch((Y)=>{if(Y instanceof Error)throw Y;else throw Error(Y)}),{async onFailedAttempt({error:Y}){if(typeof Y!=="object"||Y==null)throw Y;let v="message"in Y&&typeof Y.message==="string"?Y.message:void 0;if(v?.startsWith("Cancel")||v?.startsWith("TimeoutError")||v?.startsWith("AbortError"))throw Y;if("name"in Y&&Y.name==="TimeoutError")throw Y;if("code"in Y&&Y.code==="ECONNABORTED")throw Y;let W="response"in Y?Y.response:void 0;if(K){if(await K(W))return}let T=W?.status??("status"in Y?Y.status:void 0);if(T!=null&&(typeof T==="number"||typeof T==="string")&&!th.includes(+T))throw Y},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});if(P>0)O=O.finally(()=>{this.queueSizeBytes-=P});if($.signal)return Promise.race([O,new Promise((Y,v)=>{$.signal?.addEventListener("abort",()=>{v(Error("AbortError"))})})]);return O}}function cO($){return typeof $?._getType==="function"}function mO($){let q={type:$._getType(),data:{content:$.content}};if($?.additional_kwargs&&Object.keys($.additional_kwargs).length>0)q.data.additional_kwargs={...$.additional_kwargs};return q}var lg=R8(ik(),1);function f_($){if(!$||$.split("/").length>2||$.startsWith("/")||$.endsWith("/")||$.split(":").length>2)throw Error(`Invalid identifier format: ${$}`);let[q,_]=$.split(":"),P=_||"latest";if(q.includes("/")){let[K,O]=q.split("/",2);if(!K||!O)throw Error(`Invalid identifier format: ${$}`);return[K,O,P]}else{if(!q)throw Error(`Invalid identifier format: ${$}`);return["-",q,P]}}class Bk extends Error{constructor($){super($);Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}class Uk extends Error{constructor($){super($);Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithNotFoundError",this.status=404}}function q3($){return $!=null&&typeof $==="object"&&"name"in $&&$?.name==="LangSmithNotFoundError"}async function _6($,q,_){let P;if($.ok){if(_)P=await $.text();return}if($.status===403)try{if((await $.json())?.error==="org_scoped_key_requires_workspace")P="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable."}catch(Y){let v=Error(`${$.status} ${$.statusText}`);throw v.status=$?.status,v}if(P===void 0)try{P=await $.text()}catch(Y){P=""}let K=`Failed to ${q}. Received status [${$.status}]: ${$.statusText}. Message: ${P}`;if($.status===404)throw new Uk(K);if($.status===409)throw new Bk(K);let O=Error(K);throw O.status=$.status,O}var tk="ERR_CONFLICTING_ENDPOINTS";class _3 extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS.");Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:tk}),this.name="ConflictingEndpointsError"}}function Fk($){return typeof $==="object"&&$!==null&&$.code===tk}var Qk="[...]",rg={result:"[Circular]"},c9=[],J4=[],og=new TextEncoder;function ng(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function p9($){return og.encode($)}function ak($){if($&&typeof $==="object"&&$!==null){if($ instanceof Map)return Object.fromEntries($);else if($ instanceof Set)return Array.from($);else if($ instanceof Date)return $.toISOString();else if($ instanceof RegExp)return $.toString();else if($ instanceof Error)return{name:$.name,message:$.message}}else if(typeof $==="bigint")return $.toString();return $}function ig($){return function(q,_){if($){let P=$.call(this,q,_);if(P!==void 0)return P}return ak(_)}}function Qq($,q,_,P,K){try{let O=JSON.stringify($,ig(_),P);return p9(O)}catch(O){if(!O.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${q?`
Context: ${q}`:""}`),p9("[Unserializable]");if(t6("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${q?`
Context: ${q}`:""}`),typeof K>"u")K=ng();P3($,"",0,[],void 0,0,K);let Y;try{if(J4.length===0)Y=JSON.stringify($,_,P);else Y=JSON.stringify($,Bg(_),P)}catch(v){return p9("[unable to serialize, circular reference is too complex to analyze]")}finally{while(c9.length!==0){let v=c9.pop();if(v.length===4)Object.defineProperty(v[0],v[1],v[3]);else v[0][v[1]]=v[2]}}return p9(Y)}}function K3($,q,_,P){var K=Object.getOwnPropertyDescriptor(P,_);if(K.get!==void 0)if(K.configurable)Object.defineProperty(P,_,{value:$}),c9.push([P,_,q,K]);else J4.push([q,_,$]);else P[_]=$,c9.push([P,_,q])}function P3($,q,_,P,K,O,Y){O+=1;var v;if(typeof $==="object"&&$!==null){for(v=0;v<P.length;v++)if(P[v]===$){K3(rg,$,q,K);return}if(typeof Y.depthLimit<"u"&&O>Y.depthLimit){K3(Qk,$,q,K);return}if(typeof Y.edgesLimit<"u"&&_+1>Y.edgesLimit){K3(Qk,$,q,K);return}if(P.push($),Array.isArray($))for(v=0;v<$.length;v++)P3($[v],v,v,P,$,O,Y);else{$=ak($);var W=Object.keys($);for(v=0;v<W.length;v++){var T=W[v];P3($[T],T,v,P,$,O,Y)}}P.pop()}}function Bg($){return $=typeof $<"u"?$:function(q,_){return _},function(q,_){if(J4.length>0)for(var P=0;P<J4.length;P++){var K=J4[P];if(K[1]===q&&K[0]===_){_=K[2],J4.splice(P,1);break}}return $.call(this,q,_)}}function ek($,q,_){if(_)return $;let P=w9(),K=q??hO(),O=$.extra??{},Y=O.metadata;return $.extra={...O,runtime:{...P,...O?.runtime},metadata:{...K,...K.revision_id||"revision_id"in $&&$.revision_id?{revision_id:("revision_id"in $?$.revision_id:void 0)??K.revision_id}:{},...Y}},$}var Ug=($)=>{let q=$?.toString()??t6("TRACING_SAMPLING_RATE");if(q===void 0)return;let _=parseFloat(q);if(_<0||_>1)throw Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${_}`);return _},tg=($)=>{let _=$.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return _==="localhost"||_==="127.0.0.1"||_==="::1"};async function Fg($){let q=[];for await(let _ of $)q.push(_);return q}function m9($){if($===void 0)return;return $.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}var Qg=async($)=>{if($?.status===429){let q=parseInt($.headers.get("retry-after")??"10",10)*1000;if(q>0)return await new Promise((_)=>setTimeout(_,q)),!0}return!1};function sk($){if(typeof $==="number")return Number($.toFixed(4));return $}var ag=25165824,_G=1073741824,eg=1e4,sg=100,$G="https://api.smith.langchain.com";class KG{constructor($){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=$??_G}peek(){return this.items[0]}push($){let q,_=new Promise((K)=>{q=K}),P=Qq($.item,`Serializing run with id: ${$.item.id}`).length;if(this.sizeBytes+P>this.maxSizeBytes&&this.items.length>0)return console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${$.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${P} bytes.`),q(),_;return this.items.push({action:$.action,payload:$.item,otelContext:$.otelContext,apiKey:$.apiKey,apiUrl:$.apiUrl,itemPromiseResolve:q,itemPromise:_,size:P}),this.sizeBytes+=P,_}pop({upToSizeBytes:$,upToSize:q}){if($<1)throw Error("Number of bytes to pop off may not be less than 1.");let _=[],P=0;while(P+(this.peek()?.size??0)<$&&this.items.length>0&&_.length<q){let K=this.items.shift();if(K)_.push(K),P+=K.size,this.sizeBytes-=K.size}if(_.length===0&&this.items.length>0){let K=this.items.shift();_.push(K),P+=K.size,this.sizeBytes-=K.size}return[_.map((K)=>({action:K.action,item:K.payload,otelContext:K.otelContext,apiKey:K.apiKey,apiUrl:K.apiUrl,size:K.size})),()=>_.forEach((K)=>K.itemPromiseResolve())]}}class U_{get _fetch(){return this.fetchImplementation||IX(this.debug)}constructor($={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitTracedRuntimeInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:v8("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_multipartDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:v8("LANGSMITH_DEBUG")==="true"});let q=U_.getDefaultClientConfig();if(this.tracingSampleRate=Ug($.tracingSamplingRate),this.apiUrl=m9($.apiUrl??q.apiUrl)??"",this.apiUrl.endsWith("/"))this.apiUrl=this.apiUrl.slice(0,-1);if(this.apiKey=m9($.apiKey??q.apiKey),this.webUrl=m9($.webUrl??q.webUrl),this.webUrl?.endsWith("/"))this.webUrl=this.webUrl.slice(0,-1);if(this.workspaceId=m9($.workspaceId??t6("WORKSPACE_ID")),this.timeout_ms=$.timeout_ms??90000,this.caller=new M9({...$.callerOptions??{},maxRetries:4,debug:$.debug??this.debug}),this.traceBatchConcurrency=$.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw Error("Trace batch concurrency must be positive.");this.debug=$.debug??this.debug,this.fetchImplementation=$.fetchImplementation;let _=$.maxIngestMemoryBytes??_G;if(this.batchIngestCaller=new M9({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:_,...$.callerOptions??{},onFailedResponseHook:Qg,debug:$.debug??this.debug}),this.hideInputs=$.hideInputs??$.anonymizer??q.hideInputs,this.hideOutputs=$.hideOutputs??$.anonymizer??q.hideOutputs,this.omitTracedRuntimeInfo=$.omitTracedRuntimeInfo??!1,this.autoBatchTracing=$.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new KG(_),this.blockOnRootRunFinalization=$.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=$.batchSizeBytesLimit,this.batchSizeLimit=$.batchSizeLimit,this.fetchOptions=$.fetchOptions||{},this.manualFlushMode=$.manualFlushMode??this.manualFlushMode,Z9())this.langSmithToOTELTranslator=new bO;if(this.cachedLSEnvVarsForMetadata=hO(),$.cache===!0)this._cache=new H9;else if($.cache&&typeof $.cache==="object")this._cache=$.cache;else this._cache=void 0}static getDefaultClientConfig(){let $=t6("API_KEY"),q=t6("ENDPOINT")??$G,_=t6("HIDE_INPUTS")==="true",P=t6("HIDE_OUTPUTS")==="true";return{apiUrl:q,apiKey:$,webUrl:void 0,hideInputs:_,hideOutputs:P}}getHostUrl(){if(this.webUrl)return this.webUrl;else if(tg(this.apiUrl))return this.webUrl="http://localhost:3000",this.webUrl;else if(this.apiUrl.endsWith("/api/v1"))return this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl;else if(this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api"))return this.webUrl=this.apiUrl.replace("/api",""),this.webUrl;else if(this.apiUrl.split(".",1)[0].includes("dev"))return this.webUrl="https://dev.smith.langchain.com",this.webUrl;else if(this.apiUrl.split(".",1)[0].includes("eu"))return this.webUrl="https://eu.smith.langchain.com",this.webUrl;else if(this.apiUrl.split(".",1)[0].includes("beta"))return this.webUrl="https://beta.smith.langchain.com",this.webUrl;else return this.webUrl="https://smith.langchain.com",this.webUrl}get headers(){let $={"User-Agent":`langsmith-js/${T9}`};if(this.apiKey)$["x-api-key"]=`${this.apiKey}`;if(this.workspaceId)$["x-tenant-id"]=this.workspaceId;return $}_getPlatformEndpointPath($){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${$}`:`/platform/${$}`}async processInputs($){if(this.hideInputs===!1)return $;if(this.hideInputs===!0)return{};if(typeof this.hideInputs==="function")return this.hideInputs($);return $}async processOutputs($){if(this.hideOutputs===!1)return $;if(this.hideOutputs===!0)return{};if(typeof this.hideOutputs==="function")return this.hideOutputs($);return $}async prepareRunCreateOrUpdateInputs($){let q={...$};if(q.inputs!==void 0)q.inputs=await this.processInputs(q.inputs);if(q.outputs!==void 0)q.outputs=await this.processOutputs(q.outputs);return q}async _getResponse($,q){let _=q?.toString()??"",P=`${this.apiUrl}${$}?${_}`;return await this.caller.call(async()=>{let O=await this._fetch(P,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(O,`fetch ${$}`),O})}async _get($,q){return(await this._getResponse($,q)).json()}async*_getPaginated($,q=new URLSearchParams,_){let P=Number(q.get("offset"))||0,K=Number(q.get("limit"))||100;while(!0){q.set("offset",String(P)),q.set("limit",String(K));let O=`${this.apiUrl}${$}?${q}`,Y=await this.caller.call(async()=>{let W=await this._fetch(O,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(W,`fetch ${$}`),W}),v=_?_(await Y.json()):await Y.json();if(v.length===0)break;if(yield v,v.length<K)break;P+=v.length}}async*_getCursorPaginatedList($,q=null,_="POST",P="runs"){let K=q?{...q}:{};while(!0){let O=JSON.stringify(K),v=await(await this.caller.call(async()=>{let T=await this._fetch(`${this.apiUrl}${$}`,{method:_,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await _6(T,`fetch ${$}`),T})).json();if(!v)break;if(!v[P])break;yield v[P];let W=v.cursors;if(!W)break;if(!W.next)break;K.cursor=W.next}}_shouldSample(){if(this.tracingSampleRate===void 0)return!0;return Math.random()<this.tracingSampleRate}_filterForSampling($,q=!1){if(this.tracingSampleRate===void 0)return $;if(q){let _=[];for(let P of $)if(!this.filteredPostUuids.has(P.trace_id))_.push(P);else if(P.id===P.trace_id)this.filteredPostUuids.delete(P.trace_id);return _}else{let _=[];for(let P of $){let K=P.trace_id??P.id;if(this.filteredPostUuids.has(K))continue;if(P.id===K)if(this._shouldSample())_.push(P);else this.filteredPostUuids.add(K);else _.push(P)}return _}}async _getBatchSizeLimitBytes(){let $=await this._ensureServerInfo();return this.batchSizeBytesLimit??$?.batch_ingest_config?.size_limit_bytes??ag}async _getBatchSizeLimit(){let $=await this._ensureServerInfo();return this.batchSizeLimit??$?.batch_ingest_config?.size_limit??sg}async _getDatasetExamplesMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue({batchSizeLimitBytes:$,batchSizeLimit:q}){let _=[];while(this.autoBatchQueue.items.length>0){let[P,K]=this.autoBatchQueue.pop({upToSizeBytes:$,upToSize:q});if(!P.length){K();break}let O=P.reduce((W,T)=>{let Z=T.apiUrl??this.apiUrl,w=T.apiKey??this.apiKey,M=T.apiKey===this.apiKey&&T.apiUrl===this.apiUrl?"default":`${Z}|${w}`;if(!W[M])W[M]=[];return W[M].push(T),W},{}),Y=[];for(let[W,T]of Object.entries(O)){let Z=this._processBatch(T,{apiUrl:W==="default"?void 0:W.split("|")[0],apiKey:W==="default"?void 0:W.split("|")[1]});Y.push(Z)}let v=Promise.all(Y).finally(K);_.push(v)}return Promise.all(_)}async _processBatch($,q){if(!$.length)return;let _=$.reduce((P,K)=>P+(K.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator($);else{let P={runCreates:$.filter((Y)=>Y.action==="create").map((Y)=>Y.item),runUpdates:$.filter((Y)=>Y.action==="update").map((Y)=>Y.item)},K=await this._ensureServerInfo();if(!this._multipartDisabled&&(K?.batch_ingest_config?.use_multipart_endpoint??!0)){let Y=K?.instance_flags?.gzip_body_enabled;try{await this.multipartIngestRuns(P,{...q,useGzip:Y,sizeBytes:_})}catch(v){if(q3(v))this._multipartDisabled=!0,await this.batchIngestRuns(P,{...q,sizeBytes:_});else throw v}}else await this.batchIngestRuns(P,{...q,sizeBytes:_})}}catch(P){console.error("Error exporting batch:",P)}}_sendBatchToOTELTranslator($){if(this.langSmithToOTELTranslator!==void 0){let q=new Map,_=[];for(let P of $)if(P.item.id&&P.otelContext)if(q.set(P.item.id,P.otelContext),P.action==="create")_.push({operation:"post",id:P.item.id,trace_id:P.item.trace_id??P.item.id,run:P.item});else _.push({operation:"patch",id:P.item.id,trace_id:P.item.trace_id??P.item.id,run:P.item});this.langSmithToOTELTranslator.exportBatch(_,q)}}async processRunOperation($){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,$.item=ek($.item,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);let q=this.autoBatchQueue.push($);if(this.manualFlushMode)return q;let _=await this._getBatchSizeLimitBytes(),P=await this._getBatchSizeLimit();if(this.autoBatchQueue.sizeBytes>_||this.autoBatchQueue.items.length>P)this.drainAutoBatchQueue({batchSizeLimitBytes:_,batchSizeLimit:P});if(this.autoBatchQueue.items.length>0)this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:_,batchSizeLimit:P})},this.autoBatchAggregationDelayMs);return q}async _getServerInfo(){let q=await(await this.caller.call(async()=>{let _=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(eg),...this.fetchOptions});return await _6(_,"get server info"),_})).json();if(this.debug)console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(q,null,2)+`
`);return q}async _ensureServerInfo(){if(this._getServerInfoPromise===void 0)this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch($){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${$.status??"Unspecified status code"} ${$.message}`)}return this._serverInfo??{}})();return this._getServerInfoPromise.then(($)=>{if(this._serverInfo===void 0)this._getServerInfoPromise=void 0;return $})}async _getSettings(){if(!this.settings)this.settings=this._get("/settings");return await this.settings}async flush(){let $=await this._getBatchSizeLimitBytes(),q=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:$,batchSizeLimit:q})}_cloneCurrentOTELContext(){let $=f9(),q=cX();if(this.langSmithToOTELTranslator!==void 0){let _=$.getActiveSpan();if(_)return $.setSpan(q.active(),_)}return}async createRun($,q){if(!this._filterForSampling([$]).length)return;let _={...this.headers,"Content-Type":"application/json"},P=$.project_name;delete $.project_name;let K=await this.prepareRunCreateOrUpdateInputs({session_name:P,...$,start_time:$.start_time??Date.now()});if(this.autoBatchTracing&&K.trace_id!==void 0&&K.dotted_order!==void 0){let v=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:K,otelContext:v,apiKey:q?.apiKey,apiUrl:q?.apiUrl}).catch(console.error);return}let O=ek(K,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);if(q?.apiKey!==void 0)_["x-api-key"]=q.apiKey;if(q?.workspaceId!==void 0)_["x-tenant-id"]=q.workspaceId;let Y=Qq(O,`Creating run with id: ${O.id}`);await this.caller.call(async()=>{let v=await this._fetch(`${q?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:_,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Y});return await _6(v,"create run",!0),v})}async batchIngestRuns({runCreates:$,runUpdates:q},_){if($===void 0&&q===void 0)return;let P=await Promise.all($?.map((v)=>this.prepareRunCreateOrUpdateInputs(v))??[]),K=await Promise.all(q?.map((v)=>this.prepareRunCreateOrUpdateInputs(v))??[]);if(P.length>0&&K.length>0){let v=P.reduce((T,Z)=>{if(!Z.id)return T;return T[Z.id]=Z,T},{}),W=[];for(let T of K)if(T.id!==void 0&&v[T.id])v[T.id]={...v[T.id],...T};else W.push(T);P=Object.values(v),K=W}let O={post:P,patch:K};if(!O.post.length&&!O.patch.length)return;let Y={post:[],patch:[]};for(let v of["post","patch"]){let W=v,T=O[W].reverse(),Z=T.pop();while(Z!==void 0)Y[W].push(Z),Z=T.pop()}if(Y.post.length>0||Y.patch.length>0){let v=Y.post.map((W)=>W.id).concat(Y.patch.map((W)=>W.id)).join(",");await this._postBatchIngestRuns(Qq(Y,`Ingesting runs with ids: ${v}`),_)}}async _postBatchIngestRuns($,q){let _={...this.headers,"Content-Type":"application/json",Accept:"application/json"};if(q?.apiKey!==void 0)_["x-api-key"]=q.apiKey;await this.batchIngestCaller.callWithOptions({sizeBytes:q?.sizeBytes},async()=>{let P=await this._fetch(`${q?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:_,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:$});return await _6(P,"batch create run",!0),P})}async multipartIngestRuns({runCreates:$,runUpdates:q},_){if($===void 0&&q===void 0)return;let P={},K=[];for(let Z of $??[]){let w=await this.prepareRunCreateOrUpdateInputs(Z);if(w.id!==void 0&&w.attachments!==void 0)P[w.id]=w.attachments;delete w.attachments,K.push(w)}let O=[];for(let Z of q??[])O.push(await this.prepareRunCreateOrUpdateInputs(Z));if(K.find((Z)=>{return Z.trace_id===void 0||Z.dotted_order===void 0})!==void 0)throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(O.find((Z)=>{return Z.trace_id===void 0||Z.dotted_order===void 0})!==void 0)throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(K.length>0&&O.length>0){let Z=K.reduce((k,M)=>{if(!M.id)return k;return k[M.id]=M,k},{}),w=[];for(let k of O)if(k.id!==void 0&&Z[k.id])Z[k.id]={...Z[k.id],...k};else w.push(k);K=Object.values(Z),O=w}if(K.length===0&&O.length===0)return;let W=[],T=[];for(let[Z,w]of[["post",K],["patch",O]])for(let k of w){let{inputs:M,outputs:N,events:R,extra:E,error:D,serialized:h,attachments:L,...b}=k,y={inputs:M,outputs:N,events:R,extra:E,error:D,serialized:h},p=Qq(b,`Serializing for multipart ingestion of run with id: ${b.id}`);T.push({name:`${Z}.${b.id}`,payload:new Blob([p],{type:`application/json; length=${p.length}`})});for(let[i,$$]of Object.entries(y)){if($$===void 0)continue;let Q=Qq($$,`Serializing ${i} for multipart ingestion of run with id: ${b.id}`);T.push({name:`${Z}.${b.id}.${i}`,payload:new Blob([Q],{type:`application/json; length=${Q.length}`})})}if(b.id!==void 0){let i=P[b.id];if(i){delete P[b.id];for(let[$$,Q]of Object.entries(i)){let c,a;if(Array.isArray(Q))[c,a]=Q;else c=Q.mimeType,a=Q.data;if($$.includes(".")){console.warn(`Skipping attachment '${$$}' for run ${b.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}T.push({name:`attachment.${b.id}.${$$}`,payload:new Blob([a],{type:`${c}; length=${a.byteLength}`})})}}}W.push(`trace=${b.trace_id},id=${b.id}`)}await this._sendMultipartRequest(T,W.join("; "),_)}async _createNodeFetchBody($,q){let _=[];for(let O of $)_.push(new Blob([`--${q}\r
`])),_.push(new Blob([`Content-Disposition: form-data; name="${O.name}"\r
`,`Content-Type: ${O.payload.type}\r
\r
`])),_.push(O.payload),_.push(new Blob([`\r
`]));return _.push(new Blob([`--${q}--\r
`])),await new Blob(_).arrayBuffer()}async _createMultipartStream($,q){let _=new TextEncoder;return new ReadableStream({async start(K){let O=async(Y)=>{if(typeof Y==="string")K.enqueue(_.encode(Y));else K.enqueue(Y)};for(let Y of $){await O(`--${q}\r
`),await O(`Content-Disposition: form-data; name="${Y.name}"\r
`),await O(`Content-Type: ${Y.payload.type}\r
\r
`);let W=Y.payload.stream().getReader();try{let T;while(!(T=await W.read()).done)K.enqueue(T.value)}finally{W.releaseLock()}await O(`\r
`)}await O(`--${q}--\r
`),K.close()}})}async _sendMultipartRequest($,q,_){let P="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),K=RX(),O=()=>this._createNodeFetchBody($,P),Y=()=>this._createMultipartStream($,P),v=async(W)=>{return this.batchIngestCaller.callWithOptions({sizeBytes:_?.sizeBytes},async()=>{let T=await W(),Z={...this.headers,"Content-Type":`multipart/form-data; boundary=${P}`};if(_?.apiKey!==void 0)Z["x-api-key"]=_.apiKey;let w=T;if(_?.useGzip&&typeof T==="object"&&"pipeThrough"in T)w=T.pipeThrough(new CompressionStream("gzip")),Z["Content-Encoding"]="gzip";let k=await this._fetch(`${_?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:Z,body:w,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(k,"Failed to send multipart request",!0),k})};try{let W,T=!1;if(!K&&!this.multipartStreamingDisabled&&IO()!=="bun")T=!0,W=await v(Y);else W=await v(O);if((!this.multipartStreamingDisabled||T)&&W.status===422&&(_?.apiUrl??this.apiUrl)!==$G)console.warn(`Streaming multipart upload to ${_?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${q}".`),this.multipartStreamingDisabled=!0,W=await v(O)}catch(W){if(q3(W))throw W;console.warn(`${W.message.trim()}

Context: ${q}`)}}async updateRun($,q,_){if(j6($),q.inputs)q.inputs=await this.processInputs(q.inputs);if(q.outputs)q.outputs=await this.processOutputs(q.outputs);let P={...q,id:$};if(!this._filterForSampling([P],!0).length)return;if(this.autoBatchTracing&&P.trace_id!==void 0&&P.dotted_order!==void 0){let Y=this._cloneCurrentOTELContext();if(q.end_time!==void 0&&P.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:P,otelContext:Y,apiKey:_?.apiKey,apiUrl:_?.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:P,otelContext:Y,apiKey:_?.apiKey,apiUrl:_?.apiUrl}).catch(console.error);return}let K={...this.headers,"Content-Type":"application/json"};if(_?.apiKey!==void 0)K["x-api-key"]=_.apiKey;if(_?.workspaceId!==void 0)K["x-tenant-id"]=_.workspaceId;let O=Qq(q,`Serializing payload to update run with id: ${$}`);await this.caller.call(async()=>{let Y=await this._fetch(`${_?.apiUrl??this.apiUrl}/runs/${$}`,{method:"PATCH",headers:K,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await _6(Y,"update run",!0),Y})}async readRun($,{loadChildRuns:q}={loadChildRuns:!1}){j6($);let _=await this._get(`/runs/${$}`);if(q)_=await this._loadChildRuns(_);return _}async getRunUrl({runId:$,run:q,projectOpts:_}){if(q!==void 0){let P;if(q.session_id)P=q.session_id;else if(_?.projectName)P=(await this.readProject({projectName:_?.projectName})).id;else if(_?.projectId)P=_?.projectId;else P=(await this.readProject({projectName:t6("PROJECT")||"default"})).id;let K=await this._getTenantId();return`${this.getHostUrl()}/o/${K}/projects/p/${P}/r/${q.id}?poll=true`}else if($!==void 0){let P=await this.readRun($);if(!P.app_path)throw Error(`Run ${$} has no app_path`);return`${this.getHostUrl()}${P.app_path}`}else throw Error("Must provide either runId or run")}async _loadChildRuns($){let q=await Fg(this.listRuns({isRoot:!1,projectId:$.session_id,traceId:$.trace_id})),_={},P={};q.sort((K,O)=>(K?.dotted_order??"").localeCompare(O?.dotted_order??""));for(let K of q){if(K.parent_run_id===null||K.parent_run_id===void 0)throw Error(`Child run ${K.id} has no parent`);if(K.dotted_order?.startsWith($.dotted_order??"")&&K.id!==$.id){if(!(K.parent_run_id in _))_[K.parent_run_id]=[];_[K.parent_run_id].push(K),P[K.id]=K}}$.child_runs=_[$.id]||[];for(let K in _)if(K!==$.id)P[K].child_runs=_[K];return $}async*listRuns($){let{projectId:q,projectName:_,parentRunId:P,traceId:K,referenceExampleId:O,startTime:Y,executionOrder:v,isRoot:W,runType:T,error:Z,id:w,query:k,filter:M,traceFilter:N,treeFilter:R,limit:E,select:D,order:h}=$,L=[];if(q)L=Array.isArray(q)?q:[q];if(_){let i=Array.isArray(_)?_:[_],$$=await Promise.all(i.map((Q)=>this.readProject({projectName:Q}).then((c)=>c.id)));L.push(...$$)}let b=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],y={session:L.length?L:null,run_type:T,reference_example:O,query:k,filter:M,trace_filter:N,tree_filter:R,execution_order:v,parent_run:P,start_time:Y?Y.toISOString():null,error:Z,id:w,limit:E,trace:K,select:D?D:b,is_root:W,order:h};if(y.select.includes("child_run_ids"))QP("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let p=0;for await(let i of this._getCursorPaginatedList("/runs/query",y))if(E){if(p>=E)break;if(i.length+p>E){yield*i.slice(0,E-p);break}p+=i.length,yield*i}else yield*i}async*listGroupRuns($){let{projectId:q,projectName:_,groupBy:P,filter:K,startTime:O,endTime:Y,limit:v,offset:W}=$,Z={session_id:q||(await this.readProject({projectName:_})).id,group_by:P,filter:K,start_time:O?O.toISOString():null,end_time:Y?Y.toISOString():null,limit:Number(v)||100},w=Number(W)||0,k="/runs/group",M=`${this.apiUrl}${k}`;while(!0){let N={...Z,offset:w},R=Object.fromEntries(Object.entries(N).filter(([y,p])=>p!==void 0)),E=JSON.stringify(R),h=await(await this.caller.call(async()=>{let y=await this._fetch(M,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:E});return await _6(y,`Failed to fetch ${k}`),y})).json(),{groups:L,total:b}=h;if(L.length===0)break;for(let y of L)yield y;if(w+=L.length,w>=b)break}}async getRunStats({id:$,trace:q,parentRun:_,runType:P,projectNames:K,projectIds:O,referenceExampleIds:Y,startTime:v,endTime:W,error:T,query:Z,filter:w,traceFilter:k,treeFilter:M,isRoot:N,dataSourceType:R}){let E=O||[];if(K)E=[...O||[],...await Promise.all(K.map((p)=>this.readProject({projectName:p}).then((i)=>i.id)))];let h=Object.fromEntries(Object.entries({id:$,trace:q,parent_run:_,run_type:P,session:E,reference_example:Y,start_time:v,end_time:W,error:T,query:Z,filter:w,trace_filter:k,tree_filter:M,is_root:N,data_source_type:R}).filter(([p,i])=>i!==void 0)),L=JSON.stringify(h);return await(await this.caller.call(async()=>{let p=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:L});return await _6(p,"get run stats"),p})).json()}async shareRun($,{shareId:q}={}){let _={run_id:$,share_token:q||VK()};j6($);let P=JSON.stringify(_),O=await(await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/runs/${$}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:P});return await _6(Y,"share run"),Y})).json();if(O===null||!("share_token"in O))throw Error("Invalid response from server");return`${this.getHostUrl()}/public/${O.share_token}/r`}async unshareRun($){j6($),await this.caller.call(async()=>{let q=await this._fetch(`${this.apiUrl}/runs/${$}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(q,"unshare run",!0),q})}async readRunSharedLink($){j6($);let _=await(await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}/runs/${$}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(P,"read run shared link"),P})).json();if(_===null||!("share_token"in _))return;return`${this.getHostUrl()}/public/${_.share_token}/r`}async listSharedRuns($,{runIds:q}={}){let _=new URLSearchParams({share_token:$});if(q!==void 0)for(let O of q)_.append("id",O);return j6($),await(await this.caller.call(async()=>{let O=await this._fetch(`${this.apiUrl}/public/${$}/runs${_}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(O,"list shared runs"),O})).json()}async readDatasetSharedSchema($,q){if(!$&&!q)throw Error("Either datasetId or datasetName must be given");if(!$)$=(await this.readDataset({datasetName:q})).id;j6($);let P=await(await this.caller.call(async()=>{let K=await this._fetch(`${this.apiUrl}/datasets/${$}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(K,"read dataset shared schema"),K})).json();return P.url=`${this.getHostUrl()}/public/${P.share_token}/d`,P}async shareDataset($,q){if(!$&&!q)throw Error("Either datasetId or datasetName must be given");if(!$)$=(await this.readDataset({datasetName:q})).id;let _={dataset_id:$};j6($);let P=JSON.stringify(_),O=await(await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/datasets/${$}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:P});return await _6(Y,"share dataset"),Y})).json();return O.url=`${this.getHostUrl()}/public/${O.share_token}/d`,O}async unshareDataset($){j6($),await this.caller.call(async()=>{let q=await this._fetch(`${this.apiUrl}/datasets/${$}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(q,"unshare dataset",!0),q})}async readSharedDataset($){return j6($),await(await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}/public/${$}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(P,"read shared dataset"),P})).json()}async listSharedExamples($,q){let _={};if(q?.exampleIds)_.id=q.exampleIds;let P=new URLSearchParams;Object.entries(_).forEach(([Y,v])=>{if(Array.isArray(v))v.forEach((W)=>P.append(Y,W));else P.append(Y,v)});let K=await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/public/${$}/examples?${P.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(Y,"list shared examples"),Y}),O=await K.json();if(!K.ok){if("detail"in O)throw Error(`Failed to list shared examples.
Status: ${K.status}
Message: ${Array.isArray(O.detail)?O.detail.join(`
`):"Unspecified error"}`);throw Error(`Failed to list shared examples: ${K.status} ${K.statusText}`)}return O.map((Y)=>({...Y,_hostUrl:this.getHostUrl()}))}async createProject({projectName:$,description:q=null,metadata:_=null,upsert:P=!1,projectExtra:K=null,referenceDatasetId:O=null}){let Y=P?"?upsert=true":"",v=`${this.apiUrl}/sessions${Y}`,W=K||{};if(_)W.metadata=_;let T={name:$,extra:W,description:q};if(O!==null)T.reference_dataset_id=O;let Z=JSON.stringify(T);return await(await this.caller.call(async()=>{let M=await this._fetch(v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Z});return await _6(M,"create project"),M})).json()}async updateProject($,{name:q=null,description:_=null,metadata:P=null,projectExtra:K=null,endTime:O=null}){let Y=`${this.apiUrl}/sessions/${$}`,v=K;if(P)v={...v||{},metadata:P};let W=JSON.stringify({name:q,extra:v,description:_,end_time:O?new Date(O).toISOString():null});return await(await this.caller.call(async()=>{let w=await this._fetch(Y,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:W});return await _6(w,"update project"),w})).json()}async hasProject({projectId:$,projectName:q}){let _="/sessions",P=new URLSearchParams;if($!==void 0&&q!==void 0)throw Error("Must provide either projectName or projectId, not both");else if($!==void 0)j6($),_+=`/${$}`;else if(q!==void 0)P.append("name",q);else throw Error("Must provide projectName or projectId");let K=await this.caller.call(async()=>{let O=await this._fetch(`${this.apiUrl}${_}?${P}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(O,"has project"),O});try{let O=await K.json();if(!K.ok)return!1;if(Array.isArray(O))return O.length>0;return!0}catch(O){return!1}}async readProject({projectId:$,projectName:q,includeStats:_}){let P="/sessions",K=new URLSearchParams;if($!==void 0&&q!==void 0)throw Error("Must provide either projectName or projectId, not both");else if($!==void 0)j6($),P+=`/${$}`;else if(q!==void 0)K.append("name",q);else throw Error("Must provide projectName or projectId");if(_!==void 0)K.append("include_stats",_.toString());let O=await this._get(P,K),Y;if(Array.isArray(O)){if(O.length===0)throw Error(`Project[id=${$}, name=${q}] not found`);Y=O[0]}else Y=O;return Y}async getProjectUrl({projectId:$,projectName:q}){if($===void 0&&q===void 0)throw Error("Must provide either projectName or projectId");let _=await this.readProject({projectId:$,projectName:q}),P=await this._getTenantId();return`${this.getHostUrl()}/o/${P}/projects/p/${_.id}`}async getDatasetUrl({datasetId:$,datasetName:q}){if($===void 0&&q===void 0)throw Error("Must provide either datasetName or datasetId");let _=await this.readDataset({datasetId:$,datasetName:q}),P=await this._getTenantId();return`${this.getHostUrl()}/o/${P}/datasets/${_.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;let $=new URLSearchParams({limit:"1"});for await(let q of this._getPaginated("/sessions",$))return this._tenantId=q[0].tenant_id,q[0].tenant_id;throw Error("No projects found to resolve tenant.")}async*listProjects({projectIds:$,name:q,nameContains:_,referenceDatasetId:P,referenceDatasetName:K,includeStats:O,datasetVersion:Y,referenceFree:v,metadata:W}={}){let T=new URLSearchParams;if($!==void 0)for(let Z of $)T.append("id",Z);if(q!==void 0)T.append("name",q);if(_!==void 0)T.append("name_contains",_);if(P!==void 0)T.append("reference_dataset",P);else if(K!==void 0){let Z=await this.readDataset({datasetName:K});T.append("reference_dataset",Z.id)}if(O!==void 0)T.append("include_stats",O.toString());if(Y!==void 0)T.append("dataset_version",Y);if(v!==void 0)T.append("reference_free",v.toString());if(W!==void 0)T.append("metadata",JSON.stringify(W));for await(let Z of this._getPaginated("/sessions",T))yield*Z}async deleteProject({projectId:$,projectName:q}){let _;if($===void 0&&q===void 0)throw Error("Must provide projectName or projectId");else if($!==void 0&&q!==void 0)throw Error("Must provide either projectName or projectId, not both");else if($===void 0)_=(await this.readProject({projectName:q})).id;else _=$;j6(_),await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}/sessions/${_}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(P,`delete session ${_} (${q})`,!0),P})}async uploadCsv({csvFile:$,fileName:q,inputKeys:_,outputKeys:P,description:K,dataType:O,name:Y}){let v=`${this.apiUrl}/datasets/upload`,W=new FormData;if(W.append("file",$,q),_.forEach((w)=>{W.append("input_keys",w)}),P.forEach((w)=>{W.append("output_keys",w)}),K)W.append("description",K);if(O)W.append("data_type",O);if(Y)W.append("name",Y);return await(await this.caller.call(async()=>{let w=await this._fetch(v,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:W});return await _6(w,"upload CSV"),w})).json()}async createDataset($,{description:q,dataType:_,inputsSchema:P,outputsSchema:K,metadata:O}={}){let Y={name:$,description:q,extra:O?{metadata:O}:void 0};if(_)Y.data_type=_;if(P)Y.inputs_schema_definition=P;if(K)Y.outputs_schema_definition=K;let v=JSON.stringify(Y);return await(await this.caller.call(async()=>{let Z=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await _6(Z,"create dataset"),Z})).json()}async readDataset({datasetId:$,datasetName:q}){let _="/datasets",P=new URLSearchParams({limit:"1"});if($&&q)throw Error("Must provide either datasetName or datasetId, not both");else if($)j6($),_+=`/${$}`;else if(q)P.append("name",q);else throw Error("Must provide datasetName or datasetId");let K=await this._get(_,P),O;if(Array.isArray(K)){if(K.length===0)throw Error(`Dataset[id=${$}, name=${q}] not found`);O=K[0]}else O=K;return O}async hasDataset({datasetId:$,datasetName:q}){try{return await this.readDataset({datasetId:$,datasetName:q}),!0}catch(_){if(_ instanceof Error&&_.message.toLocaleLowerCase().includes("not found"))return!1;throw _}}async diffDatasetVersions({datasetId:$,datasetName:q,fromVersion:_,toVersion:P}){let K=$;if(K===void 0&&q===void 0)throw Error("Must provide either datasetName or datasetId");else if(K!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(K===void 0)K=(await this.readDataset({datasetName:q})).id;let O=new URLSearchParams({from_version:typeof _==="string"?_:_.toISOString(),to_version:typeof P==="string"?P:P.toISOString()});return await this._get(`/datasets/${K}/versions/diff`,O)}async readDatasetOpenaiFinetuning({datasetId:$,datasetName:q}){if($!==void 0);else if(q!==void 0)$=(await this.readDataset({datasetName:q})).id;else throw Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`/datasets/${$}/openai_ft`)).text()).trim().split(`
`).map((Y)=>JSON.parse(Y))}async*listDatasets({limit:$=100,offset:q=0,datasetIds:_,datasetName:P,datasetNameContains:K,metadata:O}={}){let v=new URLSearchParams({limit:$.toString(),offset:q.toString()});if(_!==void 0)for(let W of _)v.append("id",W);if(P!==void 0)v.append("name",P);if(K!==void 0)v.append("name_contains",K);if(O!==void 0)v.append("metadata",JSON.stringify(O));for await(let W of this._getPaginated("/datasets",v))yield*W}async updateDataset($){let{datasetId:q,datasetName:_,...P}=$;if(!q&&!_)throw Error("Must provide either datasetName or datasetId");let K=q??(await this.readDataset({datasetName:_})).id;j6(K);let O=JSON.stringify(P);return await(await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/datasets/${K}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await _6(v,"update dataset"),v})).json()}async updateDatasetTag($){let{datasetId:q,datasetName:_,asOf:P,tag:K}=$;if(!q&&!_)throw Error("Must provide either datasetName or datasetId");let O=q??(await this.readDataset({datasetName:_})).id;j6(O);let Y=JSON.stringify({as_of:typeof P==="string"?P:P.toISOString(),tag:K});await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/datasets/${O}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Y});return await _6(v,"update dataset tags",!0),v})}async deleteDataset({datasetId:$,datasetName:q}){let _="/datasets",P=$;if($!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(q!==void 0)P=(await this.readDataset({datasetName:q})).id;if(P!==void 0)j6(P),_+=`/${P}`;else throw Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{let K=await this._fetch(this.apiUrl+_,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(K,`delete ${_}`,!0),K})}async indexDataset({datasetId:$,datasetName:q,tag:_}){let P=$;if(!P&&!q)throw Error("Must provide either datasetName or datasetId");else if(P&&q)throw Error("Must provide either datasetName or datasetId, not both");else if(!P)P=(await this.readDataset({datasetName:q})).id;j6(P);let O=JSON.stringify({tag:_});await(await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/datasets/${P}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await _6(v,"index dataset"),v})).json()}async similarExamples($,q,_,{filter:P}={}){let K={limit:_,inputs:$};if(P!==void 0)K.filter=P;j6(q);let O=JSON.stringify(K);return(await(await this.caller.call(async()=>{let W=await this._fetch(`${this.apiUrl}/datasets/${q}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:O});return await _6(W,"fetch similar examples"),W})).json()).examples}async createExample($,q,_){if(qG($)){if(q!==void 0||_!==void 0)throw Error("Cannot provide outputs or options when using ExampleCreate object")}let P=q?_?.datasetId:$.dataset_id,K=q?_?.datasetName:$.dataset_name;if(P===void 0&&K===void 0)throw Error("Must provide either datasetName or datasetId");else if(P!==void 0&&K!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(P===void 0)P=(await this.readDataset({datasetName:K})).id;let O=(q?_?.createdAt:$.created_at)||new Date,Y;if(!qG($))Y={inputs:$,outputs:q,created_at:O?.toISOString(),id:_?.exampleId,metadata:_?.metadata,split:_?.split,source_run_id:_?.sourceRunId,use_source_run_io:_?.useSourceRunIO,use_source_run_attachments:_?.useSourceRunAttachments,attachments:_?.attachments};else Y=$;let v=await this._uploadExamplesMultipart(P,[Y]);return await this.readExample(v.example_ids?.[0]??VK())}async createExamples($){if(Array.isArray($)){if($.length===0)return[];let D=$,h=D[0].dataset_id,L=D[0].dataset_name;if(h===void 0&&L===void 0)throw Error("Must provide either datasetName or datasetId");else if(h!==void 0&&L!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(h===void 0)h=(await this.readDataset({datasetName:L})).id;let b=await this._uploadExamplesMultipart(h,D);return await Promise.all(b.example_ids.map((p)=>this.readExample(p)))}let{inputs:q,outputs:_,metadata:P,splits:K,sourceRunIds:O,useSourceRunIOs:Y,useSourceRunAttachments:v,attachments:W,exampleIds:T,datasetId:Z,datasetName:w}=$;if(q===void 0)throw Error("Must provide inputs when using legacy parameters");let k=Z,M=w;if(k===void 0&&M===void 0)throw Error("Must provide either datasetName or datasetId");else if(k!==void 0&&M!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(k===void 0)k=(await this.readDataset({datasetName:M})).id;let N=q.map((D,h)=>{return{dataset_id:k,inputs:D,outputs:_?.[h],metadata:P?.[h],split:K?.[h],id:T?.[h],attachments:W?.[h],source_run_id:O?.[h],use_source_run_io:Y?.[h],use_source_run_attachments:v?.[h]}}),R=await this._uploadExamplesMultipart(k,N);return await Promise.all(R.example_ids.map((D)=>this.readExample(D)))}async createLLMExample($,q,_){return this.createExample({input:$},{output:q},_)}async createChatExample($,q,_){let P=$.map((O)=>{if(cO(O))return mO(O);return O}),K=cO(q)?mO(q):q;return this.createExample({input:P},{output:K},_)}async readExample($){j6($);let q=`/examples/${$}`,_=await this._get(q),{attachment_urls:P,...K}=_,O=K;if(P)O.attachments=Object.entries(P).reduce((Y,[v,W])=>{return Y[v.slice(11)]={presigned_url:W.presigned_url,mime_type:W.mime_type},Y},{});return O}async*listExamples({datasetId:$,datasetName:q,exampleIds:_,asOf:P,splits:K,inlineS3Urls:O,metadata:Y,limit:v,offset:W,filter:T,includeAttachments:Z}={}){let w;if($!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if($!==void 0)w=$;else if(q!==void 0)w=(await this.readDataset({datasetName:q})).id;else throw Error("Must provide a datasetName or datasetId");let k=new URLSearchParams({dataset:w}),M=P?typeof P==="string"?P:P?.toISOString():void 0;if(M)k.append("as_of",M);let N=O??!0;if(k.append("inline_s3_urls",N.toString()),_!==void 0)for(let E of _)k.append("id",E);if(K!==void 0)for(let E of K)k.append("splits",E);if(Y!==void 0){let E=JSON.stringify(Y);k.append("metadata",E)}if(v!==void 0)k.append("limit",v.toString());if(W!==void 0)k.append("offset",W.toString());if(T!==void 0)k.append("filter",T);if(Z===!0)["attachment_urls","outputs","metadata"].forEach((E)=>k.append("select",E));let R=0;for await(let E of this._getPaginated("/examples",k)){for(let D of E){let{attachment_urls:h,...L}=D,b=L;if(h)b.attachments=Object.entries(h).reduce((y,[p,i])=>{return y[p.slice(11)]={presigned_url:i.presigned_url,mime_type:i.mime_type||void 0},y},{});yield b,R++}if(v!==void 0&&R>=v)break}}async deleteExample($){j6($);let q=`/examples/${$}`;await this.caller.call(async()=>{let _=await this._fetch(this.apiUrl+q,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(_,`delete ${q}`,!0),_})}async deleteExamples($,q){if($.forEach((_)=>j6(_)),q?.hardDelete){let _=this._getPlatformEndpointPath("datasets/examples/delete");await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}${_}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({example_ids:$,hard_delete:!0}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(P,"hard delete examples",!0),P})}else{let _=new URLSearchParams;$.forEach((P)=>_.append("example_ids",P)),await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}/examples?${_.toString()}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(P,"delete examples",!0),P})}}async updateExample($,q){let _;if(q)_=$;else _=$.id;j6(_);let P;if(q)P={id:_,...q};else P=$;let K;if(P.dataset_id!==void 0)K=P.dataset_id;else K=(await this.readExample(_)).dataset_id;return this._updateExamplesMultipart(K,[P])}async updateExamples($){let q;if($[0].dataset_id===void 0)q=(await this.readExample($[0].id)).dataset_id;else q=$[0].dataset_id;return this._updateExamplesMultipart(q,$)}async readDatasetVersion({datasetId:$,datasetName:q,asOf:_,tag:P}){let K;if(!$)K=(await this.readDataset({datasetName:q})).id;else K=$;if(j6(K),_&&P||!_&&!P)throw Error("Exactly one of asOf and tag must be specified.");let O=new URLSearchParams;if(_!==void 0)O.append("as_of",typeof _==="string"?_:_.toISOString());if(P!==void 0)O.append("tag",P);return await(await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/datasets/${K}/version?${O.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(v,"read dataset version"),v})).json()}async listDatasetSplits({datasetId:$,datasetName:q,asOf:_}){let P;if($===void 0&&q===void 0)throw Error("Must provide dataset name or ID");else if($!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if($===void 0)P=(await this.readDataset({datasetName:q})).id;else P=$;j6(P);let K=new URLSearchParams,O=_?typeof _==="string"?_:_?.toISOString():void 0;if(O)K.append("as_of",O);return await this._get(`/datasets/${P}/splits`,K)}async updateDatasetSplits({datasetId:$,datasetName:q,splitName:_,exampleIds:P,remove:K=!1}){let O;if($===void 0&&q===void 0)throw Error("Must provide dataset name or ID");else if($!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if($===void 0)O=(await this.readDataset({datasetName:q})).id;else O=$;j6(O);let Y={split_name:_,examples:P.map((W)=>{return j6(W),W}),remove:K},v=JSON.stringify(Y);await this.caller.call(async()=>{let W=await this._fetch(`${this.apiUrl}/datasets/${O}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await _6(W,"update dataset splits",!0),W})}async createFeedback($,q,{score:_,value:P,correction:K,comment:O,sourceInfo:Y,feedbackSourceType:v="api",sourceRunId:W,feedbackId:T,feedbackConfig:Z,projectId:w,comparativeExperimentId:k}){if(!$&&!w)throw Error("One of runId or projectId must be provided");if($&&w)throw Error("Only one of runId or projectId can be provided");let M={type:v??"api",metadata:Y??{}};if(W!==void 0&&M?.metadata!==void 0&&!M.metadata.__run)M.metadata.__run={run_id:W};if(M?.metadata!==void 0&&M.metadata.__run?.run_id!==void 0)j6(M.metadata.__run.run_id);let N={id:T??VK(),run_id:$,key:q,score:sk(_),value:P,correction:K,comment:O,feedback_source:M,comparative_experiment_id:k,feedbackConfig:Z,session_id:w},R=JSON.stringify(N),E=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{let D=await this._fetch(E,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:R});return await _6(D,"create feedback",!0),D}),N}async updateFeedback($,{score:q,value:_,correction:P,comment:K}){let O={};if(q!==void 0&&q!==null)O.score=sk(q);if(_!==void 0&&_!==null)O.value=_;if(P!==void 0&&P!==null)O.correction=P;if(K!==void 0&&K!==null)O.comment=K;j6($);let Y=JSON.stringify(O);await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/feedback/${$}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Y});return await _6(v,"update feedback",!0),v})}async readFeedback($){j6($);let q=`/feedback/${$}`;return await this._get(q)}async deleteFeedback($){j6($);let q=`/feedback/${$}`;await this.caller.call(async()=>{let _=await this._fetch(this.apiUrl+q,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(_,`delete ${q}`,!0),_})}async*listFeedback({runIds:$,feedbackKeys:q,feedbackSourceTypes:_}={}){let P=new URLSearchParams;if($)for(let K of $)j6(K),P.append("run",K);if(q)for(let K of q)P.append("key",K);if(_)for(let K of _)P.append("source",K);for await(let K of this._getPaginated("/feedback",P))yield*K}async createPresignedFeedbackToken($,q,{expiration:_,feedbackConfig:P}={}){let K={run_id:$,feedback_key:q,feedback_config:P};if(_){if(typeof _==="string")K.expires_at=_;else if(_?.hours||_?.minutes||_?.days)K.expires_in=_}else K.expires_in={hours:3};let O=JSON.stringify(K);return await(await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await _6(v,"create presigned feedback token"),v})).json()}async createComparativeExperiment({name:$,experimentIds:q,referenceDatasetId:_,createdAt:P,description:K,metadata:O,id:Y}){if(q.length===0)throw Error("At least one experiment is required");if(!_)_=(await this.readProject({projectId:q[0]})).reference_dataset_id;if(!_==null)throw Error("A reference dataset is required");let v={id:Y,name:$,experiment_ids:q,reference_dataset_id:_,description:K,created_at:(P??new Date)?.toISOString(),extra:{}};if(O)v.extra.metadata=O;let W=JSON.stringify(v);return(await this.caller.call(async()=>{let Z=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:W});return await _6(Z,"create comparative experiment"),Z})).json()}async*listPresignedFeedbackTokens($){j6($);let q=new URLSearchParams({run_id:$});for await(let _ of this._getPaginated("/feedback/tokens",q))yield*_}_selectEvalResults($){let q;if("results"in $)q=$.results;else if(Array.isArray($))q=$;else q=[$];return q}async _logEvaluationFeedback($,q,_){let P=this._selectEvalResults($),K=[];for(let O of P){let Y=_||{};if(O.evaluatorInfo)Y={...O.evaluatorInfo,...Y};let v=null;if(O.targetRunId)v=O.targetRunId;else if(q)v=q.id;K.push(await this.createFeedback(v,O.key,{score:O.score,value:O.value,comment:O.comment,correction:O.correction,sourceInfo:Y,sourceRunId:O.sourceRunId,feedbackConfig:O.feedbackConfig,feedbackSourceType:"model"}))}return[P,K]}async logEvaluationFeedback($,q,_){let[P]=await this._logEvaluationFeedback($,q,_);return P}async*listAnnotationQueues($={}){let{queueIds:q,name:_,nameContains:P,limit:K}=$,O=new URLSearchParams;if(q)q.forEach((v,W)=>{j6(v,`queueIds[${W}]`),O.append("ids",v)});if(_)O.append("name",_);if(P)O.append("name_contains",P);O.append("limit",(K!==void 0?Math.min(K,100):100).toString());let Y=0;for await(let v of this._getPaginated("/annotation-queues",O))if(yield*v,Y++,K!==void 0&&Y>=K)break}async createAnnotationQueue($){let{name:q,description:_,queueId:P,rubricInstructions:K}=$,O={name:q,description:_,id:P||VK(),rubric_instructions:K},Y=JSON.stringify(Object.fromEntries(Object.entries(O).filter(([W,T])=>T!==void 0)));return(await this.caller.call(async()=>{let W=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Y});return await _6(W,"create annotation queue"),W})).json()}async readAnnotationQueue($){return(await this.caller.call(async()=>{let _=await this._fetch(`${this.apiUrl}/annotation-queues/${j6($,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(_,"read annotation queue"),_})).json()}async updateAnnotationQueue($,q){let{name:_,description:P,rubricInstructions:K}=q,O=JSON.stringify({name:_,description:P,rubric_instructions:K});await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/annotation-queues/${j6($,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await _6(Y,"update annotation queue",!0),Y})}async deleteAnnotationQueue($){await this.caller.call(async()=>{let q=await this._fetch(`${this.apiUrl}/annotation-queues/${j6($,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(q,"delete annotation queue",!0),q})}async addRunsToAnnotationQueue($,q){let _=JSON.stringify(q.map((P,K)=>j6(P,`runIds[${K}]`).toString()));await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}/annotation-queues/${j6($,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await _6(P,"add runs to annotation queue",!0),P})}async getRunFromAnnotationQueue($,q){let _=`/annotation-queues/${j6($,"queueId")}/run`;return(await this.caller.call(async()=>{let K=await this._fetch(`${this.apiUrl}${_}/${q}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(K,"get run from annotation queue"),K})).json()}async deleteRunFromAnnotationQueue($,q){await this.caller.call(async()=>{let _=await this._fetch(`${this.apiUrl}/annotation-queues/${j6($,"queueId")}/runs/${j6(q,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(_,"delete run from annotation queue",!0),_})}async getSizeFromAnnotationQueue($){return(await this.caller.call(async()=>{let _=await this._fetch(`${this.apiUrl}/annotation-queues/${j6($,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(_,"get size from annotation queue"),_})).json()}async _currentTenantIsOwner($){let q=await this._getSettings();return $=="-"||q.tenant_handle===$}async _ownerConflictError($,q){let _=await this._getSettings();return Error(`Cannot ${$} for another tenant.

      Current tenant: ${_.tenant_handle}

      Requested tenant: ${q}`)}async _getLatestCommitHash($){let _=await(await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}/commits/${$}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(P,"get latest commit hash"),P})).json();if(_.commits.length===0)return;return _.commits[0].commit_hash}async _likeOrUnlikePrompt($,q){let[_,P,K]=f_($),O=JSON.stringify({like:q});return(await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/likes/${_}/${P}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await _6(v,`${q?"like":"unlike"} prompt`),v})).json()}async _getPromptUrl($){let[q,_,P]=f_($);if(!await this._currentTenantIsOwner(q))if(P!=="latest")return`${this.getHostUrl()}/hub/${q}/${_}/${P.substring(0,8)}`;else return`${this.getHostUrl()}/hub/${q}/${_}`;else{let K=await this._getSettings();if(P!=="latest")return`${this.getHostUrl()}/prompts/${_}/${P.substring(0,8)}?organizationId=${K.id}`;else return`${this.getHostUrl()}/prompts/${_}?organizationId=${K.id}`}}async promptExists($){return!!await this.getPrompt($)}async likePrompt($){return this._likeOrUnlikePrompt($,!0)}async unlikePrompt($){return this._likeOrUnlikePrompt($,!1)}async*listCommits($){for await(let q of this._getPaginated(`/commits/${$}/`,new URLSearchParams,(_)=>_.commits))yield*q}async*listPrompts($){let q=new URLSearchParams;if(q.append("sort_field",$?.sortField??"updated_at"),q.append("sort_direction","desc"),q.append("is_archived",(!!$?.isArchived).toString()),$?.isPublic!==void 0)q.append("is_public",$.isPublic.toString());if($?.query)q.append("query",$.query);for await(let _ of this._getPaginated("/repos",q,(P)=>P.repos))yield*_}async getPrompt($){let[q,_,P]=f_($),O=await(await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/repos/${q}/${_}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(Y?.status===404)return null;return await _6(Y,"get prompt"),Y}))?.json();if(O?.repo)return O.repo;else return null}async createPrompt($,q){let _=await this._getSettings();if(q?.isPublic&&!_.tenant_handle)throw Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);let[P,K,O]=f_($);if(!await this._currentTenantIsOwner(P))throw await this._ownerConflictError("create a prompt",P);let Y={repo_handle:K,...q?.description&&{description:q.description},...q?.readme&&{readme:q.readme},...q?.tags&&{tags:q.tags},is_public:!!q?.isPublic},v=JSON.stringify(Y),W=await this.caller.call(async()=>{let Z=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await _6(Z,"create prompt"),Z}),{repo:T}=await W.json();return T}async createCommit($,q,_){if(!await this.promptExists($))throw Error("Prompt does not exist, you must create it first.");let[P,K,O]=f_($),Y=_?.parentCommitHash==="latest"||!_?.parentCommitHash?await this._getLatestCommitHash(`${P}/${K}`):_?.parentCommitHash,v={manifest:JSON.parse(JSON.stringify(q)),parent_commit:Y},W=JSON.stringify(v),Z=await(await this.caller.call(async()=>{let w=await this._fetch(`${this.apiUrl}/commits/${P}/${K}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:W});return await _6(w,"create commit"),w})).json();return this._getPromptUrl(`${P}/${K}${Z.commit_hash?`:${Z.commit_hash}`:""}`)}async updateExamplesMultipart($,q=[]){return this._updateExamplesMultipart($,q)}async _updateExamplesMultipart($,q=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let _=new FormData;for(let O of q){let Y=O.id,v={...O.metadata&&{metadata:O.metadata},...O.split&&{split:O.split}},W=Qq(v,`Serializing body for example with id: ${Y}`),T=new Blob([W],{type:"application/json"});if(_.append(Y,T),O.inputs){let Z=Qq(O.inputs,`Serializing inputs for example with id: ${Y}`),w=new Blob([Z],{type:"application/json"});_.append(`${Y}.inputs`,w)}if(O.outputs){let Z=Qq(O.outputs,`Serializing outputs whle updating example with id: ${Y}`),w=new Blob([Z],{type:"application/json"});_.append(`${Y}.outputs`,w)}if(O.attachments)for(let[Z,w]of Object.entries(O.attachments)){let k,M;if(Array.isArray(w))[k,M]=w;else k=w.mimeType,M=w.data;let N=new Blob([M],{type:`${k}; length=${M.byteLength}`});_.append(`${Y}.attachment.${Z}`,N)}if(O.attachments_operations){let Z=Qq(O.attachments_operations,`Serializing attachments while updating example with id: ${Y}`),w=new Blob([Z],{type:"application/json"});_.append(`${Y}.attachments_operations`,w)}}let P=$??q[0]?.dataset_id;return(await this.caller.call(async()=>{let O=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${P}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await _6(O,"update examples"),O})).json()}async uploadExamplesMultipart($,q=[]){return this._uploadExamplesMultipart($,q)}async _uploadExamplesMultipart($,q=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let _=new FormData;for(let K of q){let O=(K.id??VK()).toString(),Y={created_at:K.created_at,...K.metadata&&{metadata:K.metadata},...K.split&&{split:K.split},...K.source_run_id&&{source_run_id:K.source_run_id},...K.use_source_run_io&&{use_source_run_io:K.use_source_run_io},...K.use_source_run_attachments&&{use_source_run_attachments:K.use_source_run_attachments}},v=Qq(Y,`Serializing body for uploaded example with id: ${O}`),W=new Blob([v],{type:"application/json"});if(_.append(O,W),K.inputs){let T=Qq(K.inputs,`Serializing inputs for uploaded example with id: ${O}`),Z=new Blob([T],{type:"application/json"});_.append(`${O}.inputs`,Z)}if(K.outputs){let T=Qq(K.outputs,`Serializing outputs for uploaded example with id: ${O}`),Z=new Blob([T],{type:"application/json"});_.append(`${O}.outputs`,Z)}if(K.attachments)for(let[T,Z]of Object.entries(K.attachments)){let w,k;if(Array.isArray(Z))[w,k]=Z;else w=Z.mimeType,k=Z.data;let M=new Blob([k],{type:`${w}; length=${k.byteLength}`});_.append(`${O}.attachment.${T}`,M)}}return(await this.caller.call(async()=>{let K=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${$}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await _6(K,"upload examples"),K})).json()}async updatePrompt($,q){if(!await this.promptExists($))throw Error("Prompt does not exist, you must create it first.");let[_,P]=f_($);if(!await this._currentTenantIsOwner(_))throw await this._ownerConflictError("update a prompt",_);let K={};if(q?.description!==void 0)K.description=q.description;if(q?.readme!==void 0)K.readme=q.readme;if(q?.tags!==void 0)K.tags=q.tags;if(q?.isPublic!==void 0)K.is_public=q.isPublic;if(q?.isArchived!==void 0)K.is_archived=q.isArchived;if(Object.keys(K).length===0)throw Error("No valid update options provided");let O=JSON.stringify(K);return(await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/repos/${_}/${P}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await _6(v,"update prompt"),v})).json()}async deletePrompt($){if(!await this.promptExists($))throw Error("Prompt does not exist, you must create it first.");let[q,_,P]=f_($);if(!await this._currentTenantIsOwner(q))throw await this._ownerConflictError("delete a prompt",q);return(await this.caller.call(async()=>{let O=await this._fetch(`${this.apiUrl}/repos/${q}/${_}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(O,"delete prompt"),O})).json()}_getPromptCacheKey($,q){return`${$}${q?":with_model":""}`}async _fetchPromptFromApi($,q){let[_,P,K]=f_($),Y=await(await this.caller.call(async()=>{let v=await this._fetch(`${this.apiUrl}/commits/${_}/${P}/${K}${q?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _6(v,"pull prompt commit"),v})).json();return{owner:_,repo:P,commit_hash:Y.commit_hash,manifest:Y.manifest,examples:Y.examples}}async pullPromptCommit($,q){if(!q?.skipCache&&this._cache){let _=this._getPromptCacheKey($,q?.includeModel),P=this._cache.get(_);if(P)return P;let K=await this._fetchPromptFromApi($,q);return this._cache.set(_,K),K}return this._fetchPromptFromApi($,q)}async _pullPrompt($,q){let _=await this.pullPromptCommit($,{includeModel:q?.includeModel,skipCache:q?.skipCache});return JSON.stringify(_.manifest)}async pushPrompt($,q){if(await this.promptExists($)){if(q&&Object.keys(q).some((P)=>P!=="object"))await this.updatePrompt($,{description:q?.description,readme:q?.readme,tags:q?.tags,isPublic:q?.isPublic})}else await this.createPrompt($,{description:q?.description,readme:q?.readme,tags:q?.tags,isPublic:q?.isPublic});if(!q?.object)return await this._getPromptUrl($);return await this.createCommit($,q?.object,{parentCommitHash:q?.parentCommitHash})}async clonePublicDataset($,q={}){let{sourceApiUrl:_=this.apiUrl,datasetName:P}=q,[K,O]=this.parseTokenOrUrl($,_),Y=new U_({apiUrl:K,apiKey:"placeholder"}),v=await Y.readSharedDataset(O),W=P||v.name;try{if(await this.hasDataset({datasetId:W})){console.log(`Dataset ${W} already exists in your tenant. Skipping.`);return}}catch(w){}let T=await Y.listSharedExamples(O),Z=await this.createDataset(W,{description:v.description,dataType:v.data_type||"kv",inputsSchema:v.inputs_schema_definition??void 0,outputsSchema:v.outputs_schema_definition??void 0});try{await this.createExamples({inputs:T.map((w)=>w.inputs),outputs:T.flatMap((w)=>w.outputs?[w.outputs]:[]),datasetId:Z.id})}catch(w){throw console.error(`An error occurred while creating dataset ${W}. You should delete it manually.`),w}}parseTokenOrUrl($,q,_=2,P="dataset"){try{return j6($),[q,$]}catch(K){}try{let O=new URL($).pathname.split("/").filter((Y)=>Y!=="");if(O.length>=_){let Y=O[O.length-_];return[q,Y]}else throw Error(`Invalid public ${P} URL: ${$}`)}catch(K){throw Error(`Invalid public ${P} URL or token: ${$}`)}}get cache(){return this._cache}cleanup(){if(this._cache)this._cache.stop()}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();if(await new Promise(($)=>setTimeout($,1)),await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:$})=>$),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0)await mX()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}}function qG($){return"dataset_id"in $||"dataset_name"in $}var PG=($)=>{if($!==void 0)return $;return!!["TRACING_V2","TRACING"].find((_)=>t6(_)==="true")};var F8=Symbol.for("lc:context_variables");var d9=Symbol.for("langsmith:replica_trace_roots");function Y3($,q){if(F8 in $)return $[F8][q];return}function YG($,q,_){let P=F8 in $?$[F8]:{};P[q]=_,$[F8]=P}var O1=36,j1="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function OG($){let _=Object.keys($).sort().map((P)=>`${P}:${$[P]??""}`).join("|");return SK(_,j1)}function $b($){return $.replace(/[-:.]/g,"")}function vG($,q=1){let _=q.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date($).toISOString().slice(0,-1)}${_}Z`}function O3($,q,_=1){let P=vG($,_);return{dottedOrder:$b(P)+q,microsecondPrecisionDatestring:P}}var qb=new Set(["projectName","updates","reroot"]);function _b($){let q={};for(let _ of Object.keys($))if(qb.has(_))q[_]=$[_];return q}class l9{constructor($,q,_,P){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=$,this.tags=q,this.project_name=_,this.replicas=P}static fromHeader($){let q=$.split(","),_={},P=[],K,O;for(let Y of q){let[v,W]=Y.split("="),T=decodeURIComponent(W);if(v==="langsmith-metadata")_=JSON.parse(T);else if(v==="langsmith-tags")P=T.split(",");else if(v==="langsmith-project")K=T;else if(v==="langsmith-replicas")O=JSON.parse(T).map((w)=>{if(Array.isArray(w))return w;return _b(w)})}return new l9(_,P,K,O)}toHeader(){let $=[];if(this.metadata&&Object.keys(this.metadata).length>0)$.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`);if(this.tags&&this.tags.length>0)$.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`);if(this.project_name)$.push(`langsmith-project=${encodeURIComponent(this.project_name)}`);return $.join(",")}}class Jq{constructor($){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_awaitInputsOnPost",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),zG($)){Object.assign(this,{...$});return}let q=Jq.getDefaultConfig(),{metadata:_,...P}=$,K=P.client??Jq.getSharedClient(),O={..._,...P?.extra?.metadata};if(P.extra={...P.extra,metadata:O},"id"in P&&P.id==null)delete P.id;if(Object.assign(this,{...q,...P,client:K}),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order)this._serialized_start_time=vG(this.start_time,this.execution_order);if(!this.id)this.id=W9(this._serialized_start_time??this.start_time);if(!this.trace_id)if(this.parent_run)this.trace_id=this.parent_run.trace_id??this.id;else this.trace_id=this.id;if(this.replicas=Ob(this.replicas),!this.dotted_order){let{dottedOrder:Y}=O3(this.start_time,this.id,this.execution_order);if(this.parent_run)this.dotted_order=this.parent_run.dotted_order+"."+Y;else this.dotted_order=Y}}set metadata($){this.extra={...this.extra,metadata:{...this.extra?.metadata,...$}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){let $=Date.now();return{run_type:"chain",project_name:FP(),child_runs:[],api_url:v8("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:v8("LANGCHAIN_API_KEY"),caller_options:{},start_time:$,serialized:{},inputs:{},extra:{}}}static getSharedClient(){if(!Jq.sharedClient)Jq.sharedClient=new U_;return Jq.sharedClient}createChild($){let q=this.child_execution_order+1,_=this.replicas?.map((T)=>{let{reroot:Z,...w}=T;return w}),P=$.replicas??_,K=new Jq({...$,parent_run:this,project_name:this.project_name,replicas:P,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:q,child_execution_order:q});if(F8 in this)K[F8]=this[F8];let O=Symbol.for("lc:child_config"),Y=$.extra?.[O]??this.extra[O];if(Pb(Y)){let T={...Y},Z=Kb(T.callbacks)?T.callbacks.copy?.():void 0;if(Z)Object.assign(Z,{_parentRunId:K.id}),Z.handlers?.find(JG)?.updateFromRunTree?.(K),T.callbacks=Z;K.extra[O]=T}let v=new Set,W=this;while(W!=null&&!v.has(W.id))v.add(W.id),W.child_execution_order=Math.max(W.child_execution_order,q),W=W.parent_run;return this.child_runs.push(K),K}async end($,q,_=Date.now(),P){if(this.outputs=this.outputs??$,this.error=this.error??q,this.end_time=this.end_time??_,P&&Object.keys(P).length>0)this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...P}}:{metadata:P}}_convertToCreate($,q,_=!0){let P=$.extra??{};if(P?.runtime?.library===void 0){if(!P.runtime)P.runtime={};if(q){for(let[Y,v]of Object.entries(q))if(!P.runtime[Y])P.runtime[Y]=v}}let K,O;if(!_)K=$.child_runs.map((Y)=>this._convertToCreate(Y,q,_)),O=void 0;else O=$.parent_run?.id??$.parent_run_id,K=[];return{id:$.id,name:$.name,start_time:$._serialized_start_time??$.start_time,end_time:$.end_time,run_type:$.run_type,reference_example_id:$.reference_example_id,extra:P,serialized:$.serialized,error:$.error,inputs:$.inputs,outputs:$.outputs,session_name:$.project_name,child_runs:K,parent_run_id:O,trace_id:$.trace_id,dotted_order:$.dotted_order,tags:$.tags,attachments:$.attachments,events:$.events}}_sliceParentId($,q){if(q.dotted_order){let _=q.dotted_order.split("."),P=null;for(let K=0;K<_.length;K++)if(_[K].slice(-O1)===$){P=K;break}if(P!==null){let K=_.slice(P+1);if(q.dotted_order=K.join("."),K.length>0)q.trace_id=K[0].slice(-O1);else q.trace_id=q.id}}if(q.parent_run_id===$)q.parent_run_id=void 0}_setReplicaTraceRoot($,q){let _=Y3(this,d9)??{};_[$]=q,YG(this,d9,_);for(let P of this.child_runs)P._setReplicaTraceRoot($,q)}_remapForProject($){let{projectName:q,runtimeEnv:_,excludeChildRuns:P=!0,reroot:K=!1,distributedParentId:O,apiUrl:Y,apiKey:v,workspaceId:W}=$,T=this._convertToCreate(this,_,P);if(q===this.project_name)return{...T,session_name:q};if(K){if(O)this._sliceParentId(O,T);else if(T.parent_run_id=void 0,T.dotted_order){let D=T.dotted_order.split(".");if(D.length>0)T.dotted_order=D[D.length-1],T.trace_id=T.id}let E=OG({projectName:q,apiUrl:Y,apiKey:v,workspaceId:W});this._setReplicaTraceRoot(E,T.id)}let Z;if(!K){let E=Y3(this,d9)??{},D=OG({projectName:q,apiUrl:Y,apiKey:v,workspaceId:W});if(Z=E[D],Z){if(T.trace_id=Z,T.dotted_order){let h=T.dotted_order.split("."),L=null;for(let b=0;b<h.length;b++)if(h[b].slice(-O1)===Z){L=b;break}if(L!==null){let b=h.slice(L);T.dotted_order=b.join(".")}}}}let w=T.id,k=SK(`${w}:${q}`,j1),M;if(T.trace_id)M=SK(`${T.trace_id}:${q}`,j1);else M=k;let N;if(T.parent_run_id)N=SK(`${T.parent_run_id}:${q}`,j1);let R;if(T.dotted_order)R=T.dotted_order.split(".").map((h)=>{let L=h.slice(-O1),b=SK(`${L}:${q}`,j1);return h.slice(0,-O1)+b}).join(".");return{...T,id:k,trace_id:M,parent_run_id:N,dotted_order:R,session_name:q}}async postRun($=!0){if(this._awaitInputsOnPost)this.inputs=await this.inputs;try{let q=w9();if(this.replicas&&this.replicas.length>0)for(let{projectName:_,apiKey:P,apiUrl:K,workspaceId:O,reroot:Y}of this.replicas){let v=this._remapForProject({projectName:_??this.project_name,runtimeEnv:q,excludeChildRuns:!0,reroot:Y,distributedParentId:this.distributedParentId,apiUrl:K,apiKey:P,workspaceId:O});await this.client.createRun(v,{apiKey:P,apiUrl:K,workspaceId:O})}else{let _=this._convertToCreate(this,q,$);await this.client.createRun(_)}if(!$){QP("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(let _ of this.child_runs)await _.postRun(!1)}this.child_runs=[]}catch(q){console.error(`Error in postRun for run ${this.id}:`,q)}}async patchRun($){if(this.replicas&&this.replicas.length>0)for(let{projectName:q,apiKey:_,apiUrl:P,workspaceId:K,updates:O,reroot:Y}of this.replicas){let v=this._remapForProject({projectName:q??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:Y,distributedParentId:this.distributedParentId,apiUrl:P,apiKey:_,workspaceId:K}),W={id:v.id,name:v.name,run_type:v.run_type,start_time:v.start_time,outputs:v.outputs,error:v.error,parent_run_id:v.parent_run_id,session_name:v.session_name,reference_example_id:v.reference_example_id,end_time:v.end_time,dotted_order:v.dotted_order,trace_id:v.trace_id,events:v.events,tags:v.tags,extra:v.extra,attachments:this.attachments,...O};if(!$?.excludeInputs)W.inputs=v.inputs;await this.client.updateRun(v.id,W,{apiKey:_,apiUrl:P,workspaceId:K})}else try{let q={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};if(!$?.excludeInputs)q.inputs=this.inputs;await this.client.updateRun(this.id,q)}catch(q){console.error(`Error in patchRun for run ${this.id}`,q)}this.child_runs=[]}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent($){if(!this.events)this.events=[];if(typeof $==="string")this.events.push({name:"event",time:new Date().toISOString(),message:$});else this.events.push({...$,time:$.time??new Date().toISOString()})}static fromRunnableConfig($,q){let _=$?.callbacks,P,K,O,Y=PG();if(_){let W=_?.getParentRunId?.()??"",T=_?.handlers?.find((Z)=>Z?.name=="langchain_tracer");P=T?.getRun?.(W),K=T?.projectName,O=T?.client,Y=Y||!!T}if(!P)return new Jq({...q,client:O,tracingEnabled:Y,project_name:K});return new Jq({name:P.name,id:P.id,trace_id:P.trace_id,dotted_order:P.dotted_order,client:O,tracingEnabled:Y,project_name:K,tags:[...new Set((P?.tags??[]).concat($?.tags??[]))],extra:{metadata:{...P?.extra?.metadata,...$?.metadata}}}).createChild(q)}static fromDottedOrder($){return this.fromHeaders({"langsmith-trace":$})}static fromHeaders($,q){let _="get"in $&&typeof $.get==="function"?{"langsmith-trace":$.get("langsmith-trace"),baggage:$.get("baggage")}:$,P=_["langsmith-trace"];if(!P||typeof P!=="string")return;let K=P.trim(),O=K.split(".").map((T)=>{let[Z,w]=T.split("Z");return{strTime:Z,time:Date.parse(Z+"Z"),uuid:w}}),Y=O[0].uuid,v={...q,name:q?.name??"parent",run_type:q?.run_type??"chain",start_time:q?.start_time??Date.now(),id:O.at(-1)?.uuid,trace_id:Y,dotted_order:K};if(_.baggage&&typeof _.baggage==="string"){let T=l9.fromHeader(_.baggage);v.metadata=T.metadata,v.tags=T.tags,v.project_name=T.project_name,v.replicas=T.replicas}let W=new Jq(v);return W.distributedParentId=W.id,W}toHeaders($){let q={"langsmith-trace":this.dotted_order,baggage:new l9(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if($)for(let[_,P]of Object.entries(q))$.set(_,P);return q}}Object.defineProperty(Jq,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function zG($){return $!=null&&typeof $.createChild==="function"&&typeof $.postRun==="function"}function JG($){return typeof $==="object"&&$!=null&&typeof $.name==="string"&&$.name==="langchain_tracer"}function jG($){return Array.isArray($)&&$.some((q)=>JG(q))}function Kb($){return typeof $==="object"&&$!=null&&Array.isArray($.handlers)}function Pb($){let q=$?.callbacks;return $!=null&&typeof q==="object"&&(jG(q?.handlers)||jG(q))}function Yb(){let $=v8("LANGSMITH_RUNS_ENDPOINTS");if(!$)return[];try{let q=JSON.parse($);if(Array.isArray(q)){let _=[];for(let P of q){if(typeof P!=="object"||P===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof P}`);continue}if(typeof P.api_url!=="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof P.api_url}`);continue}if(typeof P.api_key!=="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof P.api_key}`);continue}_.push({apiUrl:P.api_url.replace(/\/$/,""),apiKey:P.api_key})}return _}else if(typeof q==="object"&&q!==null){jb(q);let _=[];for(let[P,K]of Object.entries(q)){let O=P.replace(/\/$/,"");if(typeof K==="string")_.push({apiUrl:O,apiKey:K});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${P}: expected string, got ${typeof K}`);continue}}return _}else return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of "+`objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof q}`),[]}catch(q){if(Fk(q))throw q;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of "+"objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function Ob($){if($)return $.map((q)=>{if(Array.isArray(q))return{projectName:q[0],updates:q[1]};return q});return Yb()}function jb($){if(Object.keys($).length>0&&t6("ENDPOINT"))throw new _3}var vb={};k6(vb,{BaseTracer:()=>b8,isBaseTracer:()=>NK});var zb=($)=>{if(!$)return;return $.events=$.events??[],$.child_runs=$.child_runs??[],$};function v3($,q){if(!$)return;return new Jq({...$,start_time:$._serialized_start_time??$.start_time,parent_run:v3(q),child_runs:$.child_runs.map((_)=>v3(_)).filter((_)=>_!==void 0),extra:{...$.extra,runtime:wO()},tracingEnabled:!1})}function j3($,q){return $&&!Array.isArray($)&&typeof $==="object"?$:{[q]:$}}function NK($){return typeof $._addRunToRunMap==="function"}var b8=class extends GK{runMap=new Map;runTreeMap=new Map;usesRunTreeMap=!1;constructor($){super(...arguments)}copy(){return this}getRunById($){if($===void 0)return;return this.usesRunTreeMap?zb(this.runTreeMap.get($)):this.runMap.get($)}stringifyError($){if($ instanceof Error)return $.message+($?.stack?`

${$.stack}`:"");if(typeof $==="string")return $;return`${$}`}_addChildRun($,q){$.child_runs.push(q)}_addRunToRunMap($){let{dottedOrder:q,microsecondPrecisionDatestring:_}=O3(new Date($.start_time).getTime(),$.id,$.execution_order),P={...$},K=this.getRunById(P.parent_run_id);if(P.parent_run_id!==void 0)if(K){if(this._addChildRun(K,P),K.child_execution_order=Math.max(K.child_execution_order,P.child_execution_order),P.trace_id=K.trace_id,K.dotted_order!==void 0)P.dotted_order=[K.dotted_order,q].join("."),P._serialized_start_time=_}else P.parent_run_id=void 0;else P.trace_id=P.id,P.dotted_order=q,P._serialized_start_time=_;if(this.usesRunTreeMap){let O=v3(P,K);if(O!==void 0)this.runTreeMap.set(P.id,O)}else this.runMap.set(P.id,P);return P}async _endTrace($){let q=$.parent_run_id!==void 0&&this.getRunById($.parent_run_id);if(q)q.child_execution_order=Math.max(q.child_execution_order,$.child_execution_order);else await this.persistRun($);if(await this.onRunUpdate?.($),this.usesRunTreeMap)this.runTreeMap.delete($.id);else this.runMap.delete($.id)}_getExecutionOrder($){let q=$!==void 0&&this.getRunById($);if(!q)return 1;return q.child_execution_order+1}_createRunForLLMStart($,q,_,P,K,O,Y,v){let W=this._getExecutionOrder(P),T=Date.now(),Z=Y?{...K,metadata:Y}:K,w={id:_,name:v??$.id[$.id.length-1],parent_run_id:P,start_time:T,serialized:$,events:[{name:"start",time:new Date(T).toISOString()}],inputs:{prompts:q},execution_order:W,child_runs:[],child_execution_order:W,run_type:"llm",extra:Z??{},tags:O||[]};return this._addRunToRunMap(w)}async handleLLMStart($,q,_,P,K,O,Y,v){let W=this.getRunById(_)??this._createRunForLLMStart($,q,_,P,K,O,Y,v);return await this.onRunCreate?.(W),await this.onLLMStart?.(W),W}_createRunForChatModelStart($,q,_,P,K,O,Y,v){let W=this._getExecutionOrder(P),T=Date.now(),Z=Y?{...K,metadata:Y}:K,w={id:_,name:v??$.id[$.id.length-1],parent_run_id:P,start_time:T,serialized:$,events:[{name:"start",time:new Date(T).toISOString()}],inputs:{messages:q},execution_order:W,child_runs:[],child_execution_order:W,run_type:"llm",extra:Z??{},tags:O||[]};return this._addRunToRunMap(w)}async handleChatModelStart($,q,_,P,K,O,Y,v){let W=this.getRunById(_)??this._createRunForChatModelStart($,q,_,P,K,O,Y,v);return await this.onRunCreate?.(W),await this.onLLMStart?.(W),W}async handleLLMEnd($,q,_,P,K){let O=this.getRunById(q);if(!O||O?.run_type!=="llm")throw Error("No LLM run to end.");return O.end_time=Date.now(),O.outputs=$,O.events.push({name:"end",time:new Date(O.end_time).toISOString()}),O.extra={...O.extra,...K},await this.onLLMEnd?.(O),await this._endTrace(O),O}async handleLLMError($,q,_,P,K){let O=this.getRunById(q);if(!O||O?.run_type!=="llm")throw Error("No LLM run to end.");return O.end_time=Date.now(),O.error=this.stringifyError($),O.events.push({name:"error",time:new Date(O.end_time).toISOString()}),O.extra={...O.extra,...K},await this.onLLMError?.(O),await this._endTrace(O),O}_createRunForChainStart($,q,_,P,K,O,Y,v,W){let T=this._getExecutionOrder(P),Z=Date.now(),w={id:_,name:v??$.id[$.id.length-1],parent_run_id:P,start_time:Z,serialized:$,events:[{name:"start",time:new Date(Z).toISOString()}],inputs:q,execution_order:T,child_execution_order:T,run_type:Y??"chain",child_runs:[],extra:O?{...W,metadata:O}:{...W},tags:K||[]};return this._addRunToRunMap(w)}async handleChainStart($,q,_,P,K,O,Y,v){let W=this.getRunById(_)??this._createRunForChainStart($,q,_,P,K,O,Y,v);return await this.onRunCreate?.(W),await this.onChainStart?.(W),W}async handleChainEnd($,q,_,P,K){let O=this.getRunById(q);if(!O)throw Error("No chain run to end.");if(O.end_time=Date.now(),O.outputs=j3($,"output"),O.events.push({name:"end",time:new Date(O.end_time).toISOString()}),K?.inputs!==void 0)O.inputs=j3(K.inputs,"input");return await this.onChainEnd?.(O),await this._endTrace(O),O}async handleChainError($,q,_,P,K){let O=this.getRunById(q);if(!O)throw Error("No chain run to end.");if(O.end_time=Date.now(),O.error=this.stringifyError($),O.events.push({name:"error",time:new Date(O.end_time).toISOString()}),K?.inputs!==void 0)O.inputs=j3(K.inputs,"input");return await this.onChainError?.(O),await this._endTrace(O),O}_createRunForToolStart($,q,_,P,K,O,Y){let v=this._getExecutionOrder(P),W=Date.now(),T={id:_,name:Y??$.id[$.id.length-1],parent_run_id:P,start_time:W,serialized:$,events:[{name:"start",time:new Date(W).toISOString()}],inputs:{input:q},execution_order:v,child_execution_order:v,run_type:"tool",child_runs:[],extra:O?{metadata:O}:{},tags:K||[]};return this._addRunToRunMap(T)}async handleToolStart($,q,_,P,K,O,Y){let v=this.getRunById(_)??this._createRunForToolStart($,q,_,P,K,O,Y);return await this.onRunCreate?.(v),await this.onToolStart?.(v),v}async handleToolEnd($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="tool")throw Error("No tool run to end");return _.end_time=Date.now(),_.outputs={output:$},_.events.push({name:"end",time:new Date(_.end_time).toISOString()}),await this.onToolEnd?.(_),await this._endTrace(_),_}async handleToolError($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="tool")throw Error("No tool run to end");return _.end_time=Date.now(),_.error=this.stringifyError($),_.events.push({name:"error",time:new Date(_.end_time).toISOString()}),await this.onToolError?.(_),await this._endTrace(_),_}async handleAgentAction($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="chain")return;let P=_;P.actions=P.actions||[],P.actions.push($),P.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:$}}),await this.onAgentAction?.(_)}async handleAgentEnd($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="chain")return;_.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:$}}),await this.onAgentEnd?.(_)}_createRunForRetrieverStart($,q,_,P,K,O,Y){let v=this._getExecutionOrder(P),W=Date.now(),T={id:_,name:Y??$.id[$.id.length-1],parent_run_id:P,start_time:W,serialized:$,events:[{name:"start",time:new Date(W).toISOString()}],inputs:{query:q},execution_order:v,child_execution_order:v,run_type:"retriever",child_runs:[],extra:O?{metadata:O}:{},tags:K||[]};return this._addRunToRunMap(T)}async handleRetrieverStart($,q,_,P,K,O,Y){let v=this.getRunById(_)??this._createRunForRetrieverStart($,q,_,P,K,O,Y);return await this.onRunCreate?.(v),await this.onRetrieverStart?.(v),v}async handleRetrieverEnd($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="retriever")throw Error("No retriever run to end");return _.end_time=Date.now(),_.outputs={documents:$},_.events.push({name:"end",time:new Date(_.end_time).toISOString()}),await this.onRetrieverEnd?.(_),await this._endTrace(_),_}async handleRetrieverError($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="retriever")throw Error("No retriever run to end");return _.end_time=Date.now(),_.error=this.stringifyError($),_.events.push({name:"error",time:new Date(_.end_time).toISOString()}),await this.onRetrieverError?.(_),await this._endTrace(_),_}async handleText($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="chain")return;_.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:$}}),await this.onText?.(_)}async handleLLMNewToken($,q,_,P,K,O){let Y=this.getRunById(_);if(!Y||Y?.run_type!=="llm")throw Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return Y.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:$,idx:q,chunk:O?.chunk}}),await this.onLLMNewToken?.(Y,$,{chunk:O?.chunk}),Y}};var z3=R8(wG(),1),Wb={};k6(Wb,{ConsoleCallbackHandler:()=>r9});function cq($,q){return`${$.open}${q}${$.close}`}function f8($,q){try{return JSON.stringify($,null,2)}catch{return q}}function ZG($){if(typeof $==="string")return $.trim();if($===null||$===void 0)return $;return f8($,$.toString())}function t_($){if(!$.end_time)return"";let q=$.end_time-$.start_time;if(q<1000)return`${q}ms`;return`${(q/1000).toFixed(2)}s`}var{color:aq}=z3.default,r9=class extends b8{name="console_callback_handler";persistRun($){return Promise.resolve()}getParents($){let q=[],_=$;while(_.parent_run_id){let P=this.runMap.get(_.parent_run_id);if(P)q.push(P),_=P;else break}return q}getBreadcrumbs($){let _=[...this.getParents($).reverse(),$].map((P,K,O)=>{let Y=`${P.execution_order}:${P.run_type}:${P.name}`;return K===O.length-1?cq(z3.default.bold,Y):Y}).join(" > ");return cq(aq.grey,_)}onChainStart($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.green,"[chain/start]")} [${q}] Entering Chain run with input: ${f8($.inputs,"[inputs]")}`)}onChainEnd($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.cyan,"[chain/end]")} [${q}] [${t_($)}] Exiting Chain run with output: ${f8($.outputs,"[outputs]")}`)}onChainError($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.red,"[chain/error]")} [${q}] [${t_($)}] Chain run errored with error: ${f8($.error,"[error]")}`)}onLLMStart($){let q=this.getBreadcrumbs($),_="prompts"in $.inputs?{prompts:$.inputs.prompts.map((P)=>P.trim())}:$.inputs;console.log(`${cq(aq.green,"[llm/start]")} [${q}] Entering LLM run with input: ${f8(_,"[inputs]")}`)}onLLMEnd($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.cyan,"[llm/end]")} [${q}] [${t_($)}] Exiting LLM run with output: ${f8($.outputs,"[response]")}`)}onLLMError($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.red,"[llm/error]")} [${q}] [${t_($)}] LLM run errored with error: ${f8($.error,"[error]")}`)}onToolStart($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.green,"[tool/start]")} [${q}] Entering Tool run with input: "${ZG($.inputs.input)}"`)}onToolEnd($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.cyan,"[tool/end]")} [${q}] [${t_($)}] Exiting Tool run with output: "${ZG($.outputs?.output)}"`)}onToolError($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.red,"[tool/error]")} [${q}] [${t_($)}] Tool run errored with error: ${f8($.error,"[error]")}`)}onRetrieverStart($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.green,"[retriever/start]")} [${q}] Entering Retriever run with input: ${f8($.inputs,"[inputs]")}`)}onRetrieverEnd($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.cyan,"[retriever/end]")} [${q}] [${t_($)}] Exiting Retriever run with output: ${f8($.outputs,"[outputs]")}`)}onRetrieverError($){let q=this.getBreadcrumbs($);console.log(`${cq(aq.red,"[retriever/error]")} [${q}] [${t_($)}] Retriever run errored with error: ${f8($.error,"[error]")}`)}onAgentAction($){let q=$,_=this.getBreadcrumbs($);console.log(`${cq(aq.blue,"[agent/action]")} [${_}] Agent selected action: ${f8(q.actions[q.actions.length-1],"[action]")}`)}};var J3,o9=()=>{if(J3===void 0){let $=h8("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};J3=new U_($)}return J3};class fG{getStore(){return}run($,q){return q()}}var W3=Symbol.for("ls:tracing_async_local_storage"),Hb=new fG;class XG{getInstance(){return globalThis[W3]??Hb}initializeGlobalInstance($){if(globalThis[W3]===void 0)globalThis[W3]=$}}var Tb=new XG;function AG($=!1){let q=Tb.getInstance().getStore();if(!$&&q===void 0)throw Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return q}function n9($){return typeof $==="function"&&"langsmith:traceable"in $}var wb={};k6(wb,{LangChainTracer:()=>v1});function Zb($){let q=void 0;for(let _ of $)for(let P of _)if(HO.isInstance(P.message)&&P.message.usage_metadata!==void 0)q=O9(q,P.message.usage_metadata);return q}var v1=class $ extends b8{name="langchain_tracer";projectName;exampleId;client;replicas;usesRunTreeMap=!0;constructor(q={}){super(q);let{exampleId:_,projectName:P,client:K,replicas:O}=q;this.projectName=P??FP(),this.replicas=O,this.exampleId=_,this.client=K??o9();let Y=$.getTraceableRunTree();if(Y)this.updateFromRunTree(Y)}async persistRun(q){}async onRunCreate(q){if(!q.extra?.lc_defers_inputs)await this.getRunTreeWithTracingConfig(q.id)?.postRun()}async onRunUpdate(q){let _=this.getRunTreeWithTracingConfig(q.id);if(q.extra?.lc_defers_inputs)await _?.postRun();else await _?.patchRun()}onLLMEnd(q){let _=q.outputs;if(_?.generations){let P=Zb(_.generations);if(P!==void 0){q.extra=q.extra??{};let K=q.extra.metadata??{};K.usage_metadata=P,q.extra.metadata=K}}}getRun(q){return this.runTreeMap.get(q)}updateFromRunTree(q){this.runTreeMap.set(q.id,q);let _=q,P=new Set;while(_.parent_run){if(P.has(_.id))break;if(P.add(_.id),!_.parent_run)break;_=_.parent_run}P.clear();let K=[_];while(K.length>0){let O=K.shift();if(!O||P.has(O.id))continue;if(P.add(O.id),this.runTreeMap.set(O.id,O),O.child_runs)K.push(...O.child_runs)}this.client=q.client??this.client,this.replicas=q.replicas??this.replicas,this.projectName=q.project_name??this.projectName,this.exampleId=q.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(q){let _=this.runTreeMap.get(q);if(!_)return;return new Jq({..._,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return AG(!0)}catch{return}}};var i9=R8(V9(),1),CK;function fb(){return new("default"in i9.default?i9.default.default:i9.default)({autoStart:!0,concurrency:1})}function Xb(){if(typeof CK>"u")CK=fb();return CK}async function r6($,q){if(q===!0){let _=n_();if(_!==void 0)await _.run(void 0,async()=>$());else await $()}else CK=Xb(),CK.add(async()=>{let _=n_();if(_!==void 0)await _.run(void 0,async()=>$());else await $()})}async function kG(){let $=o9();await Promise.allSettled([typeof CK<"u"?CK.onIdle():Promise.resolve(),$.awaitPendingTraceBatches()])}var Ab={};k6(Ab,{awaitAllCallbacks:()=>kG,consumeCallback:()=>r6});var GG=($)=>{if($!==void 0)return $;return!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find((_)=>h8(_)==="true")};function H3($){let q=n_();if(q===void 0)return;return q.getStore()?.[o_]?.[$]}var kb=Symbol("lc:configure_hooks"),VG=()=>H3(kb)||[];var Gb={};k6(Gb,{BaseCallbackManager:()=>SG,BaseRunManager:()=>z1,CallbackManager:()=>X_,CallbackManagerForChainRun:()=>NG,CallbackManagerForLLMRun:()=>T3,CallbackManagerForRetrieverRun:()=>MG,CallbackManagerForToolRun:()=>CG,ensureHandler:()=>W4,parseCallbackConfigArg:()=>Vb});function Vb($){if(!$)return{};else if(Array.isArray($)||"name"in $)return{callbacks:$};else return $}var SG=class{setHandler($){return this.setHandlers([$])}},z1=class{constructor($,q,_,P,K,O,Y,v){this.runId=$,this.handlers=q,this.inheritableHandlers=_,this.tags=P,this.inheritableTags=K,this.metadata=O,this.inheritableMetadata=Y,this._parentRunId=v}get parentRunId(){return this._parentRunId}async handleText($){await Promise.all(this.handlers.map((q)=>r6(async()=>{try{await q.handleText?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleText: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}async handleCustomEvent($,q,_,P,K){await Promise.all(this.handlers.map((O)=>r6(async()=>{try{await O.handleCustomEvent?.($,q,this.runId,this.tags,this.metadata)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleCustomEvent: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}},MG=class extends z1{getChild($){let q=new X_(this.runId);if(q.setHandlers(this.inheritableHandlers),q.addTags(this.inheritableTags),q.addMetadata(this.inheritableMetadata),$)q.addTags([$],!1);return q}async handleRetrieverEnd($){await Promise.all(this.handlers.map((q)=>r6(async()=>{if(!q.ignoreRetriever)try{await q.handleRetrieverEnd?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleRetriever`),q.raiseError)throw _}},q.awaitHandlers)))}async handleRetrieverError($){await Promise.all(this.handlers.map((q)=>r6(async()=>{if(!q.ignoreRetriever)try{await q.handleRetrieverError?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleRetrieverError: ${_}`),q.raiseError)throw $}},q.awaitHandlers)))}},T3=class extends z1{async handleLLMNewToken($,q,_,P,K,O){await Promise.all(this.handlers.map((Y)=>r6(async()=>{if(!Y.ignoreLLM)try{await Y.handleLLMNewToken?.($,q??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,O)}catch(v){if((Y.raiseError?console.error:console.warn)(`Error in handler ${Y.constructor.name}, handleLLMNewToken: ${v}`),Y.raiseError)throw v}},Y.awaitHandlers)))}async handleLLMError($,q,_,P,K){await Promise.all(this.handlers.map((O)=>r6(async()=>{if(!O.ignoreLLM)try{await O.handleLLMError?.($,this.runId,this._parentRunId,this.tags,K)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleLLMError: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}async handleLLMEnd($,q,_,P,K){await Promise.all(this.handlers.map((O)=>r6(async()=>{if(!O.ignoreLLM)try{await O.handleLLMEnd?.($,this.runId,this._parentRunId,this.tags,K)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleLLMEnd: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}},NG=class extends z1{getChild($){let q=new X_(this.runId);if(q.setHandlers(this.inheritableHandlers),q.addTags(this.inheritableTags),q.addMetadata(this.inheritableMetadata),$)q.addTags([$],!1);return q}async handleChainError($,q,_,P,K){await Promise.all(this.handlers.map((O)=>r6(async()=>{if(!O.ignoreChain)try{await O.handleChainError?.($,this.runId,this._parentRunId,this.tags,K)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleChainError: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}async handleChainEnd($,q,_,P,K){await Promise.all(this.handlers.map((O)=>r6(async()=>{if(!O.ignoreChain)try{await O.handleChainEnd?.($,this.runId,this._parentRunId,this.tags,K)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleChainEnd: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}async handleAgentAction($){await Promise.all(this.handlers.map((q)=>r6(async()=>{if(!q.ignoreAgent)try{await q.handleAgentAction?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleAgentAction: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}async handleAgentEnd($){await Promise.all(this.handlers.map((q)=>r6(async()=>{if(!q.ignoreAgent)try{await q.handleAgentEnd?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleAgentEnd: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}},CG=class extends z1{getChild($){let q=new X_(this.runId);if(q.setHandlers(this.inheritableHandlers),q.addTags(this.inheritableTags),q.addMetadata(this.inheritableMetadata),$)q.addTags([$],!1);return q}async handleToolError($){await Promise.all(this.handlers.map((q)=>r6(async()=>{if(!q.ignoreAgent)try{await q.handleToolError?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleToolError: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}async handleToolEnd($){await Promise.all(this.handlers.map((q)=>r6(async()=>{if(!q.ignoreAgent)try{await q.handleToolEnd?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleToolEnd: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}},X_=class $ extends SG{handlers=[];inheritableHandlers=[];tags=[];inheritableTags=[];metadata={};inheritableMetadata={};name="callback_manager";_parentRunId;constructor(q,_){super();this.handlers=_?.handlers??this.handlers,this.inheritableHandlers=_?.inheritableHandlers??this.inheritableHandlers,this.tags=_?.tags??this.tags,this.inheritableTags=_?.inheritableTags??this.inheritableTags,this.metadata=_?.metadata??this.metadata,this.inheritableMetadata=_?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=q}getParentRunId(){return this._parentRunId}async handleLLMStart(q,_,P=void 0,K=void 0,O=void 0,Y=void 0,v=void 0,W=void 0){return Promise.all(_.map(async(T,Z)=>{let w=Z===0&&P?P:B8();return await Promise.all(this.handlers.map((k)=>{if(k.ignoreLLM)return;if(NK(k))k._createRunForLLMStart(q,[T],w,this._parentRunId,O,this.tags,this.metadata,W);return r6(async()=>{try{await k.handleLLMStart?.(q,[T],w,this._parentRunId,O,this.tags,this.metadata,W)}catch(M){if((k.raiseError?console.error:console.warn)(`Error in handler ${k.constructor.name}, handleLLMStart: ${M}`),k.raiseError)throw M}},k.awaitHandlers)})),new T3(w,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(q,_,P=void 0,K=void 0,O=void 0,Y=void 0,v=void 0,W=void 0){return Promise.all(_.map(async(T,Z)=>{let w=Z===0&&P?P:B8();return await Promise.all(this.handlers.map((k)=>{if(k.ignoreLLM)return;if(NK(k))k._createRunForChatModelStart(q,[T],w,this._parentRunId,O,this.tags,this.metadata,W);return r6(async()=>{try{if(k.handleChatModelStart)await k.handleChatModelStart?.(q,[T],w,this._parentRunId,O,this.tags,this.metadata,W);else if(k.handleLLMStart){let M=xf(T);await k.handleLLMStart?.(q,[M],w,this._parentRunId,O,this.tags,this.metadata,W)}}catch(M){if((k.raiseError?console.error:console.warn)(`Error in handler ${k.constructor.name}, handleLLMStart: ${M}`),k.raiseError)throw M}},k.awaitHandlers)})),new T3(w,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(q,_,P=B8(),K=void 0,O=void 0,Y=void 0,v=void 0,W=void 0,T=void 0){return await Promise.all(this.handlers.map((Z)=>{if(Z.ignoreChain)return;if(NK(Z))Z._createRunForChainStart(q,_,P,this._parentRunId,this.tags,this.metadata,K,v,T);return r6(async()=>{try{await Z.handleChainStart?.(q,_,P,this._parentRunId,this.tags,this.metadata,K,v,T)}catch(w){if((Z.raiseError?console.error:console.warn)(`Error in handler ${Z.constructor.name}, handleChainStart: ${w}`),Z.raiseError)throw w}},Z.awaitHandlers)})),new NG(P,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(q,_,P=B8(),K=void 0,O=void 0,Y=void 0,v=void 0){return await Promise.all(this.handlers.map((W)=>{if(W.ignoreAgent)return;if(NK(W))W._createRunForToolStart(q,_,P,this._parentRunId,this.tags,this.metadata,v);return r6(async()=>{try{await W.handleToolStart?.(q,_,P,this._parentRunId,this.tags,this.metadata,v)}catch(T){if((W.raiseError?console.error:console.warn)(`Error in handler ${W.constructor.name}, handleToolStart: ${T}`),W.raiseError)throw T}},W.awaitHandlers)})),new CG(P,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(q,_,P=B8(),K=void 0,O=void 0,Y=void 0,v=void 0){return await Promise.all(this.handlers.map((W)=>{if(W.ignoreRetriever)return;if(NK(W))W._createRunForRetrieverStart(q,_,P,this._parentRunId,this.tags,this.metadata,v);return r6(async()=>{try{await W.handleRetrieverStart?.(q,_,P,this._parentRunId,this.tags,this.metadata,v)}catch(T){if((W.raiseError?console.error:console.warn)(`Error in handler ${W.constructor.name}, handleRetrieverStart: ${T}`),W.raiseError)throw T}},W.awaitHandlers)})),new MG(P,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(q,_,P,K,O){await Promise.all(this.handlers.map((Y)=>r6(async()=>{if(!Y.ignoreCustomEvent)try{await Y.handleCustomEvent?.(q,_,P,this.tags,this.metadata)}catch(v){if((Y.raiseError?console.error:console.warn)(`Error in handler ${Y.constructor.name}, handleCustomEvent: ${v}`),Y.raiseError)throw v}},Y.awaitHandlers)))}addHandler(q,_=!0){if(this.handlers.push(q),_)this.inheritableHandlers.push(q)}removeHandler(q){this.handlers=this.handlers.filter((_)=>_!==q),this.inheritableHandlers=this.inheritableHandlers.filter((_)=>_!==q)}setHandlers(q,_=!0){this.handlers=[],this.inheritableHandlers=[];for(let P of q)this.addHandler(P,_)}addTags(q,_=!0){if(this.removeTags(q),this.tags.push(...q),_)this.inheritableTags.push(...q)}removeTags(q){this.tags=this.tags.filter((_)=>!q.includes(_)),this.inheritableTags=this.inheritableTags.filter((_)=>!q.includes(_))}addMetadata(q,_=!0){if(this.metadata={...this.metadata,...q},_)this.inheritableMetadata={...this.inheritableMetadata,...q}}removeMetadata(q){for(let _ of Object.keys(q))delete this.metadata[_],delete this.inheritableMetadata[_]}copy(q=[],_=!0){let P=new $(this._parentRunId);for(let K of this.handlers){let O=this.inheritableHandlers.includes(K);P.addHandler(K,O)}for(let K of this.tags){let O=this.inheritableTags.includes(K);P.addTags([K],O)}for(let K of Object.keys(this.metadata)){let O=Object.keys(this.inheritableMetadata).includes(K);P.addMetadata({[K]:this.metadata[K]},O)}for(let K of q){if(P.handlers.filter((O)=>O.name==="console_callback_handler").some((O)=>O.name===K.name))continue;P.addHandler(K,_)}return P}static fromHandlers(q){class _ extends GK{name=B8();constructor(){super();Object.assign(this,q)}}let P=new this;return P.addHandler(new _),P}static configure(q,_,P,K,O,Y,v){return this._configureSync(q,_,P,K,O,Y,v)}static _configureSync(q,_,P,K,O,Y,v){let W;if(q||_){if(Array.isArray(q)||!q)W=new $,W.setHandlers(q?.map(W4)??[],!0);else W=q;W=W.copy(Array.isArray(_)?_.map(W4):_?.handlers,!1)}let T=h8("LANGCHAIN_VERBOSE")==="true"||v?.verbose,Z=v1.getTraceableRunTree()?.tracingEnabled||GG(),w=Z||(h8("LANGCHAIN_TRACING")??!1);if(T||w){if(!W)W=new $;if(T&&!W.handlers.some((k)=>k.name===r9.prototype.name)){let k=new r9;W.addHandler(k,!0)}if(w&&!W.handlers.some((k)=>k.name==="langchain_tracer")){if(Z){let k=new v1;W.addHandler(k,!0)}}if(Z){let k=v1.getTraceableRunTree();if(k&&W._parentRunId===void 0)W._parentRunId=k.id,W.handlers.find((N)=>N.name==="langchain_tracer")?.updateFromRunTree(k)}}for(let{contextVar:k,inheritable:M=!0,handlerClass:N,envVar:R}of VG()){let E=R&&h8(R)==="true"&&N,D,h=k!==void 0?H3(k):void 0;if(h&&fO(h))D=h;else if(E)D=new N({});if(D!==void 0){if(!W)W=new $;if(!W.handlers.some((L)=>L.name===D.name))W.addHandler(D,M)}}if(P||K){if(W)W.addTags(P??[]),W.addTags(K??[],!1)}if(O||Y){if(W)W.addMetadata(O??{}),W.addMetadata(Y??{},!1)}return W}};function W4($){if("name"in $)return $;return GK.fromMethods($)}var w3=class{getStore(){return}run($,q){return q()}enterWith($){return}},Sb=new w3,EG=Symbol.for("lc:child_config"),Mb=class{getInstance(){return n_()??Sb}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[EG]}runWithConfig($,q,_){let P=X_._configureSync($?.callbacks,void 0,$?.tags,void 0,$?.metadata),K=this.getInstance(),O=K.getStore(),Y=P?.getParentRunId(),v=P?.handlers?.find((T)=>T?.name==="langchain_tracer"),W;if(v&&Y)W=v.getRunTreeWithTracingConfig(Y);else if(!_)W=new Jq({name:"<runnable_lambda>",tracingEnabled:!1});if(W)W.extra={...W.extra,[EG]:$};if(O!==void 0&&O[o_]!==void 0){if(W===void 0)W={};W[o_]=O[o_]}return K.run(W,q)}initializeGlobalInstance($){if(n_()===void 0)$f($)}},eq=new Mb;var Nb={};k6(Nb,{AsyncLocalStorageProviderSingleton:()=>eq,MockAsyncLocalStorage:()=>w3,_CONTEXT_VARIABLES_KEY:()=>o_});var B9=25;async function X8($){return X_._configureSync($?.callbacks,void 0,$?.tags,void 0,$?.metadata)}function Z3(...$){let q={};for(let _ of $.filter((P)=>!!P))for(let P of Object.keys(_))if(P==="metadata")q[P]={...q[P],..._[P]};else if(P==="tags"){let K=q[P]??[];q[P]=[...new Set(K.concat(_[P]??[]))]}else if(P==="configurable")q[P]={...q[P],..._[P]};else if(P==="timeout"){if(q.timeout===void 0)q.timeout=_.timeout;else if(_.timeout!==void 0)q.timeout=Math.min(q.timeout,_.timeout)}else if(P==="signal"){if(q.signal===void 0)q.signal=_.signal;else if(_.signal!==void 0)if("any"in AbortSignal)q.signal=AbortSignal.any([q.signal,_.signal]);else q.signal=_.signal}else if(P==="callbacks"){let K=q.callbacks,O=_.callbacks;if(Array.isArray(O))if(!K)q.callbacks=O;else if(Array.isArray(K))q.callbacks=K.concat(O);else{let Y=K.copy();for(let v of O)Y.addHandler(W4(v),!0);q.callbacks=Y}else if(O)if(!K)q.callbacks=O;else if(Array.isArray(K)){let Y=O.copy();for(let v of K)Y.addHandler(W4(v),!0);q.callbacks=Y}else q.callbacks=new X_(O._parentRunId,{handlers:K.handlers.concat(O.handlers),inheritableHandlers:K.inheritableHandlers.concat(O.inheritableHandlers),tags:Array.from(new Set(K.tags.concat(O.tags))),inheritableTags:Array.from(new Set(K.inheritableTags.concat(O.inheritableTags))),metadata:{...K.metadata,...O.metadata}})}else{let K=P;q[K]=_[K]??q[K]}return q}var Cb=new Set(["string","number","boolean"]);function R6($){let q=eq.getRunnableConfig(),_={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(q){let{runId:P,runName:K,...O}=q;_=Object.entries(O).reduce((Y,[v,W])=>{if(W!==void 0)Y[v]=W;return Y},_)}if($)_=Object.entries($).reduce((P,[K,O])=>{if(O!==void 0)P[K]=O;return P},_);if(_?.configurable){for(let P of Object.keys(_.configurable))if(Cb.has(typeof _.configurable[P])&&!_.metadata?.[P]){if(!_.metadata)_.metadata={};_.metadata[P]=_.configurable[P]}}if(_.timeout!==void 0){if(_.timeout<=0)throw Error("Timeout must be a positive number");let P=_.timeout,K=AbortSignal.timeout(P);if(!_.metadata)_.metadata={};if(_.metadata.timeoutMs===void 0)_.metadata.timeoutMs=P;if(_.signal!==void 0){if("any"in AbortSignal)_.signal=AbortSignal.any([_.signal,K])}else _.signal=K;delete _.timeout}return _}function gq($={},{callbacks:q,maxConcurrency:_,recursionLimit:P,runName:K,configurable:O,runId:Y}={}){let v=R6($);if(q!==void 0)delete v.runName,v.callbacks=q;if(P!==void 0)v.recursionLimit=P;if(_!==void 0)v.maxConcurrency=_;if(K!==void 0)v.runName=K;if(O!==void 0)v.configurable={...v.configurable,...O};if(Y!==void 0)delete v.runId;return v}function A_($){if(!$)return;return{configurable:$.configurable,recursionLimit:$.recursionLimit,callbacks:$.callbacks,tags:$.tags,metadata:$.metadata,maxConcurrency:$.maxConcurrency,timeout:$.timeout,signal:$.signal,store:$.store}}async function Q8($,q){if(q===void 0)return $;let _;return Promise.race([$.catch((P)=>{if(!q?.aborted)throw P;else return}),new Promise((P,K)=>{if(_=()=>{K(H4(q))},q.addEventListener("abort",_),q.aborted)K(H4(q))})]).finally(()=>q.removeEventListener("abort",_))}function H4($){if($?.reason instanceof Error)return $.reason;if(typeof $?.reason==="string")return Error($.reason);return Error("Aborted")}var Eb={};k6(Eb,{AsyncGeneratorWithSetup:()=>F_,IterableReadableStream:()=>mq,atee:()=>U9,concat:()=>t9,pipeGeneratorWithSetup:()=>f3});var mq=class $ extends ReadableStream{reader;ensureReader(){if(!this.reader)this.reader=this.getReader()}async next(){this.ensureReader();try{let q=await this.reader.read();if(q.done)return this.reader.releaseLock(),{done:!0,value:void 0};else return{done:!1,value:q.value}}catch(q){throw this.reader.releaseLock(),q}}async return(){if(this.ensureReader(),this.locked){let q=this.reader.cancel();this.reader.releaseLock(),await q}return{done:!0,value:void 0}}async throw(q){if(this.ensureReader(),this.locked){let _=this.reader.cancel();this.reader.releaseLock(),await _}throw q}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(q){let _=q.getReader();return new $({start(P){return K();function K(){return _.read().then(({done:O,value:Y})=>{if(O){P.close();return}return P.enqueue(Y),K()})}},cancel(){_.releaseLock()}})}static fromAsyncGenerator(q){return new $({async pull(_){let{value:P,done:K}=await q.next();if(K)_.close();_.enqueue(P)},async cancel(_){await q.return(_)}})}};function U9($,q=2){let _=Array.from({length:q},()=>[]);return _.map(async function*(K){while(!0)if(K.length===0){let O=await $.next();for(let Y of _)Y.push(O)}else if(K[0].done)return;else yield K.shift().value})}function t9($,q){if(Array.isArray($)&&Array.isArray(q))return $.concat(q);else if(typeof $==="string"&&typeof q==="string")return $+q;else if(typeof $==="number"&&typeof q==="number")return $+q;else if("concat"in $&&typeof $.concat==="function")return $.concat(q);else if(typeof $==="object"&&typeof q==="object"){let _={...$};for(let[P,K]of Object.entries(q))if(P in _&&!Array.isArray(_[P]))_[P]=t9(_[P],K);else _[P]=K;return _}else throw Error(`Cannot concat ${typeof $} and ${typeof q}`)}var F_=class{generator;setup;config;signal;firstResult;firstResultUsed=!1;constructor($){this.generator=$.generator,this.config=$.config,this.signal=$.signal??this.config?.signal,this.setup=new Promise((q,_)=>{eq.runWithConfig(A_($.config),async()=>{if(this.firstResult=$.generator.next(),$.startSetup)this.firstResult.then($.startSetup).then(q,_);else this.firstResult.then((P)=>q(void 0),_)},!0)})}async next(...$){if(this.signal?.throwIfAborted(),!this.firstResultUsed)return this.firstResultUsed=!0,this.firstResult;return eq.runWithConfig(A_(this.config),this.signal?async()=>{return Q8(this.generator.next(...$),this.signal)}:async()=>{return this.generator.next(...$)},!0)}async return($){return this.generator.return($)}async throw($){return this.generator.throw($)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function f3($,q,_,P,...K){let O=new F_({generator:q,startSetup:_,signal:P}),Y=await O.setup;return{output:$(O,Y,...K),setup:Y}}/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/var Rb=Object.prototype.hasOwnProperty;function IG($,q){return Rb.call($,q)}function hG($){if(Array.isArray($)){let _=Array($.length);for(let P=0;P<_.length;P++)_[P]=""+P;return _}if(Object.keys)return Object.keys($);let q=[];for(let _ in $)if(IG($,_))q.push(_);return q}function y8($){switch(typeof $){case"object":return JSON.parse(JSON.stringify($));case"undefined":return null;default:return $}}function Q9($){let q=0,_=$.length,P;while(q<_){if(P=$.charCodeAt(q),P>=48&&P<=57){q++;continue}return!1}return!0}function X3($){if($.indexOf("/")===-1&&$.indexOf("~")===-1)return $;return $.replace(/~/g,"~0").replace(/\//g,"~1")}function a9($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}function F9($){if($===void 0)return!0;if($){if(Array.isArray($)){for(let _=0,P=$.length;_<P;_++)if(F9($[_]))return!0}else if(typeof $==="object"){let _=hG($),P=_.length;for(var q=0;q<P;q++)if(F9($[_[q]]))return!0}}return!1}function RG($,q){let _=[$];for(let P in q){let K=typeof q[P]==="object"?JSON.stringify(q[P],null,2):q[P];if(typeof K<"u")_.push(`${P}: ${K}`)}return _.join(`
`)}var e9=class extends Error{constructor($,q,_,P,K){super(RG($,{name:q,index:_,operation:P,tree:K}));this.name=q,this.index=_,this.operation=P,this.tree=K,Object.setPrototypeOf(this,new.target.prototype),this.message=RG($,{name:q,index:_,operation:P,tree:K})}};var k3={};k6(k3,{JsonPatchError:()=>o6,_areEquals:()=>w4,applyOperation:()=>Q_,applyPatch:()=>EK,applyReducer:()=>DG,deepClone:()=>Ib,getValueByPointer:()=>J1,validate:()=>G3,validator:()=>W1});var o6=e9,Ib=y8;function A3($){return Object.getOwnPropertyNames(Object.prototype).includes($)}var T4={add:function($,q,_){if(A3(q))throw TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");return $[q]=this.value,{newDocument:_}},remove:function($,q,_){if(A3(q))throw TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");var P=$[q];return delete $[q],{newDocument:_,removed:P}},replace:function($,q,_){if(A3(q))throw TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");var P=$[q];return $[q]=this.value,{newDocument:_,removed:P}},move:function($,q,_){let P=J1(_,this.path);if(P)P=y8(P);let K=Q_(_,{op:"remove",path:this.from}).removed;return Q_(_,{op:"add",path:this.path,value:K}),{newDocument:_,removed:P}},copy:function($,q,_){let P=J1(_,this.from);return Q_(_,{op:"add",path:this.path,value:y8(P)}),{newDocument:_}},test:function($,q,_){return{newDocument:_,test:w4($[q],this.value)}},_get:function($,q,_){return this.value=$[q],{newDocument:_}}},hb={add:function($,q,_){if(Q9(q))$.splice(q,0,this.value);else $[q]=this.value;return{newDocument:_,index:q}},remove:function($,q,_){var P=$.splice(q,1);return{newDocument:_,removed:P[0]}},replace:function($,q,_){var P=$[q];return $[q]=this.value,{newDocument:_,removed:P}},move:T4.move,copy:T4.copy,test:T4.test,_get:T4._get};function J1($,q){if(q=="")return $;var _={op:"_get",path:q};return Q_($,_),_.value}function Q_($,q,_=!1,P=!0,K=!0,O=0){if(_)if(typeof _=="function")_(q,0,$,q.path);else W1(q,0);if(q.path===""){let Y={newDocument:$};if(q.op==="add")return Y.newDocument=q.value,Y;else if(q.op==="replace")return Y.newDocument=q.value,Y.removed=$,Y;else if(q.op==="move"||q.op==="copy"){if(Y.newDocument=J1($,q.from),q.op==="move")Y.removed=$;return Y}else if(q.op==="test"){if(Y.test=w4($,q.value),Y.test===!1)throw new o6("Test operation failed","TEST_OPERATION_FAILED",O,q,$);return Y.newDocument=$,Y}else if(q.op==="remove")return Y.removed=$,Y.newDocument=null,Y;else if(q.op==="_get")return q.value=$,Y;else if(_)throw new o6("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",O,q,$);else return Y}else{if(!P)$=y8($);let v=(q.path||"").split("/"),W=$,T=1,Z=v.length,w=void 0,k,M;if(typeof _=="function")M=_;else M=W1;while(!0){if(k=v[T],k&&k.indexOf("~")!=-1)k=a9(k);if(K&&(k=="__proto__"||k=="prototype"&&T>0&&v[T-1]=="constructor"))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(_){if(w===void 0){if(W[k]===void 0)w=v.slice(0,T).join("/");else if(T==Z-1)w=q.path;if(w!==void 0)M(q,0,$,w)}}if(T++,Array.isArray(W)){if(k==="-")k=W.length;else if(_&&!Q9(k))throw new o6("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",O,q,$);else if(Q9(k))k=~~k;if(T>=Z){if(_&&q.op==="add"&&k>W.length)throw new o6("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",O,q,$);let N=hb[q.op].call(q,W,k,$);if(N.test===!1)throw new o6("Test operation failed","TEST_OPERATION_FAILED",O,q,$);return N}}else if(T>=Z){let N=T4[q.op].call(q,W,k,$);if(N.test===!1)throw new o6("Test operation failed","TEST_OPERATION_FAILED",O,q,$);return N}if(W=W[k],_&&T<Z&&(!W||typeof W!=="object"))throw new o6("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",O,q,$)}}}function EK($,q,_,P=!0,K=!0){if(_){if(!Array.isArray(q))throw new o6("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY")}if(!P)$=y8($);let O=Array(q.length);for(let Y=0,v=q.length;Y<v;Y++)O[Y]=Q_($,q[Y],_,!0,K,Y),$=O[Y].newDocument;return O.newDocument=$,O}function DG($,q,_){let P=Q_($,q);if(P.test===!1)throw new o6("Test operation failed","TEST_OPERATION_FAILED",_,q,$);return P.newDocument}function W1($,q,_,P){if(typeof $!=="object"||$===null||Array.isArray($))throw new o6("Operation is not an object","OPERATION_NOT_AN_OBJECT",q,$,_);else if(!T4[$.op])throw new o6("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",q,$,_);else if(typeof $.path!=="string")throw new o6("Operation `path` property is not a string","OPERATION_PATH_INVALID",q,$,_);else if($.path.indexOf("/")!==0&&$.path.length>0)throw new o6('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",q,$,_);else if(($.op==="move"||$.op==="copy")&&typeof $.from!=="string")throw new o6("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",q,$,_);else if(($.op==="add"||$.op==="replace"||$.op==="test")&&$.value===void 0)throw new o6("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",q,$,_);else if(($.op==="add"||$.op==="replace"||$.op==="test")&&F9($.value))throw new o6("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",q,$,_);else if(_){if($.op=="add"){var K=$.path.split("/").length,O=P.split("/").length;if(K!==O+1&&K!==O)throw new o6("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",q,$,_)}else if($.op==="replace"||$.op==="remove"||$.op==="_get"){if($.path!==P)throw new o6("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",q,$,_)}else if($.op==="move"||$.op==="copy"){var Y={op:"_get",path:$.from,value:void 0},v=G3([Y],_);if(v&&v.name==="OPERATION_PATH_UNRESOLVABLE")throw new o6("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",q,$,_)}}}function G3($,q,_){try{if(!Array.isArray($))throw new o6("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(q)EK(y8(q),y8($),_||!0);else{_=_||W1;for(var P=0;P<$.length;P++)_($[P],P,q,void 0)}}catch(K){if(K instanceof o6)return K;else throw K}}function w4($,q){if($===q)return!0;if($&&q&&typeof $=="object"&&typeof q=="object"){var _=Array.isArray($),P=Array.isArray(q),K,O,Y;if(_&&P){if(O=$.length,O!=q.length)return!1;for(K=O;K--!==0;)if(!w4($[K],q[K]))return!1;return!0}if(_!=P)return!1;var v=Object.keys($);if(O=v.length,O!==Object.keys(q).length)return!1;for(K=O;K--!==0;)if(!q.hasOwnProperty(v[K]))return!1;for(K=O;K--!==0;)if(Y=v[K],!w4($[Y],q[Y]))return!1;return!0}return $!==$&&q!==q}var e_$={...k3,JsonPatchError:e9,deepClone:y8,escapePathComponent:X3,unescapePathComponent:a9};var Db={};k6(Db,{LogStreamCallbackHandler:()=>$5,RunLog:()=>s9,RunLogPatch:()=>a8,isLogStreamHandler:()=>V3});var a8=class{ops;constructor($){this.ops=$.ops??[]}concat($){let q=this.ops.concat($.ops),_=EK({},q);return new s9({ops:q,state:_[_.length-1].newDocument})}},s9=class $ extends a8{state;constructor(q){super(q);this.state=q.state}concat(q){let _=this.ops.concat(q.ops),P=EK(this.state,q.ops);return new $({ops:_,state:P[P.length-1].newDocument})}static fromRunLogPatch(q){let _=EK({},q.ops);return new $({ops:q.ops,state:_[_.length-1].newDocument})}},V3=($)=>$.name==="log_stream_tracer";async function LG($,q){if(q==="original")throw Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");let{inputs:_}=$;if(["retriever","llm","prompt"].includes($.run_type))return _;if(Object.keys(_).length===1&&_?.input==="")return;return _.input}async function gG($,q){let{outputs:_}=$;if(q==="original")return _;if(["retriever","llm","prompt"].includes($.run_type))return _;if(_!==void 0&&Object.keys(_).length===1&&_?.output!==void 0)return _.output;return _}function Lb($){return $!==void 0&&$.message!==void 0}var $5=class extends b8{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;_schemaFormat="original";rootId;keyMapByRunId={};counterMapByRunName={};transformStream;writer;receiveStream;name="log_stream_tracer";lc_prefer_streaming=!0;constructor($){super({_awaitHandler:!0,...$});this.autoClose=$?.autoClose??!0,this.includeNames=$?.includeNames,this.includeTypes=$?.includeTypes,this.includeTags=$?.includeTags,this.excludeNames=$?.excludeNames,this.excludeTypes=$?.excludeTypes,this.excludeTags=$?.excludeTags,this._schemaFormat=$?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=mq.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun($){}_includeRun($){if($.id===this.rootId)return!1;let q=$.tags??[],_=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;if(this.includeNames!==void 0)_=_||this.includeNames.includes($.name);if(this.includeTypes!==void 0)_=_||this.includeTypes.includes($.run_type);if(this.includeTags!==void 0)_=_||q.find((P)=>this.includeTags?.includes(P))!==void 0;if(this.excludeNames!==void 0)_=_&&!this.excludeNames.includes($.name);if(this.excludeTypes!==void 0)_=_&&!this.excludeTypes.includes($.run_type);if(this.excludeTags!==void 0)_=_&&q.every((P)=>!this.excludeTags?.includes(P));return _}async*tapOutputIterable($,q){for await(let _ of q){if($!==this.rootId){let P=this.keyMapByRunId[$];if(P)await this.writer.write(new a8({ops:[{op:"add",path:`/logs/${P}/streamed_output/-`,value:_}]}))}yield _}}async onRunCreate($){if(this.rootId===void 0)this.rootId=$.id,await this.writer.write(new a8({ops:[{op:"replace",path:"",value:{id:$.id,name:$.name,type:$.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}));if(!this._includeRun($))return;if(this.counterMapByRunName[$.name]===void 0)this.counterMapByRunName[$.name]=0;this.counterMapByRunName[$.name]+=1;let q=this.counterMapByRunName[$.name];this.keyMapByRunId[$.id]=q===1?$.name:`${$.name}:${q}`;let _={id:$.id,name:$.name,type:$.run_type,tags:$.tags??[],metadata:$.extra?.metadata??{},start_time:new Date($.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};if(this._schemaFormat==="streaming_events")_.inputs=await LG($,this._schemaFormat);await this.writer.write(new a8({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[$.id]}`,value:_}]}))}async onRunUpdate($){try{let q=this.keyMapByRunId[$.id];if(q===void 0)return;let _=[];if(this._schemaFormat==="streaming_events")_.push({op:"replace",path:`/logs/${q}/inputs`,value:await LG($,this._schemaFormat)});if(_.push({op:"add",path:`/logs/${q}/final_output`,value:await gG($,this._schemaFormat)}),$.end_time!==void 0)_.push({op:"add",path:`/logs/${q}/end_time`,value:new Date($.end_time).toISOString()});let P=new a8({ops:_});await this.writer.write(P)}finally{if($.id===this.rootId){let q=new a8({ops:[{op:"replace",path:"/final_output",value:await gG($,this._schemaFormat)}]});if(await this.writer.write(q),this.autoClose)await this.writer.close()}}}async onLLMNewToken($,q,_){let P=this.keyMapByRunId[$.id];if(P===void 0)return;let K=$.inputs.messages!==void 0,O;if(K)if(Lb(_?.chunk))O=_?.chunk;else O=new oP({id:`run-${$.id}`,content:q});else O=q;let Y=new a8({ops:[{op:"add",path:`/logs/${P}/streamed_output_str/-`,value:q},{op:"add",path:`/logs/${P}/streamed_output/-`,value:O}]});await this.writer.write(Y)}};var gb={};k6(gb,{ChatGenerationChunk:()=>yb,GenerationChunk:()=>H1,RUN_KEY:()=>bb});var bb="__run",H1=class ${text;generationInfo;constructor(q){this.text=q.text,this.generationInfo=q.generationInfo}concat(q){return new $({text:this.text+q.text,generationInfo:{...this.generationInfo,...q.generationInfo}})}},yb=class $ extends H1{message;constructor(q){super(q);this.message=q.message}concat(q){return new $({text:this.text+q.text,generationInfo:{...this.generationInfo,...q.generationInfo},message:this.message.concat(q.message)})}};function q5({name:$,serialized:q}){if($!==void 0)return $;if(q?.name!==void 0)return q.name;else if(q?.id!==void 0&&Array.isArray(q?.id))return q.id[q.id.length-1];return"Unnamed"}var bG=($)=>$.name==="event_stream_tracer",yG=class extends b8{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;runInfoMap=new Map;tappedPromises=new Map;transformStream;writer;receiveStream;readableStreamClosed=!1;name="event_stream_tracer";lc_prefer_streaming=!0;constructor($){super({_awaitHandler:!0,...$});this.autoClose=$?.autoClose??!0,this.includeNames=$?.includeNames,this.includeTypes=$?.includeTypes,this.includeTags=$?.includeTags,this.excludeNames=$?.excludeNames,this.excludeTypes=$?.excludeTypes,this.excludeTags=$?.excludeTags,this.transformStream=new TransformStream({flush:()=>{this.readableStreamClosed=!0}}),this.writer=this.transformStream.writable.getWriter(),this.receiveStream=mq.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun($){}_includeRun($){let q=$.tags??[],_=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;if(this.includeNames!==void 0)_=_||this.includeNames.includes($.name);if(this.includeTypes!==void 0)_=_||this.includeTypes.includes($.runType);if(this.includeTags!==void 0)_=_||q.find((P)=>this.includeTags?.includes(P))!==void 0;if(this.excludeNames!==void 0)_=_&&!this.excludeNames.includes($.name);if(this.excludeTypes!==void 0)_=_&&!this.excludeTypes.includes($.runType);if(this.excludeTags!==void 0)_=_&&q.every((P)=>!this.excludeTags?.includes(P));return _}async*tapOutputIterable($,q){let _=await q.next();if(_.done)return;let P=this.runInfoMap.get($);if(P===void 0){yield _.value;return}function K(Y,v){if(Y==="llm"&&typeof v==="string")return new H1({text:v});return v}let O=this.tappedPromises.get($);if(O===void 0){let Y;O=new Promise((v)=>{Y=v}),this.tappedPromises.set($,O);try{let v={event:`on_${P.runType}_stream`,run_id:$,name:P.name,tags:P.tags,metadata:P.metadata,data:{}};await this.send({...v,data:{chunk:K(P.runType,_.value)}},P),yield _.value;for await(let W of q){if(P.runType!=="tool"&&P.runType!=="retriever")await this.send({...v,data:{chunk:K(P.runType,W)}},P);yield W}}finally{Y?.()}}else{yield _.value;for await(let Y of q)yield Y}}async send($,q){if(this.readableStreamClosed)return;if(this._includeRun(q))await this.writer.write($)}async sendEndEvent($,q){let _=this.tappedPromises.get($.run_id);if(_!==void 0)_.then(()=>{this.send($,q)});else await this.send($,q)}async onLLMStart($){let q=q5($),_=$.inputs.messages!==void 0?"chat_model":"llm",P={tags:$.tags??[],metadata:$.extra?.metadata??{},name:q,runType:_,inputs:$.inputs};this.runInfoMap.set($.id,P);let K=`on_${_}_start`;await this.send({event:K,data:{input:$.inputs},name:q,tags:$.tags??[],run_id:$.id,metadata:$.extra?.metadata??{}},P)}async onLLMNewToken($,q,_){let P=this.runInfoMap.get($.id),K,O;if(P===void 0)throw Error(`onLLMNewToken: Run ID ${$.id} not found in run map.`);if(this.runInfoMap.size===1)return;if(P.runType==="chat_model")if(O="on_chat_model_stream",_?.chunk===void 0)K=new oP({content:q,id:`run-${$.id}`});else K=_.chunk.message;else if(P.runType==="llm")if(O="on_llm_stream",_?.chunk===void 0)K=new H1({text:q});else K=_.chunk;else throw Error(`Unexpected run type ${P.runType}`);await this.send({event:O,data:{chunk:K},run_id:$.id,name:P.name,tags:P.tags,metadata:P.metadata},P)}async onLLMEnd($){let q=this.runInfoMap.get($.id);this.runInfoMap.delete($.id);let _;if(q===void 0)throw Error(`onLLMEnd: Run ID ${$.id} not found in run map.`);let P=$.outputs?.generations,K;if(q.runType==="chat_model"){for(let O of P??[]){if(K!==void 0)break;K=O[0]?.message}_="on_chat_model_end"}else if(q.runType==="llm")K={generations:P?.map((O)=>{return O.map((Y)=>{return{text:Y.text,generationInfo:Y.generationInfo}})}),llmOutput:$.outputs?.llmOutput??{}},_="on_llm_end";else throw Error(`onLLMEnd: Unexpected run type: ${q.runType}`);await this.sendEndEvent({event:_,data:{output:K,input:q.inputs},run_id:$.id,name:q.name,tags:q.tags,metadata:q.metadata},q)}async onChainStart($){let q=q5($),_=$.run_type??"chain",P={tags:$.tags??[],metadata:$.extra?.metadata??{},name:q,runType:$.run_type},K={};if($.inputs.input===""&&Object.keys($.inputs).length===1)K={},P.inputs={};else if($.inputs.input!==void 0)K.input=$.inputs.input,P.inputs=$.inputs.input;else K.input=$.inputs,P.inputs=$.inputs;this.runInfoMap.set($.id,P),await this.send({event:`on_${_}_start`,data:K,name:q,tags:$.tags??[],run_id:$.id,metadata:$.extra?.metadata??{}},P)}async onChainEnd($){let q=this.runInfoMap.get($.id);if(this.runInfoMap.delete($.id),q===void 0)throw Error(`onChainEnd: Run ID ${$.id} not found in run map.`);let _=`on_${$.run_type}_end`,P=$.inputs??q.inputs??{},O={output:$.outputs?.output??$.outputs,input:P};if(P.input&&Object.keys(P).length===1)O.input=P.input,q.inputs=P.input;await this.sendEndEvent({event:_,data:O,run_id:$.id,name:q.name,tags:q.tags,metadata:q.metadata??{}},q)}async onToolStart($){let q=q5($),_={tags:$.tags??[],metadata:$.extra?.metadata??{},name:q,runType:"tool",inputs:$.inputs??{}};this.runInfoMap.set($.id,_),await this.send({event:"on_tool_start",data:{input:$.inputs??{}},name:q,run_id:$.id,tags:$.tags??[],metadata:$.extra?.metadata??{}},_)}async onToolEnd($){let q=this.runInfoMap.get($.id);if(this.runInfoMap.delete($.id),q===void 0)throw Error(`onToolEnd: Run ID ${$.id} not found in run map.`);if(q.inputs===void 0)throw Error(`onToolEnd: Run ID ${$.id} is a tool call, and is expected to have traced inputs.`);let _=$.outputs?.output===void 0?$.outputs:$.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:_,input:q.inputs},run_id:$.id,name:q.name,tags:q.tags,metadata:q.metadata},q)}async onRetrieverStart($){let q=q5($),_="retriever",P={tags:$.tags??[],metadata:$.extra?.metadata??{},name:q,runType:"retriever",inputs:{query:$.inputs.query}};this.runInfoMap.set($.id,P),await this.send({event:"on_retriever_start",data:{input:{query:$.inputs.query}},name:q,tags:$.tags??[],run_id:$.id,metadata:$.extra?.metadata??{}},P)}async onRetrieverEnd($){let q=this.runInfoMap.get($.id);if(this.runInfoMap.delete($.id),q===void 0)throw Error(`onRetrieverEnd: Run ID ${$.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:$.outputs?.documents??$.outputs,input:q.inputs},run_id:$.id,name:q.name,tags:q.tags,metadata:q.metadata},q)}async handleCustomEvent($,q,_){let P=this.runInfoMap.get(_);if(P===void 0)throw Error(`handleCustomEvent: Run ID ${_} not found in run map.`);await this.send({event:"on_custom_event",run_id:_,name:$,tags:P.tags,metadata:P.metadata,data:q},P)}async finish(){let $=[...this.tappedPromises.values()];Promise.all($).finally(()=>{this.writer.close()})}};var ub=Object.prototype.toString,xb=($)=>ub.call($)==="[object Error]",pb=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function uG($){if(!($&&xb($)&&$.name==="TypeError"&&typeof $.message==="string"))return!1;let{message:_,stack:P}=$;if(_==="Load failed")return P===void 0||"__sentry_captured__"in $;if(_.startsWith("error sending request for url"))return!0;return pb.has(_)}function cb($){if(typeof $==="number"){if($<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN($))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if($!==void 0)throw TypeError("Expected `retries` to be a number or Infinity.")}function _5($,q,{min:_=0,allowInfinity:P=!1}={}){if(q===void 0)return;if(typeof q!=="number"||Number.isNaN(q))throw TypeError(`Expected \`${$}\` to be a number${P?" or Infinity":""}.`);if(!P&&!Number.isFinite(q))throw TypeError(`Expected \`${$}\` to be a finite number.`);if(q<_)throw TypeError(`Expected \`${$}\` to be  ${_}.`)}var mb=class extends Error{constructor($){super();if($ instanceof Error)this.originalError=$,{message:$}=$;else this.originalError=Error($),this.originalError.stack=this.stack;this.name="AbortError",this.message=$}};function db($,q){let _=Math.max(1,$+1),P=q.randomize?Math.random()+1:1,K=Math.round(P*q.minTimeout*q.factor**(_-1));return K=Math.min(K,q.maxTimeout),K}function xG($,q){if(!Number.isFinite(q))return q;return q-(performance.now()-$)}async function lb({error:$,attemptNumber:q,retriesConsumed:_,startTime:P,options:K}){let O=$ instanceof Error?$:TypeError(`Non-error was thrown: "${$}". You should only throw errors.`);if(O instanceof mb)throw O.originalError;let Y=Number.isFinite(K.retries)?Math.max(0,K.retries-_):K.retries,v=K.maxRetryTime??Number.POSITIVE_INFINITY,W=Object.freeze({error:O,attemptNumber:q,retriesLeft:Y,retriesConsumed:_});if(await K.onFailedAttempt(W),xG(P,v)<=0)throw O;let T=await K.shouldConsumeRetry(W),Z=xG(P,v);if(Z<=0||Y<=0)throw O;if(O instanceof TypeError&&!uG(O)){if(T)throw O;return K.signal?.throwIfAborted(),!1}if(!await K.shouldRetry(W))throw O;if(!T)return K.signal?.throwIfAborted(),!1;let w=db(_,K),k=Math.min(w,Z);if(k>0)await new Promise((M,N)=>{let R=()=>{clearTimeout(E),K.signal?.removeEventListener("abort",R),N(K.signal.reason)},E=setTimeout(()=>{K.signal?.removeEventListener("abort",R),M()},k);if(K.unref)E.unref?.();K.signal?.addEventListener("abort",R,{once:!0})});return K.signal?.throwIfAborted(),!0}async function T1($,q={}){if(q={...q},cb(q.retries),Object.hasOwn(q,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");if(q.retries??=10,q.factor??=2,q.minTimeout??=1000,q.maxTimeout??=Number.POSITIVE_INFINITY,q.maxRetryTime??=Number.POSITIVE_INFINITY,q.randomize??=!1,q.onFailedAttempt??=()=>{},q.shouldRetry??=()=>!0,q.shouldConsumeRetry??=()=>!0,_5("factor",q.factor,{min:0,allowInfinity:!1}),_5("minTimeout",q.minTimeout,{min:0,allowInfinity:!1}),_5("maxTimeout",q.maxTimeout,{min:0,allowInfinity:!0}),_5("maxRetryTime",q.maxRetryTime,{min:0,allowInfinity:!0}),!(q.factor>0))q.factor=1;q.signal?.throwIfAborted();let _=0,P=0,K=performance.now();while(Number.isFinite(q.retries)?P<=q.retries:!0){_++;try{q.signal?.throwIfAborted();let O=await $(_);return q.signal?.throwIfAborted(),O}catch(O){if(await lb({error:O,attemptNumber:_,retriesConsumed:P,startTime:K,options:q}))P++}}throw Error("Retry attempts exhausted without throwing an error.")}var K5=R8(V9(),1),rb={};k6(rb,{AsyncCaller:()=>w1});var ob=[400,401,402,403,404,405,406,407,409],nb=($)=>{if(typeof $!=="object"||$===null)return;if("message"in $&&typeof $.message==="string"&&($.message.startsWith("Cancel")||$.message.startsWith("AbortError"))||"name"in $&&typeof $.name==="string"&&$.name==="AbortError")throw $;if("code"in $&&typeof $.code==="string"&&$.code==="ECONNABORTED")throw $;let q="response"in $&&typeof $.response==="object"&&$.response!==null&&"status"in $.response&&typeof $.response.status==="number"?$.response.status:void 0;if(q&&ob.includes(+q))throw $;if(("error"in $&&typeof $.error==="object"&&$.error!==null&&"code"in $.error&&typeof $.error.code==="string"?$.error.code:void 0)==="insufficient_quota"){let P=Error("message"in $&&typeof $.message==="string"?$.message:"Insufficient quota");throw P.name="InsufficientQuotaError",P}},w1=class{maxConcurrency;maxRetries;onFailedAttempt;queue;constructor($){this.maxConcurrency=$.maxConcurrency??1/0,this.maxRetries=$.maxRetries??6,this.onFailedAttempt=$.onFailedAttempt??nb;let q="default"in K5.default?K5.default.default:K5.default;this.queue=new q({concurrency:this.maxConcurrency})}async call($,...q){return this.queue.add(()=>T1(()=>$(...q).catch((_)=>{if(_ instanceof Error)throw _;else throw Error(_)}),{onFailedAttempt:({error:_})=>this.onFailedAttempt?.(_),retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions($,q,..._){if($.signal){let P;return Promise.race([this.call(q,..._),new Promise((K,O)=>{P=()=>{O(H4($.signal))},$.signal?.addEventListener("abort",P)})]).finally(()=>{if($.signal&&P)$.signal.removeEventListener("abort",P)})}return this.call(q,..._)}fetch(...$){return this.call(()=>fetch(...$).then((q)=>q.ok?q:Promise.reject(q)))}};var S3=class extends b8{name="RootListenersTracer";rootId;config;argOnStart;argOnEnd;argOnError;constructor({config:$,onStart:q,onEnd:_,onError:P}){super({_awaitHandler:!0});this.config=$,this.argOnStart=q,this.argOnEnd=_,this.argOnError=P}persistRun($){return Promise.resolve()}async onRunCreate($){if(this.rootId)return;if(this.rootId=$.id,this.argOnStart)await this.argOnStart($,this.config)}async onRunUpdate($){if($.id!==this.rootId)return;if(!$.error){if(this.argOnEnd)await this.argOnEnd($,this.config)}else if(this.argOnError)await this.argOnError($,this.config)}};function Z1($){return $?$.lc_runnable:!1}var pG=class{includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;constructor($){this.includeNames=$.includeNames,this.includeTypes=$.includeTypes,this.includeTags=$.includeTags,this.excludeNames=$.excludeNames,this.excludeTypes=$.excludeTypes,this.excludeTags=$.excludeTags}includeEvent($,q){let _=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0,P=$.tags??[];if(this.includeNames!==void 0)_=_||this.includeNames.includes($.name);if(this.includeTypes!==void 0)_=_||this.includeTypes.includes(q);if(this.includeTags!==void 0)_=_||P.some((K)=>this.includeTags?.includes(K));if(this.excludeNames!==void 0)_=_&&!this.excludeNames.includes($.name);if(this.excludeTypes!==void 0)_=_&&!this.excludeTypes.includes(q);if(this.excludeTags!==void 0)_=_&&P.every((K)=>!this.excludeTags?.includes(K));return _}},cG=($)=>{return btoa($).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};var V_={};Rq(V_,{version:()=>Dj,util:()=>l$,treeifyError:()=>y3,toJSONSchema:()=>yK,toDotPath:()=>nG,safeParseAsync:()=>p3,safeParse:()=>x3,safeEncodeAsync:()=>My,safeEncode:()=>Vy,safeDecodeAsync:()=>Ny,safeDecode:()=>Sy,registry:()=>R5,regexes:()=>k8,process:()=>N6,prettifyError:()=>u3,parseAsync:()=>G4,parse:()=>E1,meta:()=>ZJ,locales:()=>m1,isValidJWT:()=>zV,isValidBase64URL:()=>vV,isValidBase64:()=>ej,initializeContext:()=>KK,globalRegistry:()=>b6,globalConfig:()=>f1,formatError:()=>C1,flattenError:()=>N1,finalize:()=>YK,extractDefs:()=>PK,encodeAsync:()=>ky,encode:()=>Xy,describe:()=>wJ,decodeAsync:()=>Gy,decode:()=>Ay,createToJSONSchemaMethod:()=>XJ,createStandardJSONSchemaMethod:()=>c4,config:()=>U6,clone:()=>n6,_xor:()=>tu,_xid:()=>c5,_void:()=>YJ,_uuidv7:()=>g5,_uuidv6:()=>L5,_uuidv4:()=>D5,_uuid:()=>h5,_url:()=>l1,_uppercase:()=>R4,_unknown:()=>t5,_union:()=>Uu,_undefined:()=>_J,_ulid:()=>p5,_uint64:()=>$J,_uint32:()=>tz,_tuple:()=>au,_trim:()=>b4,_transform:()=>Px,_toUpperCase:()=>u4,_toLowerCase:()=>y4,_templateLiteral:()=>Tx,_symbol:()=>qJ,_superRefine:()=>TJ,_success:()=>zx,_stringbool:()=>fJ,_stringFormat:()=>p4,_string:()=>yz,_startsWith:()=>h4,_slugify:()=>x4,_size:()=>LK,_set:()=>$x,_safeParseAsync:()=>S4,_safeParse:()=>V4,_safeEncodeAsync:()=>H5,_safeEncode:()=>J5,_safeDecodeAsync:()=>T5,_safeDecode:()=>W5,_regex:()=>C4,_refine:()=>HJ,_record:()=>eu,_readonly:()=>Hx,_property:()=>s5,_promise:()=>Zx,_positive:()=>F5,_pipe:()=>Wx,_parseAsync:()=>k4,_parse:()=>A4,_overwrite:()=>u8,_optional:()=>Yx,_number:()=>rz,_nullable:()=>Ox,_null:()=>KJ,_normalize:()=>g4,_nonpositive:()=>a5,_nonoptional:()=>vx,_nonnegative:()=>e5,_never:()=>r1,_negative:()=>Q5,_nativeEnum:()=>_x,_nanoid:()=>y5,_nan:()=>vJ,_multipleOf:()=>qK,_minSize:()=>q_,_minLength:()=>G_,_min:()=>dq,_mime:()=>L4,_maxSize:()=>_K,_maxLength:()=>gK,_max:()=>J8,_map:()=>su,_mac:()=>xz,_lte:()=>J8,_lt:()=>s8,_lowercase:()=>E4,_literal:()=>Kx,_length:()=>bK,_lazy:()=>wx,_ksuid:()=>m5,_jwt:()=>U5,_isoTime:()=>dz,_isoDuration:()=>lz,_isoDateTime:()=>cz,_isoDate:()=>mz,_ipv6:()=>l5,_ipv4:()=>d5,_intersection:()=>Qu,_int64:()=>sz,_int32:()=>Uz,_int:()=>nz,_includes:()=>I4,_guid:()=>d1,_gte:()=>dq,_gt:()=>$_,_float64:()=>Bz,_float32:()=>iz,_file:()=>JJ,_enum:()=>qx,_endsWith:()=>D4,_encodeAsync:()=>v5,_encode:()=>O5,_emoji:()=>b5,_email:()=>I5,_e164:()=>B5,_discriminatedUnion:()=>Fu,_default:()=>jx,_decodeAsync:()=>z5,_decode:()=>j5,_date:()=>OJ,_custom:()=>WJ,_cuid2:()=>x5,_cuid:()=>u5,_coercedString:()=>uz,_coercedNumber:()=>oz,_coercedDate:()=>jJ,_coercedBoolean:()=>Qz,_coercedBigint:()=>ez,_cidrv6:()=>o5,_cidrv4:()=>r5,_check:()=>AV,_catch:()=>Jx,_boolean:()=>Fz,_bigint:()=>az,_base64url:()=>i5,_base64:()=>n5,_array:()=>zJ,_any:()=>PJ,TimePrecision:()=>pz,NEVER:()=>M3,JSONSchemaGenerator:()=>qW,JSONSchema:()=>kV,Doc:()=>X5,$output:()=>Lz,$input:()=>gz,$constructor:()=>Y$,$brand:()=>N3,$ZodXor:()=>wv,$ZodXID:()=>lj,$ZodVoid:()=>Jv,$ZodUnknown:()=>C5,$ZodUnion:()=>g1,$ZodUndefined:()=>jv,$ZodUUID:()=>bj,$ZodURL:()=>uj,$ZodULID:()=>dj,$ZodType:()=>O6,$ZodTuple:()=>E5,$ZodTransform:()=>Mv,$ZodTemplateLiteral:()=>yv,$ZodSymbol:()=>Ov,$ZodSuccess:()=>hv,$ZodStringFormat:()=>I6,$ZodString:()=>DK,$ZodSet:()=>kv,$ZodRegistry:()=>bz,$ZodRecord:()=>Xv,$ZodRealError:()=>$8,$ZodReadonly:()=>bv,$ZodPromise:()=>xv,$ZodPrefault:()=>Rv,$ZodPipe:()=>gv,$ZodOptional:()=>b1,$ZodObjectJIT:()=>Tv,$ZodObject:()=>HV,$ZodNumberFormat:()=>Pv,$ZodNumber:()=>M5,$ZodNullable:()=>Cv,$ZodNull:()=>vv,$ZodNonOptional:()=>Iv,$ZodNever:()=>L1,$ZodNanoID:()=>pj,$ZodNaN:()=>Lv,$ZodMap:()=>Av,$ZodMAC:()=>Fj,$ZodLiteral:()=>Vv,$ZodLazy:()=>pv,$ZodKSUID:()=>rj,$ZodJWT:()=>_v,$ZodIntersection:()=>fv,$ZodISOTime:()=>ij,$ZodISODuration:()=>Bj,$ZodISODateTime:()=>oj,$ZodISODate:()=>nj,$ZodIPv6:()=>tj,$ZodIPv4:()=>Uj,$ZodGUID:()=>gj,$ZodFunction:()=>uv,$ZodFile:()=>Sv,$ZodExactOptional:()=>Nv,$ZodError:()=>M1,$ZodEnum:()=>Gv,$ZodEncodeError:()=>RK,$ZodEmoji:()=>xj,$ZodEmail:()=>yj,$ZodE164:()=>qv,$ZodDiscriminatedUnion:()=>Zv,$ZodDefault:()=>Ev,$ZodDate:()=>Wv,$ZodCustomStringFormat:()=>Kv,$ZodCustom:()=>cv,$ZodCodec:()=>y1,$ZodCheckUpperCase:()=>Mj,$ZodCheckStringFormat:()=>M4,$ZodCheckStartsWith:()=>Cj,$ZodCheckSizeEquals:()=>Xj,$ZodCheckRegex:()=>Vj,$ZodCheckProperty:()=>Rj,$ZodCheckOverwrite:()=>hj,$ZodCheckNumberFormat:()=>Tj,$ZodCheckMultipleOf:()=>Hj,$ZodCheckMinSize:()=>fj,$ZodCheckMinLength:()=>kj,$ZodCheckMimeType:()=>Ij,$ZodCheckMaxSize:()=>Zj,$ZodCheckMaxLength:()=>Aj,$ZodCheckLowerCase:()=>Sj,$ZodCheckLessThan:()=>Z5,$ZodCheckLengthEquals:()=>Gj,$ZodCheckIncludes:()=>Nj,$ZodCheckGreaterThan:()=>f5,$ZodCheckEndsWith:()=>Ej,$ZodCheckBigIntFormat:()=>wj,$ZodCheck:()=>L6,$ZodCatch:()=>Dv,$ZodCUID2:()=>mj,$ZodCUID:()=>cj,$ZodCIDRv6:()=>aj,$ZodCIDRv4:()=>Qj,$ZodBoolean:()=>D1,$ZodBigIntFormat:()=>Yv,$ZodBigInt:()=>N5,$ZodBase64URL:()=>$v,$ZodBase64:()=>sj,$ZodAsyncError:()=>e8,$ZodArray:()=>Hv,$ZodAny:()=>zv});var M3=Object.freeze({status:"aborted"});function Y$($,q,_){function P(v,W){if(!v._zod)Object.defineProperty(v,"_zod",{value:{def:W,constr:Y,traits:new Set},enumerable:!1});if(v._zod.traits.has($))return;v._zod.traits.add($),q(v,W);let T=Y.prototype,Z=Object.keys(T);for(let w=0;w<Z.length;w++){let k=Z[w];if(!(k in v))v[k]=T[k].bind(v)}}let K=_?.Parent??Object;class O extends K{}Object.defineProperty(O,"name",{value:$});function Y(v){var W;let T=_?.Parent?new O:this;P(T,v),(W=T._zod).deferred??(W.deferred=[]);for(let Z of T._zod.deferred)Z();return T}return Object.defineProperty(Y,"init",{value:P}),Object.defineProperty(Y,Symbol.hasInstance,{value:(v)=>{if(_?.Parent&&v instanceof _.Parent)return!0;return v?._zod?.traits?.has($)}}),Object.defineProperty(Y,"name",{value:$}),Y}var N3=Symbol("zod_brand");class e8 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class RK extends Error{constructor($){super(`Encountered unidirectional transform during encode: ${$}`);this.name="ZodEncodeError"}}var f1={};function U6($){if($)Object.assign(f1,$);return f1}var l$={};Rq(l$,{unwrapMessage:()=>X1,uint8ArrayToHex:()=>Zy,uint8ArrayToBase64url:()=>Ty,uint8ArrayToBase64:()=>lG,stringifyPrimitive:()=>c$,slugify:()=>R3,shallowClone:()=>h3,safeExtend:()=>jy,required:()=>Jy,randomString:()=>$y,propertyKeyTypes:()=>G1,promiseAllObject:()=>sb,primitiveTypes:()=>D3,prefixIssues:()=>z8,pick:()=>Py,partial:()=>zy,parsedType:()=>d$,optionalKeys:()=>L3,omit:()=>Yy,objectClone:()=>Qb,numKeys:()=>qy,nullish:()=>a_,normalizeParams:()=>o$,mergeDefs:()=>k_,merge:()=>vy,jsonStringifyReplacer:()=>Z4,joinValues:()=>w$,issue:()=>X4,isPlainObject:()=>s_,isObject:()=>IK,hexToUint8Array:()=>wy,getSizableOrigin:()=>V1,getParsedType:()=>_y,getLengthableOrigin:()=>S1,getEnumValues:()=>A1,getElementAtPath:()=>eb,floatSafeRemainder:()=>E3,finalizeIssue:()=>sq,extend:()=>Oy,escapeRegex:()=>A8,esc:()=>P5,defineLazy:()=>Z6,createTransparentProxy:()=>Ky,cloneDef:()=>ab,clone:()=>n6,cleanRegex:()=>k1,cleanEnum:()=>Wy,captureStackTrace:()=>Y5,cached:()=>f4,base64urlToUint8Array:()=>Hy,base64ToUint8Array:()=>dG,assignProp:()=>e_,assertNotEqual:()=>Bb,assertNever:()=>tb,assertIs:()=>Ub,assertEqual:()=>ib,assert:()=>Fb,allowsEval:()=>I3,aborted:()=>$K,NUMBER_FORMAT_RANGES:()=>g3,Class:()=>rG,BIGINT_FORMAT_RANGES:()=>b3});function ib($){return $}function Bb($){return $}function Ub($){}function tb($){throw Error("Unexpected value in exhaustive check")}function Fb($){}function A1($){let q=Object.values($).filter((P)=>typeof P==="number");return Object.entries($).filter(([P,K])=>q.indexOf(+P)===-1).map(([P,K])=>K)}function w$($,q="|"){return $.map((_)=>c$(_)).join(q)}function Z4($,q){if(typeof q==="bigint")return q.toString();return q}function f4($){return{get value(){{let _=$();return Object.defineProperty(this,"value",{value:_}),_}throw Error("cached value already set")}}}function a_($){return $===null||$===void 0}function k1($){let q=$.startsWith("^")?1:0,_=$.endsWith("$")?$.length-1:$.length;return $.slice(q,_)}function E3($,q){let _=($.toString().split(".")[1]||"").length,P=q.toString(),K=(P.split(".")[1]||"").length;if(K===0&&/\d?e-\d?/.test(P)){let W=P.match(/\d?e-(\d?)/);if(W?.[1])K=Number.parseInt(W[1])}let O=_>K?_:K,Y=Number.parseInt($.toFixed(O).replace(".","")),v=Number.parseInt(q.toFixed(O).replace(".",""));return Y%v/10**O}var mG=Symbol("evaluating");function Z6($,q,_){let P=void 0;Object.defineProperty($,q,{get(){if(P===mG)return;if(P===void 0)P=mG,P=_();return P},set(K){Object.defineProperty($,q,{value:K})},configurable:!0})}function Qb($){return Object.create(Object.getPrototypeOf($),Object.getOwnPropertyDescriptors($))}function e_($,q,_){Object.defineProperty($,q,{value:_,writable:!0,enumerable:!0,configurable:!0})}function k_(...$){let q={};for(let _ of $){let P=Object.getOwnPropertyDescriptors(_);Object.assign(q,P)}return Object.defineProperties({},q)}function ab($){return k_($._zod.def)}function eb($,q){if(!q)return $;return q.reduce((_,P)=>_?.[P],$)}function sb($){let q=Object.keys($),_=q.map((P)=>$[P]);return Promise.all(_).then((P)=>{let K={};for(let O=0;O<q.length;O++)K[q[O]]=P[O];return K})}function $y($=10){let _="";for(let P=0;P<$;P++)_+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return _}function P5($){return JSON.stringify($)}function R3($){return $.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var Y5="captureStackTrace"in Error?Error.captureStackTrace:(...$)=>{};function IK($){return typeof $==="object"&&$!==null&&!Array.isArray($)}var I3=f4(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch($){return!1}});function s_($){if(IK($)===!1)return!1;let q=$.constructor;if(q===void 0)return!0;if(typeof q!=="function")return!0;let _=q.prototype;if(IK(_)===!1)return!1;if(Object.prototype.hasOwnProperty.call(_,"isPrototypeOf")===!1)return!1;return!0}function h3($){if(s_($))return{...$};if(Array.isArray($))return[...$];return $}function qy($){let q=0;for(let _ in $)if(Object.prototype.hasOwnProperty.call($,_))q++;return q}var _y=($)=>{let q=typeof $;switch(q){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN($)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray($))return"array";if($===null)return"null";if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return"promise";if(typeof Map<"u"&&$ instanceof Map)return"map";if(typeof Set<"u"&&$ instanceof Set)return"set";if(typeof Date<"u"&&$ instanceof Date)return"date";if(typeof File<"u"&&$ instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${q}`)}},G1=new Set(["string","number","symbol"]),D3=new Set(["string","number","bigint","boolean","symbol","undefined"]);function A8($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n6($,q,_){let P=new $._zod.constr(q??$._zod.def);if(!q||_?.parent)P._zod.parent=$;return P}function o$($){let q=$;if(!q)return{};if(typeof q==="string")return{error:()=>q};if(q?.message!==void 0){if(q?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");q.error=q.message}if(delete q.message,typeof q.error==="string")return{...q,error:()=>q.error};return q}function Ky($){let q;return new Proxy({},{get(_,P,K){return q??(q=$()),Reflect.get(q,P,K)},set(_,P,K,O){return q??(q=$()),Reflect.set(q,P,K,O)},has(_,P){return q??(q=$()),Reflect.has(q,P)},deleteProperty(_,P){return q??(q=$()),Reflect.deleteProperty(q,P)},ownKeys(_){return q??(q=$()),Reflect.ownKeys(q)},getOwnPropertyDescriptor(_,P){return q??(q=$()),Reflect.getOwnPropertyDescriptor(q,P)},defineProperty(_,P,K){return q??(q=$()),Reflect.defineProperty(q,P,K)}})}function c$($){if(typeof $==="bigint")return $.toString()+"n";if(typeof $==="string")return`"${$}"`;return`${$}`}function L3($){return Object.keys($).filter((q)=>{return $[q]._zod.optin==="optional"&&$[q]._zod.optout==="optional"})}var g3={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},b3={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function Py($,q){let _=$._zod.def,P=_.checks;if(P&&P.length>0)throw Error(".pick() cannot be used on object schemas containing refinements");let O=k_($._zod.def,{get shape(){let Y={};for(let v in q){if(!(v in _.shape))throw Error(`Unrecognized key: "${v}"`);if(!q[v])continue;Y[v]=_.shape[v]}return e_(this,"shape",Y),Y},checks:[]});return n6($,O)}function Yy($,q){let _=$._zod.def,P=_.checks;if(P&&P.length>0)throw Error(".omit() cannot be used on object schemas containing refinements");let O=k_($._zod.def,{get shape(){let Y={...$._zod.def.shape};for(let v in q){if(!(v in _.shape))throw Error(`Unrecognized key: "${v}"`);if(!q[v])continue;delete Y[v]}return e_(this,"shape",Y),Y},checks:[]});return n6($,O)}function Oy($,q){if(!s_(q))throw Error("Invalid input to extend: expected a plain object");let _=$._zod.def.checks;if(_&&_.length>0){let O=$._zod.def.shape;for(let Y in q)if(Object.getOwnPropertyDescriptor(O,Y)!==void 0)throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let K=k_($._zod.def,{get shape(){let O={...$._zod.def.shape,...q};return e_(this,"shape",O),O}});return n6($,K)}function jy($,q){if(!s_(q))throw Error("Invalid input to safeExtend: expected a plain object");let _=k_($._zod.def,{get shape(){let P={...$._zod.def.shape,...q};return e_(this,"shape",P),P}});return n6($,_)}function vy($,q){let _=k_($._zod.def,{get shape(){let P={...$._zod.def.shape,...q._zod.def.shape};return e_(this,"shape",P),P},get catchall(){return q._zod.def.catchall},checks:[]});return n6($,_)}function zy($,q,_){let K=q._zod.def.checks;if(K&&K.length>0)throw Error(".partial() cannot be used on object schemas containing refinements");let Y=k_(q._zod.def,{get shape(){let v=q._zod.def.shape,W={...v};if(_)for(let T in _){if(!(T in v))throw Error(`Unrecognized key: "${T}"`);if(!_[T])continue;W[T]=$?new $({type:"optional",innerType:v[T]}):v[T]}else for(let T in v)W[T]=$?new $({type:"optional",innerType:v[T]}):v[T];return e_(this,"shape",W),W},checks:[]});return n6(q,Y)}function Jy($,q,_){let P=k_(q._zod.def,{get shape(){let K=q._zod.def.shape,O={...K};if(_)for(let Y in _){if(!(Y in O))throw Error(`Unrecognized key: "${Y}"`);if(!_[Y])continue;O[Y]=new $({type:"nonoptional",innerType:K[Y]})}else for(let Y in K)O[Y]=new $({type:"nonoptional",innerType:K[Y]});return e_(this,"shape",O),O}});return n6(q,P)}function $K($,q=0){if($.aborted===!0)return!0;for(let _=q;_<$.issues.length;_++)if($.issues[_]?.continue!==!0)return!0;return!1}function z8($,q){return q.map((_)=>{var P;return(P=_).path??(P.path=[]),_.path.unshift($),_})}function X1($){return typeof $==="string"?$:$?.message}function sq($,q,_){let P={...$,path:$.path??[]};if(!$.message){let K=X1($.inst?._zod.def?.error?.($))??X1(q?.error?.($))??X1(_.customError?.($))??X1(_.localeError?.($))??"Invalid input";P.message=K}if(delete P.inst,delete P.continue,!q?.reportInput)delete P.input;return P}function V1($){if($ instanceof Set)return"set";if($ instanceof Map)return"map";if($ instanceof File)return"file";return"unknown"}function S1($){if(Array.isArray($))return"array";if(typeof $==="string")return"string";return"unknown"}function d$($){let q=typeof $;switch(q){case"number":return Number.isNaN($)?"nan":"number";case"object":{if($===null)return"null";if(Array.isArray($))return"array";let _=$;if(_&&Object.getPrototypeOf(_)!==Object.prototype&&"constructor"in _&&_.constructor)return _.constructor.name}}return q}function X4(...$){let[q,_,P]=$;if(typeof q==="string")return{message:q,code:"custom",input:_,inst:P};return{...q}}function Wy($){return Object.entries($).filter(([q,_])=>{return Number.isNaN(Number.parseInt(q,10))}).map((q)=>q[1])}function dG($){let q=atob($),_=new Uint8Array(q.length);for(let P=0;P<q.length;P++)_[P]=q.charCodeAt(P);return _}function lG($){let q="";for(let _=0;_<$.length;_++)q+=String.fromCharCode($[_]);return btoa(q)}function Hy($){let q=$.replace(/-/g,"+").replace(/_/g,"/"),_="=".repeat((4-q.length%4)%4);return dG(q+_)}function Ty($){return lG($).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function wy($){let q=$.replace(/^0x/,"");if(q.length%2!==0)throw Error("Invalid hex string length");let _=new Uint8Array(q.length/2);for(let P=0;P<q.length;P+=2)_[P/2]=Number.parseInt(q.slice(P,P+2),16);return _}function Zy($){return Array.from($).map((q)=>q.toString(16).padStart(2,"0")).join("")}class rG{constructor(...$){}}var oG=($,q)=>{$.name="$ZodError",Object.defineProperty($,"_zod",{value:$._zod,enumerable:!1}),Object.defineProperty($,"issues",{value:q,enumerable:!1}),$.message=JSON.stringify(q,Z4,2),Object.defineProperty($,"toString",{value:()=>$.message,enumerable:!1})},M1=Y$("$ZodError",oG),$8=Y$("$ZodError",oG,{Parent:Error});function N1($,q=(_)=>_.message){let _={},P=[];for(let K of $.issues)if(K.path.length>0)_[K.path[0]]=_[K.path[0]]||[],_[K.path[0]].push(q(K));else P.push(q(K));return{formErrors:P,fieldErrors:_}}function C1($,q=(_)=>_.message){let _={_errors:[]},P=(K)=>{for(let O of K.issues)if(O.code==="invalid_union"&&O.errors.length)O.errors.map((Y)=>P({issues:Y}));else if(O.code==="invalid_key")P({issues:O.issues});else if(O.code==="invalid_element")P({issues:O.issues});else if(O.path.length===0)_._errors.push(q(O));else{let Y=_,v=0;while(v<O.path.length){let W=O.path[v];if(v!==O.path.length-1)Y[W]=Y[W]||{_errors:[]};else Y[W]=Y[W]||{_errors:[]},Y[W]._errors.push(q(O));Y=Y[W],v++}}};return P($),_}function y3($,q=(_)=>_.message){let _={errors:[]},P=(K,O=[])=>{var Y,v;for(let W of K.issues)if(W.code==="invalid_union"&&W.errors.length)W.errors.map((T)=>P({issues:T},W.path));else if(W.code==="invalid_key")P({issues:W.issues},W.path);else if(W.code==="invalid_element")P({issues:W.issues},W.path);else{let T=[...O,...W.path];if(T.length===0){_.errors.push(q(W));continue}let Z=_,w=0;while(w<T.length){let k=T[w],M=w===T.length-1;if(typeof k==="string")Z.properties??(Z.properties={}),(Y=Z.properties)[k]??(Y[k]={errors:[]}),Z=Z.properties[k];else Z.items??(Z.items=[]),(v=Z.items)[k]??(v[k]={errors:[]}),Z=Z.items[k];if(M)Z.errors.push(q(W));w++}}};return P($),_}function nG($){let q=[],_=$.map((P)=>typeof P==="object"?P.key:P);for(let P of _)if(typeof P==="number")q.push(`[${P}]`);else if(typeof P==="symbol")q.push(`[${JSON.stringify(String(P))}]`);else if(/[^\w$]/.test(P))q.push(`[${JSON.stringify(P)}]`);else{if(q.length)q.push(".");q.push(P)}return q.join("")}function u3($){let q=[],_=[...$.issues].sort((P,K)=>(P.path??[]).length-(K.path??[]).length);for(let P of _)if(q.push(` ${P.message}`),P.path?.length)q.push(`   at ${nG(P.path)}`);return q.join(`
`)}var A4=($)=>(q,_,P,K)=>{let O=P?Object.assign(P,{async:!1}):{async:!1},Y=q._zod.run({value:_,issues:[]},O);if(Y instanceof Promise)throw new e8;if(Y.issues.length){let v=new(K?.Err??$)(Y.issues.map((W)=>sq(W,O,U6())));throw Y5(v,K?.callee),v}return Y.value},E1=A4($8),k4=($)=>async(q,_,P,K)=>{let O=P?Object.assign(P,{async:!0}):{async:!0},Y=q._zod.run({value:_,issues:[]},O);if(Y instanceof Promise)Y=await Y;if(Y.issues.length){let v=new(K?.Err??$)(Y.issues.map((W)=>sq(W,O,U6())));throw Y5(v,K?.callee),v}return Y.value},G4=k4($8),V4=($)=>(q,_,P)=>{let K=P?{...P,async:!1}:{async:!1},O=q._zod.run({value:_,issues:[]},K);if(O instanceof Promise)throw new e8;return O.issues.length?{success:!1,error:new($??M1)(O.issues.map((Y)=>sq(Y,K,U6())))}:{success:!0,data:O.value}},x3=V4($8),S4=($)=>async(q,_,P)=>{let K=P?Object.assign(P,{async:!0}):{async:!0},O=q._zod.run({value:_,issues:[]},K);if(O instanceof Promise)O=await O;return O.issues.length?{success:!1,error:new $(O.issues.map((Y)=>sq(Y,K,U6())))}:{success:!0,data:O.value}},p3=S4($8),O5=($)=>(q,_,P)=>{let K=P?Object.assign(P,{direction:"backward"}):{direction:"backward"};return A4($)(q,_,K)},Xy=O5($8),j5=($)=>(q,_,P)=>{return A4($)(q,_,P)},Ay=j5($8),v5=($)=>async(q,_,P)=>{let K=P?Object.assign(P,{direction:"backward"}):{direction:"backward"};return k4($)(q,_,K)},ky=v5($8),z5=($)=>async(q,_,P)=>{return k4($)(q,_,P)},Gy=z5($8),J5=($)=>(q,_,P)=>{let K=P?Object.assign(P,{direction:"backward"}):{direction:"backward"};return V4($)(q,_,K)},Vy=J5($8),W5=($)=>(q,_,P)=>{return V4($)(q,_,P)},Sy=W5($8),H5=($)=>async(q,_,P)=>{let K=P?Object.assign(P,{direction:"backward"}):{direction:"backward"};return S4($)(q,_,K)},My=H5($8),T5=($)=>async(q,_,P)=>{return S4($)(q,_,P)},Ny=T5($8);var k8={};Rq(k8,{xid:()=>l3,uuid7:()=>Iy,uuid6:()=>Ry,uuid4:()=>Ey,uuid:()=>hK,uppercase:()=>Wj,unicodeEmail:()=>iG,undefined:()=>zj,ulid:()=>d3,time:()=>_j,string:()=>Pj,sha512_hex:()=>Fy,sha512_base64url:()=>ay,sha512_base64:()=>Qy,sha384_hex:()=>By,sha384_base64url:()=>ty,sha384_base64:()=>Uy,sha256_hex:()=>oy,sha256_base64url:()=>iy,sha256_base64:()=>ny,sha1_hex:()=>dy,sha1_base64url:()=>ry,sha1_base64:()=>ly,rfc5322Email:()=>Dy,number:()=>R1,null:()=>vj,nanoid:()=>o3,md5_hex:()=>py,md5_base64url:()=>my,md5_base64:()=>cy,mac:()=>Q3,lowercase:()=>Jj,ksuid:()=>r3,ipv6:()=>F3,ipv4:()=>t3,integer:()=>Oj,idnEmail:()=>Ly,html5Email:()=>hy,hostname:()=>yy,hex:()=>xy,guid:()=>i3,extendedDuration:()=>Cy,emoji:()=>U3,email:()=>B3,e164:()=>$j,duration:()=>n3,domain:()=>uy,datetime:()=>Kj,date:()=>qj,cuid2:()=>m3,cuid:()=>c3,cidrv6:()=>e3,cidrv4:()=>a3,browserEmail:()=>gy,boolean:()=>jj,bigint:()=>Yj,base64url:()=>w5,base64:()=>s3});var c3=/^[cC][^\s-]{8,}$/,m3=/^[0-9a-z]+$/,d3=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,l3=/^[0-9a-vA-V]{20}$/,r3=/^[A-Za-z0-9]{27}$/,o3=/^[a-zA-Z0-9_-]{21}$/,n3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Cy=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,i3=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,hK=($)=>{if(!$)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${$}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)},Ey=hK(4),Ry=hK(6),Iy=hK(7),B3=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,hy=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Dy=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,iG=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Ly=iG,gy=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,by="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function U3(){return new RegExp(by,"u")}var t3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,F3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Q3=($)=>{let q=A8($??":");return new RegExp(`^(?:[0-9A-F]{2}${q}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${q}){5}[0-9a-f]{2}$`)},a3=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,e3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,s3=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,w5=/^[A-Za-z0-9_-]*$/,yy=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,uy=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,$j=/^\+[1-9]\d{6,14}$/,BG="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",qj=new RegExp(`^${BG}$`);function UG($){return typeof $.precision==="number"?$.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":$.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${$.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function _j($){return new RegExp(`^${UG($)}$`)}function Kj($){let q=UG({precision:$.precision}),_=["Z"];if($.local)_.push("");if($.offset)_.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let P=`${q}(?:${_.join("|")})`;return new RegExp(`^${BG}T(?:${P})$`)}var Pj=($)=>{let q=$?`[\\s\\S]{${$?.minimum??0},${$?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${q}$`)},Yj=/^-?\d+n?$/,Oj=/^-?\d+$/,R1=/^-?\d+(?:\.\d+)?$/,jj=/^(?:true|false)$/i,vj=/^null$/i;var zj=/^undefined$/i;var Jj=/^[^A-Z]*$/,Wj=/^[^a-z]*$/,xy=/^[0-9a-fA-F]*$/;function I1($,q){return new RegExp(`^[A-Za-z0-9+/]{${$}}${q}$`)}function h1($){return new RegExp(`^[A-Za-z0-9_-]{${$}}$`)}var py=/^[0-9a-fA-F]{32}$/,cy=I1(22,"=="),my=h1(22),dy=/^[0-9a-fA-F]{40}$/,ly=I1(27,"="),ry=h1(27),oy=/^[0-9a-fA-F]{64}$/,ny=I1(43,"="),iy=h1(43),By=/^[0-9a-fA-F]{96}$/,Uy=I1(64,""),ty=h1(64),Fy=/^[0-9a-fA-F]{128}$/,Qy=I1(86,"=="),ay=h1(86);var L6=Y$("$ZodCheck",($,q)=>{var _;$._zod??($._zod={}),$._zod.def=q,(_=$._zod).onattach??(_.onattach=[])}),FG={number:"number",bigint:"bigint",object:"date"},Z5=Y$("$ZodCheckLessThan",($,q)=>{L6.init($,q);let _=FG[typeof q.value];$._zod.onattach.push((P)=>{let K=P._zod.bag,O=(q.inclusive?K.maximum:K.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(q.value<O)if(q.inclusive)K.maximum=q.value;else K.exclusiveMaximum=q.value}),$._zod.check=(P)=>{if(q.inclusive?P.value<=q.value:P.value<q.value)return;P.issues.push({origin:_,code:"too_big",maximum:typeof q.value==="object"?q.value.getTime():q.value,input:P.value,inclusive:q.inclusive,inst:$,continue:!q.abort})}}),f5=Y$("$ZodCheckGreaterThan",($,q)=>{L6.init($,q);let _=FG[typeof q.value];$._zod.onattach.push((P)=>{let K=P._zod.bag,O=(q.inclusive?K.minimum:K.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(q.value>O)if(q.inclusive)K.minimum=q.value;else K.exclusiveMinimum=q.value}),$._zod.check=(P)=>{if(q.inclusive?P.value>=q.value:P.value>q.value)return;P.issues.push({origin:_,code:"too_small",minimum:typeof q.value==="object"?q.value.getTime():q.value,input:P.value,inclusive:q.inclusive,inst:$,continue:!q.abort})}}),Hj=Y$("$ZodCheckMultipleOf",($,q)=>{L6.init($,q),$._zod.onattach.push((_)=>{var P;(P=_._zod.bag).multipleOf??(P.multipleOf=q.value)}),$._zod.check=(_)=>{if(typeof _.value!==typeof q.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof _.value==="bigint"?_.value%q.value===BigInt(0):E3(_.value,q.value)===0)return;_.issues.push({origin:typeof _.value,code:"not_multiple_of",divisor:q.value,input:_.value,inst:$,continue:!q.abort})}}),Tj=Y$("$ZodCheckNumberFormat",($,q)=>{L6.init($,q),q.format=q.format||"float64";let _=q.format?.includes("int"),P=_?"int":"number",[K,O]=g3[q.format];$._zod.onattach.push((Y)=>{let v=Y._zod.bag;if(v.format=q.format,v.minimum=K,v.maximum=O,_)v.pattern=Oj}),$._zod.check=(Y)=>{let v=Y.value;if(_){if(!Number.isInteger(v)){Y.issues.push({expected:P,format:q.format,code:"invalid_type",continue:!1,input:v,inst:$});return}if(!Number.isSafeInteger(v)){if(v>0)Y.issues.push({input:v,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:$,origin:P,inclusive:!0,continue:!q.abort});else Y.issues.push({input:v,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:$,origin:P,inclusive:!0,continue:!q.abort});return}}if(v<K)Y.issues.push({origin:"number",input:v,code:"too_small",minimum:K,inclusive:!0,inst:$,continue:!q.abort});if(v>O)Y.issues.push({origin:"number",input:v,code:"too_big",maximum:O,inclusive:!0,inst:$,continue:!q.abort})}}),wj=Y$("$ZodCheckBigIntFormat",($,q)=>{L6.init($,q);let[_,P]=b3[q.format];$._zod.onattach.push((K)=>{let O=K._zod.bag;O.format=q.format,O.minimum=_,O.maximum=P}),$._zod.check=(K)=>{let O=K.value;if(O<_)K.issues.push({origin:"bigint",input:O,code:"too_small",minimum:_,inclusive:!0,inst:$,continue:!q.abort});if(O>P)K.issues.push({origin:"bigint",input:O,code:"too_big",maximum:P,inclusive:!0,inst:$,continue:!q.abort})}}),Zj=Y$("$ZodCheckMaxSize",($,q)=>{var _;L6.init($,q),(_=$._zod.def).when??(_.when=(P)=>{let K=P.value;return!a_(K)&&K.size!==void 0}),$._zod.onattach.push((P)=>{let K=P._zod.bag.maximum??Number.POSITIVE_INFINITY;if(q.maximum<K)P._zod.bag.maximum=q.maximum}),$._zod.check=(P)=>{let K=P.value;if(K.size<=q.maximum)return;P.issues.push({origin:V1(K),code:"too_big",maximum:q.maximum,inclusive:!0,input:K,inst:$,continue:!q.abort})}}),fj=Y$("$ZodCheckMinSize",($,q)=>{var _;L6.init($,q),(_=$._zod.def).when??(_.when=(P)=>{let K=P.value;return!a_(K)&&K.size!==void 0}),$._zod.onattach.push((P)=>{let K=P._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(q.minimum>K)P._zod.bag.minimum=q.minimum}),$._zod.check=(P)=>{let K=P.value;if(K.size>=q.minimum)return;P.issues.push({origin:V1(K),code:"too_small",minimum:q.minimum,inclusive:!0,input:K,inst:$,continue:!q.abort})}}),Xj=Y$("$ZodCheckSizeEquals",($,q)=>{var _;L6.init($,q),(_=$._zod.def).when??(_.when=(P)=>{let K=P.value;return!a_(K)&&K.size!==void 0}),$._zod.onattach.push((P)=>{let K=P._zod.bag;K.minimum=q.size,K.maximum=q.size,K.size=q.size}),$._zod.check=(P)=>{let K=P.value,O=K.size;if(O===q.size)return;let Y=O>q.size;P.issues.push({origin:V1(K),...Y?{code:"too_big",maximum:q.size}:{code:"too_small",minimum:q.size},inclusive:!0,exact:!0,input:P.value,inst:$,continue:!q.abort})}}),Aj=Y$("$ZodCheckMaxLength",($,q)=>{var _;L6.init($,q),(_=$._zod.def).when??(_.when=(P)=>{let K=P.value;return!a_(K)&&K.length!==void 0}),$._zod.onattach.push((P)=>{let K=P._zod.bag.maximum??Number.POSITIVE_INFINITY;if(q.maximum<K)P._zod.bag.maximum=q.maximum}),$._zod.check=(P)=>{let K=P.value;if(K.length<=q.maximum)return;let Y=S1(K);P.issues.push({origin:Y,code:"too_big",maximum:q.maximum,inclusive:!0,input:K,inst:$,continue:!q.abort})}}),kj=Y$("$ZodCheckMinLength",($,q)=>{var _;L6.init($,q),(_=$._zod.def).when??(_.when=(P)=>{let K=P.value;return!a_(K)&&K.length!==void 0}),$._zod.onattach.push((P)=>{let K=P._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(q.minimum>K)P._zod.bag.minimum=q.minimum}),$._zod.check=(P)=>{let K=P.value;if(K.length>=q.minimum)return;let Y=S1(K);P.issues.push({origin:Y,code:"too_small",minimum:q.minimum,inclusive:!0,input:K,inst:$,continue:!q.abort})}}),Gj=Y$("$ZodCheckLengthEquals",($,q)=>{var _;L6.init($,q),(_=$._zod.def).when??(_.when=(P)=>{let K=P.value;return!a_(K)&&K.length!==void 0}),$._zod.onattach.push((P)=>{let K=P._zod.bag;K.minimum=q.length,K.maximum=q.length,K.length=q.length}),$._zod.check=(P)=>{let K=P.value,O=K.length;if(O===q.length)return;let Y=S1(K),v=O>q.length;P.issues.push({origin:Y,...v?{code:"too_big",maximum:q.length}:{code:"too_small",minimum:q.length},inclusive:!0,exact:!0,input:P.value,inst:$,continue:!q.abort})}}),M4=Y$("$ZodCheckStringFormat",($,q)=>{var _,P;if(L6.init($,q),$._zod.onattach.push((K)=>{let O=K._zod.bag;if(O.format=q.format,q.pattern)O.patterns??(O.patterns=new Set),O.patterns.add(q.pattern)}),q.pattern)(_=$._zod).check??(_.check=(K)=>{if(q.pattern.lastIndex=0,q.pattern.test(K.value))return;K.issues.push({origin:"string",code:"invalid_format",format:q.format,input:K.value,...q.pattern?{pattern:q.pattern.toString()}:{},inst:$,continue:!q.abort})});else(P=$._zod).check??(P.check=()=>{})}),Vj=Y$("$ZodCheckRegex",($,q)=>{M4.init($,q),$._zod.check=(_)=>{if(q.pattern.lastIndex=0,q.pattern.test(_.value))return;_.issues.push({origin:"string",code:"invalid_format",format:"regex",input:_.value,pattern:q.pattern.toString(),inst:$,continue:!q.abort})}}),Sj=Y$("$ZodCheckLowerCase",($,q)=>{q.pattern??(q.pattern=Jj),M4.init($,q)}),Mj=Y$("$ZodCheckUpperCase",($,q)=>{q.pattern??(q.pattern=Wj),M4.init($,q)}),Nj=Y$("$ZodCheckIncludes",($,q)=>{L6.init($,q);let _=A8(q.includes),P=new RegExp(typeof q.position==="number"?`^.{${q.position}}${_}`:_);q.pattern=P,$._zod.onattach.push((K)=>{let O=K._zod.bag;O.patterns??(O.patterns=new Set),O.patterns.add(P)}),$._zod.check=(K)=>{if(K.value.includes(q.includes,q.position))return;K.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:q.includes,input:K.value,inst:$,continue:!q.abort})}}),Cj=Y$("$ZodCheckStartsWith",($,q)=>{L6.init($,q);let _=new RegExp(`^${A8(q.prefix)}.*`);q.pattern??(q.pattern=_),$._zod.onattach.push((P)=>{let K=P._zod.bag;K.patterns??(K.patterns=new Set),K.patterns.add(_)}),$._zod.check=(P)=>{if(P.value.startsWith(q.prefix))return;P.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:q.prefix,input:P.value,inst:$,continue:!q.abort})}}),Ej=Y$("$ZodCheckEndsWith",($,q)=>{L6.init($,q);let _=new RegExp(`.*${A8(q.suffix)}$`);q.pattern??(q.pattern=_),$._zod.onattach.push((P)=>{let K=P._zod.bag;K.patterns??(K.patterns=new Set),K.patterns.add(_)}),$._zod.check=(P)=>{if(P.value.endsWith(q.suffix))return;P.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:q.suffix,input:P.value,inst:$,continue:!q.abort})}});function tG($,q,_){if($.issues.length)q.issues.push(...z8(_,$.issues))}var Rj=Y$("$ZodCheckProperty",($,q)=>{L6.init($,q),$._zod.check=(_)=>{let P=q.schema._zod.run({value:_.value[q.property],issues:[]},{});if(P instanceof Promise)return P.then((K)=>tG(K,_,q.property));tG(P,_,q.property);return}}),Ij=Y$("$ZodCheckMimeType",($,q)=>{L6.init($,q);let _=new Set(q.mime);$._zod.onattach.push((P)=>{P._zod.bag.mime=q.mime}),$._zod.check=(P)=>{if(_.has(P.value.type))return;P.issues.push({code:"invalid_value",values:q.mime,input:P.value.type,inst:$,continue:!q.abort})}}),hj=Y$("$ZodCheckOverwrite",($,q)=>{L6.init($,q),$._zod.check=(_)=>{_.value=q.tx(_.value)}});class X5{constructor($=[]){if(this.content=[],this.indent=0,this)this.args=$}indented($){this.indent+=1,$(this),this.indent-=1}write($){if(typeof $==="function"){$(this,{execution:"sync"}),$(this,{execution:"async"});return}let _=$.split(`
`).filter((O)=>O),P=Math.min(..._.map((O)=>O.length-O.trimStart().length)),K=_.map((O)=>O.slice(P)).map((O)=>" ".repeat(this.indent*2)+O);for(let O of K)this.content.push(O)}compile(){let $=Function,q=this?.args,P=[...(this?.content??[""]).map((K)=>`  ${K}`)];return new $(...q,P.join(`
`))}}var Dj={major:4,minor:3,patch:5};var O6=Y$("$ZodType",($,q)=>{var _;$??($={}),$._zod.def=q,$._zod.bag=$._zod.bag||{},$._zod.version=Dj;let P=[...$._zod.def.checks??[]];if($._zod.traits.has("$ZodCheck"))P.unshift($);for(let K of P)for(let O of K._zod.onattach)O($);if(P.length===0)(_=$._zod).deferred??(_.deferred=[]),$._zod.deferred?.push(()=>{$._zod.run=$._zod.parse});else{let K=(Y,v,W)=>{let T=$K(Y),Z;for(let w of v){if(w._zod.def.when){if(!w._zod.def.when(Y))continue}else if(T)continue;let k=Y.issues.length,M=w._zod.check(Y);if(M instanceof Promise&&W?.async===!1)throw new e8;if(Z||M instanceof Promise)Z=(Z??Promise.resolve()).then(async()=>{if(await M,Y.issues.length===k)return;if(!T)T=$K(Y,k)});else{if(Y.issues.length===k)continue;if(!T)T=$K(Y,k)}}if(Z)return Z.then(()=>{return Y});return Y},O=(Y,v,W)=>{if($K(Y))return Y.aborted=!0,Y;let T=K(v,P,W);if(T instanceof Promise){if(W.async===!1)throw new e8;return T.then((Z)=>$._zod.parse(Z,W))}return $._zod.parse(T,W)};$._zod.run=(Y,v)=>{if(v.skipChecks)return $._zod.parse(Y,v);if(v.direction==="backward"){let T=$._zod.parse({value:Y.value,issues:[]},{...v,skipChecks:!0});if(T instanceof Promise)return T.then((Z)=>{return O(Z,Y,v)});return O(T,Y,v)}let W=$._zod.parse(Y,v);if(W instanceof Promise){if(v.async===!1)throw new e8;return W.then((T)=>K(T,P,v))}return K(W,P,v)}}Z6($,"~standard",()=>({validate:(K)=>{try{let O=x3($,K);return O.success?{value:O.data}:{issues:O.error?.issues}}catch(O){return p3($,K).then((Y)=>Y.success?{value:Y.data}:{issues:Y.error?.issues})}},vendor:"zod",version:1}))}),DK=Y$("$ZodString",($,q)=>{O6.init($,q),$._zod.pattern=[...$?._zod.bag?.patterns??[]].pop()??Pj($._zod.bag),$._zod.parse=(_,P)=>{if(q.coerce)try{_.value=String(_.value)}catch(K){}if(typeof _.value==="string")return _;return _.issues.push({expected:"string",code:"invalid_type",input:_.value,inst:$}),_}}),I6=Y$("$ZodStringFormat",($,q)=>{M4.init($,q),DK.init($,q)}),gj=Y$("$ZodGUID",($,q)=>{q.pattern??(q.pattern=i3),I6.init($,q)}),bj=Y$("$ZodUUID",($,q)=>{if(q.version){let P={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[q.version];if(P===void 0)throw Error(`Invalid UUID version: "${q.version}"`);q.pattern??(q.pattern=hK(P))}else q.pattern??(q.pattern=hK());I6.init($,q)}),yj=Y$("$ZodEmail",($,q)=>{q.pattern??(q.pattern=B3),I6.init($,q)}),uj=Y$("$ZodURL",($,q)=>{I6.init($,q),$._zod.check=(_)=>{try{let P=_.value.trim(),K=new URL(P);if(q.hostname){if(q.hostname.lastIndex=0,!q.hostname.test(K.hostname))_.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:q.hostname.source,input:_.value,inst:$,continue:!q.abort})}if(q.protocol){if(q.protocol.lastIndex=0,!q.protocol.test(K.protocol.endsWith(":")?K.protocol.slice(0,-1):K.protocol))_.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:q.protocol.source,input:_.value,inst:$,continue:!q.abort})}if(q.normalize)_.value=K.href;else _.value=P;return}catch(P){_.issues.push({code:"invalid_format",format:"url",input:_.value,inst:$,continue:!q.abort})}}}),xj=Y$("$ZodEmoji",($,q)=>{q.pattern??(q.pattern=U3()),I6.init($,q)}),pj=Y$("$ZodNanoID",($,q)=>{q.pattern??(q.pattern=o3),I6.init($,q)}),cj=Y$("$ZodCUID",($,q)=>{q.pattern??(q.pattern=c3),I6.init($,q)}),mj=Y$("$ZodCUID2",($,q)=>{q.pattern??(q.pattern=m3),I6.init($,q)}),dj=Y$("$ZodULID",($,q)=>{q.pattern??(q.pattern=d3),I6.init($,q)}),lj=Y$("$ZodXID",($,q)=>{q.pattern??(q.pattern=l3),I6.init($,q)}),rj=Y$("$ZodKSUID",($,q)=>{q.pattern??(q.pattern=r3),I6.init($,q)}),oj=Y$("$ZodISODateTime",($,q)=>{q.pattern??(q.pattern=Kj(q)),I6.init($,q)}),nj=Y$("$ZodISODate",($,q)=>{q.pattern??(q.pattern=qj),I6.init($,q)}),ij=Y$("$ZodISOTime",($,q)=>{q.pattern??(q.pattern=_j(q)),I6.init($,q)}),Bj=Y$("$ZodISODuration",($,q)=>{q.pattern??(q.pattern=n3),I6.init($,q)}),Uj=Y$("$ZodIPv4",($,q)=>{q.pattern??(q.pattern=t3),I6.init($,q),$._zod.bag.format="ipv4"}),tj=Y$("$ZodIPv6",($,q)=>{q.pattern??(q.pattern=F3),I6.init($,q),$._zod.bag.format="ipv6",$._zod.check=(_)=>{try{new URL(`http://[${_.value}]`)}catch{_.issues.push({code:"invalid_format",format:"ipv6",input:_.value,inst:$,continue:!q.abort})}}}),Fj=Y$("$ZodMAC",($,q)=>{q.pattern??(q.pattern=Q3(q.delimiter)),I6.init($,q),$._zod.bag.format="mac"}),Qj=Y$("$ZodCIDRv4",($,q)=>{q.pattern??(q.pattern=a3),I6.init($,q)}),aj=Y$("$ZodCIDRv6",($,q)=>{q.pattern??(q.pattern=e3),I6.init($,q),$._zod.check=(_)=>{let P=_.value.split("/");try{if(P.length!==2)throw Error();let[K,O]=P;if(!O)throw Error();let Y=Number(O);if(`${Y}`!==O)throw Error();if(Y<0||Y>128)throw Error();new URL(`http://[${K}]`)}catch{_.issues.push({code:"invalid_format",format:"cidrv6",input:_.value,inst:$,continue:!q.abort})}}});function ej($){if($==="")return!0;if($.length%4!==0)return!1;try{return atob($),!0}catch{return!1}}var sj=Y$("$ZodBase64",($,q)=>{q.pattern??(q.pattern=s3),I6.init($,q),$._zod.bag.contentEncoding="base64",$._zod.check=(_)=>{if(ej(_.value))return;_.issues.push({code:"invalid_format",format:"base64",input:_.value,inst:$,continue:!q.abort})}});function vV($){if(!w5.test($))return!1;let q=$.replace(/[-_]/g,(P)=>P==="-"?"+":"/"),_=q.padEnd(Math.ceil(q.length/4)*4,"=");return ej(_)}var $v=Y$("$ZodBase64URL",($,q)=>{q.pattern??(q.pattern=w5),I6.init($,q),$._zod.bag.contentEncoding="base64url",$._zod.check=(_)=>{if(vV(_.value))return;_.issues.push({code:"invalid_format",format:"base64url",input:_.value,inst:$,continue:!q.abort})}}),qv=Y$("$ZodE164",($,q)=>{q.pattern??(q.pattern=$j),I6.init($,q)});function zV($,q=null){try{let _=$.split(".");if(_.length!==3)return!1;let[P]=_;if(!P)return!1;let K=JSON.parse(atob(P));if("typ"in K&&K?.typ!=="JWT")return!1;if(!K.alg)return!1;if(q&&(!("alg"in K)||K.alg!==q))return!1;return!0}catch{return!1}}var _v=Y$("$ZodJWT",($,q)=>{I6.init($,q),$._zod.check=(_)=>{if(zV(_.value,q.alg))return;_.issues.push({code:"invalid_format",format:"jwt",input:_.value,inst:$,continue:!q.abort})}}),Kv=Y$("$ZodCustomStringFormat",($,q)=>{I6.init($,q),$._zod.check=(_)=>{if(q.fn(_.value))return;_.issues.push({code:"invalid_format",format:q.format,input:_.value,inst:$,continue:!q.abort})}}),M5=Y$("$ZodNumber",($,q)=>{O6.init($,q),$._zod.pattern=$._zod.bag.pattern??R1,$._zod.parse=(_,P)=>{if(q.coerce)try{_.value=Number(_.value)}catch(Y){}let K=_.value;if(typeof K==="number"&&!Number.isNaN(K)&&Number.isFinite(K))return _;let O=typeof K==="number"?Number.isNaN(K)?"NaN":!Number.isFinite(K)?"Infinity":void 0:void 0;return _.issues.push({expected:"number",code:"invalid_type",input:K,inst:$,...O?{received:O}:{}}),_}}),Pv=Y$("$ZodNumberFormat",($,q)=>{Tj.init($,q),M5.init($,q)}),D1=Y$("$ZodBoolean",($,q)=>{O6.init($,q),$._zod.pattern=jj,$._zod.parse=(_,P)=>{if(q.coerce)try{_.value=Boolean(_.value)}catch(O){}let K=_.value;if(typeof K==="boolean")return _;return _.issues.push({expected:"boolean",code:"invalid_type",input:K,inst:$}),_}}),N5=Y$("$ZodBigInt",($,q)=>{O6.init($,q),$._zod.pattern=Yj,$._zod.parse=(_,P)=>{if(q.coerce)try{_.value=BigInt(_.value)}catch(K){}if(typeof _.value==="bigint")return _;return _.issues.push({expected:"bigint",code:"invalid_type",input:_.value,inst:$}),_}}),Yv=Y$("$ZodBigIntFormat",($,q)=>{wj.init($,q),N5.init($,q)}),Ov=Y$("$ZodSymbol",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{let K=_.value;if(typeof K==="symbol")return _;return _.issues.push({expected:"symbol",code:"invalid_type",input:K,inst:$}),_}}),jv=Y$("$ZodUndefined",($,q)=>{O6.init($,q),$._zod.pattern=zj,$._zod.values=new Set([void 0]),$._zod.optin="optional",$._zod.optout="optional",$._zod.parse=(_,P)=>{let K=_.value;if(typeof K>"u")return _;return _.issues.push({expected:"undefined",code:"invalid_type",input:K,inst:$}),_}}),vv=Y$("$ZodNull",($,q)=>{O6.init($,q),$._zod.pattern=vj,$._zod.values=new Set([null]),$._zod.parse=(_,P)=>{let K=_.value;if(K===null)return _;return _.issues.push({expected:"null",code:"invalid_type",input:K,inst:$}),_}}),zv=Y$("$ZodAny",($,q)=>{O6.init($,q),$._zod.parse=(_)=>_}),C5=Y$("$ZodUnknown",($,q)=>{O6.init($,q),$._zod.parse=(_)=>_}),L1=Y$("$ZodNever",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{return _.issues.push({expected:"never",code:"invalid_type",input:_.value,inst:$}),_}}),Jv=Y$("$ZodVoid",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{let K=_.value;if(typeof K>"u")return _;return _.issues.push({expected:"void",code:"invalid_type",input:K,inst:$}),_}}),Wv=Y$("$ZodDate",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{if(q.coerce)try{_.value=new Date(_.value)}catch(v){}let K=_.value,O=K instanceof Date;if(O&&!Number.isNaN(K.getTime()))return _;return _.issues.push({expected:"date",code:"invalid_type",input:K,...O?{received:"Invalid Date"}:{},inst:$}),_}});function aG($,q,_){if($.issues.length)q.issues.push(...z8(_,$.issues));q.value[_]=$.value}var Hv=Y$("$ZodArray",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{let K=_.value;if(!Array.isArray(K))return _.issues.push({expected:"array",code:"invalid_type",input:K,inst:$}),_;_.value=Array(K.length);let O=[];for(let Y=0;Y<K.length;Y++){let v=K[Y],W=q.element._zod.run({value:v,issues:[]},P);if(W instanceof Promise)O.push(W.then((T)=>aG(T,_,Y)));else aG(W,_,Y)}if(O.length)return Promise.all(O).then(()=>_);return _}});function S5($,q,_,P,K){if($.issues.length){if(K&&!(_ in P))return;q.issues.push(...z8(_,$.issues))}if($.value===void 0){if(_ in P)q.value[_]=void 0}else q.value[_]=$.value}function JV($){let q=Object.keys($.shape);for(let P of q)if(!$.shape?.[P]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${P}": expected a Zod schema`);let _=L3($.shape);return{...$,keys:q,keySet:new Set(q),numKeys:q.length,optionalKeys:new Set(_)}}function WV($,q,_,P,K,O){let Y=[],v=K.keySet,W=K.catchall._zod,T=W.def.type,Z=W.optout==="optional";for(let w in q){if(v.has(w))continue;if(T==="never"){Y.push(w);continue}let k=W.run({value:q[w],issues:[]},P);if(k instanceof Promise)$.push(k.then((M)=>S5(M,_,w,q,Z)));else S5(k,_,w,q,Z)}if(Y.length)_.issues.push({code:"unrecognized_keys",keys:Y,input:q,inst:O});if(!$.length)return _;return Promise.all($).then(()=>{return _})}var HV=Y$("$ZodObject",($,q)=>{if(O6.init($,q),!Object.getOwnPropertyDescriptor(q,"shape")?.get){let v=q.shape;Object.defineProperty(q,"shape",{get:()=>{let W={...v};return Object.defineProperty(q,"shape",{value:W}),W}})}let P=f4(()=>JV(q));Z6($._zod,"propValues",()=>{let v=q.shape,W={};for(let T in v){let Z=v[T]._zod;if(Z.values){W[T]??(W[T]=new Set);for(let w of Z.values)W[T].add(w)}}return W});let K=IK,O=q.catchall,Y;$._zod.parse=(v,W)=>{Y??(Y=P.value);let T=v.value;if(!K(T))return v.issues.push({expected:"object",code:"invalid_type",input:T,inst:$}),v;v.value={};let Z=[],w=Y.shape;for(let k of Y.keys){let M=w[k],N=M._zod.optout==="optional",R=M._zod.run({value:T[k],issues:[]},W);if(R instanceof Promise)Z.push(R.then((E)=>S5(E,v,k,T,N)));else S5(R,v,k,T,N)}if(!O)return Z.length?Promise.all(Z).then(()=>v):v;return WV(Z,T,v,W,P.value,$)}}),Tv=Y$("$ZodObjectJIT",($,q)=>{HV.init($,q);let _=$._zod.parse,P=f4(()=>JV(q)),K=(k)=>{let M=new X5(["shape","payload","ctx"]),N=P.value,R=(L)=>{let b=P5(L);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};M.write("const input = payload.value;");let E=Object.create(null),D=0;for(let L of N.keys)E[L]=`key_${D++}`;M.write("const newResult = {};");for(let L of N.keys){let b=E[L],y=P5(L),i=k[L]?._zod?.optout==="optional";if(M.write(`const ${b} = ${R(L)};`),i)M.write(`
        if (${b}.issues.length) {
          if (${y} in input) {
            payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${y}, ...iss.path] : [${y}]
            })));
          }
        }
        
        if (${b}.value === undefined) {
          if (${y} in input) {
            newResult[${y}] = undefined;
          }
        } else {
          newResult[${y}] = ${b}.value;
        }
        
      `);else M.write(`
        if (${b}.issues.length) {
          payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${y}, ...iss.path] : [${y}]
          })));
        }
        
        if (${b}.value === undefined) {
          if (${y} in input) {
            newResult[${y}] = undefined;
          }
        } else {
          newResult[${y}] = ${b}.value;
        }
        
      `)}M.write("payload.value = newResult;"),M.write("return payload;");let h=M.compile();return(L,b)=>h(k,L,b)},O,Y=IK,v=!f1.jitless,T=v&&I3.value,Z=q.catchall,w;$._zod.parse=(k,M)=>{w??(w=P.value);let N=k.value;if(!Y(N))return k.issues.push({expected:"object",code:"invalid_type",input:N,inst:$}),k;if(v&&T&&M?.async===!1&&M.jitless!==!0){if(!O)O=K(q.shape);if(k=O(k,M),!Z)return k;return WV([],N,k,M,w,$)}return _(k,M)}});function eG($,q,_,P){for(let O of $)if(O.issues.length===0)return q.value=O.value,q;let K=$.filter((O)=>!$K(O));if(K.length===1)return q.value=K[0].value,K[0];return q.issues.push({code:"invalid_union",input:q.value,inst:_,errors:$.map((O)=>O.issues.map((Y)=>sq(Y,P,U6())))}),q}var g1=Y$("$ZodUnion",($,q)=>{O6.init($,q),Z6($._zod,"optin",()=>q.options.some((K)=>K._zod.optin==="optional")?"optional":void 0),Z6($._zod,"optout",()=>q.options.some((K)=>K._zod.optout==="optional")?"optional":void 0),Z6($._zod,"values",()=>{if(q.options.every((K)=>K._zod.values))return new Set(q.options.flatMap((K)=>Array.from(K._zod.values)));return}),Z6($._zod,"pattern",()=>{if(q.options.every((K)=>K._zod.pattern)){let K=q.options.map((O)=>O._zod.pattern);return new RegExp(`^(${K.map((O)=>k1(O.source)).join("|")})$`)}return});let _=q.options.length===1,P=q.options[0]._zod.run;$._zod.parse=(K,O)=>{if(_)return P(K,O);let Y=!1,v=[];for(let W of q.options){let T=W._zod.run({value:K.value,issues:[]},O);if(T instanceof Promise)v.push(T),Y=!0;else{if(T.issues.length===0)return T;v.push(T)}}if(!Y)return eG(v,K,$,O);return Promise.all(v).then((W)=>{return eG(W,K,$,O)})}});function sG($,q,_,P){let K=$.filter((O)=>O.issues.length===0);if(K.length===1)return q.value=K[0].value,q;if(K.length===0)q.issues.push({code:"invalid_union",input:q.value,inst:_,errors:$.map((O)=>O.issues.map((Y)=>sq(Y,P,U6())))});else q.issues.push({code:"invalid_union",input:q.value,inst:_,errors:[],inclusive:!1});return q}var wv=Y$("$ZodXor",($,q)=>{g1.init($,q),q.inclusive=!1;let _=q.options.length===1,P=q.options[0]._zod.run;$._zod.parse=(K,O)=>{if(_)return P(K,O);let Y=!1,v=[];for(let W of q.options){let T=W._zod.run({value:K.value,issues:[]},O);if(T instanceof Promise)v.push(T),Y=!0;else v.push(T)}if(!Y)return sG(v,K,$,O);return Promise.all(v).then((W)=>{return sG(W,K,$,O)})}}),Zv=Y$("$ZodDiscriminatedUnion",($,q)=>{q.inclusive=!1,g1.init($,q);let _=$._zod.parse;Z6($._zod,"propValues",()=>{let K={};for(let O of q.options){let Y=O._zod.propValues;if(!Y||Object.keys(Y).length===0)throw Error(`Invalid discriminated union option at index "${q.options.indexOf(O)}"`);for(let[v,W]of Object.entries(Y)){if(!K[v])K[v]=new Set;for(let T of W)K[v].add(T)}}return K});let P=f4(()=>{let K=q.options,O=new Map;for(let Y of K){let v=Y._zod.propValues?.[q.discriminator];if(!v||v.size===0)throw Error(`Invalid discriminated union option at index "${q.options.indexOf(Y)}"`);for(let W of v){if(O.has(W))throw Error(`Duplicate discriminator value "${String(W)}"`);O.set(W,Y)}}return O});$._zod.parse=(K,O)=>{let Y=K.value;if(!IK(Y))return K.issues.push({code:"invalid_type",expected:"object",input:Y,inst:$}),K;let v=P.value.get(Y?.[q.discriminator]);if(v)return v._zod.run(K,O);if(q.unionFallback)return _(K,O);return K.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:q.discriminator,input:Y,path:[q.discriminator],inst:$}),K}}),fv=Y$("$ZodIntersection",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{let K=_.value,O=q.left._zod.run({value:K,issues:[]},P),Y=q.right._zod.run({value:K,issues:[]},P);if(O instanceof Promise||Y instanceof Promise)return Promise.all([O,Y]).then(([W,T])=>{return $V(_,W,T)});return $V(_,O,Y)}});function Lj($,q){if($===q)return{valid:!0,data:$};if($ instanceof Date&&q instanceof Date&&+$===+q)return{valid:!0,data:$};if(s_($)&&s_(q)){let _=Object.keys(q),P=Object.keys($).filter((O)=>_.indexOf(O)!==-1),K={...$,...q};for(let O of P){let Y=Lj($[O],q[O]);if(!Y.valid)return{valid:!1,mergeErrorPath:[O,...Y.mergeErrorPath]};K[O]=Y.data}return{valid:!0,data:K}}if(Array.isArray($)&&Array.isArray(q)){if($.length!==q.length)return{valid:!1,mergeErrorPath:[]};let _=[];for(let P=0;P<$.length;P++){let K=$[P],O=q[P],Y=Lj(K,O);if(!Y.valid)return{valid:!1,mergeErrorPath:[P,...Y.mergeErrorPath]};_.push(Y.data)}return{valid:!0,data:_}}return{valid:!1,mergeErrorPath:[]}}function $V($,q,_){let P=new Map,K;for(let v of q.issues)if(v.code==="unrecognized_keys"){K??(K=v);for(let W of v.keys){if(!P.has(W))P.set(W,{});P.get(W).l=!0}}else $.issues.push(v);for(let v of _.issues)if(v.code==="unrecognized_keys")for(let W of v.keys){if(!P.has(W))P.set(W,{});P.get(W).r=!0}else $.issues.push(v);let O=[...P].filter(([,v])=>v.l&&v.r).map(([v])=>v);if(O.length&&K)$.issues.push({...K,keys:O});if($K($))return $;let Y=Lj(q.value,_.value);if(!Y.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(Y.mergeErrorPath)}`);return $.value=Y.data,$}var E5=Y$("$ZodTuple",($,q)=>{O6.init($,q);let _=q.items;$._zod.parse=(P,K)=>{let O=P.value;if(!Array.isArray(O))return P.issues.push({input:O,inst:$,expected:"tuple",code:"invalid_type"}),P;P.value=[];let Y=[],v=[..._].reverse().findIndex((Z)=>Z._zod.optin!=="optional"),W=v===-1?0:_.length-v;if(!q.rest){let Z=O.length>_.length,w=O.length<W-1;if(Z||w)return P.issues.push({...Z?{code:"too_big",maximum:_.length,inclusive:!0}:{code:"too_small",minimum:_.length},input:O,inst:$,origin:"array"}),P}let T=-1;for(let Z of _){if(T++,T>=O.length){if(T>=W)continue}let w=Z._zod.run({value:O[T],issues:[]},K);if(w instanceof Promise)Y.push(w.then((k)=>A5(k,P,T)));else A5(w,P,T)}if(q.rest){let Z=O.slice(_.length);for(let w of Z){T++;let k=q.rest._zod.run({value:w,issues:[]},K);if(k instanceof Promise)Y.push(k.then((M)=>A5(M,P,T)));else A5(k,P,T)}}if(Y.length)return Promise.all(Y).then(()=>P);return P}});function A5($,q,_){if($.issues.length)q.issues.push(...z8(_,$.issues));q.value[_]=$.value}var Xv=Y$("$ZodRecord",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{let K=_.value;if(!s_(K))return _.issues.push({expected:"record",code:"invalid_type",input:K,inst:$}),_;let O=[],Y=q.keyType._zod.values;if(Y){_.value={};let v=new Set;for(let T of Y)if(typeof T==="string"||typeof T==="number"||typeof T==="symbol"){v.add(typeof T==="number"?T.toString():T);let Z=q.valueType._zod.run({value:K[T],issues:[]},P);if(Z instanceof Promise)O.push(Z.then((w)=>{if(w.issues.length)_.issues.push(...z8(T,w.issues));_.value[T]=w.value}));else{if(Z.issues.length)_.issues.push(...z8(T,Z.issues));_.value[T]=Z.value}}let W;for(let T in K)if(!v.has(T))W=W??[],W.push(T);if(W&&W.length>0)_.issues.push({code:"unrecognized_keys",input:K,inst:$,keys:W})}else{_.value={};for(let v of Reflect.ownKeys(K)){if(v==="__proto__")continue;let W=q.keyType._zod.run({value:v,issues:[]},P);if(W instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(typeof v==="string"&&R1.test(v)&&W.issues.length&&W.issues.some((w)=>w.code==="invalid_type"&&w.expected==="number")){let w=q.keyType._zod.run({value:Number(v),issues:[]},P);if(w instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(w.issues.length===0)W=w}if(W.issues.length){if(q.mode==="loose")_.value[v]=K[v];else _.issues.push({code:"invalid_key",origin:"record",issues:W.issues.map((w)=>sq(w,P,U6())),input:v,path:[v],inst:$});continue}let Z=q.valueType._zod.run({value:K[v],issues:[]},P);if(Z instanceof Promise)O.push(Z.then((w)=>{if(w.issues.length)_.issues.push(...z8(v,w.issues));_.value[W.value]=w.value}));else{if(Z.issues.length)_.issues.push(...z8(v,Z.issues));_.value[W.value]=Z.value}}}if(O.length)return Promise.all(O).then(()=>_);return _}}),Av=Y$("$ZodMap",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{let K=_.value;if(!(K instanceof Map))return _.issues.push({expected:"map",code:"invalid_type",input:K,inst:$}),_;let O=[];_.value=new Map;for(let[Y,v]of K){let W=q.keyType._zod.run({value:Y,issues:[]},P),T=q.valueType._zod.run({value:v,issues:[]},P);if(W instanceof Promise||T instanceof Promise)O.push(Promise.all([W,T]).then(([Z,w])=>{qV(Z,w,_,Y,K,$,P)}));else qV(W,T,_,Y,K,$,P)}if(O.length)return Promise.all(O).then(()=>_);return _}});function qV($,q,_,P,K,O,Y){if($.issues.length)if(G1.has(typeof P))_.issues.push(...z8(P,$.issues));else _.issues.push({code:"invalid_key",origin:"map",input:K,inst:O,issues:$.issues.map((v)=>sq(v,Y,U6()))});if(q.issues.length)if(G1.has(typeof P))_.issues.push(...z8(P,q.issues));else _.issues.push({origin:"map",code:"invalid_element",input:K,inst:O,key:P,issues:q.issues.map((v)=>sq(v,Y,U6()))});_.value.set($.value,q.value)}var kv=Y$("$ZodSet",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{let K=_.value;if(!(K instanceof Set))return _.issues.push({input:K,inst:$,expected:"set",code:"invalid_type"}),_;let O=[];_.value=new Set;for(let Y of K){let v=q.valueType._zod.run({value:Y,issues:[]},P);if(v instanceof Promise)O.push(v.then((W)=>_V(W,_)));else _V(v,_)}if(O.length)return Promise.all(O).then(()=>_);return _}});function _V($,q){if($.issues.length)q.issues.push(...$.issues);q.value.add($.value)}var Gv=Y$("$ZodEnum",($,q)=>{O6.init($,q);let _=A1(q.entries),P=new Set(_);$._zod.values=P,$._zod.pattern=new RegExp(`^(${_.filter((K)=>G1.has(typeof K)).map((K)=>typeof K==="string"?A8(K):K.toString()).join("|")})$`),$._zod.parse=(K,O)=>{let Y=K.value;if(P.has(Y))return K;return K.issues.push({code:"invalid_value",values:_,input:Y,inst:$}),K}}),Vv=Y$("$ZodLiteral",($,q)=>{if(O6.init($,q),q.values.length===0)throw Error("Cannot create literal schema with no valid values");let _=new Set(q.values);$._zod.values=_,$._zod.pattern=new RegExp(`^(${q.values.map((P)=>typeof P==="string"?A8(P):P?A8(P.toString()):String(P)).join("|")})$`),$._zod.parse=(P,K)=>{let O=P.value;if(_.has(O))return P;return P.issues.push({code:"invalid_value",values:q.values,input:O,inst:$}),P}}),Sv=Y$("$ZodFile",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{let K=_.value;if(K instanceof File)return _;return _.issues.push({expected:"file",code:"invalid_type",input:K,inst:$}),_}}),Mv=Y$("$ZodTransform",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{if(P.direction==="backward")throw new RK($.constructor.name);let K=q.transform(_.value,_);if(P.async)return(K instanceof Promise?K:Promise.resolve(K)).then((Y)=>{return _.value=Y,_});if(K instanceof Promise)throw new e8;return _.value=K,_}});function KV($,q){if($.issues.length&&q===void 0)return{issues:[],value:void 0};return $}var b1=Y$("$ZodOptional",($,q)=>{O6.init($,q),$._zod.optin="optional",$._zod.optout="optional",Z6($._zod,"values",()=>{return q.innerType._zod.values?new Set([...q.innerType._zod.values,void 0]):void 0}),Z6($._zod,"pattern",()=>{let _=q.innerType._zod.pattern;return _?new RegExp(`^(${k1(_.source)})?$`):void 0}),$._zod.parse=(_,P)=>{if(q.innerType._zod.optin==="optional"){let K=q.innerType._zod.run(_,P);if(K instanceof Promise)return K.then((O)=>KV(O,_.value));return KV(K,_.value)}if(_.value===void 0)return _;return q.innerType._zod.run(_,P)}}),Nv=Y$("$ZodExactOptional",($,q)=>{b1.init($,q),Z6($._zod,"values",()=>q.innerType._zod.values),Z6($._zod,"pattern",()=>q.innerType._zod.pattern),$._zod.parse=(_,P)=>{return q.innerType._zod.run(_,P)}}),Cv=Y$("$ZodNullable",($,q)=>{O6.init($,q),Z6($._zod,"optin",()=>q.innerType._zod.optin),Z6($._zod,"optout",()=>q.innerType._zod.optout),Z6($._zod,"pattern",()=>{let _=q.innerType._zod.pattern;return _?new RegExp(`^(${k1(_.source)}|null)$`):void 0}),Z6($._zod,"values",()=>{return q.innerType._zod.values?new Set([...q.innerType._zod.values,null]):void 0}),$._zod.parse=(_,P)=>{if(_.value===null)return _;return q.innerType._zod.run(_,P)}}),Ev=Y$("$ZodDefault",($,q)=>{O6.init($,q),$._zod.optin="optional",Z6($._zod,"values",()=>q.innerType._zod.values),$._zod.parse=(_,P)=>{if(P.direction==="backward")return q.innerType._zod.run(_,P);if(_.value===void 0)return _.value=q.defaultValue,_;let K=q.innerType._zod.run(_,P);if(K instanceof Promise)return K.then((O)=>PV(O,q));return PV(K,q)}});function PV($,q){if($.value===void 0)$.value=q.defaultValue;return $}var Rv=Y$("$ZodPrefault",($,q)=>{O6.init($,q),$._zod.optin="optional",Z6($._zod,"values",()=>q.innerType._zod.values),$._zod.parse=(_,P)=>{if(P.direction==="backward")return q.innerType._zod.run(_,P);if(_.value===void 0)_.value=q.defaultValue;return q.innerType._zod.run(_,P)}}),Iv=Y$("$ZodNonOptional",($,q)=>{O6.init($,q),Z6($._zod,"values",()=>{let _=q.innerType._zod.values;return _?new Set([..._].filter((P)=>P!==void 0)):void 0}),$._zod.parse=(_,P)=>{let K=q.innerType._zod.run(_,P);if(K instanceof Promise)return K.then((O)=>YV(O,$));return YV(K,$)}});function YV($,q){if(!$.issues.length&&$.value===void 0)$.issues.push({code:"invalid_type",expected:"nonoptional",input:$.value,inst:q});return $}var hv=Y$("$ZodSuccess",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{if(P.direction==="backward")throw new RK("ZodSuccess");let K=q.innerType._zod.run(_,P);if(K instanceof Promise)return K.then((O)=>{return _.value=O.issues.length===0,_});return _.value=K.issues.length===0,_}}),Dv=Y$("$ZodCatch",($,q)=>{O6.init($,q),Z6($._zod,"optin",()=>q.innerType._zod.optin),Z6($._zod,"optout",()=>q.innerType._zod.optout),Z6($._zod,"values",()=>q.innerType._zod.values),$._zod.parse=(_,P)=>{if(P.direction==="backward")return q.innerType._zod.run(_,P);let K=q.innerType._zod.run(_,P);if(K instanceof Promise)return K.then((O)=>{if(_.value=O.value,O.issues.length)_.value=q.catchValue({..._,error:{issues:O.issues.map((Y)=>sq(Y,P,U6()))},input:_.value}),_.issues=[];return _});if(_.value=K.value,K.issues.length)_.value=q.catchValue({..._,error:{issues:K.issues.map((O)=>sq(O,P,U6()))},input:_.value}),_.issues=[];return _}}),Lv=Y$("$ZodNaN",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{if(typeof _.value!=="number"||!Number.isNaN(_.value))return _.issues.push({input:_.value,inst:$,expected:"nan",code:"invalid_type"}),_;return _}}),gv=Y$("$ZodPipe",($,q)=>{O6.init($,q),Z6($._zod,"values",()=>q.in._zod.values),Z6($._zod,"optin",()=>q.in._zod.optin),Z6($._zod,"optout",()=>q.out._zod.optout),Z6($._zod,"propValues",()=>q.in._zod.propValues),$._zod.parse=(_,P)=>{if(P.direction==="backward"){let O=q.out._zod.run(_,P);if(O instanceof Promise)return O.then((Y)=>k5(Y,q.in,P));return k5(O,q.in,P)}let K=q.in._zod.run(_,P);if(K instanceof Promise)return K.then((O)=>k5(O,q.out,P));return k5(K,q.out,P)}});function k5($,q,_){if($.issues.length)return $.aborted=!0,$;return q._zod.run({value:$.value,issues:$.issues},_)}var y1=Y$("$ZodCodec",($,q)=>{O6.init($,q),Z6($._zod,"values",()=>q.in._zod.values),Z6($._zod,"optin",()=>q.in._zod.optin),Z6($._zod,"optout",()=>q.out._zod.optout),Z6($._zod,"propValues",()=>q.in._zod.propValues),$._zod.parse=(_,P)=>{if((P.direction||"forward")==="forward"){let O=q.in._zod.run(_,P);if(O instanceof Promise)return O.then((Y)=>G5(Y,q,P));return G5(O,q,P)}else{let O=q.out._zod.run(_,P);if(O instanceof Promise)return O.then((Y)=>G5(Y,q,P));return G5(O,q,P)}}});function G5($,q,_){if($.issues.length)return $.aborted=!0,$;if((_.direction||"forward")==="forward"){let K=q.transform($.value,$);if(K instanceof Promise)return K.then((O)=>V5($,O,q.out,_));return V5($,K,q.out,_)}else{let K=q.reverseTransform($.value,$);if(K instanceof Promise)return K.then((O)=>V5($,O,q.in,_));return V5($,K,q.in,_)}}function V5($,q,_,P){if($.issues.length)return $.aborted=!0,$;return _._zod.run({value:q,issues:$.issues},P)}var bv=Y$("$ZodReadonly",($,q)=>{O6.init($,q),Z6($._zod,"propValues",()=>q.innerType._zod.propValues),Z6($._zod,"values",()=>q.innerType._zod.values),Z6($._zod,"optin",()=>q.innerType?._zod?.optin),Z6($._zod,"optout",()=>q.innerType?._zod?.optout),$._zod.parse=(_,P)=>{if(P.direction==="backward")return q.innerType._zod.run(_,P);let K=q.innerType._zod.run(_,P);if(K instanceof Promise)return K.then(OV);return OV(K)}});function OV($){return $.value=Object.freeze($.value),$}var yv=Y$("$ZodTemplateLiteral",($,q)=>{O6.init($,q);let _=[];for(let P of q.parts)if(typeof P==="object"&&P!==null){if(!P._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...P._zod.traits].shift()}`);let K=P._zod.pattern instanceof RegExp?P._zod.pattern.source:P._zod.pattern;if(!K)throw Error(`Invalid template literal part: ${P._zod.traits}`);let O=K.startsWith("^")?1:0,Y=K.endsWith("$")?K.length-1:K.length;_.push(K.slice(O,Y))}else if(P===null||D3.has(typeof P))_.push(A8(`${P}`));else throw Error(`Invalid template literal part: ${P}`);$._zod.pattern=new RegExp(`^${_.join("")}$`),$._zod.parse=(P,K)=>{if(typeof P.value!=="string")return P.issues.push({input:P.value,inst:$,expected:"string",code:"invalid_type"}),P;if($._zod.pattern.lastIndex=0,!$._zod.pattern.test(P.value))return P.issues.push({input:P.value,inst:$,code:"invalid_format",format:q.format??"template_literal",pattern:$._zod.pattern.source}),P;return P}}),uv=Y$("$ZodFunction",($,q)=>{return O6.init($,q),$._def=q,$._zod.def=q,$.implement=(_)=>{if(typeof _!=="function")throw Error("implement() must be called with a function");return function(...P){let K=$._def.input?E1($._def.input,P):P,O=Reflect.apply(_,this,K);if($._def.output)return E1($._def.output,O);return O}},$.implementAsync=(_)=>{if(typeof _!=="function")throw Error("implementAsync() must be called with a function");return async function(...P){let K=$._def.input?await G4($._def.input,P):P,O=await Reflect.apply(_,this,K);if($._def.output)return await G4($._def.output,O);return O}},$._zod.parse=(_,P)=>{if(typeof _.value!=="function")return _.issues.push({code:"invalid_type",expected:"function",input:_.value,inst:$}),_;if($._def.output&&$._def.output._zod.def.type==="promise")_.value=$.implementAsync(_.value);else _.value=$.implement(_.value);return _},$.input=(..._)=>{let P=$.constructor;if(Array.isArray(_[0]))return new P({type:"function",input:new E5({type:"tuple",items:_[0],rest:_[1]}),output:$._def.output});return new P({type:"function",input:_[0],output:$._def.output})},$.output=(_)=>{return new $.constructor({type:"function",input:$._def.input,output:_})},$}),xv=Y$("$ZodPromise",($,q)=>{O6.init($,q),$._zod.parse=(_,P)=>{return Promise.resolve(_.value).then((K)=>q.innerType._zod.run({value:K,issues:[]},P))}}),pv=Y$("$ZodLazy",($,q)=>{O6.init($,q),Z6($._zod,"innerType",()=>q.getter()),Z6($._zod,"pattern",()=>$._zod.innerType?._zod?.pattern),Z6($._zod,"propValues",()=>$._zod.innerType?._zod?.propValues),Z6($._zod,"optin",()=>$._zod.innerType?._zod?.optin??void 0),Z6($._zod,"optout",()=>$._zod.innerType?._zod?.optout??void 0),$._zod.parse=(_,P)=>{return $._zod.innerType._zod.run(_,P)}}),cv=Y$("$ZodCustom",($,q)=>{L6.init($,q),O6.init($,q),$._zod.parse=(_,P)=>{return _},$._zod.check=(_)=>{let P=_.value,K=q.fn(P);if(K instanceof Promise)return K.then((O)=>jV(O,_,P,$));jV(K,_,P,$);return}});function jV($,q,_,P){if(!$){let K={code:"custom",input:_,inst:P,path:[...P._zod.def.path??[]],continue:!P._zod.def.abort};if(P._zod.def.params)K.params=P._zod.def.params;q.issues.push(X4(K))}}var m1={};Rq(m1,{zhTW:()=>hz,zhCN:()=>Iz,yo:()=>Dz,vi:()=>Rz,uz:()=>Ez,ur:()=>Cz,uk:()=>c1,ua:()=>Nz,tr:()=>Mz,th:()=>Sz,ta:()=>Vz,sv:()=>Gz,sl:()=>kz,ru:()=>Az,pt:()=>Xz,ps:()=>Zz,pl:()=>fz,ota:()=>wz,no:()=>Tz,nl:()=>Hz,ms:()=>Wz,mk:()=>Jz,lt:()=>zz,ko:()=>vz,km:()=>x1,kh:()=>jz,ka:()=>Oz,ja:()=>Yz,it:()=>Pz,is:()=>Kz,id:()=>_z,hy:()=>qz,hu:()=>$z,he:()=>sv,frCA:()=>ev,fr:()=>av,fi:()=>Qv,fa:()=>Fv,es:()=>tv,eo:()=>Uv,en:()=>u1,de:()=>Bv,da:()=>iv,cs:()=>nv,ca:()=>ov,bg:()=>rv,be:()=>lv,az:()=>dv,ar:()=>mv});var sy=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(K){return $[K]??null}let _={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`  :   instanceof ${K.expected}    ${v}`;return`  :   ${O}    ${v}`}case"invalid_value":if(K.values.length===1)return`  :   ${c$(K.values[0])}`;return`  :     : ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`   :    ${K.origin??""} ${O} ${K.maximum.toString()} ${Y.unit??""}`;return`  :    ${K.origin??""} ${O} ${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`  :   ${K.origin}   ${O} ${K.minimum.toString()} ${Y.unit}`;return`  :   ${K.origin}   ${O} ${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`  :     "${K.prefix}"`;if(O.format==="ends_with")return`  :     "${O.suffix}"`;if(O.format==="includes")return`  :    "${O.includes}"`;if(O.format==="regex")return`  :     ${O.pattern}`;return`${_[O.format]??K.format}  `}case"not_multiple_of":return`  :      ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?"":""} ${K.keys.length>1?"":""}: ${w$(K.keys," ")}`;case"invalid_key":return`    ${K.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${K.origin}`;default:return"  "}}};function mv(){return{localeError:sy()}}var $u=()=>{let $={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function q(K){return $[K]??null}let _={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Yanl dyr: gzlniln instanceof ${K.expected}, daxil olan ${v}`;return`Yanl dyr: gzlniln ${O}, daxil olan ${v}`}case"invalid_value":if(K.values.length===1)return`Yanl dyr: gzlniln ${c$(K.values[0])}`;return`Yanl seim: aadaklardan biri olmaldr: ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`ox byk: gzlniln ${K.origin??"dyr"} ${O}${K.maximum.toString()} ${Y.unit??"element"}`;return`ox byk: gzlniln ${K.origin??"dyr"} ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`ox kiik: gzlniln ${K.origin} ${O}${K.minimum.toString()} ${Y.unit}`;return`ox kiik: gzlniln ${K.origin} ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Yanl mtn: "${O.prefix}" il balamaldr`;if(O.format==="ends_with")return`Yanl mtn: "${O.suffix}" il bitmlidir`;if(O.format==="includes")return`Yanl mtn: "${O.includes}" daxil olmaldr`;if(O.format==="regex")return`Yanl mtn: ${O.pattern} ablonuna uyun olmaldr`;return`Yanl ${_[O.format]??K.format}`}case"not_multiple_of":return`Yanl dd: ${K.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${K.keys.length>1?"lar":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`${K.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${K.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function dv(){return{localeError:$u()}}function TV($,q,_,P){let K=Math.abs($),O=K%10,Y=K%100;if(Y>=11&&Y<=19)return P;if(O===1)return q;if(O>=2&&O<=4)return _;return P}var qu=()=>{let $={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function q(K){return $[K]??null}let _={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :  instanceof ${K.expected},  ${v}`;return` :  ${O},  ${v}`}case"invalid_value":if(K.values.length===1)return` :  ${c$(K.values[0])}`;return` :    ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y){let v=Number(K.maximum),W=TV(v,Y.unit.one,Y.unit.few,Y.unit.many);return` : ,  ${K.origin??""}  ${Y.verb} ${O}${K.maximum.toString()} ${W}`}return` : ,  ${K.origin??""}   ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y){let v=Number(K.minimum),W=TV(v,Y.unit.one,Y.unit.few,Y.unit.many);return` : ,  ${K.origin}  ${Y.verb} ${O}${K.minimum.toString()} ${W}`}return` : ,  ${K.origin}   ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` :    "${O.prefix}"`;if(O.format==="ends_with")return` :    "${O.suffix}"`;if(O.format==="includes")return` :   "${O.includes}"`;if(O.format==="regex")return` :    ${O.pattern}`;return` ${_[O.format]??K.format}`}case"not_multiple_of":return` :    ${K.divisor}`;case"unrecognized_keys":return` ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`   ${K.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${K.origin}`;default:return" "}}};function lv(){return{localeError:qu()}}var _u=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(K){return $[K]??null}let _={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :  instanceof ${K.expected},  ${v}`;return` :  ${O},  ${v}`}case"invalid_value":if(K.values.length===1)return` :  ${c$(K.values[0])}`;return` :    ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` :   ${K.origin??""}   ${O}${K.maximum.toString()} ${Y.unit??""}`;return` :   ${K.origin??""}   ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` :   ${K.origin}   ${O}${K.minimum.toString()} ${Y.unit}`;return` :   ${K.origin}   ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` :     "${O.prefix}"`;if(O.format==="ends_with")return` :     "${O.suffix}"`;if(O.format==="includes")return` :    "${O.includes}"`;if(O.format==="regex")return` :     ${O.pattern}`;let Y="";if(O.format==="emoji")Y="";if(O.format==="datetime")Y="";if(O.format==="date")Y="";if(O.format==="time")Y="";if(O.format==="duration")Y="";return`${Y} ${_[O.format]??K.format}`}case"not_multiple_of":return` :      ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?"":""} ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`   ${K.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${K.origin}`;default:return" "}}};function rv(){return{localeError:_u()}}var Ku=()=>{let $={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function q(K){return $[K]??null}let _={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Tipus invlid: s'esperava instanceof ${K.expected}, s'ha rebut ${v}`;return`Tipus invlid: s'esperava ${O}, s'ha rebut ${v}`}case"invalid_value":if(K.values.length===1)return`Valor invlid: s'esperava ${c$(K.values[0])}`;return`Opci invlida: s'esperava una de ${w$(K.values," o ")}`;case"too_big":{let O=K.inclusive?"com a mxim":"menys de",Y=q(K.origin);if(Y)return`Massa gran: s'esperava que ${K.origin??"el valor"} contingus ${O} ${K.maximum.toString()} ${Y.unit??"elements"}`;return`Massa gran: s'esperava que ${K.origin??"el valor"} fos ${O} ${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?"com a mnim":"ms de",Y=q(K.origin);if(Y)return`Massa petit: s'esperava que ${K.origin} contingus ${O} ${K.minimum.toString()} ${Y.unit}`;return`Massa petit: s'esperava que ${K.origin} fos ${O} ${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Format invlid: ha de comenar amb "${O.prefix}"`;if(O.format==="ends_with")return`Format invlid: ha d'acabar amb "${O.suffix}"`;if(O.format==="includes")return`Format invlid: ha d'incloure "${O.includes}"`;if(O.format==="regex")return`Format invlid: ha de coincidir amb el patr ${O.pattern}`;return`Format invlid per a ${_[O.format]??K.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${K.divisor}`;case"unrecognized_keys":return`Clau${K.keys.length>1?"s":""} no reconeguda${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Clau invlida a ${K.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${K.origin}`;default:return"Entrada invlida"}}};function ov(){return{localeError:Ku()}}var Pu=()=>{let $={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function q(K){return $[K]??null}let _={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},P={nan:"NaN",number:"slo",string:"etzec",function:"funkce",array:"pole"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Neplatn vstup: oekvno instanceof ${K.expected}, obdreno ${v}`;return`Neplatn vstup: oekvno ${O}, obdreno ${v}`}case"invalid_value":if(K.values.length===1)return`Neplatn vstup: oekvno ${c$(K.values[0])}`;return`Neplatn monost: oekvna jedna z hodnot ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Hodnota je pli velk: ${K.origin??"hodnota"} mus mt ${O}${K.maximum.toString()} ${Y.unit??"prvk"}`;return`Hodnota je pli velk: ${K.origin??"hodnota"} mus bt ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Hodnota je pli mal: ${K.origin??"hodnota"} mus mt ${O}${K.minimum.toString()} ${Y.unit??"prvk"}`;return`Hodnota je pli mal: ${K.origin??"hodnota"} mus bt ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Neplatn etzec: mus zanat na "${O.prefix}"`;if(O.format==="ends_with")return`Neplatn etzec: mus konit na "${O.suffix}"`;if(O.format==="includes")return`Neplatn etzec: mus obsahovat "${O.includes}"`;if(O.format==="regex")return`Neplatn etzec: mus odpovdat vzoru ${O.pattern}`;return`Neplatn formt ${_[O.format]??K.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${K.divisor}`;case"unrecognized_keys":return`Neznm kle: ${w$(K.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${K.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${K.origin}`;default:return"Neplatn vstup"}}};function nv(){return{localeError:Pu()}}var Yu=()=>{let $={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function q(K){return $[K]??null}let _={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},P={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Ugyldigt input: forventede instanceof ${K.expected}, fik ${v}`;return`Ugyldigt input: forventede ${O}, fik ${v}`}case"invalid_value":if(K.values.length===1)return`Ugyldig vrdi: forventede ${c$(K.values[0])}`;return`Ugyldigt valg: forventede en af flgende ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin),v=P[K.origin]??K.origin;if(Y)return`For stor: forventede ${v??"value"} ${Y.verb} ${O} ${K.maximum.toString()} ${Y.unit??"elementer"}`;return`For stor: forventede ${v??"value"} havde ${O} ${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin),v=P[K.origin]??K.origin;if(Y)return`For lille: forventede ${v} ${Y.verb} ${O} ${K.minimum.toString()} ${Y.unit}`;return`For lille: forventede ${v} havde ${O} ${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Ugyldig streng: skal starte med "${O.prefix}"`;if(O.format==="ends_with")return`Ugyldig streng: skal ende med "${O.suffix}"`;if(O.format==="includes")return`Ugyldig streng: skal indeholde "${O.includes}"`;if(O.format==="regex")return`Ugyldig streng: skal matche mnsteret ${O.pattern}`;return`Ugyldig ${_[O.format]??K.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${w$(K.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${K.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${K.origin}`;default:return"Ugyldigt input"}}};function iv(){return{localeError:Yu()}}var Ou=()=>{let $={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function q(K){return $[K]??null}let _={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},P={nan:"NaN",number:"Zahl",array:"Array"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Ungltige Eingabe: erwartet instanceof ${K.expected}, erhalten ${v}`;return`Ungltige Eingabe: erwartet ${O}, erhalten ${v}`}case"invalid_value":if(K.values.length===1)return`Ungltige Eingabe: erwartet ${c$(K.values[0])}`;return`Ungltige Option: erwartet eine von ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Zu gro: erwartet, dass ${K.origin??"Wert"} ${O}${K.maximum.toString()} ${Y.unit??"Elemente"} hat`;return`Zu gro: erwartet, dass ${K.origin??"Wert"} ${O}${K.maximum.toString()} ist`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Zu klein: erwartet, dass ${K.origin} ${O}${K.minimum.toString()} ${Y.unit} hat`;return`Zu klein: erwartet, dass ${K.origin} ${O}${K.minimum.toString()} ist`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Ungltiger String: muss mit "${O.prefix}" beginnen`;if(O.format==="ends_with")return`Ungltiger String: muss mit "${O.suffix}" enden`;if(O.format==="includes")return`Ungltiger String: muss "${O.includes}" enthalten`;if(O.format==="regex")return`Ungltiger String: muss dem Muster ${O.pattern} entsprechen`;return`Ungltig: ${_[O.format]??K.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${K.divisor} sein`;case"unrecognized_keys":return`${K.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${w$(K.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${K.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${K.origin}`;default:return"Ungltige Eingabe"}}};function Bv(){return{localeError:Ou()}}var ju=()=>{let $={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function q(K){return $[K]??null}let _={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;return`Invalid input: expected ${O}, received ${v}`}case"invalid_value":if(K.values.length===1)return`Invalid input: expected ${c$(K.values[0])}`;return`Invalid option: expected one of ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Too big: expected ${K.origin??"value"} to have ${O}${K.maximum.toString()} ${Y.unit??"elements"}`;return`Too big: expected ${K.origin??"value"} to be ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Too small: expected ${K.origin} to have ${O}${K.minimum.toString()} ${Y.unit}`;return`Too small: expected ${K.origin} to be ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Invalid string: must start with "${O.prefix}"`;if(O.format==="ends_with")return`Invalid string: must end with "${O.suffix}"`;if(O.format==="includes")return`Invalid string: must include "${O.includes}"`;if(O.format==="regex")return`Invalid string: must match pattern ${O.pattern}`;return`Invalid ${_[O.format]??K.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${K.divisor}`;case"unrecognized_keys":return`Unrecognized key${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Invalid key in ${K.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${K.origin}`;default:return"Invalid input"}}};function u1(){return{localeError:ju()}}var vu=()=>{let $={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function q(K){return $[K]??null}let _={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},P={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Nevalida enigo: atendiis instanceof ${K.expected}, riceviis ${v}`;return`Nevalida enigo: atendiis ${O}, riceviis ${v}`}case"invalid_value":if(K.values.length===1)return`Nevalida enigo: atendiis ${c$(K.values[0])}`;return`Nevalida opcio: atendiis unu el ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Tro granda: atendiis ke ${K.origin??"valoro"} havu ${O}${K.maximum.toString()} ${Y.unit??"elementojn"}`;return`Tro granda: atendiis ke ${K.origin??"valoro"} havu ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Tro malgranda: atendiis ke ${K.origin} havu ${O}${K.minimum.toString()} ${Y.unit}`;return`Tro malgranda: atendiis ke ${K.origin} estu ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Nevalida karaktraro: devas komencii per "${O.prefix}"`;if(O.format==="ends_with")return`Nevalida karaktraro: devas finii per "${O.suffix}"`;if(O.format==="includes")return`Nevalida karaktraro: devas inkluzivi "${O.includes}"`;if(O.format==="regex")return`Nevalida karaktraro: devas kongrui kun la modelo ${O.pattern}`;return`Nevalida ${_[O.format]??K.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${K.divisor}`;case"unrecognized_keys":return`Nekonata${K.keys.length>1?"j":""} losilo${K.keys.length>1?"j":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${K.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${K.origin}`;default:return"Nevalida enigo"}}};function Uv(){return{localeError:vu()}}var zu=()=>{let $={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function q(K){return $[K]??null}let _={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},P={nan:"NaN",string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Entrada invlida: se esperaba instanceof ${K.expected}, recibido ${v}`;return`Entrada invlida: se esperaba ${O}, recibido ${v}`}case"invalid_value":if(K.values.length===1)return`Entrada invlida: se esperaba ${c$(K.values[0])}`;return`Opcin invlida: se esperaba una de ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin),v=P[K.origin]??K.origin;if(Y)return`Demasiado grande: se esperaba que ${v??"valor"} tuviera ${O}${K.maximum.toString()} ${Y.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${v??"valor"} fuera ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin),v=P[K.origin]??K.origin;if(Y)return`Demasiado pequeo: se esperaba que ${v} tuviera ${O}${K.minimum.toString()} ${Y.unit}`;return`Demasiado pequeo: se esperaba que ${v} fuera ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Cadena invlida: debe comenzar con "${O.prefix}"`;if(O.format==="ends_with")return`Cadena invlida: debe terminar en "${O.suffix}"`;if(O.format==="includes")return`Cadena invlida: debe incluir "${O.includes}"`;if(O.format==="regex")return`Cadena invlida: debe coincidir con el patrn ${O.pattern}`;return`Invlido ${_[O.format]??K.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${K.divisor}`;case"unrecognized_keys":return`Llave${K.keys.length>1?"s":""} desconocida${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Llave invlida en ${P[K.origin]??K.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${P[K.origin]??K.origin}`;default:return"Entrada invlida"}}};function tv(){return{localeError:zu()}}var Ju=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(K){return $[K]??null}let _={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :  instanceof ${K.expected}  ${v}  `;return` :  ${O}  ${v}  `}case"invalid_value":if(K.values.length===1)return` :  ${c$(K.values[0])} `;return` :    ${w$(K.values,"|")} `;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` : ${K.origin??""}  ${O}${K.maximum.toString()} ${Y.unit??""} `;return` : ${K.origin??""}  ${O}${K.maximum.toString()} `}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` : ${K.origin}  ${O}${K.minimum.toString()} ${Y.unit} `;return` : ${K.origin}  ${O}${K.minimum.toString()} `}case"invalid_format":{let O=K;if(O.format==="starts_with")return` :   "${O.prefix}"  `;if(O.format==="ends_with")return` :   "${O.suffix}"  `;if(O.format==="includes")return` :   "${O.includes}" `;if(O.format==="regex")return` :    ${O.pattern}   `;return`${_[O.format]??K.format} `}case"not_multiple_of":return` :   ${K.divisor} `;case"unrecognized_keys":return`${K.keys.length>1?"":""} : ${w$(K.keys,", ")}`;case"invalid_key":return`   ${K.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${K.origin}`;default:return" "}}};function Fv(){return{localeError:Ju()}}var Wu=()=>{let $={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function q(K){return $[K]??null}let _={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Virheellinen tyyppi: odotettiin instanceof ${K.expected}, oli ${v}`;return`Virheellinen tyyppi: odotettiin ${O}, oli ${v}`}case"invalid_value":if(K.values.length===1)return`Virheellinen syte: tytyy olla ${c$(K.values[0])}`;return`Virheellinen valinta: tytyy olla yksi seuraavista: ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Liian suuri: ${Y.subject} tytyy olla ${O}${K.maximum.toString()} ${Y.unit}`.trim();return`Liian suuri: arvon tytyy olla ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Liian pieni: ${Y.subject} tytyy olla ${O}${K.minimum.toString()} ${Y.unit}`.trim();return`Liian pieni: arvon tytyy olla ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Virheellinen syte: tytyy alkaa "${O.prefix}"`;if(O.format==="ends_with")return`Virheellinen syte: tytyy loppua "${O.suffix}"`;if(O.format==="includes")return`Virheellinen syte: tytyy sislt "${O.includes}"`;if(O.format==="regex")return`Virheellinen syte: tytyy vastata snnllist lauseketta ${O.pattern}`;return`Virheellinen ${_[O.format]??K.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${K.divisor} monikerta`;case"unrecognized_keys":return`${K.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${w$(K.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function Qv(){return{localeError:Wu()}}var Hu=()=>{let $={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function q(K){return $[K]??null}let _={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},P={nan:"NaN",number:"nombre",array:"tableau"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Entre invalide : instanceof ${K.expected} attendu, ${v} reu`;return`Entre invalide : ${O} attendu, ${v} reu`}case"invalid_value":if(K.values.length===1)return`Entre invalide : ${c$(K.values[0])} attendu`;return`Option invalide : une valeur parmi ${w$(K.values,"|")} attendue`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Trop grand : ${K.origin??"valeur"} doit ${Y.verb} ${O}${K.maximum.toString()} ${Y.unit??"lment(s)"}`;return`Trop grand : ${K.origin??"valeur"} doit tre ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Trop petit : ${K.origin} doit ${Y.verb} ${O}${K.minimum.toString()} ${Y.unit}`;return`Trop petit : ${K.origin} doit tre ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Chane invalide : doit commencer par "${O.prefix}"`;if(O.format==="ends_with")return`Chane invalide : doit se terminer par "${O.suffix}"`;if(O.format==="includes")return`Chane invalide : doit inclure "${O.includes}"`;if(O.format==="regex")return`Chane invalide : doit correspondre au modle ${O.pattern}`;return`${_[O.format]??K.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${K.divisor}`;case"unrecognized_keys":return`Cl${K.keys.length>1?"s":""} non reconnue${K.keys.length>1?"s":""} : ${w$(K.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${K.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${K.origin}`;default:return"Entre invalide"}}};function av(){return{localeError:Hu()}}var Tu=()=>{let $={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function q(K){return $[K]??null}let _={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Entre invalide : attendu instanceof ${K.expected}, reu ${v}`;return`Entre invalide : attendu ${O}, reu ${v}`}case"invalid_value":if(K.values.length===1)return`Entre invalide : attendu ${c$(K.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"":"<",Y=q(K.origin);if(Y)return`Trop grand : attendu que ${K.origin??"la valeur"} ait ${O}${K.maximum.toString()} ${Y.unit}`;return`Trop grand : attendu que ${K.origin??"la valeur"} soit ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?"":">",Y=q(K.origin);if(Y)return`Trop petit : attendu que ${K.origin} ait ${O}${K.minimum.toString()} ${Y.unit}`;return`Trop petit : attendu que ${K.origin} soit ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Chane invalide : doit commencer par "${O.prefix}"`;if(O.format==="ends_with")return`Chane invalide : doit se terminer par "${O.suffix}"`;if(O.format==="includes")return`Chane invalide : doit inclure "${O.includes}"`;if(O.format==="regex")return`Chane invalide : doit correspondre au motif ${O.pattern}`;return`${_[O.format]??K.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${K.divisor}`;case"unrecognized_keys":return`Cl${K.keys.length>1?"s":""} non reconnue${K.keys.length>1?"s":""} : ${w$(K.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${K.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${K.origin}`;default:return"Entre invalide"}}};function ev(){return{localeError:Tu()}}var wu=()=>{let $={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},q={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},_=(T)=>T?$[T]:void 0,P=(T)=>{let Z=_(T);if(Z)return Z.label;return T??$.unknown.label},K=(T)=>`${P(T)}`,O=(T)=>{return(_(T)?.gender??"m")==="f"?" ":" "},Y=(T)=>{if(!T)return null;return q[T]??null},v={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},W={nan:"NaN"};return(T)=>{switch(T.code){case"invalid_type":{let Z=T.expected,w=W[Z??""]??P(Z),k=d$(T.input),M=W[k]??$[k]?.label??k;if(/^[A-Z]/.test(T.expected))return`  :   instanceof ${T.expected},  ${M}`;return`  :   ${w},  ${M}`}case"invalid_value":{if(T.values.length===1)return`  :    ${c$(T.values[0])}`;let Z=T.values.map((M)=>c$(M));if(T.values.length===2)return`  :    ${Z[0]}  ${Z[1]}`;let w=Z[Z.length-1];return`  :    ${Z.slice(0,-1).join(", ")}  ${w}`}case"too_big":{let Z=Y(T.origin),w=K(T.origin??"value");if(T.origin==="string")return`${Z?.longLabel??""} : ${w}   ${T.maximum.toString()} ${Z?.unit??""} ${T.inclusive?" ":" "}`.trim();if(T.origin==="number"){let N=T.inclusive?`   -${T.maximum}`:` -${T.maximum}`;return` : ${w}   ${N}`}if(T.origin==="array"||T.origin==="set"){let N=T.origin==="set"?"":"",R=T.inclusive?`${T.maximum} ${Z?.unit??""}  `:` -${T.maximum} ${Z?.unit??""}`;return` : ${w} ${N}  ${R}`.trim()}let k=T.inclusive?"<=":"<",M=O(T.origin??"value");if(Z?.unit)return`${Z.longLabel} : ${w} ${M} ${k}${T.maximum.toString()} ${Z.unit}`;return`${Z?.longLabel??""} : ${w} ${M} ${k}${T.maximum.toString()}`}case"too_small":{let Z=Y(T.origin),w=K(T.origin??"value");if(T.origin==="string")return`${Z?.shortLabel??""} : ${w}   ${T.minimum.toString()} ${Z?.unit??""} ${T.inclusive?" ":""}`.trim();if(T.origin==="number"){let N=T.inclusive?`   -${T.minimum}`:` -${T.minimum}`;return` : ${w}   ${N}`}if(T.origin==="array"||T.origin==="set"){let N=T.origin==="set"?"":"";if(T.minimum===1&&T.inclusive){let E=T.origin==="set"?"  ":"  ";return` : ${w} ${N}  ${E}`}let R=T.inclusive?`${T.minimum} ${Z?.unit??""}  `:` -${T.minimum} ${Z?.unit??""}`;return` : ${w} ${N}  ${R}`.trim()}let k=T.inclusive?">=":">",M=O(T.origin??"value");if(Z?.unit)return`${Z.shortLabel} : ${w} ${M} ${k}${T.minimum.toString()} ${Z.unit}`;return`${Z?.shortLabel??""} : ${w} ${M} ${k}${T.minimum.toString()}`}case"invalid_format":{let Z=T;if(Z.format==="starts_with")return`    "${Z.prefix}"`;if(Z.format==="ends_with")return`    "${Z.suffix}"`;if(Z.format==="includes")return`   "${Z.includes}"`;if(Z.format==="regex")return`    ${Z.pattern}`;let w=v[Z.format],k=w?.label??Z.format,N=(w?.gender??"m")==="f"?"":"";return`${k}  ${N}`}case"not_multiple_of":return`  :     ${T.divisor}`;case"unrecognized_keys":return`${T.keys.length>1?"":""}  ${T.keys.length>1?"":""}: ${w$(T.keys,", ")}`;case"invalid_key":return"   ";case"invalid_union":return"  ";case"invalid_element":return`   ${K(T.origin??"array")}`;default:return"  "}}};function sv(){return{localeError:wu()}}var Zu=()=>{let $={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function q(K){return $[K]??null}let _={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},P={nan:"NaN",number:"szm",array:"tmb"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`rvnytelen bemenet: a vrt rtk instanceof ${K.expected}, a kapott rtk ${v}`;return`rvnytelen bemenet: a vrt rtk ${O}, a kapott rtk ${v}`}case"invalid_value":if(K.values.length===1)return`rvnytelen bemenet: a vrt rtk ${c$(K.values[0])}`;return`rvnytelen opci: valamelyik rtk vrt ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Tl nagy: ${K.origin??"rtk"} mrete tl nagy ${O}${K.maximum.toString()} ${Y.unit??"elem"}`;return`Tl nagy: a bemeneti rtk ${K.origin??"rtk"} tl nagy: ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Tl kicsi: a bemeneti rtk ${K.origin} mrete tl kicsi ${O}${K.minimum.toString()} ${Y.unit}`;return`Tl kicsi: a bemeneti rtk ${K.origin} tl kicsi ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`rvnytelen string: "${O.prefix}" rtkkel kell kezddnie`;if(O.format==="ends_with")return`rvnytelen string: "${O.suffix}" rtkkel kell vgzdnie`;if(O.format==="includes")return`rvnytelen string: "${O.includes}" rtket kell tartalmaznia`;if(O.format==="regex")return`rvnytelen string: ${O.pattern} mintnak kell megfelelnie`;return`rvnytelen ${_[O.format]??K.format}`}case"not_multiple_of":return`rvnytelen szm: ${K.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${K.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${K.origin}`;default:return"rvnytelen bemenet"}}};function $z(){return{localeError:Zu()}}function wV($,q,_){return Math.abs($)===1?q:_}function N4($){if(!$)return"";let q=["","","","","","",""],_=$[$.length-1];return $+(q.includes(_)?"":"")}var fu=()=>{let $={string:{unit:{one:"",many:""},verb:""},file:{unit:{one:"",many:""},verb:""},array:{unit:{one:"",many:""},verb:""},set:{unit:{one:"",many:""},verb:""}};function q(K){return $[K]??null}let _={regex:"",email:". ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`    instanceof ${K.expected},   ${v}`;return`    ${O},   ${v}`}case"invalid_value":if(K.values.length===1)return`    ${c$(K.values[1])}`;return`      ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y){let v=Number(K.maximum),W=wV(v,Y.unit.one,Y.unit.many);return`    ,  ${N4(K.origin??"")}  ${O}${K.maximum.toString()} ${W}`}return`    ,  ${N4(K.origin??"")}  ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y){let v=Number(K.minimum),W=wV(v,Y.unit.one,Y.unit.many);return`    ,  ${N4(K.origin)}  ${O}${K.minimum.toString()} ${W}`}return`    ,  ${N4(K.origin)}  ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`     "${O.prefix}"-`;if(O.format==="ends_with")return`     "${O.suffix}"-`;if(O.format==="includes")return`     "${O.includes}"`;if(O.format==="regex")return`     ${O.pattern} `;return` ${_[O.format]??K.format}`}case"not_multiple_of":return`      ${K.divisor}-`;case"unrecognized_keys":return` ${K.keys.length>1?"":""}. ${w$(K.keys,", ")}`;case"invalid_key":return`  ${N4(K.origin)}-`;case"invalid_union":return" ";case"invalid_element":return`  ${N4(K.origin)}-`;default:return" "}}};function qz(){return{localeError:fu()}}var Xu=()=>{let $={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function q(K){return $[K]??null}let _={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Input tidak valid: diharapkan instanceof ${K.expected}, diterima ${v}`;return`Input tidak valid: diharapkan ${O}, diterima ${v}`}case"invalid_value":if(K.values.length===1)return`Input tidak valid: diharapkan ${c$(K.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Terlalu besar: diharapkan ${K.origin??"value"} memiliki ${O}${K.maximum.toString()} ${Y.unit??"elemen"}`;return`Terlalu besar: diharapkan ${K.origin??"value"} menjadi ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Terlalu kecil: diharapkan ${K.origin} memiliki ${O}${K.minimum.toString()} ${Y.unit}`;return`Terlalu kecil: diharapkan ${K.origin} menjadi ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`String tidak valid: harus dimulai dengan "${O.prefix}"`;if(O.format==="ends_with")return`String tidak valid: harus berakhir dengan "${O.suffix}"`;if(O.format==="includes")return`String tidak valid: harus menyertakan "${O.includes}"`;if(O.format==="regex")return`String tidak valid: harus sesuai pola ${O.pattern}`;return`${_[O.format]??K.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${K.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${K.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${K.origin}`;default:return"Input tidak valid"}}};function _z(){return{localeError:Xu()}}var Au=()=>{let $={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function q(K){return $[K]??null}let _={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},P={nan:"NaN",number:"nmer",array:"fylki"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Rangt gildi:  slst inn ${v} ar sem  a vera instanceof ${K.expected}`;return`Rangt gildi:  slst inn ${v} ar sem  a vera ${O}`}case"invalid_value":if(K.values.length===1)return`Rangt gildi: gert r fyrir ${c$(K.values[0])}`;return`gilt val: m vera eitt af eftirfarandi ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Of strt: gert er r fyrir a ${K.origin??"gildi"} hafi ${O}${K.maximum.toString()} ${Y.unit??"hluti"}`;return`Of strt: gert er r fyrir a ${K.origin??"gildi"} s ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Of lti: gert er r fyrir a ${K.origin} hafi ${O}${K.minimum.toString()} ${Y.unit}`;return`Of lti: gert er r fyrir a ${K.origin} s ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`gildur strengur: verur a byrja  "${O.prefix}"`;if(O.format==="ends_with")return`gildur strengur: verur a enda  "${O.suffix}"`;if(O.format==="includes")return`gildur strengur: verur a innihalda "${O.includes}"`;if(O.format==="regex")return`gildur strengur: verur a fylgja mynstri ${O.pattern}`;return`Rangt ${_[O.format]??K.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${K.divisor}`;case"unrecognized_keys":return`ekkt ${K.keys.length>1?"ir lyklar":"ur lykill"}: ${w$(K.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${K.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${K.origin}`;default:return"Rangt gildi"}}};function Kz(){return{localeError:Au()}}var ku=()=>{let $={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function q(K){return $[K]??null}let _={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},P={nan:"NaN",number:"numero",array:"vettore"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Input non valido: atteso instanceof ${K.expected}, ricevuto ${v}`;return`Input non valido: atteso ${O}, ricevuto ${v}`}case"invalid_value":if(K.values.length===1)return`Input non valido: atteso ${c$(K.values[0])}`;return`Opzione non valida: atteso uno tra ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Troppo grande: ${K.origin??"valore"} deve avere ${O}${K.maximum.toString()} ${Y.unit??"elementi"}`;return`Troppo grande: ${K.origin??"valore"} deve essere ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Troppo piccolo: ${K.origin} deve avere ${O}${K.minimum.toString()} ${Y.unit}`;return`Troppo piccolo: ${K.origin} deve essere ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Stringa non valida: deve iniziare con "${O.prefix}"`;if(O.format==="ends_with")return`Stringa non valida: deve terminare con "${O.suffix}"`;if(O.format==="includes")return`Stringa non valida: deve includere "${O.includes}"`;if(O.format==="regex")return`Stringa non valida: deve corrispondere al pattern ${O.pattern}`;return`Invalid ${_[O.format]??K.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${K.divisor}`;case"unrecognized_keys":return`Chiav${K.keys.length>1?"i":"e"} non riconosciut${K.keys.length>1?"e":"a"}: ${w$(K.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${K.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${K.origin}`;default:return"Input non valido"}}};function Pz(){return{localeError:ku()}}var Gu=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(K){return $[K]??null}let _={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`: instanceof ${K.expected}${v}`;return`: ${O}${v}`}case"invalid_value":if(K.values.length===1)return`: ${c$(K.values[0])}`;return`: ${w$(K.values,"")}`;case"too_big":{let O=K.inclusive?"":"",Y=q(K.origin);if(Y)return`: ${K.origin??""}${K.maximum.toString()}${Y.unit??""}${O}`;return`: ${K.origin??""}${K.maximum.toString()}${O}`}case"too_small":{let O=K.inclusive?"":"",Y=q(K.origin);if(Y)return`: ${K.origin}${K.minimum.toString()}${Y.unit}${O}`;return`: ${K.origin}${K.minimum.toString()}${O}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`: "${O.prefix}"`;if(O.format==="ends_with")return`: "${O.suffix}"`;if(O.format==="includes")return`: "${O.includes}"`;if(O.format==="regex")return`: ${O.pattern}`;return`${_[O.format]??K.format}`}case"not_multiple_of":return`: ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?"":""}: ${w$(K.keys,"")}`;case"invalid_key":return`${K.origin}`;case"invalid_union":return"";case"invalid_element":return`${K.origin}`;default:return""}}};function Yz(){return{localeError:Gu()}}var Vu=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(K){return $[K]??null}let _={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",string:"",boolean:"",function:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :  instanceof ${K.expected},  ${v}`;return` :  ${O},  ${v}`}case"invalid_value":if(K.values.length===1)return` :  ${c$(K.values[0])}`;return` :  - ${w$(K.values,"|")}-`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` :  ${K.origin??""} ${Y.verb} ${O}${K.maximum.toString()} ${Y.unit}`;return` :  ${K.origin??""}  ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` :  ${K.origin} ${Y.verb} ${O}${K.minimum.toString()} ${Y.unit}`;return` :  ${K.origin}  ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` :   "${O.prefix}"-`;if(O.format==="ends_with")return` :   "${O.suffix}"-`;if(O.format==="includes")return` :   "${O.includes}"-`;if(O.format==="regex")return` :    ${O.pattern}`;return` ${_[O.format]??K.format}`}case"not_multiple_of":return` :   ${K.divisor}- `;case"unrecognized_keys":return` ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`  ${K.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${K.origin}-`;default:return" "}}};function Oz(){return{localeError:Vu()}}var Su=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(K){return $[K]??null}let _={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`  instanceof ${K.expected}  ${v}`;return`  ${O}  ${v}`}case"invalid_value":if(K.values.length===1)return`  ${c$(K.values[0])}`;return`  ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`  ${K.origin??""} ${O} ${K.maximum.toString()} ${Y.unit??""}`;return`  ${K.origin??""} ${O} ${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`  ${K.origin} ${O} ${K.minimum.toString()} ${Y.unit}`;return`  ${K.origin} ${O} ${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`  "${O.prefix}"`;if(O.format==="ends_with")return`  "${O.suffix}"`;if(O.format==="includes")return`  "${O.includes}"`;if(O.format==="regex")return`  ${O.pattern}`;return` ${_[O.format]??K.format}`}case"not_multiple_of":return`  ${K.divisor}`;case"unrecognized_keys":return` ${w$(K.keys,", ")}`;case"invalid_key":return` ${K.origin}`;case"invalid_union":return"";case"invalid_element":return` ${K.origin}`;default:return""}}};function x1(){return{localeError:Su()}}function jz(){return x1()}var Mu=()=>{let $={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function q(K){return $[K]??null}let _={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :   instanceof ${K.expected},   ${v}`;return` :   ${O},   ${v}`}case"invalid_value":if(K.values.length===1)return` :  ${c$(K.values[0])}  `;return` : ${w$(K.values," ")}   `;case"too_big":{let O=K.inclusive?"":"",Y=O===""?" ":" ",v=q(K.origin),W=v?.unit??"";if(v)return`${K.origin??""}  : ${K.maximum.toString()}${W} ${O}${Y}`;return`${K.origin??""}  : ${K.maximum.toString()} ${O}${Y}`}case"too_small":{let O=K.inclusive?"":"",Y=O===""?" ":" ",v=q(K.origin),W=v?.unit??"";if(v)return`${K.origin??""}  : ${K.minimum.toString()}${W} ${O}${Y}`;return`${K.origin??""}  : ${K.minimum.toString()} ${O}${Y}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` : "${O.prefix}"()  `;if(O.format==="ends_with")return` : "${O.suffix}"()  `;if(O.format==="includes")return` : "${O.includes}"()  `;if(O.format==="regex")return` :  ${O.pattern}   `;return` ${_[O.format]??K.format}`}case"not_multiple_of":return` : ${K.divisor}  `;case"unrecognized_keys":return`   : ${w$(K.keys,", ")}`;case"invalid_key":return` : ${K.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${K.origin}`;default:return" "}}};function vz(){return{localeError:Mu()}}var p1=($)=>{return $.charAt(0).toUpperCase()+$.slice(1)};function ZV($){let q=Math.abs($),_=q%10,P=q%100;if(P>=11&&P<=19||_===0)return"many";if(_===1)return"one";return"few"}var Nu=()=>{let $={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function q(K,O,Y,v){let W=$[K]??null;if(W===null)return W;return{unit:W.unit[O],verb:W.verb[v][Y?"inclusive":"notInclusive"]}}let _={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"},P={nan:"NaN",number:"skaiius",bigint:"sveikasis skaiius",string:"eilut",boolean:"login reikm",undefined:"neapibrta reikm",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin reikm"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Gautas tipas ${v}, o tiktasi - instanceof ${K.expected}`;return`Gautas tipas ${v}, o tiktasi - ${O}`}case"invalid_value":if(K.values.length===1)return`Privalo bti ${c$(K.values[0])}`;return`Privalo bti vienas i ${w$(K.values,"|")} pasirinkim`;case"too_big":{let O=P[K.origin]??K.origin,Y=q(K.origin,ZV(Number(K.maximum)),K.inclusive??!1,"smaller");if(Y?.verb)return`${p1(O??K.origin??"reikm")} ${Y.verb} ${K.maximum.toString()} ${Y.unit??"element"}`;let v=K.inclusive?"ne didesnis kaip":"maesnis kaip";return`${p1(O??K.origin??"reikm")} turi bti ${v} ${K.maximum.toString()} ${Y?.unit}`}case"too_small":{let O=P[K.origin]??K.origin,Y=q(K.origin,ZV(Number(K.minimum)),K.inclusive??!1,"bigger");if(Y?.verb)return`${p1(O??K.origin??"reikm")} ${Y.verb} ${K.minimum.toString()} ${Y.unit??"element"}`;let v=K.inclusive?"ne maesnis kaip":"didesnis kaip";return`${p1(O??K.origin??"reikm")} turi bti ${v} ${K.minimum.toString()} ${Y?.unit}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Eilut privalo prasidti "${O.prefix}"`;if(O.format==="ends_with")return`Eilut privalo pasibaigti "${O.suffix}"`;if(O.format==="includes")return`Eilut privalo traukti "${O.includes}"`;if(O.format==="regex")return`Eilut privalo atitikti ${O.pattern}`;return`Neteisingas ${_[O.format]??K.format}`}case"not_multiple_of":return`Skaiius privalo bti ${K.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${K.keys.length>1?"i":"as"} rakt${K.keys.length>1?"ai":"as"}: ${w$(K.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{let O=P[K.origin]??K.origin;return`${p1(O??K.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}};function zz(){return{localeError:Nu()}}var Cu=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(K){return $[K]??null}let _={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :   instanceof ${K.expected},  ${v}`;return` :   ${O},  ${v}`}case"invalid_value":if(K.values.length===1)return`Invalid input: expected ${c$(K.values[0])}`;return` :    ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` :   ${K.origin??""}   ${O}${K.maximum.toString()} ${Y.unit??""}`;return` :   ${K.origin??""}   ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` :   ${K.origin}   ${O}${K.minimum.toString()} ${Y.unit}`;return` :   ${K.origin}   ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` :     "${O.prefix}"`;if(O.format==="ends_with")return` :     "${O.suffix}"`;if(O.format==="includes")return` :    "${O.includes}"`;if(O.format==="regex")return` :      ${O.pattern}`;return`Invalid ${_[O.format]??K.format}`}case"not_multiple_of":return` :      ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?" ":" "}: ${w$(K.keys,", ")}`;case"invalid_key":return`   ${K.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${K.origin}`;default:return" "}}};function Jz(){return{localeError:Cu()}}var Eu=()=>{let $={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function q(K){return $[K]??null}let _={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},P={nan:"NaN",number:"nombor"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Input tidak sah: dijangka instanceof ${K.expected}, diterima ${v}`;return`Input tidak sah: dijangka ${O}, diterima ${v}`}case"invalid_value":if(K.values.length===1)return`Input tidak sah: dijangka ${c$(K.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Terlalu besar: dijangka ${K.origin??"nilai"} ${Y.verb} ${O}${K.maximum.toString()} ${Y.unit??"elemen"}`;return`Terlalu besar: dijangka ${K.origin??"nilai"} adalah ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Terlalu kecil: dijangka ${K.origin} ${Y.verb} ${O}${K.minimum.toString()} ${Y.unit}`;return`Terlalu kecil: dijangka ${K.origin} adalah ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`String tidak sah: mesti bermula dengan "${O.prefix}"`;if(O.format==="ends_with")return`String tidak sah: mesti berakhir dengan "${O.suffix}"`;if(O.format==="includes")return`String tidak sah: mesti mengandungi "${O.includes}"`;if(O.format==="regex")return`String tidak sah: mesti sepadan dengan corak ${O.pattern}`;return`${_[O.format]??K.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${K.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${w$(K.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${K.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${K.origin}`;default:return"Input tidak sah"}}};function Wz(){return{localeError:Eu()}}var Ru=()=>{let $={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function q(K){return $[K]??null}let _={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},P={nan:"NaN",number:"getal"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Ongeldige invoer: verwacht instanceof ${K.expected}, ontving ${v}`;return`Ongeldige invoer: verwacht ${O}, ontving ${v}`}case"invalid_value":if(K.values.length===1)return`Ongeldige invoer: verwacht ${c$(K.values[0])}`;return`Ongeldige optie: verwacht n van ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin),v=K.origin==="date"?"laat":K.origin==="string"?"lang":"groot";if(Y)return`Te ${v}: verwacht dat ${K.origin??"waarde"} ${O}${K.maximum.toString()} ${Y.unit??"elementen"} ${Y.verb}`;return`Te ${v}: verwacht dat ${K.origin??"waarde"} ${O}${K.maximum.toString()} is`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin),v=K.origin==="date"?"vroeg":K.origin==="string"?"kort":"klein";if(Y)return`Te ${v}: verwacht dat ${K.origin} ${O}${K.minimum.toString()} ${Y.unit} ${Y.verb}`;return`Te ${v}: verwacht dat ${K.origin} ${O}${K.minimum.toString()} is`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Ongeldige tekst: moet met "${O.prefix}" beginnen`;if(O.format==="ends_with")return`Ongeldige tekst: moet op "${O.suffix}" eindigen`;if(O.format==="includes")return`Ongeldige tekst: moet "${O.includes}" bevatten`;if(O.format==="regex")return`Ongeldige tekst: moet overeenkomen met patroon ${O.pattern}`;return`Ongeldig: ${_[O.format]??K.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${K.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${K.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${K.origin}`;default:return"Ongeldige invoer"}}};function Hz(){return{localeError:Ru()}}var Iu=()=>{let $={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function q(K){return $[K]??null}let _={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},P={nan:"NaN",number:"tall",array:"liste"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Ugyldig input: forventet instanceof ${K.expected}, fikk ${v}`;return`Ugyldig input: forventet ${O}, fikk ${v}`}case"invalid_value":if(K.values.length===1)return`Ugyldig verdi: forventet ${c$(K.values[0])}`;return`Ugyldig valg: forventet en av ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`For stor(t): forventet ${K.origin??"value"} til  ha ${O}${K.maximum.toString()} ${Y.unit??"elementer"}`;return`For stor(t): forventet ${K.origin??"value"} til  ha ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`For lite(n): forventet ${K.origin} til  ha ${O}${K.minimum.toString()} ${Y.unit}`;return`For lite(n): forventet ${K.origin} til  ha ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Ugyldig streng: m starte med "${O.prefix}"`;if(O.format==="ends_with")return`Ugyldig streng: m ende med "${O.suffix}"`;if(O.format==="includes")return`Ugyldig streng: m inneholde "${O.includes}"`;if(O.format==="regex")return`Ugyldig streng: m matche mnsteret ${O.pattern}`;return`Ugyldig ${_[O.format]??K.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${w$(K.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${K.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${K.origin}`;default:return"Ugyldig input"}}};function Tz(){return{localeError:Iu()}}var hu=()=>{let $={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function q(K){return $[K]??null}let _={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},P={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Fsit giren: umulan instanceof ${K.expected}, alnan ${v}`;return`Fsit giren: umulan ${O}, alnan ${v}`}case"invalid_value":if(K.values.length===1)return`Fsit giren: umulan ${c$(K.values[0])}`;return`Fsit tercih: mteberler ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Fazla byk: ${K.origin??"value"}, ${O}${K.maximum.toString()} ${Y.unit??"elements"} sahip olmalyd.`;return`Fazla byk: ${K.origin??"value"}, ${O}${K.maximum.toString()} olmalyd.`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Fazla kk: ${K.origin}, ${O}${K.minimum.toString()} ${Y.unit} sahip olmalyd.`;return`Fazla kk: ${K.origin}, ${O}${K.minimum.toString()} olmalyd.`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Fsit metin: "${O.prefix}" ile balamal.`;if(O.format==="ends_with")return`Fsit metin: "${O.suffix}" ile bitmeli.`;if(O.format==="includes")return`Fsit metin: "${O.includes}" ihtiv etmeli.`;if(O.format==="regex")return`Fsit metin: ${O.pattern} nakna uymal.`;return`Fsit ${_[O.format]??K.format}`}case"not_multiple_of":return`Fsit say: ${K.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`${K.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${K.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function wz(){return{localeError:hu()}}var Du=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(K){return $[K]??null}let _={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :  instanceof ${K.expected} ,  ${v}  `;return` :  ${O} ,  ${v}  `}case"invalid_value":if(K.values.length===1)return` :  ${c$(K.values[0])} `;return` :    ${w$(K.values,"|")}  `;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` : ${K.origin??""}  ${O}${K.maximum.toString()} ${Y.unit??""} `;return` : ${K.origin??""}  ${O}${K.maximum.toString()} `}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` : ${K.origin}  ${O}${K.minimum.toString()} ${Y.unit} `;return` : ${K.origin}  ${O}${K.minimum.toString()} `}case"invalid_format":{let O=K;if(O.format==="starts_with")return` :   "${O.prefix}"   `;if(O.format==="ends_with")return` :   "${O.suffix}"    `;if(O.format==="includes")return` :  "${O.includes}" `;if(O.format==="regex")return` :   ${O.pattern}   `;return`${_[O.format]??K.format}  `}case"not_multiple_of":return` :   ${K.divisor}  `;case"unrecognized_keys":return` ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`   ${K.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${K.origin} `;default:return" "}}};function Zz(){return{localeError:Du()}}var Lu=()=>{let $={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function q(K){return $[K]??null}let _={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},P={nan:"NaN",number:"liczba",array:"tablica"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Nieprawidowe dane wejciowe: oczekiwano instanceof ${K.expected}, otrzymano ${v}`;return`Nieprawidowe dane wejciowe: oczekiwano ${O}, otrzymano ${v}`}case"invalid_value":if(K.values.length===1)return`Nieprawidowe dane wejciowe: oczekiwano ${c$(K.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Za dua warto: oczekiwano, e ${K.origin??"warto"} bdzie mie ${O}${K.maximum.toString()} ${Y.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${K.origin??"warto"} bdzie wynosi ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Za maa warto: oczekiwano, e ${K.origin??"warto"} bdzie mie ${O}${K.minimum.toString()} ${Y.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${K.origin??"warto"} bdzie wynosi ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Nieprawidowy cig znakw: musi zaczyna si od "${O.prefix}"`;if(O.format==="ends_with")return`Nieprawidowy cig znakw: musi koczy si na "${O.suffix}"`;if(O.format==="includes")return`Nieprawidowy cig znakw: musi zawiera "${O.includes}"`;if(O.format==="regex")return`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${O.pattern}`;return`Nieprawidow(y/a/e) ${_[O.format]??K.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${K.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${K.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${K.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function fz(){return{localeError:Lu()}}var gu=()=>{let $={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function q(K){return $[K]??null}let _={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},P={nan:"NaN",number:"nmero",null:"nulo"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Tipo invlido: esperado instanceof ${K.expected}, recebido ${v}`;return`Tipo invlido: esperado ${O}, recebido ${v}`}case"invalid_value":if(K.values.length===1)return`Entrada invlida: esperado ${c$(K.values[0])}`;return`Opo invlida: esperada uma das ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Muito grande: esperado que ${K.origin??"valor"} tivesse ${O}${K.maximum.toString()} ${Y.unit??"elementos"}`;return`Muito grande: esperado que ${K.origin??"valor"} fosse ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Muito pequeno: esperado que ${K.origin} tivesse ${O}${K.minimum.toString()} ${Y.unit}`;return`Muito pequeno: esperado que ${K.origin} fosse ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Texto invlido: deve comear com "${O.prefix}"`;if(O.format==="ends_with")return`Texto invlido: deve terminar com "${O.suffix}"`;if(O.format==="includes")return`Texto invlido: deve incluir "${O.includes}"`;if(O.format==="regex")return`Texto invlido: deve corresponder ao padro ${O.pattern}`;return`${_[O.format]??K.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${K.divisor}`;case"unrecognized_keys":return`Chave${K.keys.length>1?"s":""} desconhecida${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Chave invlida em ${K.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${K.origin}`;default:return"Campo invlido"}}};function Xz(){return{localeError:gu()}}function fV($,q,_,P){let K=Math.abs($),O=K%10,Y=K%100;if(Y>=11&&Y<=19)return P;if(O===1)return q;if(O>=2&&O<=4)return _;return P}var bu=()=>{let $={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function q(K){return $[K]??null}let _={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :  instanceof ${K.expected},  ${v}`;return` :  ${O},  ${v}`}case"invalid_value":if(K.values.length===1)return` :  ${c$(K.values[0])}`;return` :    ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y){let v=Number(K.maximum),W=fV(v,Y.unit.one,Y.unit.few,Y.unit.many);return`  : ,  ${K.origin??""}   ${O}${K.maximum.toString()} ${W}`}return`  : ,  ${K.origin??""}  ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y){let v=Number(K.minimum),W=fV(v,Y.unit.one,Y.unit.few,Y.unit.many);return`  : ,  ${K.origin}   ${O}${K.minimum.toString()} ${W}`}return`  : ,  ${K.origin}  ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` :    "${O.prefix}"`;if(O.format==="ends_with")return` :    "${O.suffix}"`;if(O.format==="includes")return` :   "${O.includes}"`;if(O.format==="regex")return` :    ${O.pattern}`;return` ${_[O.format]??K.format}`}case"not_multiple_of":return` :    ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?"":""} ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`   ${K.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${K.origin}`;default:return"  "}}};function Az(){return{localeError:bu()}}var yu=()=>{let $={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function q(K){return $[K]??null}let _={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},P={nan:"NaN",number:"tevilo",array:"tabela"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Neveljaven vnos: priakovano instanceof ${K.expected}, prejeto ${v}`;return`Neveljaven vnos: priakovano ${O}, prejeto ${v}`}case"invalid_value":if(K.values.length===1)return`Neveljaven vnos: priakovano ${c$(K.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Preveliko: priakovano, da bo ${K.origin??"vrednost"} imelo ${O}${K.maximum.toString()} ${Y.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${K.origin??"vrednost"} ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Premajhno: priakovano, da bo ${K.origin} imelo ${O}${K.minimum.toString()} ${Y.unit}`;return`Premajhno: priakovano, da bo ${K.origin} ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Neveljaven niz: mora se zaeti z "${O.prefix}"`;if(O.format==="ends_with")return`Neveljaven niz: mora se konati z "${O.suffix}"`;if(O.format==="includes")return`Neveljaven niz: mora vsebovati "${O.includes}"`;if(O.format==="regex")return`Neveljaven niz: mora ustrezati vzorcu ${O.pattern}`;return`Neveljaven ${_[O.format]??K.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${K.divisor}`;case"unrecognized_keys":return`Neprepoznan${K.keys.length>1?"i kljui":" klju"}: ${w$(K.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${K.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${K.origin}`;default:return"Neveljaven vnos"}}};function kz(){return{localeError:yu()}}var uu=()=>{let $={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function q(K){return $[K]??null}let _={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},P={nan:"NaN",number:"antal",array:"lista"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Ogiltig inmatning: frvntat instanceof ${K.expected}, fick ${v}`;return`Ogiltig inmatning: frvntat ${O}, fick ${v}`}case"invalid_value":if(K.values.length===1)return`Ogiltig inmatning: frvntat ${c$(K.values[0])}`;return`Ogiltigt val: frvntade en av ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Fr stor(t): frvntade ${K.origin??"vrdet"} att ha ${O}${K.maximum.toString()} ${Y.unit??"element"}`;return`Fr stor(t): frvntat ${K.origin??"vrdet"} att ha ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Fr lite(t): frvntade ${K.origin??"vrdet"} att ha ${O}${K.minimum.toString()} ${Y.unit}`;return`Fr lite(t): frvntade ${K.origin??"vrdet"} att ha ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Ogiltig strng: mste brja med "${O.prefix}"`;if(O.format==="ends_with")return`Ogiltig strng: mste sluta med "${O.suffix}"`;if(O.format==="includes")return`Ogiltig strng: mste innehlla "${O.includes}"`;if(O.format==="regex")return`Ogiltig strng: mste matcha mnstret "${O.pattern}"`;return`Ogiltig(t) ${_[O.format]??K.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${w$(K.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${K.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${K.origin??"vrdet"}`;default:return"Ogiltig input"}}};function Gz(){return{localeError:uu()}}var xu=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(K){return $[K]??null}let _={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},P={nan:"NaN",number:"",array:"",null:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` :  instanceof ${K.expected},  ${v}`;return` :  ${O},  ${v}`}case"invalid_value":if(K.values.length===1)return` :  ${c$(K.values[0])}`;return` :  ${w$(K.values,"|")}  `;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` :  ${K.origin??""} ${O}${K.maximum.toString()} ${Y.unit??""}   `;return` :  ${K.origin??""} ${O}${K.maximum.toString()}   `}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` :  ${K.origin} ${O}${K.minimum.toString()} ${Y.unit}   `;return` :  ${K.origin} ${O}${K.minimum.toString()}   `}case"invalid_format":{let O=K;if(O.format==="starts_with")return` : "${O.prefix}"   `;if(O.format==="ends_with")return` : "${O.suffix}"   `;if(O.format==="includes")return` : "${O.includes}"   `;if(O.format==="regex")return` : ${O.pattern}   `;return` ${_[O.format]??K.format}`}case"not_multiple_of":return` : ${K.divisor}    `;case"unrecognized_keys":return`  ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`${K.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${K.origin}   `;default:return" "}}};function Vz(){return{localeError:xu()}}var pu=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(K){return $[K]??null}let _={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},P={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`:  instanceof ${K.expected}  ${v}`;return`:  ${O}  ${v}`}case"invalid_value":if(K.values.length===1)return`:  ${c$(K.values[0])}`;return`:  ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"":"",Y=q(K.origin);if(Y)return`: ${K.origin??""} ${O} ${K.maximum.toString()} ${Y.unit??""}`;return`: ${K.origin??""} ${O} ${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?"":"",Y=q(K.origin);if(Y)return`: ${K.origin} ${O} ${K.minimum.toString()} ${Y.unit}`;return`: ${K.origin} ${O} ${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`:  "${O.prefix}"`;if(O.format==="ends_with")return`:  "${O.suffix}"`;if(O.format==="includes")return`:  "${O.includes}" `;if(O.format==="regex")return`:  ${O.pattern}`;return`: ${_[O.format]??K.format}`}case"not_multiple_of":return`:  ${K.divisor} `;case"unrecognized_keys":return`: ${w$(K.keys,", ")}`;case"invalid_key":return` ${K.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${K.origin}`;default:return""}}};function Sz(){return{localeError:pu()}}var cu=()=>{let $={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function q(K){return $[K]??null}let _={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Geersiz deer: beklenen instanceof ${K.expected}, alnan ${v}`;return`Geersiz deer: beklenen ${O}, alnan ${v}`}case"invalid_value":if(K.values.length===1)return`Geersiz deer: beklenen ${c$(K.values[0])}`;return`Geersiz seenek: aadakilerden biri olmal: ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`ok byk: beklenen ${K.origin??"deer"} ${O}${K.maximum.toString()} ${Y.unit??"e"}`;return`ok byk: beklenen ${K.origin??"deer"} ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`ok kk: beklenen ${K.origin} ${O}${K.minimum.toString()} ${Y.unit}`;return`ok kk: beklenen ${K.origin} ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Geersiz metin: "${O.prefix}" ile balamal`;if(O.format==="ends_with")return`Geersiz metin: "${O.suffix}" ile bitmeli`;if(O.format==="includes")return`Geersiz metin: "${O.includes}" iermeli`;if(O.format==="regex")return`Geersiz metin: ${O.pattern} desenine uymal`;return`Geersiz ${_[O.format]??K.format}`}case"not_multiple_of":return`Geersiz say: ${K.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${K.keys.length>1?"lar":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`${K.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${K.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function Mz(){return{localeError:cu()}}var mu=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(K){return $[K]??null}let _={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},P={nan:"NaN",number:"",array:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`  :  instanceof ${K.expected},  ${v}`;return`  :  ${O},  ${v}`}case"invalid_value":if(K.values.length===1)return`  :  ${c$(K.values[0])}`;return` :    ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` : ,  ${K.origin??""} ${Y.verb} ${O}${K.maximum.toString()} ${Y.unit??""}`;return` : ,  ${K.origin??""}  ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` : ,  ${K.origin} ${Y.verb} ${O}${K.minimum.toString()} ${Y.unit}`;return` : ,  ${K.origin}  ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` :    "${O.prefix}"`;if(O.format==="ends_with")return` :    "${O.suffix}"`;if(O.format==="includes")return` :   "${O.includes}"`;if(O.format==="regex")return` :    ${O.pattern}`;return` ${_[O.format]??K.format}`}case"not_multiple_of":return` :    ${K.divisor}`;case"unrecognized_keys":return` ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`   ${K.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${K.origin}`;default:return"  "}}};function c1(){return{localeError:mu()}}function Nz(){return c1()}var du=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(K){return $[K]??null}let _={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},P={nan:"NaN",number:"",array:"",null:""};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`  : instanceof ${K.expected}   ${v}  `;return`  : ${O}   ${v}  `}case"invalid_value":if(K.values.length===1)return`  : ${c$(K.values[0])}  `;return` : ${w$(K.values,"|")}     `;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` : ${K.origin??""}  ${O}${K.maximum.toString()} ${Y.unit??""}   `;return` : ${K.origin??""}  ${O}${K.maximum.toString()}   `}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` : ${K.origin}  ${O}${K.minimum.toString()} ${Y.unit}   `;return` : ${K.origin}  ${O}${K.minimum.toString()}   `}case"invalid_format":{let O=K;if(O.format==="starts_with")return` : "${O.prefix}"    `;if(O.format==="ends_with")return` : "${O.suffix}"    `;if(O.format==="includes")return` : "${O.includes}"   `;if(O.format==="regex")return` :  ${O.pattern}    `;return` ${_[O.format]??K.format}`}case"not_multiple_of":return` : ${K.divisor}    `;case"unrecognized_keys":return`   ${K.keys.length>1?"":""}: ${w$(K.keys," ")}`;case"invalid_key":return`${K.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${K.origin}   `;default:return"  "}}};function Cz(){return{localeError:du()}}var lu=()=>{let $={string:{unit:"belgi",verb:"bolishi kerak"},file:{unit:"bayt",verb:"bolishi kerak"},array:{unit:"element",verb:"bolishi kerak"},set:{unit:"element",verb:"bolishi kerak"}};function q(K){return $[K]??null}let _={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},P={nan:"NaN",number:"raqam",array:"massiv"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`Notogri kirish: kutilgan instanceof ${K.expected}, qabul qilingan ${v}`;return`Notogri kirish: kutilgan ${O}, qabul qilingan ${v}`}case"invalid_value":if(K.values.length===1)return`Notogri kirish: kutilgan ${c$(K.values[0])}`;return`Notogri variant: quyidagilardan biri kutilgan ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Juda katta: kutilgan ${K.origin??"qiymat"} ${O}${K.maximum.toString()} ${Y.unit} ${Y.verb}`;return`Juda katta: kutilgan ${K.origin??"qiymat"} ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Juda kichik: kutilgan ${K.origin} ${O}${K.minimum.toString()} ${Y.unit} ${Y.verb}`;return`Juda kichik: kutilgan ${K.origin} ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Notogri satr: "${O.prefix}" bilan boshlanishi kerak`;if(O.format==="ends_with")return`Notogri satr: "${O.suffix}" bilan tugashi kerak`;if(O.format==="includes")return`Notogri satr: "${O.includes}" ni oz ichiga olishi kerak`;if(O.format==="regex")return`Notogri satr: ${O.pattern} shabloniga mos kelishi kerak`;return`Notogri ${_[O.format]??K.format}`}case"not_multiple_of":return`Notogri raqam: ${K.divisor} ning karralisi bolishi kerak`;case"unrecognized_keys":return`Nomalum kalit${K.keys.length>1?"lar":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`${K.origin} dagi kalit notogri`;case"invalid_union":return"Notogri kirish";case"invalid_element":return`${K.origin} da notogri qiymat`;default:return"Notogri kirish"}}};function Ez(){return{localeError:lu()}}var ru=()=>{let $={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function q(K){return $[K]??null}let _={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},P={nan:"NaN",number:"s",array:"mng"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`u vo khng hp l: mong i instanceof ${K.expected}, nhn c ${v}`;return`u vo khng hp l: mong i ${O}, nhn c ${v}`}case"invalid_value":if(K.values.length===1)return`u vo khng hp l: mong i ${c$(K.values[0])}`;return`Ty chn khng hp l: mong i mt trong cc gi tr ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`Qu ln: mong i ${K.origin??"gi tr"} ${Y.verb} ${O}${K.maximum.toString()} ${Y.unit??"phn t"}`;return`Qu ln: mong i ${K.origin??"gi tr"} ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Qu nh: mong i ${K.origin} ${Y.verb} ${O}${K.minimum.toString()} ${Y.unit}`;return`Qu nh: mong i ${K.origin} ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`Chui khng hp l: phi bt u bng "${O.prefix}"`;if(O.format==="ends_with")return`Chui khng hp l: phi kt thc bng "${O.suffix}"`;if(O.format==="includes")return`Chui khng hp l: phi bao gm "${O.includes}"`;if(O.format==="regex")return`Chui khng hp l: phi khp vi mu ${O.pattern}`;return`${_[O.format]??K.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${K.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${w$(K.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${K.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${K.origin}`;default:return"u vo khng hp l"}}};function Rz(){return{localeError:ru()}}var ou=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(K){return $[K]??null}let _={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},P={nan:"NaN",number:"",array:"",null:"(null)"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` instanceof ${K.expected} ${v}`;return` ${O} ${v}`}case"invalid_value":if(K.values.length===1)return` ${c$(K.values[0])}`;return` ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` ${K.origin??""} ${O}${K.maximum.toString()} ${Y.unit??""}`;return` ${K.origin??""} ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` ${K.origin} ${O}${K.minimum.toString()} ${Y.unit}`;return` ${K.origin} ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` "${O.prefix}" `;if(O.format==="ends_with")return` "${O.suffix}" `;if(O.format==="includes")return` "${O.includes}"`;if(O.format==="regex")return` ${O.pattern}`;return`${_[O.format]??K.format}`}case"not_multiple_of":return` ${K.divisor} `;case"unrecognized_keys":return`(key): ${w$(K.keys,", ")}`;case"invalid_key":return`${K.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${K.origin} (value)`;default:return""}}};function Iz(){return{localeError:ou()}}var nu=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(K){return $[K]??null}let _={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},P={nan:"NaN"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return` instanceof ${K.expected} ${v}`;return` ${O} ${v}`}case"invalid_value":if(K.values.length===1)return` ${c$(K.values[0])}`;return` ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return` ${K.origin??""}  ${O}${K.maximum.toString()} ${Y.unit??""}`;return` ${K.origin??""}  ${O}${K.maximum.toString()}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return` ${K.origin}  ${O}${K.minimum.toString()} ${Y.unit}`;return` ${K.origin}  ${O}${K.minimum.toString()}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return` "${O.prefix}" `;if(O.format==="ends_with")return` "${O.suffix}" `;if(O.format==="includes")return` "${O.includes}"`;if(O.format==="regex")return` ${O.pattern}`;return` ${_[O.format]??K.format}`}case"not_multiple_of":return` ${K.divisor} `;case"unrecognized_keys":return`${K.keys.length>1?"":""}${w$(K.keys,"")}`;case"invalid_key":return`${K.origin} `;case"invalid_union":return"";case"invalid_element":return`${K.origin} `;default:return""}}};function hz(){return{localeError:nu()}}var iu=()=>{let $={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function q(K){return $[K]??null}let _={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},P={nan:"NaN",number:"nmb",array:"akop"};return(K)=>{switch(K.code){case"invalid_type":{let O=P[K.expected]??K.expected,Y=d$(K.input),v=P[Y]??Y;if(/^[A-Z]/.test(K.expected))return`bwl ae: a n lti fi instanceof ${K.expected}, m a r ${v}`;return`bwl ae: a n lti fi ${O}, m a r ${v}`}case"invalid_value":if(K.values.length===1)return`bwl ae: a n lti fi ${c$(K.values[0])}`;return`yn ae: yan kan lra ${w$(K.values,"|")}`;case"too_big":{let O=K.inclusive?"<=":"<",Y=q(K.origin);if(Y)return`T p j: a n lti j p ${K.origin??"iye"} ${Y.verb} ${O}${K.maximum} ${Y.unit}`;return`T p j: a n lti j ${O}${K.maximum}`}case"too_small":{let O=K.inclusive?">=":">",Y=q(K.origin);if(Y)return`Kr ju: a n lti j p ${K.origin} ${Y.verb} ${O}${K.minimum} ${Y.unit}`;return`Kr ju: a n lti j ${O}${K.minimum}`}case"invalid_format":{let O=K;if(O.format==="starts_with")return`r ae: gbd br pl "${O.prefix}"`;if(O.format==="ends_with")return`r ae: gbd par pl "${O.suffix}"`;if(O.format==="includes")return`r ae: gbd n "${O.includes}"`;if(O.format==="regex")return`r ae: gbd b pr mu ${O.pattern}`;return`Ae: ${_[O.format]??K.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${K.divisor}`;case"unrecognized_keys":return`Btn m: ${w$(K.keys,", ")}`;case"invalid_key":return`Btn ae nn ${K.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${K.origin}`;default:return"bwl ae"}}};function Dz(){return{localeError:iu()}}var XV,Lz=Symbol("ZodOutput"),gz=Symbol("ZodInput");class bz{constructor(){this._map=new WeakMap,this._idmap=new Map}add($,...q){let _=q[0];if(this._map.set($,_),_&&typeof _==="object"&&"id"in _)this._idmap.set(_.id,$);return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove($){let q=this._map.get($);if(q&&typeof q==="object"&&"id"in q)this._idmap.delete(q.id);return this._map.delete($),this}get($){let q=$._zod.parent;if(q){let _={...this.get(q)??{}};delete _.id;let P={..._,...this._map.get($)};return Object.keys(P).length?P:void 0}return this._map.get($)}has($){return this._map.has($)}}function R5(){return new bz}(XV=globalThis).__zod_globalRegistry??(XV.__zod_globalRegistry=R5());var b6=globalThis.__zod_globalRegistry;function yz($,q){return new $({type:"string",...o$(q)})}function uz($,q){return new $({type:"string",coerce:!0,...o$(q)})}function I5($,q){return new $({type:"string",format:"email",check:"string_format",abort:!1,...o$(q)})}function d1($,q){return new $({type:"string",format:"guid",check:"string_format",abort:!1,...o$(q)})}function h5($,q){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,...o$(q)})}function D5($,q){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...o$(q)})}function L5($,q){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...o$(q)})}function g5($,q){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...o$(q)})}function l1($,q){return new $({type:"string",format:"url",check:"string_format",abort:!1,...o$(q)})}function b5($,q){return new $({type:"string",format:"emoji",check:"string_format",abort:!1,...o$(q)})}function y5($,q){return new $({type:"string",format:"nanoid",check:"string_format",abort:!1,...o$(q)})}function u5($,q){return new $({type:"string",format:"cuid",check:"string_format",abort:!1,...o$(q)})}function x5($,q){return new $({type:"string",format:"cuid2",check:"string_format",abort:!1,...o$(q)})}function p5($,q){return new $({type:"string",format:"ulid",check:"string_format",abort:!1,...o$(q)})}function c5($,q){return new $({type:"string",format:"xid",check:"string_format",abort:!1,...o$(q)})}function m5($,q){return new $({type:"string",format:"ksuid",check:"string_format",abort:!1,...o$(q)})}function d5($,q){return new $({type:"string",format:"ipv4",check:"string_format",abort:!1,...o$(q)})}function l5($,q){return new $({type:"string",format:"ipv6",check:"string_format",abort:!1,...o$(q)})}function xz($,q){return new $({type:"string",format:"mac",check:"string_format",abort:!1,...o$(q)})}function r5($,q){return new $({type:"string",format:"cidrv4",check:"string_format",abort:!1,...o$(q)})}function o5($,q){return new $({type:"string",format:"cidrv6",check:"string_format",abort:!1,...o$(q)})}function n5($,q){return new $({type:"string",format:"base64",check:"string_format",abort:!1,...o$(q)})}function i5($,q){return new $({type:"string",format:"base64url",check:"string_format",abort:!1,...o$(q)})}function B5($,q){return new $({type:"string",format:"e164",check:"string_format",abort:!1,...o$(q)})}function U5($,q){return new $({type:"string",format:"jwt",check:"string_format",abort:!1,...o$(q)})}var pz={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function cz($,q){return new $({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...o$(q)})}function mz($,q){return new $({type:"string",format:"date",check:"string_format",...o$(q)})}function dz($,q){return new $({type:"string",format:"time",check:"string_format",precision:null,...o$(q)})}function lz($,q){return new $({type:"string",format:"duration",check:"string_format",...o$(q)})}function rz($,q){return new $({type:"number",checks:[],...o$(q)})}function oz($,q){return new $({type:"number",coerce:!0,checks:[],...o$(q)})}function nz($,q){return new $({type:"number",check:"number_format",abort:!1,format:"safeint",...o$(q)})}function iz($,q){return new $({type:"number",check:"number_format",abort:!1,format:"float32",...o$(q)})}function Bz($,q){return new $({type:"number",check:"number_format",abort:!1,format:"float64",...o$(q)})}function Uz($,q){return new $({type:"number",check:"number_format",abort:!1,format:"int32",...o$(q)})}function tz($,q){return new $({type:"number",check:"number_format",abort:!1,format:"uint32",...o$(q)})}function Fz($,q){return new $({type:"boolean",...o$(q)})}function Qz($,q){return new $({type:"boolean",coerce:!0,...o$(q)})}function az($,q){return new $({type:"bigint",...o$(q)})}function ez($,q){return new $({type:"bigint",coerce:!0,...o$(q)})}function sz($,q){return new $({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...o$(q)})}function $J($,q){return new $({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...o$(q)})}function qJ($,q){return new $({type:"symbol",...o$(q)})}function _J($,q){return new $({type:"undefined",...o$(q)})}function KJ($,q){return new $({type:"null",...o$(q)})}function PJ($){return new $({type:"any"})}function t5($){return new $({type:"unknown"})}function r1($,q){return new $({type:"never",...o$(q)})}function YJ($,q){return new $({type:"void",...o$(q)})}function OJ($,q){return new $({type:"date",...o$(q)})}function jJ($,q){return new $({type:"date",coerce:!0,...o$(q)})}function vJ($,q){return new $({type:"nan",...o$(q)})}function s8($,q){return new Z5({check:"less_than",...o$(q),value:$,inclusive:!1})}function J8($,q){return new Z5({check:"less_than",...o$(q),value:$,inclusive:!0})}function $_($,q){return new f5({check:"greater_than",...o$(q),value:$,inclusive:!1})}function dq($,q){return new f5({check:"greater_than",...o$(q),value:$,inclusive:!0})}function F5($){return $_(0,$)}function Q5($){return s8(0,$)}function a5($){return J8(0,$)}function e5($){return dq(0,$)}function qK($,q){return new Hj({check:"multiple_of",...o$(q),value:$})}function _K($,q){return new Zj({check:"max_size",...o$(q),maximum:$})}function q_($,q){return new fj({check:"min_size",...o$(q),minimum:$})}function LK($,q){return new Xj({check:"size_equals",...o$(q),size:$})}function gK($,q){return new Aj({check:"max_length",...o$(q),maximum:$})}function G_($,q){return new kj({check:"min_length",...o$(q),minimum:$})}function bK($,q){return new Gj({check:"length_equals",...o$(q),length:$})}function C4($,q){return new Vj({check:"string_format",format:"regex",...o$(q),pattern:$})}function E4($){return new Sj({check:"string_format",format:"lowercase",...o$($)})}function R4($){return new Mj({check:"string_format",format:"uppercase",...o$($)})}function I4($,q){return new Nj({check:"string_format",format:"includes",...o$(q),includes:$})}function h4($,q){return new Cj({check:"string_format",format:"starts_with",...o$(q),prefix:$})}function D4($,q){return new Ej({check:"string_format",format:"ends_with",...o$(q),suffix:$})}function s5($,q,_){return new Rj({check:"property",property:$,schema:q,...o$(_)})}function L4($,q){return new Ij({check:"mime_type",mime:$,...o$(q)})}function u8($){return new hj({check:"overwrite",tx:$})}function g4($){return u8((q)=>q.normalize($))}function b4(){return u8(($)=>$.trim())}function y4(){return u8(($)=>$.toLowerCase())}function u4(){return u8(($)=>$.toUpperCase())}function x4(){return u8(($)=>R3($))}function zJ($,q,_){return new $({type:"array",element:q,...o$(_)})}function Uu($,q,_){return new $({type:"union",options:q,...o$(_)})}function tu($,q,_){return new $({type:"union",options:q,inclusive:!1,...o$(_)})}function Fu($,q,_,P){return new $({type:"union",options:_,discriminator:q,...o$(P)})}function Qu($,q,_){return new $({type:"intersection",left:q,right:_})}function au($,q,_,P){let K=_ instanceof O6;return new $({type:"tuple",items:q,rest:K?_:null,...o$(K?P:_)})}function eu($,q,_,P){return new $({type:"record",keyType:q,valueType:_,...o$(P)})}function su($,q,_,P){return new $({type:"map",keyType:q,valueType:_,...o$(P)})}function $x($,q,_){return new $({type:"set",valueType:q,...o$(_)})}function qx($,q,_){let P=Array.isArray(q)?Object.fromEntries(q.map((K)=>[K,K])):q;return new $({type:"enum",entries:P,...o$(_)})}function _x($,q,_){return new $({type:"enum",entries:q,...o$(_)})}function Kx($,q,_){return new $({type:"literal",values:Array.isArray(q)?q:[q],...o$(_)})}function JJ($,q){return new $({type:"file",...o$(q)})}function Px($,q){return new $({type:"transform",transform:q})}function Yx($,q){return new $({type:"optional",innerType:q})}function Ox($,q){return new $({type:"nullable",innerType:q})}function jx($,q,_){return new $({type:"default",innerType:q,get defaultValue(){return typeof _==="function"?_():h3(_)}})}function vx($,q,_){return new $({type:"nonoptional",innerType:q,...o$(_)})}function zx($,q){return new $({type:"success",innerType:q})}function Jx($,q,_){return new $({type:"catch",innerType:q,catchValue:typeof _==="function"?_:()=>_})}function Wx($,q,_){return new $({type:"pipe",in:q,out:_})}function Hx($,q){return new $({type:"readonly",innerType:q})}function Tx($,q,_){return new $({type:"template_literal",parts:q,...o$(_)})}function wx($,q){return new $({type:"lazy",getter:q})}function Zx($,q){return new $({type:"promise",innerType:q})}function WJ($,q,_){let P=o$(_);return P.abort??(P.abort=!0),new $({type:"custom",check:"custom",fn:q,...P})}function HJ($,q,_){return new $({type:"custom",check:"custom",fn:q,...o$(_)})}function TJ($){let q=AV((_)=>{return _.addIssue=(P)=>{if(typeof P==="string")_.issues.push(X4(P,_.value,q._zod.def));else{let K=P;if(K.fatal)K.continue=!1;K.code??(K.code="custom"),K.input??(K.input=_.value),K.inst??(K.inst=q),K.continue??(K.continue=!q._zod.def.abort),_.issues.push(X4(K))}},$(_.value,_)});return q}function AV($,q){let _=new L6({check:"custom",...o$(q)});return _._zod.check=$,_}function wJ($){let q=new L6({check:"describe"});return q._zod.onattach=[(_)=>{let P=b6.get(_)??{};b6.add(_,{...P,description:$})}],q._zod.check=()=>{},q}function ZJ($){let q=new L6({check:"meta"});return q._zod.onattach=[(_)=>{let P=b6.get(_)??{};b6.add(_,{...P,...$})}],q._zod.check=()=>{},q}function fJ($,q){let _=o$(q),P=_.truthy??["true","1","yes","on","y","enabled"],K=_.falsy??["false","0","no","off","n","disabled"];if(_.case!=="sensitive")P=P.map((M)=>typeof M==="string"?M.toLowerCase():M),K=K.map((M)=>typeof M==="string"?M.toLowerCase():M);let O=new Set(P),Y=new Set(K),v=$.Codec??y1,W=$.Boolean??D1,Z=new($.String??DK)({type:"string",error:_.error}),w=new W({type:"boolean",error:_.error}),k=new v({type:"pipe",in:Z,out:w,transform:(M,N)=>{let R=M;if(_.case!=="sensitive")R=R.toLowerCase();if(O.has(R))return!0;else if(Y.has(R))return!1;else return N.issues.push({code:"invalid_value",expected:"stringbool",values:[...O,...Y],input:N.value,inst:k,continue:!1}),{}},reverseTransform:(M,N)=>{if(M===!0)return P[0]||"true";else return K[0]||"false"},error:_.error});return k}function p4($,q,_,P={}){let K=o$(P),O={...o$(P),check:"string_format",type:"string",format:q,fn:typeof _==="function"?_:(v)=>_.test(v),...K};if(_ instanceof RegExp)O.pattern=_;return new $(O)}function KK($){let q=$?.target??"draft-2020-12";if(q==="draft-4")q="draft-04";if(q==="draft-7")q="draft-07";return{processors:$.processors??{},metadataRegistry:$?.metadata??b6,target:q,unrepresentable:$?.unrepresentable??"throw",override:$?.override??(()=>{}),io:$?.io??"output",counter:0,seen:new Map,cycles:$?.cycles??"ref",reused:$?.reused??"inline",external:$?.external??void 0}}function N6($,q,_={path:[],schemaPath:[]}){var P;let K=$._zod.def,O=q.seen.get($);if(O){if(O.count++,_.schemaPath.includes($))O.cycle=_.path;return O.schema}let Y={schema:{},count:1,cycle:void 0,path:_.path};q.seen.set($,Y);let v=$._zod.toJSONSchema?.();if(v)Y.schema=v;else{let Z={..._,schemaPath:[..._.schemaPath,$],path:_.path};if($._zod.processJSONSchema)$._zod.processJSONSchema(q,Y.schema,Z);else{let k=Y.schema,M=q.processors[K.type];if(!M)throw Error(`[toJSONSchema]: Non-representable type encountered: ${K.type}`);M($,q,k,Z)}let w=$._zod.parent;if(w){if(!Y.ref)Y.ref=w;N6(w,q,Z),q.seen.get(w).isParent=!0}}let W=q.metadataRegistry.get($);if(W)Object.assign(Y.schema,W);if(q.io==="input"&&lq($))delete Y.schema.examples,delete Y.schema.default;if(q.io==="input"&&Y.schema._prefault)(P=Y.schema).default??(P.default=Y.schema._prefault);return delete Y.schema._prefault,q.seen.get($).schema}function PK($,q){let _=$.seen.get(q);if(!_)throw Error("Unprocessed schema. This is a bug in Zod.");let P=new Map;for(let Y of $.seen.entries()){let v=$.metadataRegistry.get(Y[0])?.id;if(v){let W=P.get(v);if(W&&W!==Y[0])throw Error(`Duplicate schema id "${v}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);P.set(v,Y[0])}}let K=(Y)=>{let v=$.target==="draft-2020-12"?"$defs":"definitions";if($.external){let w=$.external.registry.get(Y[0])?.id,k=$.external.uri??((N)=>N);if(w)return{ref:k(w)};let M=Y[1].defId??Y[1].schema.id??`schema${$.counter++}`;return Y[1].defId=M,{defId:M,ref:`${k("__shared")}#/${v}/${M}`}}if(Y[1]===_)return{ref:"#"};let T=`${"#"}/${v}/`,Z=Y[1].schema.id??`__schema${$.counter++}`;return{defId:Z,ref:T+Z}},O=(Y)=>{if(Y[1].schema.$ref)return;let v=Y[1],{ref:W,defId:T}=K(Y);if(v.def={...v.schema},T)v.defId=T;let Z=v.schema;for(let w in Z)delete Z[w];Z.$ref=W};if($.cycles==="throw")for(let Y of $.seen.entries()){let v=Y[1];if(v.cycle)throw Error(`Cycle detected: #/${v.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let Y of $.seen.entries()){let v=Y[1];if(q===Y[0]){O(Y);continue}if($.external){let T=$.external.registry.get(Y[0])?.id;if(q!==Y[0]&&T){O(Y);continue}}if($.metadataRegistry.get(Y[0])?.id){O(Y);continue}if(v.cycle){O(Y);continue}if(v.count>1){if($.reused==="ref"){O(Y);continue}}}}function YK($,q){let _=$.seen.get(q);if(!_)throw Error("Unprocessed schema. This is a bug in Zod.");let P=(Y)=>{let v=$.seen.get(Y);if(v.ref===null)return;let W=v.def??v.schema,T={...W},Z=v.ref;if(v.ref=null,Z){P(Z);let k=$.seen.get(Z),M=k.schema;if(M.$ref&&($.target==="draft-07"||$.target==="draft-04"||$.target==="openapi-3.0"))W.allOf=W.allOf??[],W.allOf.push(M);else Object.assign(W,M);if(Object.assign(W,T),Y._zod.parent===Z)for(let R in W){if(R==="$ref"||R==="allOf")continue;if(!(R in T))delete W[R]}if(M.$ref)for(let R in W){if(R==="$ref"||R==="allOf")continue;if(R in k.def&&JSON.stringify(W[R])===JSON.stringify(k.def[R]))delete W[R]}}let w=Y._zod.parent;if(w&&w!==Z){P(w);let k=$.seen.get(w);if(k?.schema.$ref){if(W.$ref=k.schema.$ref,k.def)for(let M in W){if(M==="$ref"||M==="allOf")continue;if(M in k.def&&JSON.stringify(W[M])===JSON.stringify(k.def[M]))delete W[M]}}}$.override({zodSchema:Y,jsonSchema:W,path:v.path??[]})};for(let Y of[...$.seen.entries()].reverse())P(Y[0]);let K={};if($.target==="draft-2020-12")K.$schema="https://json-schema.org/draft/2020-12/schema";else if($.target==="draft-07")K.$schema="http://json-schema.org/draft-07/schema#";else if($.target==="draft-04")K.$schema="http://json-schema.org/draft-04/schema#";else if($.target==="openapi-3.0");if($.external?.uri){let Y=$.external.registry.get(q)?.id;if(!Y)throw Error("Schema is missing an `id` property");K.$id=$.external.uri(Y)}Object.assign(K,_.def??_.schema);let O=$.external?.defs??{};for(let Y of $.seen.entries()){let v=Y[1];if(v.def&&v.defId)O[v.defId]=v.def}if($.external);else if(Object.keys(O).length>0)if($.target==="draft-2020-12")K.$defs=O;else K.definitions=O;try{let Y=JSON.parse(JSON.stringify(K));return Object.defineProperty(Y,"~standard",{value:{...q["~standard"],jsonSchema:{input:c4(q,"input",$.processors),output:c4(q,"output",$.processors)}},enumerable:!1,writable:!1}),Y}catch(Y){throw Error("Error converting schema to JSON.")}}function lq($,q){let _=q??{seen:new Set};if(_.seen.has($))return!1;_.seen.add($);let P=$._zod.def;if(P.type==="transform")return!0;if(P.type==="array")return lq(P.element,_);if(P.type==="set")return lq(P.valueType,_);if(P.type==="lazy")return lq(P.getter(),_);if(P.type==="promise"||P.type==="optional"||P.type==="nonoptional"||P.type==="nullable"||P.type==="readonly"||P.type==="default"||P.type==="prefault")return lq(P.innerType,_);if(P.type==="intersection")return lq(P.left,_)||lq(P.right,_);if(P.type==="record"||P.type==="map")return lq(P.keyType,_)||lq(P.valueType,_);if(P.type==="pipe")return lq(P.in,_)||lq(P.out,_);if(P.type==="object"){for(let K in P.shape)if(lq(P.shape[K],_))return!0;return!1}if(P.type==="union"){for(let K of P.options)if(lq(K,_))return!0;return!1}if(P.type==="tuple"){for(let K of P.items)if(lq(K,_))return!0;if(P.rest&&lq(P.rest,_))return!0;return!1}return!1}var XJ=($,q={})=>(_)=>{let P=KK({..._,processors:q});return N6($,P),PK(P,$),YK(P,$)},c4=($,q,_={})=>(P)=>{let{libraryOptions:K,target:O}=P??{},Y=KK({...K??{},target:O,io:q,processors:_});return N6($,Y),PK(Y,$),YK(Y,$)};var fx={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},AJ=($,q,_,P)=>{let K=_;K.type="string";let{minimum:O,maximum:Y,format:v,patterns:W,contentEncoding:T}=$._zod.bag;if(typeof O==="number")K.minLength=O;if(typeof Y==="number")K.maxLength=Y;if(v){if(K.format=fx[v]??v,K.format==="")delete K.format;if(v==="time")delete K.format}if(T)K.contentEncoding=T;if(W&&W.size>0){let Z=[...W];if(Z.length===1)K.pattern=Z[0].source;else if(Z.length>1)K.allOf=[...Z.map((w)=>({...q.target==="draft-07"||q.target==="draft-04"||q.target==="openapi-3.0"?{type:"string"}:{},pattern:w.source}))]}},kJ=($,q,_,P)=>{let K=_,{minimum:O,maximum:Y,format:v,multipleOf:W,exclusiveMaximum:T,exclusiveMinimum:Z}=$._zod.bag;if(typeof v==="string"&&v.includes("int"))K.type="integer";else K.type="number";if(typeof Z==="number")if(q.target==="draft-04"||q.target==="openapi-3.0")K.minimum=Z,K.exclusiveMinimum=!0;else K.exclusiveMinimum=Z;if(typeof O==="number"){if(K.minimum=O,typeof Z==="number"&&q.target!=="draft-04")if(Z>=O)delete K.minimum;else delete K.exclusiveMinimum}if(typeof T==="number")if(q.target==="draft-04"||q.target==="openapi-3.0")K.maximum=T,K.exclusiveMaximum=!0;else K.exclusiveMaximum=T;if(typeof Y==="number"){if(K.maximum=Y,typeof T==="number"&&q.target!=="draft-04")if(T<=Y)delete K.maximum;else delete K.exclusiveMaximum}if(typeof W==="number")K.multipleOf=W},GJ=($,q,_,P)=>{_.type="boolean"},VJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema")},SJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema")},MJ=($,q,_,P)=>{if(q.target==="openapi-3.0")_.type="string",_.nullable=!0,_.enum=[null];else _.type="null"},NJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema")},CJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema")},EJ=($,q,_,P)=>{_.not={}},RJ=($,q,_,P)=>{},IJ=($,q,_,P)=>{},hJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema")},DJ=($,q,_,P)=>{let K=$._zod.def,O=A1(K.entries);if(O.every((Y)=>typeof Y==="number"))_.type="number";if(O.every((Y)=>typeof Y==="string"))_.type="string";_.enum=O},LJ=($,q,_,P)=>{let K=$._zod.def,O=[];for(let Y of K.values)if(Y===void 0){if(q.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof Y==="bigint")if(q.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");else O.push(Number(Y));else O.push(Y);if(O.length===0);else if(O.length===1){let Y=O[0];if(_.type=Y===null?"null":typeof Y,q.target==="draft-04"||q.target==="openapi-3.0")_.enum=[Y];else _.const=Y}else{if(O.every((Y)=>typeof Y==="number"))_.type="number";if(O.every((Y)=>typeof Y==="string"))_.type="string";if(O.every((Y)=>typeof Y==="boolean"))_.type="boolean";if(O.every((Y)=>Y===null))_.type="null";_.enum=O}},gJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema")},bJ=($,q,_,P)=>{let K=_,O=$._zod.pattern;if(!O)throw Error("Pattern not found in template literal");K.type="string",K.pattern=O.source},yJ=($,q,_,P)=>{let K=_,O={type:"string",format:"binary",contentEncoding:"binary"},{minimum:Y,maximum:v,mime:W}=$._zod.bag;if(Y!==void 0)O.minLength=Y;if(v!==void 0)O.maxLength=v;if(W)if(W.length===1)O.contentMediaType=W[0],Object.assign(K,O);else Object.assign(K,O),K.anyOf=W.map((T)=>({contentMediaType:T}));else Object.assign(K,O)},uJ=($,q,_,P)=>{_.type="boolean"},xJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")},pJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema")},cJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")},mJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema")},dJ=($,q,_,P)=>{if(q.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema")},lJ=($,q,_,P)=>{let K=_,O=$._zod.def,{minimum:Y,maximum:v}=$._zod.bag;if(typeof Y==="number")K.minItems=Y;if(typeof v==="number")K.maxItems=v;K.type="array",K.items=N6(O.element,q,{...P,path:[...P.path,"items"]})},rJ=($,q,_,P)=>{let K=_,O=$._zod.def;K.type="object",K.properties={};let Y=O.shape;for(let T in Y)K.properties[T]=N6(Y[T],q,{...P,path:[...P.path,"properties",T]});let v=new Set(Object.keys(Y)),W=new Set([...v].filter((T)=>{let Z=O.shape[T]._zod;if(q.io==="input")return Z.optin===void 0;else return Z.optout===void 0}));if(W.size>0)K.required=Array.from(W);if(O.catchall?._zod.def.type==="never")K.additionalProperties=!1;else if(!O.catchall){if(q.io==="output")K.additionalProperties=!1}else if(O.catchall)K.additionalProperties=N6(O.catchall,q,{...P,path:[...P.path,"additionalProperties"]})},q2=($,q,_,P)=>{let K=$._zod.def,O=K.inclusive===!1,Y=K.options.map((v,W)=>N6(v,q,{...P,path:[...P.path,O?"oneOf":"anyOf",W]}));if(O)_.oneOf=Y;else _.anyOf=Y},oJ=($,q,_,P)=>{let K=$._zod.def,O=N6(K.left,q,{...P,path:[...P.path,"allOf",0]}),Y=N6(K.right,q,{...P,path:[...P.path,"allOf",1]}),v=(T)=>("allOf"in T)&&Object.keys(T).length===1,W=[...v(O)?O.allOf:[O],...v(Y)?Y.allOf:[Y]];_.allOf=W},nJ=($,q,_,P)=>{let K=_,O=$._zod.def;K.type="array";let Y=q.target==="draft-2020-12"?"prefixItems":"items",v=q.target==="draft-2020-12"?"items":q.target==="openapi-3.0"?"items":"additionalItems",W=O.items.map((k,M)=>N6(k,q,{...P,path:[...P.path,Y,M]})),T=O.rest?N6(O.rest,q,{...P,path:[...P.path,v,...q.target==="openapi-3.0"?[O.items.length]:[]]}):null;if(q.target==="draft-2020-12"){if(K.prefixItems=W,T)K.items=T}else if(q.target==="openapi-3.0"){if(K.items={anyOf:W},T)K.items.anyOf.push(T);if(K.minItems=W.length,!T)K.maxItems=W.length}else if(K.items=W,T)K.additionalItems=T;let{minimum:Z,maximum:w}=$._zod.bag;if(typeof Z==="number")K.minItems=Z;if(typeof w==="number")K.maxItems=w},iJ=($,q,_,P)=>{let K=_,O=$._zod.def;K.type="object";let Y=O.keyType,W=Y._zod.bag?.patterns;if(O.mode==="loose"&&W&&W.size>0){let Z=N6(O.valueType,q,{...P,path:[...P.path,"patternProperties","*"]});K.patternProperties={};for(let w of W)K.patternProperties[w.source]=Z}else{if(q.target==="draft-07"||q.target==="draft-2020-12")K.propertyNames=N6(O.keyType,q,{...P,path:[...P.path,"propertyNames"]});K.additionalProperties=N6(O.valueType,q,{...P,path:[...P.path,"additionalProperties"]})}let T=Y._zod.values;if(T){let Z=[...T].filter((w)=>typeof w==="string"||typeof w==="number");if(Z.length>0)K.required=Z}},BJ=($,q,_,P)=>{let K=$._zod.def,O=N6(K.innerType,q,P),Y=q.seen.get($);if(q.target==="openapi-3.0")Y.ref=K.innerType,_.nullable=!0;else _.anyOf=[O,{type:"null"}]},UJ=($,q,_,P)=>{let K=$._zod.def;N6(K.innerType,q,P);let O=q.seen.get($);O.ref=K.innerType},tJ=($,q,_,P)=>{let K=$._zod.def;N6(K.innerType,q,P);let O=q.seen.get($);O.ref=K.innerType,_.default=JSON.parse(JSON.stringify(K.defaultValue))},FJ=($,q,_,P)=>{let K=$._zod.def;N6(K.innerType,q,P);let O=q.seen.get($);if(O.ref=K.innerType,q.io==="input")_._prefault=JSON.parse(JSON.stringify(K.defaultValue))},QJ=($,q,_,P)=>{let K=$._zod.def;N6(K.innerType,q,P);let O=q.seen.get($);O.ref=K.innerType;let Y;try{Y=K.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}_.default=Y},aJ=($,q,_,P)=>{let K=$._zod.def,O=q.io==="input"?K.in._zod.def.type==="transform"?K.out:K.in:K.out;N6(O,q,P);let Y=q.seen.get($);Y.ref=O},eJ=($,q,_,P)=>{let K=$._zod.def;N6(K.innerType,q,P);let O=q.seen.get($);O.ref=K.innerType,_.readOnly=!0},sJ=($,q,_,P)=>{let K=$._zod.def;N6(K.innerType,q,P);let O=q.seen.get($);O.ref=K.innerType},_2=($,q,_,P)=>{let K=$._zod.def;N6(K.innerType,q,P);let O=q.seen.get($);O.ref=K.innerType},$W=($,q,_,P)=>{let K=$._zod.innerType;N6(K,q,P);let O=q.seen.get($);O.ref=K},$2={string:AJ,number:kJ,boolean:GJ,bigint:VJ,symbol:SJ,null:MJ,undefined:NJ,void:CJ,never:EJ,any:RJ,unknown:IJ,date:hJ,enum:DJ,literal:LJ,nan:gJ,template_literal:bJ,file:yJ,success:uJ,custom:xJ,function:pJ,transform:cJ,map:mJ,set:dJ,array:lJ,object:rJ,union:q2,intersection:oJ,tuple:nJ,record:iJ,nullable:BJ,nonoptional:UJ,default:tJ,prefault:FJ,catch:QJ,pipe:aJ,readonly:eJ,promise:sJ,optional:_2,lazy:$W};function yK($,q){if("_idmap"in $){let P=$,K=KK({...q,processors:$2}),O={};for(let W of P._idmap.entries()){let[T,Z]=W;N6(Z,K)}let Y={},v={registry:P,uri:q?.uri,defs:O};K.external=v;for(let W of P._idmap.entries()){let[T,Z]=W;PK(K,Z),Y[T]=YK(K,Z)}if(Object.keys(O).length>0){let W=K.target==="draft-2020-12"?"$defs":"definitions";Y.__shared={[W]:O}}return{schemas:Y}}let _=KK({...q,processors:$2});return N6($,_),PK(_,$),YK(_,$)}class qW{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter($){this.ctx.counter=$}get seen(){return this.ctx.seen}constructor($){let q=$?.target??"draft-2020-12";if(q==="draft-4")q="draft-04";if(q==="draft-7")q="draft-07";this.ctx=KK({processors:$2,target:q,...$?.metadata&&{metadata:$.metadata},...$?.unrepresentable&&{unrepresentable:$.unrepresentable},...$?.override&&{override:$.override},...$?.io&&{io:$.io}})}process($,q={path:[],schemaPath:[]}){return N6($,this.ctx,q)}emit($,q){if(q){if(q.cycles)this.ctx.cycles=q.cycles;if(q.reused)this.ctx.reused=q.reused;if(q.external)this.ctx.external=q.external}PK(this.ctx,$);let _=YK(this.ctx,$),{"~standard":P,...K}=_;return K}}var kV={};function G8($){if(typeof $!=="object"||$===null)return!1;let q=$;if(!("_zod"in q))return!1;let _=q._zod;return typeof _==="object"&&_!==null&&"def"in _}function S_($){if(typeof $!=="object"||$===null)return!1;let q=$;if(!("_def"in q)||"_zod"in q)return!1;let _=q._def;return typeof _==="object"&&_!=null&&"typeName"in _}function Ax($){if(!$)return!1;if(typeof $!=="object")return!1;if(Array.isArray($))return!1;if(G8($)||S_($))return!0;return!1}async function GV($,q){if(G8($))return await G4($,q);if(S_($))return await $.parseAsync(q);throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function VV($){if(G8($))return b6.get($)?.description;if(S_($))return $.description;if("description"in $&&typeof $.description==="string")return $.description;return}function SV($){if(!Ax($))return!1;if(S_($))return $._def.typeName==="ZodString";if(G8($))return $._zod.def.type==="string";return!1}function m4($){if(!G8($))return!1;if(typeof $==="object"&&$!==null&&"_zod"in $&&typeof $._zod==="object"&&$._zod!==null&&"def"in $._zod&&typeof $._zod.def==="object"&&$._zod.def!==null&&"type"in $._zod.def&&$._zod.def.type==="object")return!0;return!1}function MV($){if(!G8($))return!1;if(typeof $==="object"&&$!==null&&"_zod"in $&&typeof $._zod==="object"&&$._zod!==null&&"def"in $._zod&&typeof $._zod.def==="object"&&$._zod.def!==null&&"type"in $._zod.def&&$._zod.def.type==="array")return!0;return!1}function kx($){if(!G8($))return!1;if(typeof $==="object"&&$!==null&&"_zod"in $&&typeof $._zod==="object"&&$._zod!==null&&"def"in $._zod&&typeof $._zod.def==="object"&&$._zod.def!==null&&"type"in $._zod.def&&$._zod.def.type==="optional")return!0;return!1}function Gx($){if(!G8($))return!1;if(typeof $==="object"&&$!==null&&"_zod"in $&&typeof $._zod==="object"&&$._zod!==null&&"def"in $._zod&&typeof $._zod.def==="object"&&$._zod.def!==null&&"type"in $._zod.def&&$._zod.def.type==="nullable")return!0;return!1}function K2($,q=!1){if(S_($))return $.strict();if(m4($)){let _=$._zod.def.shape;if(q)for(let[O,Y]of Object.entries($._zod.def.shape)){if(m4(Y)){let W=K2(Y,q);_[O]=W}else if(MV(Y)){let W=Y._zod.def.element;if(m4(W))W=K2(W,q);_[O]=n6(Y,{...Y._zod.def,element:W})}else _[O]=Y;let v=b6.get(Y);if(v)b6.add(_[O],v)}let P=n6($,{...$._zod.def,shape:_,catchall:r1(L1)}),K=b6.get($);if(K)b6.add(P,K);return P}throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Vx($){return S_($)&&"typeName"in $._def&&$._def.typeName==="ZodEffects"}function Sx($){return G8($)&&$._zod.def.type==="pipe"}function uK($,q,_){let P=_.get($);if(P!==void 0)return P;if(S_($)){if(Vx($))return uK($._def.schema,q,_);return $}if(G8($)){let K=$;if(Sx($))K=uK($._zod.def.in,q,_);if(q){if(m4(K)){let Y={};for(let[v,W]of Object.entries(K._zod.def.shape))Y[v]=uK(W,q,_);K=n6(K,{...K._zod.def,shape:Y})}else if(MV(K)){let Y=uK(K._zod.def.element,q,_);K=n6(K,{...K._zod.def,element:Y})}else if(kx(K)){let Y=uK(K._zod.def.innerType,q,_);K=n6(K,{...K._zod.def,innerType:Y})}else if(Gx(K)){let Y=uK(K._zod.def.innerType,q,_);K=n6(K,{...K._zod.def,innerType:Y})}}let O=b6.get($);if(O)b6.add(K,O);return _.set($,K),K}throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function NV($,q=!1){return uK($,q,new WeakMap)}function _W($){return $.replace(/[^a-zA-Z-_0-9]/g,"_")}var Mx=["*","_","`"];function Nx($){let q="";for(let[_,P]of Object.entries($))q+=`	classDef ${_} ${P};
`;return q}function CV($,q,_){let{firstNode:P,lastNode:K,nodeColors:O,withStyles:Y=!0,curveStyle:v="linear",wrapLabelNWords:W=9}=_??{},T=Y?`%%{init: {'flowchart': {'curve': '${v}'}}}%%
graph TD;
`:`graph TD;
`;if(Y){let R={["default"]:"{0}({1})"};if(P!==void 0)R[P]="{0}([{1}]):::first";if(K!==void 0)R[K]="{0}([{1}]):::last";for(let[E,D]of Object.entries($)){let h=D.name.split(":").pop()??"",b=Mx.some((p)=>h.startsWith(p)&&h.endsWith(p))?`<p>${h}</p>`:h;if(Object.keys(D.metadata??{}).length)b+=`<hr/><small><em>${Object.entries(D.metadata??{}).map(([p,i])=>`${p} = ${i}`).join(`
`)}</em></small>`;let y=(R[E]??R.default).replace("{0}",_W(E)).replace("{1}",b);T+=`	${y}
`}}let Z={};for(let N of q){let R=N.source.split(":"),E=N.target.split(":"),D=R.filter((h,L)=>h===E[L]).join(":");if(!Z[D])Z[D]=[];Z[D].push(N)}let w=new Set;function k(N){return[...N].sort((R,E)=>{return R.split(":").length-E.split(":").length})}function M(N,R){let E=N.length===1&&N[0].source===N[0].target;if(R&&!E){let h=R.split(":").pop();if(w.has(R))throw Error(`Found duplicate subgraph '${h}' at '${R} -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);w.add(R),T+=`	subgraph ${h}
`}let D=k(Object.keys(Z).filter((h)=>h.startsWith(`${R}:`)&&h!==R&&h.split(":").length===R.split(":").length+1));for(let h of D)M(Z[h],h);for(let h of N){let{source:L,target:b,data:y,conditional:p}=h,i="";if(y!==void 0){let $$=y,Q=$$.split(" ");if(Q.length>W)$$=Array.from({length:Math.ceil(Q.length/W)},(c,a)=>Q.slice(a*W,(a+1)*W).join(" ")).join("&nbsp;<br>&nbsp;");i=p?` -. &nbsp;${$$}&nbsp; .-> `:` -- &nbsp;${$$}&nbsp; --> `}else i=p?" -.-> ":" --> ";T+=`	${_W(L)}${i}${_W(b)};
`}if(R&&!E)T+=`	end
`}M(Z[""]??[],"");for(let N in Z)if(!N.includes(":")&&N!=="")M(Z[N],N);if(Y)T+=Nx(O??{});return T}async function EV($,q){let _=q?.backgroundColor??"white",P=q?.imageType??"png",K=cG($);if(_!==void 0){if(!/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(_))_=`!${_}`}let O=`https://mermaid.ink/img/${K}?bgColor=${_}&type=${P}`,Y=await fetch(O);if(!Y.ok)throw Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${Y.status}`,`Status text: ${Y.statusText}`].join(`
`));return await Y.blob()}var PW=Symbol("Let zodToJsonSchema decide on which parser to use"),KW={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},YW=($)=>typeof $==="string"?{...KW,name:$}:{...KW,...$};var OW=($)=>{let q=YW($),_=q.name!==void 0?[...q.basePath,q.definitionPath,q.name]:q.basePath;return{...q,flags:{hasReferencedOpenAiAnyType:!1},currentPath:_,propertyPath:void 0,seen:new Map(Object.entries(q.definitions).map(([P,K])=>[K._def,{def:K._def,path:[...q.basePath,q.definitionPath,P],jsonSchema:void 0}]))}};var o1=($,q)=>{let _=0;for(;_<$.length&&_<q.length;_++)if($[_]!==q[_])break;return[($.length-_).toString(),...q.slice(_)].join("/")};function y6($){if($.target!=="openAi")return{};let q=[...$.basePath,$.definitionPath,$.openAiAnyTypeName];return $.flags.hasReferencedOpenAiAnyType=!0,{$ref:$.$refStrategy==="relative"?o1(q,$.currentPath):q.join("/")}}function P2($,q,_,P){if(!P?.errorMessages)return;if(_)$.errorMessage={...$.errorMessage,[q]:_}}function S6($,q,_,P,K){$[q]=_,P2($,q,P,K)}var lK={};Rq(lK,{void:()=>vp,util:()=>V6,unknown:()=>Op,union:()=>Hp,undefined:()=>Kp,tuple:()=>Zp,transformer:()=>Cp,symbol:()=>_p,string:()=>uV,strictObject:()=>Wp,setErrorMap:()=>Rx,set:()=>Ap,record:()=>fp,quotelessJson:()=>Cx,promise:()=>Np,preprocess:()=>Ip,pipeline:()=>hp,ostring:()=>Dp,optional:()=>Ep,onumber:()=>Lp,oboolean:()=>gp,objectUtil:()=>jW,object:()=>Jp,number:()=>xV,nullable:()=>Rp,null:()=>Pp,never:()=>jp,nativeEnum:()=>Mp,nan:()=>sx,map:()=>Xp,makeIssue:()=>n1,literal:()=>Vp,lazy:()=>Gp,late:()=>ax,isValid:()=>OK,isDirty:()=>O2,isAsync:()=>l4,isAborted:()=>Y2,intersection:()=>wp,instanceof:()=>ex,getParsedType:()=>__,getErrorMap:()=>d4,function:()=>kp,enum:()=>Sp,effect:()=>Cp,discriminatedUnion:()=>Tp,defaultErrorMap:()=>M_,datetimeRegex:()=>gV,date:()=>qp,custom:()=>yV,coerce:()=>bp,boolean:()=>pV,bigint:()=>$p,array:()=>zp,any:()=>Yp,addIssueToContext:()=>F$,ZodVoid:()=>B1,ZodUnknown:()=>jK,ZodUnion:()=>U4,ZodUndefined:()=>i4,ZodType:()=>f6,ZodTuple:()=>P_,ZodTransformer:()=>d8,ZodSymbol:()=>i1,ZodString:()=>x8,ZodSet:()=>mK,ZodSchema:()=>f6,ZodRecord:()=>U1,ZodReadonly:()=>$P,ZodPromise:()=>dK,ZodPipeline:()=>Q1,ZodParsedType:()=>B$,ZodOptional:()=>c8,ZodObject:()=>c6,ZodNumber:()=>vK,ZodNullable:()=>C_,ZodNull:()=>B4,ZodNever:()=>K_,ZodNativeEnum:()=>a4,ZodNaN:()=>F1,ZodMap:()=>t1,ZodLiteral:()=>Q4,ZodLazy:()=>F4,ZodIssueCode:()=>m$,ZodIntersection:()=>t4,ZodFunction:()=>o4,ZodFirstPartyTypeKind:()=>r$,ZodError:()=>q8,ZodEnum:()=>JK,ZodEffects:()=>d8,ZodDiscriminatedUnion:()=>j2,ZodDefault:()=>e4,ZodDate:()=>pK,ZodCatch:()=>s4,ZodBranded:()=>v2,ZodBoolean:()=>n4,ZodBigInt:()=>zK,ZodArray:()=>p8,ZodAny:()=>cK,Schema:()=>f6,ParseStatus:()=>Sq,OK:()=>bq,NEVER:()=>yp,INVALID:()=>P6,EMPTY_PATH:()=>Ix,DIRTY:()=>xK,BRAND:()=>Qx});var V6;(function($){$.assertEqual=(K)=>{};function q(K){}$.assertIs=q;function _(K){throw Error()}$.assertNever=_,$.arrayToEnum=(K)=>{let O={};for(let Y of K)O[Y]=Y;return O},$.getValidEnumValues=(K)=>{let O=$.objectKeys(K).filter((v)=>typeof K[K[v]]!=="number"),Y={};for(let v of O)Y[v]=K[v];return $.objectValues(Y)},$.objectValues=(K)=>{return $.objectKeys(K).map(function(O){return K[O]})},$.objectKeys=typeof Object.keys==="function"?(K)=>Object.keys(K):(K)=>{let O=[];for(let Y in K)if(Object.prototype.hasOwnProperty.call(K,Y))O.push(Y);return O},$.find=(K,O)=>{for(let Y of K)if(O(Y))return Y;return},$.isInteger=typeof Number.isInteger==="function"?(K)=>Number.isInteger(K):(K)=>typeof K==="number"&&Number.isFinite(K)&&Math.floor(K)===K;function P(K,O=" | "){return K.map((Y)=>typeof Y==="string"?`'${Y}'`:Y).join(O)}$.joinValues=P,$.jsonStringifyReplacer=(K,O)=>{if(typeof O==="bigint")return O.toString();return O}})(V6||(V6={}));var jW;(function($){$.mergeShapes=(q,_)=>{return{...q,..._}}})(jW||(jW={}));var B$=V6.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),__=($)=>{switch(typeof $){case"undefined":return B$.undefined;case"string":return B$.string;case"number":return Number.isNaN($)?B$.nan:B$.number;case"boolean":return B$.boolean;case"function":return B$.function;case"bigint":return B$.bigint;case"symbol":return B$.symbol;case"object":if(Array.isArray($))return B$.array;if($===null)return B$.null;if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return B$.promise;if(typeof Map<"u"&&$ instanceof Map)return B$.map;if(typeof Set<"u"&&$ instanceof Set)return B$.set;if(typeof Date<"u"&&$ instanceof Date)return B$.date;return B$.object;default:return B$.unknown}};var m$=V6.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Cx=($)=>{return JSON.stringify($,null,2).replace(/"([^"]+)":/g,"$1:")};class q8 extends Error{get errors(){return this.issues}constructor($){super();this.issues=[],this.addIssue=(_)=>{this.issues=[...this.issues,_]},this.addIssues=(_=[])=>{this.issues=[...this.issues,..._]};let q=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,q);else this.__proto__=q;this.name="ZodError",this.issues=$}format($){let q=$||function(K){return K.message},_={_errors:[]},P=(K)=>{for(let O of K.issues)if(O.code==="invalid_union")O.unionErrors.map(P);else if(O.code==="invalid_return_type")P(O.returnTypeError);else if(O.code==="invalid_arguments")P(O.argumentsError);else if(O.path.length===0)_._errors.push(q(O));else{let Y=_,v=0;while(v<O.path.length){let W=O.path[v];if(v!==O.path.length-1)Y[W]=Y[W]||{_errors:[]};else Y[W]=Y[W]||{_errors:[]},Y[W]._errors.push(q(O));Y=Y[W],v++}}};return P(this),_}static assert($){if(!($ instanceof q8))throw Error(`Not a ZodError: ${$}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,V6.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten($=(q)=>q.message){let q=Object.create(null),_=[];for(let P of this.issues)if(P.path.length>0){let K=P.path[0];q[K]=q[K]||[],q[K].push($(P))}else _.push($(P));return{formErrors:_,fieldErrors:q}}get formErrors(){return this.flatten()}}q8.create=($)=>{return new q8($)};var Ex=($,q)=>{let _;switch($.code){case m$.invalid_type:if($.received===B$.undefined)_="Required";else _=`Expected ${$.expected}, received ${$.received}`;break;case m$.invalid_literal:_=`Invalid literal value, expected ${JSON.stringify($.expected,V6.jsonStringifyReplacer)}`;break;case m$.unrecognized_keys:_=`Unrecognized key(s) in object: ${V6.joinValues($.keys,", ")}`;break;case m$.invalid_union:_="Invalid input";break;case m$.invalid_union_discriminator:_=`Invalid discriminator value. Expected ${V6.joinValues($.options)}`;break;case m$.invalid_enum_value:_=`Invalid enum value. Expected ${V6.joinValues($.options)}, received '${$.received}'`;break;case m$.invalid_arguments:_="Invalid function arguments";break;case m$.invalid_return_type:_="Invalid function return type";break;case m$.invalid_date:_="Invalid date";break;case m$.invalid_string:if(typeof $.validation==="object")if("includes"in $.validation){if(_=`Invalid input: must include "${$.validation.includes}"`,typeof $.validation.position==="number")_=`${_} at one or more positions greater than or equal to ${$.validation.position}`}else if("startsWith"in $.validation)_=`Invalid input: must start with "${$.validation.startsWith}"`;else if("endsWith"in $.validation)_=`Invalid input: must end with "${$.validation.endsWith}"`;else V6.assertNever($.validation);else if($.validation!=="regex")_=`Invalid ${$.validation}`;else _="Invalid";break;case m$.too_small:if($.type==="array")_=`Array must contain ${$.exact?"exactly":$.inclusive?"at least":"more than"} ${$.minimum} element(s)`;else if($.type==="string")_=`String must contain ${$.exact?"exactly":$.inclusive?"at least":"over"} ${$.minimum} character(s)`;else if($.type==="number")_=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="bigint")_=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="date")_=`Date must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${new Date(Number($.minimum))}`;else _="Invalid input";break;case m$.too_big:if($.type==="array")_=`Array must contain ${$.exact?"exactly":$.inclusive?"at most":"less than"} ${$.maximum} element(s)`;else if($.type==="string")_=`String must contain ${$.exact?"exactly":$.inclusive?"at most":"under"} ${$.maximum} character(s)`;else if($.type==="number")_=`Number must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="bigint")_=`BigInt must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="date")_=`Date must be ${$.exact?"exactly":$.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number($.maximum))}`;else _="Invalid input";break;case m$.custom:_="Invalid input";break;case m$.invalid_intersection_types:_="Intersection results could not be merged";break;case m$.not_multiple_of:_=`Number must be a multiple of ${$.multipleOf}`;break;case m$.not_finite:_="Number must be finite";break;default:_=q.defaultError,V6.assertNever($)}return{message:_}},M_=Ex;var RV=M_;function Rx($){RV=$}function d4(){return RV}var n1=($)=>{let{data:q,path:_,errorMaps:P,issueData:K}=$,O=[..._,...K.path||[]],Y={...K,path:O};if(K.message!==void 0)return{...K,path:O,message:K.message};let v="",W=P.filter((T)=>!!T).slice().reverse();for(let T of W)v=T(Y,{data:q,defaultError:v}).message;return{...K,path:O,message:v}},Ix=[];function F$($,q){let _=d4(),P=n1({issueData:q,data:$.data,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,_,_===M_?void 0:M_].filter((K)=>!!K)});$.common.issues.push(P)}class Sq{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray($,q){let _=[];for(let P of q){if(P.status==="aborted")return P6;if(P.status==="dirty")$.dirty();_.push(P.value)}return{status:$.value,value:_}}static async mergeObjectAsync($,q){let _=[];for(let P of q){let K=await P.key,O=await P.value;_.push({key:K,value:O})}return Sq.mergeObjectSync($,_)}static mergeObjectSync($,q){let _={};for(let P of q){let{key:K,value:O}=P;if(K.status==="aborted")return P6;if(O.status==="aborted")return P6;if(K.status==="dirty")$.dirty();if(O.status==="dirty")$.dirty();if(K.value!=="__proto__"&&(typeof O.value<"u"||P.alwaysSet))_[K.value]=O.value}return{status:$.value,value:_}}}var P6=Object.freeze({status:"aborted"}),xK=($)=>({status:"dirty",value:$}),bq=($)=>({status:"valid",value:$}),Y2=($)=>$.status==="aborted",O2=($)=>$.status==="dirty",OK=($)=>$.status==="valid",l4=($)=>typeof Promise<"u"&&$ instanceof Promise;var q6;(function($){$.errToObj=(q)=>typeof q==="string"?{message:q}:q||{},$.toString=(q)=>typeof q==="string"?q:q?.message})(q6||(q6={}));class m8{constructor($,q,_,P){this._cachedPath=[],this.parent=$,this.data=q,this._path=_,this._key=P}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var IV=($,q)=>{if(OK(q))return{success:!0,data:q.value};else{if(!$.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let _=new q8($.common.issues);return this._error=_,this._error}}}};function J6($){if(!$)return{};let{errorMap:q,invalid_type_error:_,required_error:P,description:K}=$;if(q&&(_||P))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(q)return{errorMap:q,description:K};return{errorMap:(Y,v)=>{let{message:W}=$;if(Y.code==="invalid_enum_value")return{message:W??v.defaultError};if(typeof v.data>"u")return{message:W??P??v.defaultError};if(Y.code!=="invalid_type")return{message:v.defaultError};return{message:W??_??v.defaultError}},description:K}}class f6{get description(){return this._def.description}_getType($){return __($.data)}_getOrReturnCtx($,q){return q||{common:$.parent.common,data:$.data,parsedType:__($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}_processInputParams($){return{status:new Sq,ctx:{common:$.parent.common,data:$.data,parsedType:__($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}}_parseSync($){let q=this._parse($);if(l4(q))throw Error("Synchronous parse encountered promise.");return q}_parseAsync($){let q=this._parse($);return Promise.resolve(q)}parse($,q){let _=this.safeParse($,q);if(_.success)return _.data;throw _.error}safeParse($,q){let _={common:{issues:[],async:q?.async??!1,contextualErrorMap:q?.errorMap},path:q?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:__($)},P=this._parseSync({data:$,path:_.path,parent:_});return IV(_,P)}"~validate"($){let q={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:__($)};if(!this["~standard"].async)try{let _=this._parseSync({data:$,path:[],parent:q});return OK(_)?{value:_.value}:{issues:q.common.issues}}catch(_){if(_?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;q.common={issues:[],async:!0}}return this._parseAsync({data:$,path:[],parent:q}).then((_)=>OK(_)?{value:_.value}:{issues:q.common.issues})}async parseAsync($,q){let _=await this.safeParseAsync($,q);if(_.success)return _.data;throw _.error}async safeParseAsync($,q){let _={common:{issues:[],contextualErrorMap:q?.errorMap,async:!0},path:q?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:__($)},P=this._parse({data:$,path:_.path,parent:_}),K=await(l4(P)?P:Promise.resolve(P));return IV(_,K)}refine($,q){let _=(P)=>{if(typeof q==="string"||typeof q>"u")return{message:q};else if(typeof q==="function")return q(P);else return q};return this._refinement((P,K)=>{let O=$(P),Y=()=>K.addIssue({code:m$.custom,..._(P)});if(typeof Promise<"u"&&O instanceof Promise)return O.then((v)=>{if(!v)return Y(),!1;else return!0});if(!O)return Y(),!1;else return!0})}refinement($,q){return this._refinement((_,P)=>{if(!$(_))return P.addIssue(typeof q==="function"?q(_,P):q),!1;else return!0})}_refinement($){return new d8({schema:this,typeName:r$.ZodEffects,effect:{type:"refinement",refinement:$}})}superRefine($){return this._refinement($)}constructor($){this.spa=this.safeParseAsync,this._def=$,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(q)=>this["~validate"](q)}}optional(){return c8.create(this,this._def)}nullable(){return C_.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return p8.create(this)}promise(){return dK.create(this,this._def)}or($){return U4.create([this,$],this._def)}and($){return t4.create(this,$,this._def)}transform($){return new d8({...J6(this._def),schema:this,typeName:r$.ZodEffects,effect:{type:"transform",transform:$}})}default($){let q=typeof $==="function"?$:()=>$;return new e4({...J6(this._def),innerType:this,defaultValue:q,typeName:r$.ZodDefault})}brand(){return new v2({typeName:r$.ZodBranded,type:this,...J6(this._def)})}catch($){let q=typeof $==="function"?$:()=>$;return new s4({...J6(this._def),innerType:this,catchValue:q,typeName:r$.ZodCatch})}describe($){return new this.constructor({...this._def,description:$})}pipe($){return Q1.create(this,$)}readonly(){return $P.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var hx=/^c[^\s-]{8,}$/i,Dx=/^[0-9a-z]+$/,Lx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bx=/^[a-z0-9_-]{21}$/i,yx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ux=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,px="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",vW,cx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ox=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nx=new RegExp(`^${DV}$`);function LV($){let q="[0-5]\\d";if($.precision)q=`${q}\\.\\d{${$.precision}}`;else if($.precision==null)q=`${q}(\\.\\d+)?`;let _=$.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${q})${_}`}function ix($){return new RegExp(`^${LV($)}$`)}function gV($){let q=`${DV}T${LV($)}`,_=[];if(_.push($.local?"Z?":"Z"),$.offset)_.push("([+-]\\d{2}:?\\d{2})");return q=`${q}(${_.join("|")})`,new RegExp(`^${q}$`)}function Bx($,q){if((q==="v4"||!q)&&cx.test($))return!0;if((q==="v6"||!q)&&dx.test($))return!0;return!1}function Ux($,q){if(!yx.test($))return!1;try{let[_]=$.split(".");if(!_)return!1;let P=_.replace(/-/g,"+").replace(/_/g,"/").padEnd(_.length+(4-_.length%4)%4,"="),K=JSON.parse(atob(P));if(typeof K!=="object"||K===null)return!1;if("typ"in K&&K?.typ!=="JWT")return!1;if(!K.alg)return!1;if(q&&K.alg!==q)return!1;return!0}catch{return!1}}function tx($,q){if((q==="v4"||!q)&&mx.test($))return!0;if((q==="v6"||!q)&&lx.test($))return!0;return!1}class x8 extends f6{_parse($){if(this._def.coerce)$.data=String($.data);if(this._getType($)!==B$.string){let K=this._getOrReturnCtx($);return F$(K,{code:m$.invalid_type,expected:B$.string,received:K.parsedType}),P6}let _=new Sq,P=void 0;for(let K of this._def.checks)if(K.kind==="min"){if($.data.length<K.value)P=this._getOrReturnCtx($,P),F$(P,{code:m$.too_small,minimum:K.value,type:"string",inclusive:!0,exact:!1,message:K.message}),_.dirty()}else if(K.kind==="max"){if($.data.length>K.value)P=this._getOrReturnCtx($,P),F$(P,{code:m$.too_big,maximum:K.value,type:"string",inclusive:!0,exact:!1,message:K.message}),_.dirty()}else if(K.kind==="length"){let O=$.data.length>K.value,Y=$.data.length<K.value;if(O||Y){if(P=this._getOrReturnCtx($,P),O)F$(P,{code:m$.too_big,maximum:K.value,type:"string",inclusive:!0,exact:!0,message:K.message});else if(Y)F$(P,{code:m$.too_small,minimum:K.value,type:"string",inclusive:!0,exact:!0,message:K.message});_.dirty()}}else if(K.kind==="email"){if(!xx.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"email",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="emoji"){if(!vW)vW=new RegExp(px,"u");if(!vW.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"emoji",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="uuid"){if(!gx.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"uuid",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="nanoid"){if(!bx.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"nanoid",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="cuid"){if(!hx.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"cuid",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="cuid2"){if(!Dx.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"cuid2",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="ulid"){if(!Lx.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"ulid",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="url")try{new URL($.data)}catch{P=this._getOrReturnCtx($,P),F$(P,{validation:"url",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="regex"){if(K.regex.lastIndex=0,!K.regex.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"regex",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="trim")$.data=$.data.trim();else if(K.kind==="includes"){if(!$.data.includes(K.value,K.position))P=this._getOrReturnCtx($,P),F$(P,{code:m$.invalid_string,validation:{includes:K.value,position:K.position},message:K.message}),_.dirty()}else if(K.kind==="toLowerCase")$.data=$.data.toLowerCase();else if(K.kind==="toUpperCase")$.data=$.data.toUpperCase();else if(K.kind==="startsWith"){if(!$.data.startsWith(K.value))P=this._getOrReturnCtx($,P),F$(P,{code:m$.invalid_string,validation:{startsWith:K.value},message:K.message}),_.dirty()}else if(K.kind==="endsWith"){if(!$.data.endsWith(K.value))P=this._getOrReturnCtx($,P),F$(P,{code:m$.invalid_string,validation:{endsWith:K.value},message:K.message}),_.dirty()}else if(K.kind==="datetime"){if(!gV(K).test($.data))P=this._getOrReturnCtx($,P),F$(P,{code:m$.invalid_string,validation:"datetime",message:K.message}),_.dirty()}else if(K.kind==="date"){if(!nx.test($.data))P=this._getOrReturnCtx($,P),F$(P,{code:m$.invalid_string,validation:"date",message:K.message}),_.dirty()}else if(K.kind==="time"){if(!ix(K).test($.data))P=this._getOrReturnCtx($,P),F$(P,{code:m$.invalid_string,validation:"time",message:K.message}),_.dirty()}else if(K.kind==="duration"){if(!ux.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"duration",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="ip"){if(!Bx($.data,K.version))P=this._getOrReturnCtx($,P),F$(P,{validation:"ip",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="jwt"){if(!Ux($.data,K.alg))P=this._getOrReturnCtx($,P),F$(P,{validation:"jwt",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="cidr"){if(!tx($.data,K.version))P=this._getOrReturnCtx($,P),F$(P,{validation:"cidr",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="base64"){if(!rx.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"base64",code:m$.invalid_string,message:K.message}),_.dirty()}else if(K.kind==="base64url"){if(!ox.test($.data))P=this._getOrReturnCtx($,P),F$(P,{validation:"base64url",code:m$.invalid_string,message:K.message}),_.dirty()}else V6.assertNever(K);return{status:_.value,value:$.data}}_regex($,q,_){return this.refinement((P)=>$.test(P),{validation:q,code:m$.invalid_string,...q6.errToObj(_)})}_addCheck($){return new x8({...this._def,checks:[...this._def.checks,$]})}email($){return this._addCheck({kind:"email",...q6.errToObj($)})}url($){return this._addCheck({kind:"url",...q6.errToObj($)})}emoji($){return this._addCheck({kind:"emoji",...q6.errToObj($)})}uuid($){return this._addCheck({kind:"uuid",...q6.errToObj($)})}nanoid($){return this._addCheck({kind:"nanoid",...q6.errToObj($)})}cuid($){return this._addCheck({kind:"cuid",...q6.errToObj($)})}cuid2($){return this._addCheck({kind:"cuid2",...q6.errToObj($)})}ulid($){return this._addCheck({kind:"ulid",...q6.errToObj($)})}base64($){return this._addCheck({kind:"base64",...q6.errToObj($)})}base64url($){return this._addCheck({kind:"base64url",...q6.errToObj($)})}jwt($){return this._addCheck({kind:"jwt",...q6.errToObj($)})}ip($){return this._addCheck({kind:"ip",...q6.errToObj($)})}cidr($){return this._addCheck({kind:"cidr",...q6.errToObj($)})}datetime($){if(typeof $==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:$});return this._addCheck({kind:"datetime",precision:typeof $?.precision>"u"?null:$?.precision,offset:$?.offset??!1,local:$?.local??!1,...q6.errToObj($?.message)})}date($){return this._addCheck({kind:"date",message:$})}time($){if(typeof $==="string")return this._addCheck({kind:"time",precision:null,message:$});return this._addCheck({kind:"time",precision:typeof $?.precision>"u"?null:$?.precision,...q6.errToObj($?.message)})}duration($){return this._addCheck({kind:"duration",...q6.errToObj($)})}regex($,q){return this._addCheck({kind:"regex",regex:$,...q6.errToObj(q)})}includes($,q){return this._addCheck({kind:"includes",value:$,position:q?.position,...q6.errToObj(q?.message)})}startsWith($,q){return this._addCheck({kind:"startsWith",value:$,...q6.errToObj(q)})}endsWith($,q){return this._addCheck({kind:"endsWith",value:$,...q6.errToObj(q)})}min($,q){return this._addCheck({kind:"min",value:$,...q6.errToObj(q)})}max($,q){return this._addCheck({kind:"max",value:$,...q6.errToObj(q)})}length($,q){return this._addCheck({kind:"length",value:$,...q6.errToObj(q)})}nonempty($){return this.min(1,q6.errToObj($))}trim(){return new x8({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new x8({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new x8({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(($)=>$.kind==="datetime")}get isDate(){return!!this._def.checks.find(($)=>$.kind==="date")}get isTime(){return!!this._def.checks.find(($)=>$.kind==="time")}get isDuration(){return!!this._def.checks.find(($)=>$.kind==="duration")}get isEmail(){return!!this._def.checks.find(($)=>$.kind==="email")}get isURL(){return!!this._def.checks.find(($)=>$.kind==="url")}get isEmoji(){return!!this._def.checks.find(($)=>$.kind==="emoji")}get isUUID(){return!!this._def.checks.find(($)=>$.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(($)=>$.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(($)=>$.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(($)=>$.kind==="cuid2")}get isULID(){return!!this._def.checks.find(($)=>$.kind==="ulid")}get isIP(){return!!this._def.checks.find(($)=>$.kind==="ip")}get isCIDR(){return!!this._def.checks.find(($)=>$.kind==="cidr")}get isBase64(){return!!this._def.checks.find(($)=>$.kind==="base64")}get isBase64url(){return!!this._def.checks.find(($)=>$.kind==="base64url")}get minLength(){let $=null;for(let q of this._def.checks)if(q.kind==="min"){if($===null||q.value>$)$=q.value}return $}get maxLength(){let $=null;for(let q of this._def.checks)if(q.kind==="max"){if($===null||q.value<$)$=q.value}return $}}x8.create=($)=>{return new x8({checks:[],typeName:r$.ZodString,coerce:$?.coerce??!1,...J6($)})};function Fx($,q){let _=($.toString().split(".")[1]||"").length,P=(q.toString().split(".")[1]||"").length,K=_>P?_:P,O=Number.parseInt($.toFixed(K).replace(".","")),Y=Number.parseInt(q.toFixed(K).replace(".",""));return O%Y/10**K}class vK extends f6{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse($){if(this._def.coerce)$.data=Number($.data);if(this._getType($)!==B$.number){let K=this._getOrReturnCtx($);return F$(K,{code:m$.invalid_type,expected:B$.number,received:K.parsedType}),P6}let _=void 0,P=new Sq;for(let K of this._def.checks)if(K.kind==="int"){if(!V6.isInteger($.data))_=this._getOrReturnCtx($,_),F$(_,{code:m$.invalid_type,expected:"integer",received:"float",message:K.message}),P.dirty()}else if(K.kind==="min"){if(K.inclusive?$.data<K.value:$.data<=K.value)_=this._getOrReturnCtx($,_),F$(_,{code:m$.too_small,minimum:K.value,type:"number",inclusive:K.inclusive,exact:!1,message:K.message}),P.dirty()}else if(K.kind==="max"){if(K.inclusive?$.data>K.value:$.data>=K.value)_=this._getOrReturnCtx($,_),F$(_,{code:m$.too_big,maximum:K.value,type:"number",inclusive:K.inclusive,exact:!1,message:K.message}),P.dirty()}else if(K.kind==="multipleOf"){if(Fx($.data,K.value)!==0)_=this._getOrReturnCtx($,_),F$(_,{code:m$.not_multiple_of,multipleOf:K.value,message:K.message}),P.dirty()}else if(K.kind==="finite"){if(!Number.isFinite($.data))_=this._getOrReturnCtx($,_),F$(_,{code:m$.not_finite,message:K.message}),P.dirty()}else V6.assertNever(K);return{status:P.value,value:$.data}}gte($,q){return this.setLimit("min",$,!0,q6.toString(q))}gt($,q){return this.setLimit("min",$,!1,q6.toString(q))}lte($,q){return this.setLimit("max",$,!0,q6.toString(q))}lt($,q){return this.setLimit("max",$,!1,q6.toString(q))}setLimit($,q,_,P){return new vK({...this._def,checks:[...this._def.checks,{kind:$,value:q,inclusive:_,message:q6.toString(P)}]})}_addCheck($){return new vK({...this._def,checks:[...this._def.checks,$]})}int($){return this._addCheck({kind:"int",message:q6.toString($)})}positive($){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q6.toString($)})}negative($){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q6.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q6.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q6.toString($)})}multipleOf($,q){return this._addCheck({kind:"multipleOf",value:$,message:q6.toString(q)})}finite($){return this._addCheck({kind:"finite",message:q6.toString($)})}safe($){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q6.toString($)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q6.toString($)})}get minValue(){let $=null;for(let q of this._def.checks)if(q.kind==="min"){if($===null||q.value>$)$=q.value}return $}get maxValue(){let $=null;for(let q of this._def.checks)if(q.kind==="max"){if($===null||q.value<$)$=q.value}return $}get isInt(){return!!this._def.checks.find(($)=>$.kind==="int"||$.kind==="multipleOf"&&V6.isInteger($.value))}get isFinite(){let $=null,q=null;for(let _ of this._def.checks)if(_.kind==="finite"||_.kind==="int"||_.kind==="multipleOf")return!0;else if(_.kind==="min"){if(q===null||_.value>q)q=_.value}else if(_.kind==="max"){if($===null||_.value<$)$=_.value}return Number.isFinite(q)&&Number.isFinite($)}}vK.create=($)=>{return new vK({checks:[],typeName:r$.ZodNumber,coerce:$?.coerce||!1,...J6($)})};class zK extends f6{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse($){if(this._def.coerce)try{$.data=BigInt($.data)}catch{return this._getInvalidInput($)}if(this._getType($)!==B$.bigint)return this._getInvalidInput($);let _=void 0,P=new Sq;for(let K of this._def.checks)if(K.kind==="min"){if(K.inclusive?$.data<K.value:$.data<=K.value)_=this._getOrReturnCtx($,_),F$(_,{code:m$.too_small,type:"bigint",minimum:K.value,inclusive:K.inclusive,message:K.message}),P.dirty()}else if(K.kind==="max"){if(K.inclusive?$.data>K.value:$.data>=K.value)_=this._getOrReturnCtx($,_),F$(_,{code:m$.too_big,type:"bigint",maximum:K.value,inclusive:K.inclusive,message:K.message}),P.dirty()}else if(K.kind==="multipleOf"){if($.data%K.value!==BigInt(0))_=this._getOrReturnCtx($,_),F$(_,{code:m$.not_multiple_of,multipleOf:K.value,message:K.message}),P.dirty()}else V6.assertNever(K);return{status:P.value,value:$.data}}_getInvalidInput($){let q=this._getOrReturnCtx($);return F$(q,{code:m$.invalid_type,expected:B$.bigint,received:q.parsedType}),P6}gte($,q){return this.setLimit("min",$,!0,q6.toString(q))}gt($,q){return this.setLimit("min",$,!1,q6.toString(q))}lte($,q){return this.setLimit("max",$,!0,q6.toString(q))}lt($,q){return this.setLimit("max",$,!1,q6.toString(q))}setLimit($,q,_,P){return new zK({...this._def,checks:[...this._def.checks,{kind:$,value:q,inclusive:_,message:q6.toString(P)}]})}_addCheck($){return new zK({...this._def,checks:[...this._def.checks,$]})}positive($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q6.toString($)})}negative($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q6.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q6.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q6.toString($)})}multipleOf($,q){return this._addCheck({kind:"multipleOf",value:$,message:q6.toString(q)})}get minValue(){let $=null;for(let q of this._def.checks)if(q.kind==="min"){if($===null||q.value>$)$=q.value}return $}get maxValue(){let $=null;for(let q of this._def.checks)if(q.kind==="max"){if($===null||q.value<$)$=q.value}return $}}zK.create=($)=>{return new zK({checks:[],typeName:r$.ZodBigInt,coerce:$?.coerce??!1,...J6($)})};class n4 extends f6{_parse($){if(this._def.coerce)$.data=Boolean($.data);if(this._getType($)!==B$.boolean){let _=this._getOrReturnCtx($);return F$(_,{code:m$.invalid_type,expected:B$.boolean,received:_.parsedType}),P6}return bq($.data)}}n4.create=($)=>{return new n4({typeName:r$.ZodBoolean,coerce:$?.coerce||!1,...J6($)})};class pK extends f6{_parse($){if(this._def.coerce)$.data=new Date($.data);if(this._getType($)!==B$.date){let K=this._getOrReturnCtx($);return F$(K,{code:m$.invalid_type,expected:B$.date,received:K.parsedType}),P6}if(Number.isNaN($.data.getTime())){let K=this._getOrReturnCtx($);return F$(K,{code:m$.invalid_date}),P6}let _=new Sq,P=void 0;for(let K of this._def.checks)if(K.kind==="min"){if($.data.getTime()<K.value)P=this._getOrReturnCtx($,P),F$(P,{code:m$.too_small,message:K.message,inclusive:!0,exact:!1,minimum:K.value,type:"date"}),_.dirty()}else if(K.kind==="max"){if($.data.getTime()>K.value)P=this._getOrReturnCtx($,P),F$(P,{code:m$.too_big,message:K.message,inclusive:!0,exact:!1,maximum:K.value,type:"date"}),_.dirty()}else V6.assertNever(K);return{status:_.value,value:new Date($.data.getTime())}}_addCheck($){return new pK({...this._def,checks:[...this._def.checks,$]})}min($,q){return this._addCheck({kind:"min",value:$.getTime(),message:q6.toString(q)})}max($,q){return this._addCheck({kind:"max",value:$.getTime(),message:q6.toString(q)})}get minDate(){let $=null;for(let q of this._def.checks)if(q.kind==="min"){if($===null||q.value>$)$=q.value}return $!=null?new Date($):null}get maxDate(){let $=null;for(let q of this._def.checks)if(q.kind==="max"){if($===null||q.value<$)$=q.value}return $!=null?new Date($):null}}pK.create=($)=>{return new pK({checks:[],coerce:$?.coerce||!1,typeName:r$.ZodDate,...J6($)})};class i1 extends f6{_parse($){if(this._getType($)!==B$.symbol){let _=this._getOrReturnCtx($);return F$(_,{code:m$.invalid_type,expected:B$.symbol,received:_.parsedType}),P6}return bq($.data)}}i1.create=($)=>{return new i1({typeName:r$.ZodSymbol,...J6($)})};class i4 extends f6{_parse($){if(this._getType($)!==B$.undefined){let _=this._getOrReturnCtx($);return F$(_,{code:m$.invalid_type,expected:B$.undefined,received:_.parsedType}),P6}return bq($.data)}}i4.create=($)=>{return new i4({typeName:r$.ZodUndefined,...J6($)})};class B4 extends f6{_parse($){if(this._getType($)!==B$.null){let _=this._getOrReturnCtx($);return F$(_,{code:m$.invalid_type,expected:B$.null,received:_.parsedType}),P6}return bq($.data)}}B4.create=($)=>{return new B4({typeName:r$.ZodNull,...J6($)})};class cK extends f6{constructor(){super(...arguments);this._any=!0}_parse($){return bq($.data)}}cK.create=($)=>{return new cK({typeName:r$.ZodAny,...J6($)})};class jK extends f6{constructor(){super(...arguments);this._unknown=!0}_parse($){return bq($.data)}}jK.create=($)=>{return new jK({typeName:r$.ZodUnknown,...J6($)})};class K_ extends f6{_parse($){let q=this._getOrReturnCtx($);return F$(q,{code:m$.invalid_type,expected:B$.never,received:q.parsedType}),P6}}K_.create=($)=>{return new K_({typeName:r$.ZodNever,...J6($)})};class B1 extends f6{_parse($){if(this._getType($)!==B$.undefined){let _=this._getOrReturnCtx($);return F$(_,{code:m$.invalid_type,expected:B$.void,received:_.parsedType}),P6}return bq($.data)}}B1.create=($)=>{return new B1({typeName:r$.ZodVoid,...J6($)})};class p8 extends f6{_parse($){let{ctx:q,status:_}=this._processInputParams($),P=this._def;if(q.parsedType!==B$.array)return F$(q,{code:m$.invalid_type,expected:B$.array,received:q.parsedType}),P6;if(P.exactLength!==null){let O=q.data.length>P.exactLength.value,Y=q.data.length<P.exactLength.value;if(O||Y)F$(q,{code:O?m$.too_big:m$.too_small,minimum:Y?P.exactLength.value:void 0,maximum:O?P.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:P.exactLength.message}),_.dirty()}if(P.minLength!==null){if(q.data.length<P.minLength.value)F$(q,{code:m$.too_small,minimum:P.minLength.value,type:"array",inclusive:!0,exact:!1,message:P.minLength.message}),_.dirty()}if(P.maxLength!==null){if(q.data.length>P.maxLength.value)F$(q,{code:m$.too_big,maximum:P.maxLength.value,type:"array",inclusive:!0,exact:!1,message:P.maxLength.message}),_.dirty()}if(q.common.async)return Promise.all([...q.data].map((O,Y)=>{return P.type._parseAsync(new m8(q,O,q.path,Y))})).then((O)=>{return Sq.mergeArray(_,O)});let K=[...q.data].map((O,Y)=>{return P.type._parseSync(new m8(q,O,q.path,Y))});return Sq.mergeArray(_,K)}get element(){return this._def.type}min($,q){return new p8({...this._def,minLength:{value:$,message:q6.toString(q)}})}max($,q){return new p8({...this._def,maxLength:{value:$,message:q6.toString(q)}})}length($,q){return new p8({...this._def,exactLength:{value:$,message:q6.toString(q)}})}nonempty($){return this.min(1,$)}}p8.create=($,q)=>{return new p8({type:$,minLength:null,maxLength:null,exactLength:null,typeName:r$.ZodArray,...J6(q)})};function r4($){if($ instanceof c6){let q={};for(let _ in $.shape){let P=$.shape[_];q[_]=c8.create(r4(P))}return new c6({...$._def,shape:()=>q})}else if($ instanceof p8)return new p8({...$._def,type:r4($.element)});else if($ instanceof c8)return c8.create(r4($.unwrap()));else if($ instanceof C_)return C_.create(r4($.unwrap()));else if($ instanceof P_)return P_.create($.items.map((q)=>r4(q)));else return $}class c6 extends f6{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let $=this._def.shape(),q=V6.objectKeys($);return this._cached={shape:$,keys:q},this._cached}_parse($){if(this._getType($)!==B$.object){let W=this._getOrReturnCtx($);return F$(W,{code:m$.invalid_type,expected:B$.object,received:W.parsedType}),P6}let{status:_,ctx:P}=this._processInputParams($),{shape:K,keys:O}=this._getCached(),Y=[];if(!(this._def.catchall instanceof K_&&this._def.unknownKeys==="strip")){for(let W in P.data)if(!O.includes(W))Y.push(W)}let v=[];for(let W of O){let T=K[W],Z=P.data[W];v.push({key:{status:"valid",value:W},value:T._parse(new m8(P,Z,P.path,W)),alwaysSet:W in P.data})}if(this._def.catchall instanceof K_){let W=this._def.unknownKeys;if(W==="passthrough")for(let T of Y)v.push({key:{status:"valid",value:T},value:{status:"valid",value:P.data[T]}});else if(W==="strict"){if(Y.length>0)F$(P,{code:m$.unrecognized_keys,keys:Y}),_.dirty()}else if(W==="strip");else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let W=this._def.catchall;for(let T of Y){let Z=P.data[T];v.push({key:{status:"valid",value:T},value:W._parse(new m8(P,Z,P.path,T)),alwaysSet:T in P.data})}}if(P.common.async)return Promise.resolve().then(async()=>{let W=[];for(let T of v){let Z=await T.key,w=await T.value;W.push({key:Z,value:w,alwaysSet:T.alwaysSet})}return W}).then((W)=>{return Sq.mergeObjectSync(_,W)});else return Sq.mergeObjectSync(_,v)}get shape(){return this._def.shape()}strict($){return q6.errToObj,new c6({...this._def,unknownKeys:"strict",...$!==void 0?{errorMap:(q,_)=>{let P=this._def.errorMap?.(q,_).message??_.defaultError;if(q.code==="unrecognized_keys")return{message:q6.errToObj($).message??P};return{message:P}}}:{}})}strip(){return new c6({...this._def,unknownKeys:"strip"})}passthrough(){return new c6({...this._def,unknownKeys:"passthrough"})}extend($){return new c6({...this._def,shape:()=>({...this._def.shape(),...$})})}merge($){return new c6({unknownKeys:$._def.unknownKeys,catchall:$._def.catchall,shape:()=>({...this._def.shape(),...$._def.shape()}),typeName:r$.ZodObject})}setKey($,q){return this.augment({[$]:q})}catchall($){return new c6({...this._def,catchall:$})}pick($){let q={};for(let _ of V6.objectKeys($))if($[_]&&this.shape[_])q[_]=this.shape[_];return new c6({...this._def,shape:()=>q})}omit($){let q={};for(let _ of V6.objectKeys(this.shape))if(!$[_])q[_]=this.shape[_];return new c6({...this._def,shape:()=>q})}deepPartial(){return r4(this)}partial($){let q={};for(let _ of V6.objectKeys(this.shape)){let P=this.shape[_];if($&&!$[_])q[_]=P;else q[_]=P.optional()}return new c6({...this._def,shape:()=>q})}required($){let q={};for(let _ of V6.objectKeys(this.shape))if($&&!$[_])q[_]=this.shape[_];else{let K=this.shape[_];while(K instanceof c8)K=K._def.innerType;q[_]=K}return new c6({...this._def,shape:()=>q})}keyof(){return bV(V6.objectKeys(this.shape))}}c6.create=($,q)=>{return new c6({shape:()=>$,unknownKeys:"strip",catchall:K_.create(),typeName:r$.ZodObject,...J6(q)})};c6.strictCreate=($,q)=>{return new c6({shape:()=>$,unknownKeys:"strict",catchall:K_.create(),typeName:r$.ZodObject,...J6(q)})};c6.lazycreate=($,q)=>{return new c6({shape:$,unknownKeys:"strip",catchall:K_.create(),typeName:r$.ZodObject,...J6(q)})};class U4 extends f6{_parse($){let{ctx:q}=this._processInputParams($),_=this._def.options;function P(K){for(let Y of K)if(Y.result.status==="valid")return Y.result;for(let Y of K)if(Y.result.status==="dirty")return q.common.issues.push(...Y.ctx.common.issues),Y.result;let O=K.map((Y)=>new q8(Y.ctx.common.issues));return F$(q,{code:m$.invalid_union,unionErrors:O}),P6}if(q.common.async)return Promise.all(_.map(async(K)=>{let O={...q,common:{...q.common,issues:[]},parent:null};return{result:await K._parseAsync({data:q.data,path:q.path,parent:O}),ctx:O}})).then(P);else{let K=void 0,O=[];for(let v of _){let W={...q,common:{...q.common,issues:[]},parent:null},T=v._parseSync({data:q.data,path:q.path,parent:W});if(T.status==="valid")return T;else if(T.status==="dirty"&&!K)K={result:T,ctx:W};if(W.common.issues.length)O.push(W.common.issues)}if(K)return q.common.issues.push(...K.ctx.common.issues),K.result;let Y=O.map((v)=>new q8(v));return F$(q,{code:m$.invalid_union,unionErrors:Y}),P6}}get options(){return this._def.options}}U4.create=($,q)=>{return new U4({options:$,typeName:r$.ZodUnion,...J6(q)})};var N_=($)=>{if($ instanceof F4)return N_($.schema);else if($ instanceof d8)return N_($.innerType());else if($ instanceof Q4)return[$.value];else if($ instanceof JK)return $.options;else if($ instanceof a4)return V6.objectValues($.enum);else if($ instanceof e4)return N_($._def.innerType);else if($ instanceof i4)return[void 0];else if($ instanceof B4)return[null];else if($ instanceof c8)return[void 0,...N_($.unwrap())];else if($ instanceof C_)return[null,...N_($.unwrap())];else if($ instanceof v2)return N_($.unwrap());else if($ instanceof $P)return N_($.unwrap());else if($ instanceof s4)return N_($._def.innerType);else return[]};class j2 extends f6{_parse($){let{ctx:q}=this._processInputParams($);if(q.parsedType!==B$.object)return F$(q,{code:m$.invalid_type,expected:B$.object,received:q.parsedType}),P6;let _=this.discriminator,P=q.data[_],K=this.optionsMap.get(P);if(!K)return F$(q,{code:m$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[_]}),P6;if(q.common.async)return K._parseAsync({data:q.data,path:q.path,parent:q});else return K._parseSync({data:q.data,path:q.path,parent:q})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create($,q,_){let P=new Map;for(let K of q){let O=N_(K.shape[$]);if(!O.length)throw Error(`A discriminator value for key \`${$}\` could not be extracted from all schema options`);for(let Y of O){if(P.has(Y))throw Error(`Discriminator property ${String($)} has duplicate value ${String(Y)}`);P.set(Y,K)}}return new j2({typeName:r$.ZodDiscriminatedUnion,discriminator:$,options:q,optionsMap:P,...J6(_)})}}function zW($,q){let _=__($),P=__(q);if($===q)return{valid:!0,data:$};else if(_===B$.object&&P===B$.object){let K=V6.objectKeys(q),O=V6.objectKeys($).filter((v)=>K.indexOf(v)!==-1),Y={...$,...q};for(let v of O){let W=zW($[v],q[v]);if(!W.valid)return{valid:!1};Y[v]=W.data}return{valid:!0,data:Y}}else if(_===B$.array&&P===B$.array){if($.length!==q.length)return{valid:!1};let K=[];for(let O=0;O<$.length;O++){let Y=$[O],v=q[O],W=zW(Y,v);if(!W.valid)return{valid:!1};K.push(W.data)}return{valid:!0,data:K}}else if(_===B$.date&&P===B$.date&&+$===+q)return{valid:!0,data:$};else return{valid:!1}}class t4 extends f6{_parse($){let{status:q,ctx:_}=this._processInputParams($),P=(K,O)=>{if(Y2(K)||Y2(O))return P6;let Y=zW(K.value,O.value);if(!Y.valid)return F$(_,{code:m$.invalid_intersection_types}),P6;if(O2(K)||O2(O))q.dirty();return{status:q.value,value:Y.data}};if(_.common.async)return Promise.all([this._def.left._parseAsync({data:_.data,path:_.path,parent:_}),this._def.right._parseAsync({data:_.data,path:_.path,parent:_})]).then(([K,O])=>P(K,O));else return P(this._def.left._parseSync({data:_.data,path:_.path,parent:_}),this._def.right._parseSync({data:_.data,path:_.path,parent:_}))}}t4.create=($,q,_)=>{return new t4({left:$,right:q,typeName:r$.ZodIntersection,...J6(_)})};class P_ extends f6{_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.parsedType!==B$.array)return F$(_,{code:m$.invalid_type,expected:B$.array,received:_.parsedType}),P6;if(_.data.length<this._def.items.length)return F$(_,{code:m$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),P6;if(!this._def.rest&&_.data.length>this._def.items.length)F$(_,{code:m$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q.dirty();let K=[..._.data].map((O,Y)=>{let v=this._def.items[Y]||this._def.rest;if(!v)return null;return v._parse(new m8(_,O,_.path,Y))}).filter((O)=>!!O);if(_.common.async)return Promise.all(K).then((O)=>{return Sq.mergeArray(q,O)});else return Sq.mergeArray(q,K)}get items(){return this._def.items}rest($){return new P_({...this._def,rest:$})}}P_.create=($,q)=>{if(!Array.isArray($))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new P_({items:$,typeName:r$.ZodTuple,rest:null,...J6(q)})};class U1 extends f6{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.parsedType!==B$.object)return F$(_,{code:m$.invalid_type,expected:B$.object,received:_.parsedType}),P6;let P=[],K=this._def.keyType,O=this._def.valueType;for(let Y in _.data)P.push({key:K._parse(new m8(_,Y,_.path,Y)),value:O._parse(new m8(_,_.data[Y],_.path,Y)),alwaysSet:Y in _.data});if(_.common.async)return Sq.mergeObjectAsync(q,P);else return Sq.mergeObjectSync(q,P)}get element(){return this._def.valueType}static create($,q,_){if(q instanceof f6)return new U1({keyType:$,valueType:q,typeName:r$.ZodRecord,...J6(_)});return new U1({keyType:x8.create(),valueType:$,typeName:r$.ZodRecord,...J6(q)})}}class t1 extends f6{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.parsedType!==B$.map)return F$(_,{code:m$.invalid_type,expected:B$.map,received:_.parsedType}),P6;let P=this._def.keyType,K=this._def.valueType,O=[..._.data.entries()].map(([Y,v],W)=>{return{key:P._parse(new m8(_,Y,_.path,[W,"key"])),value:K._parse(new m8(_,v,_.path,[W,"value"]))}});if(_.common.async){let Y=new Map;return Promise.resolve().then(async()=>{for(let v of O){let W=await v.key,T=await v.value;if(W.status==="aborted"||T.status==="aborted")return P6;if(W.status==="dirty"||T.status==="dirty")q.dirty();Y.set(W.value,T.value)}return{status:q.value,value:Y}})}else{let Y=new Map;for(let v of O){let{key:W,value:T}=v;if(W.status==="aborted"||T.status==="aborted")return P6;if(W.status==="dirty"||T.status==="dirty")q.dirty();Y.set(W.value,T.value)}return{status:q.value,value:Y}}}}t1.create=($,q,_)=>{return new t1({valueType:q,keyType:$,typeName:r$.ZodMap,...J6(_)})};class mK extends f6{_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.parsedType!==B$.set)return F$(_,{code:m$.invalid_type,expected:B$.set,received:_.parsedType}),P6;let P=this._def;if(P.minSize!==null){if(_.data.size<P.minSize.value)F$(_,{code:m$.too_small,minimum:P.minSize.value,type:"set",inclusive:!0,exact:!1,message:P.minSize.message}),q.dirty()}if(P.maxSize!==null){if(_.data.size>P.maxSize.value)F$(_,{code:m$.too_big,maximum:P.maxSize.value,type:"set",inclusive:!0,exact:!1,message:P.maxSize.message}),q.dirty()}let K=this._def.valueType;function O(v){let W=new Set;for(let T of v){if(T.status==="aborted")return P6;if(T.status==="dirty")q.dirty();W.add(T.value)}return{status:q.value,value:W}}let Y=[..._.data.values()].map((v,W)=>K._parse(new m8(_,v,_.path,W)));if(_.common.async)return Promise.all(Y).then((v)=>O(v));else return O(Y)}min($,q){return new mK({...this._def,minSize:{value:$,message:q6.toString(q)}})}max($,q){return new mK({...this._def,maxSize:{value:$,message:q6.toString(q)}})}size($,q){return this.min($,q).max($,q)}nonempty($){return this.min(1,$)}}mK.create=($,q)=>{return new mK({valueType:$,minSize:null,maxSize:null,typeName:r$.ZodSet,...J6(q)})};class o4 extends f6{constructor(){super(...arguments);this.validate=this.implement}_parse($){let{ctx:q}=this._processInputParams($);if(q.parsedType!==B$.function)return F$(q,{code:m$.invalid_type,expected:B$.function,received:q.parsedType}),P6;function _(Y,v){return n1({data:Y,path:q.path,errorMaps:[q.common.contextualErrorMap,q.schemaErrorMap,d4(),M_].filter((W)=>!!W),issueData:{code:m$.invalid_arguments,argumentsError:v}})}function P(Y,v){return n1({data:Y,path:q.path,errorMaps:[q.common.contextualErrorMap,q.schemaErrorMap,d4(),M_].filter((W)=>!!W),issueData:{code:m$.invalid_return_type,returnTypeError:v}})}let K={errorMap:q.common.contextualErrorMap},O=q.data;if(this._def.returns instanceof dK){let Y=this;return bq(async function(...v){let W=new q8([]),T=await Y._def.args.parseAsync(v,K).catch((k)=>{throw W.addIssue(_(v,k)),W}),Z=await Reflect.apply(O,this,T);return await Y._def.returns._def.type.parseAsync(Z,K).catch((k)=>{throw W.addIssue(P(Z,k)),W})})}else{let Y=this;return bq(function(...v){let W=Y._def.args.safeParse(v,K);if(!W.success)throw new q8([_(v,W.error)]);let T=Reflect.apply(O,this,W.data),Z=Y._def.returns.safeParse(T,K);if(!Z.success)throw new q8([P(T,Z.error)]);return Z.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...$){return new o4({...this._def,args:P_.create($).rest(jK.create())})}returns($){return new o4({...this._def,returns:$})}implement($){return this.parse($)}strictImplement($){return this.parse($)}static create($,q,_){return new o4({args:$?$:P_.create([]).rest(jK.create()),returns:q||jK.create(),typeName:r$.ZodFunction,...J6(_)})}}class F4 extends f6{get schema(){return this._def.getter()}_parse($){let{ctx:q}=this._processInputParams($);return this._def.getter()._parse({data:q.data,path:q.path,parent:q})}}F4.create=($,q)=>{return new F4({getter:$,typeName:r$.ZodLazy,...J6(q)})};class Q4 extends f6{_parse($){if($.data!==this._def.value){let q=this._getOrReturnCtx($);return F$(q,{received:q.data,code:m$.invalid_literal,expected:this._def.value}),P6}return{status:"valid",value:$.data}}get value(){return this._def.value}}Q4.create=($,q)=>{return new Q4({value:$,typeName:r$.ZodLiteral,...J6(q)})};function bV($,q){return new JK({values:$,typeName:r$.ZodEnum,...J6(q)})}class JK extends f6{_parse($){if(typeof $.data!=="string"){let q=this._getOrReturnCtx($),_=this._def.values;return F$(q,{expected:V6.joinValues(_),received:q.parsedType,code:m$.invalid_type}),P6}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has($.data)){let q=this._getOrReturnCtx($),_=this._def.values;return F$(q,{received:q.data,code:m$.invalid_enum_value,options:_}),P6}return bq($.data)}get options(){return this._def.values}get enum(){let $={};for(let q of this._def.values)$[q]=q;return $}get Values(){let $={};for(let q of this._def.values)$[q]=q;return $}get Enum(){let $={};for(let q of this._def.values)$[q]=q;return $}extract($,q=this._def){return JK.create($,{...this._def,...q})}exclude($,q=this._def){return JK.create(this.options.filter((_)=>!$.includes(_)),{...this._def,...q})}}JK.create=bV;class a4 extends f6{_parse($){let q=V6.getValidEnumValues(this._def.values),_=this._getOrReturnCtx($);if(_.parsedType!==B$.string&&_.parsedType!==B$.number){let P=V6.objectValues(q);return F$(_,{expected:V6.joinValues(P),received:_.parsedType,code:m$.invalid_type}),P6}if(!this._cache)this._cache=new Set(V6.getValidEnumValues(this._def.values));if(!this._cache.has($.data)){let P=V6.objectValues(q);return F$(_,{received:_.data,code:m$.invalid_enum_value,options:P}),P6}return bq($.data)}get enum(){return this._def.values}}a4.create=($,q)=>{return new a4({values:$,typeName:r$.ZodNativeEnum,...J6(q)})};class dK extends f6{unwrap(){return this._def.type}_parse($){let{ctx:q}=this._processInputParams($);if(q.parsedType!==B$.promise&&q.common.async===!1)return F$(q,{code:m$.invalid_type,expected:B$.promise,received:q.parsedType}),P6;let _=q.parsedType===B$.promise?q.data:Promise.resolve(q.data);return bq(_.then((P)=>{return this._def.type.parseAsync(P,{path:q.path,errorMap:q.common.contextualErrorMap})}))}}dK.create=($,q)=>{return new dK({type:$,typeName:r$.ZodPromise,...J6(q)})};class d8 extends f6{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===r$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse($){let{status:q,ctx:_}=this._processInputParams($),P=this._def.effect||null,K={addIssue:(O)=>{if(F$(_,O),O.fatal)q.abort();else q.dirty()},get path(){return _.path}};if(K.addIssue=K.addIssue.bind(K),P.type==="preprocess"){let O=P.transform(_.data,K);if(_.common.async)return Promise.resolve(O).then(async(Y)=>{if(q.value==="aborted")return P6;let v=await this._def.schema._parseAsync({data:Y,path:_.path,parent:_});if(v.status==="aborted")return P6;if(v.status==="dirty")return xK(v.value);if(q.value==="dirty")return xK(v.value);return v});else{if(q.value==="aborted")return P6;let Y=this._def.schema._parseSync({data:O,path:_.path,parent:_});if(Y.status==="aborted")return P6;if(Y.status==="dirty")return xK(Y.value);if(q.value==="dirty")return xK(Y.value);return Y}}if(P.type==="refinement"){let O=(Y)=>{let v=P.refinement(Y,K);if(_.common.async)return Promise.resolve(v);if(v instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Y};if(_.common.async===!1){let Y=this._def.schema._parseSync({data:_.data,path:_.path,parent:_});if(Y.status==="aborted")return P6;if(Y.status==="dirty")q.dirty();return O(Y.value),{status:q.value,value:Y.value}}else return this._def.schema._parseAsync({data:_.data,path:_.path,parent:_}).then((Y)=>{if(Y.status==="aborted")return P6;if(Y.status==="dirty")q.dirty();return O(Y.value).then(()=>{return{status:q.value,value:Y.value}})})}if(P.type==="transform")if(_.common.async===!1){let O=this._def.schema._parseSync({data:_.data,path:_.path,parent:_});if(!OK(O))return P6;let Y=P.transform(O.value,K);if(Y instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:q.value,value:Y}}else return this._def.schema._parseAsync({data:_.data,path:_.path,parent:_}).then((O)=>{if(!OK(O))return P6;return Promise.resolve(P.transform(O.value,K)).then((Y)=>({status:q.value,value:Y}))});V6.assertNever(P)}}d8.create=($,q,_)=>{return new d8({schema:$,typeName:r$.ZodEffects,effect:q,...J6(_)})};d8.createWithPreprocess=($,q,_)=>{return new d8({schema:q,effect:{type:"preprocess",transform:$},typeName:r$.ZodEffects,...J6(_)})};class c8 extends f6{_parse($){if(this._getType($)===B$.undefined)return bq(void 0);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}c8.create=($,q)=>{return new c8({innerType:$,typeName:r$.ZodOptional,...J6(q)})};class C_ extends f6{_parse($){if(this._getType($)===B$.null)return bq(null);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}C_.create=($,q)=>{return new C_({innerType:$,typeName:r$.ZodNullable,...J6(q)})};class e4 extends f6{_parse($){let{ctx:q}=this._processInputParams($),_=q.data;if(q.parsedType===B$.undefined)_=this._def.defaultValue();return this._def.innerType._parse({data:_,path:q.path,parent:q})}removeDefault(){return this._def.innerType}}e4.create=($,q)=>{return new e4({innerType:$,typeName:r$.ZodDefault,defaultValue:typeof q.default==="function"?q.default:()=>q.default,...J6(q)})};class s4 extends f6{_parse($){let{ctx:q}=this._processInputParams($),_={...q,common:{...q.common,issues:[]}},P=this._def.innerType._parse({data:_.data,path:_.path,parent:{..._}});if(l4(P))return P.then((K)=>{return{status:"valid",value:K.status==="valid"?K.value:this._def.catchValue({get error(){return new q8(_.common.issues)},input:_.data})}});else return{status:"valid",value:P.status==="valid"?P.value:this._def.catchValue({get error(){return new q8(_.common.issues)},input:_.data})}}removeCatch(){return this._def.innerType}}s4.create=($,q)=>{return new s4({innerType:$,typeName:r$.ZodCatch,catchValue:typeof q.catch==="function"?q.catch:()=>q.catch,...J6(q)})};class F1 extends f6{_parse($){if(this._getType($)!==B$.nan){let _=this._getOrReturnCtx($);return F$(_,{code:m$.invalid_type,expected:B$.nan,received:_.parsedType}),P6}return{status:"valid",value:$.data}}}F1.create=($)=>{return new F1({typeName:r$.ZodNaN,...J6($)})};var Qx=Symbol("zod_brand");class v2 extends f6{_parse($){let{ctx:q}=this._processInputParams($),_=q.data;return this._def.type._parse({data:_,path:q.path,parent:q})}unwrap(){return this._def.type}}class Q1 extends f6{_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.common.async)return(async()=>{let K=await this._def.in._parseAsync({data:_.data,path:_.path,parent:_});if(K.status==="aborted")return P6;if(K.status==="dirty")return q.dirty(),xK(K.value);else return this._def.out._parseAsync({data:K.value,path:_.path,parent:_})})();else{let P=this._def.in._parseSync({data:_.data,path:_.path,parent:_});if(P.status==="aborted")return P6;if(P.status==="dirty")return q.dirty(),{status:"dirty",value:P.value};else return this._def.out._parseSync({data:P.value,path:_.path,parent:_})}}static create($,q){return new Q1({in:$,out:q,typeName:r$.ZodPipeline})}}class $P extends f6{_parse($){let q=this._def.innerType._parse($),_=(P)=>{if(OK(P))P.value=Object.freeze(P.value);return P};return l4(q)?q.then((P)=>_(P)):_(q)}unwrap(){return this._def.innerType}}$P.create=($,q)=>{return new $P({innerType:$,typeName:r$.ZodReadonly,...J6(q)})};function hV($,q){let _=typeof $==="function"?$(q):typeof $==="string"?{message:$}:$;return typeof _==="string"?{message:_}:_}function yV($,q={},_){if($)return cK.create().superRefine((P,K)=>{let O=$(P);if(O instanceof Promise)return O.then((Y)=>{if(!Y){let v=hV(q,P),W=v.fatal??_??!0;K.addIssue({code:"custom",...v,fatal:W})}});if(!O){let Y=hV(q,P),v=Y.fatal??_??!0;K.addIssue({code:"custom",...Y,fatal:v})}return});return cK.create()}var ax={object:c6.lazycreate},r$;(function($){$.ZodString="ZodString",$.ZodNumber="ZodNumber",$.ZodNaN="ZodNaN",$.ZodBigInt="ZodBigInt",$.ZodBoolean="ZodBoolean",$.ZodDate="ZodDate",$.ZodSymbol="ZodSymbol",$.ZodUndefined="ZodUndefined",$.ZodNull="ZodNull",$.ZodAny="ZodAny",$.ZodUnknown="ZodUnknown",$.ZodNever="ZodNever",$.ZodVoid="ZodVoid",$.ZodArray="ZodArray",$.ZodObject="ZodObject",$.ZodUnion="ZodUnion",$.ZodDiscriminatedUnion="ZodDiscriminatedUnion",$.ZodIntersection="ZodIntersection",$.ZodTuple="ZodTuple",$.ZodRecord="ZodRecord",$.ZodMap="ZodMap",$.ZodSet="ZodSet",$.ZodFunction="ZodFunction",$.ZodLazy="ZodLazy",$.ZodLiteral="ZodLiteral",$.ZodEnum="ZodEnum",$.ZodEffects="ZodEffects",$.ZodNativeEnum="ZodNativeEnum",$.ZodOptional="ZodOptional",$.ZodNullable="ZodNullable",$.ZodDefault="ZodDefault",$.ZodCatch="ZodCatch",$.ZodPromise="ZodPromise",$.ZodBranded="ZodBranded",$.ZodPipeline="ZodPipeline",$.ZodReadonly="ZodReadonly"})(r$||(r$={}));var ex=($,q={message:`Input not instance of ${$.name}`})=>yV((_)=>_ instanceof $,q),uV=x8.create,xV=vK.create,sx=F1.create,$p=zK.create,pV=n4.create,qp=pK.create,_p=i1.create,Kp=i4.create,Pp=B4.create,Yp=cK.create,Op=jK.create,jp=K_.create,vp=B1.create,zp=p8.create,Jp=c6.create,Wp=c6.strictCreate,Hp=U4.create,Tp=j2.create,wp=t4.create,Zp=P_.create,fp=U1.create,Xp=t1.create,Ap=mK.create,kp=o4.create,Gp=F4.create,Vp=Q4.create,Sp=JK.create,Mp=a4.create,Np=dK.create,Cp=d8.create,Ep=c8.create,Rp=C_.create,Ip=d8.createWithPreprocess,hp=Q1.create,Dp=()=>uV().optional(),Lp=()=>xV().optional(),gp=()=>pV().optional(),bp={string:($)=>x8.create({...$,coerce:!0}),number:($)=>vK.create({...$,coerce:!0}),boolean:($)=>n4.create({...$,coerce:!0}),bigint:($)=>zK.create({...$,coerce:!0}),date:($)=>pK.create({...$,coerce:!0})};var yp=P6;function JW($,q){let _={type:"array"};if($.type?._def&&$.type?._def?.typeName!==r$.ZodAny)_.items=Y6($.type._def,{...q,currentPath:[...q.currentPath,"items"]});if($.minLength)S6(_,"minItems",$.minLength.value,$.minLength.message,q);if($.maxLength)S6(_,"maxItems",$.maxLength.value,$.maxLength.message,q);if($.exactLength)S6(_,"minItems",$.exactLength.value,$.exactLength.message,q),S6(_,"maxItems",$.exactLength.value,$.exactLength.message,q);return _}function WW($,q){let _={type:"integer",format:"int64"};if(!$.checks)return _;for(let P of $.checks)switch(P.kind){case"min":if(q.target==="jsonSchema7")if(P.inclusive)S6(_,"minimum",P.value,P.message,q);else S6(_,"exclusiveMinimum",P.value,P.message,q);else{if(!P.inclusive)_.exclusiveMinimum=!0;S6(_,"minimum",P.value,P.message,q)}break;case"max":if(q.target==="jsonSchema7")if(P.inclusive)S6(_,"maximum",P.value,P.message,q);else S6(_,"exclusiveMaximum",P.value,P.message,q);else{if(!P.inclusive)_.exclusiveMaximum=!0;S6(_,"maximum",P.value,P.message,q)}break;case"multipleOf":S6(_,"multipleOf",P.value,P.message,q);break}return _}function HW(){return{type:"boolean"}}function a1($,q){return Y6($.type._def,q)}var TW=($,q)=>{return Y6($.innerType._def,q)};function z2($,q,_){let P=_??q.dateStrategy;if(Array.isArray(P))return{anyOf:P.map((K)=>z2($,q,K))};switch(P){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return up($,q)}}var up=($,q)=>{let _={type:"integer",format:"unix-time"};if(q.target==="openApi3")return _;for(let P of $.checks)switch(P.kind){case"min":S6(_,"minimum",P.value,P.message,q);break;case"max":S6(_,"maximum",P.value,P.message,q);break}return _};function wW($,q){return{...Y6($.innerType._def,q),default:$.defaultValue()}}function ZW($,q){return q.effectStrategy==="input"?Y6($.schema._def,q):y6(q)}function fW($){return{type:"string",enum:Array.from($.values)}}var xp=($)=>{if("type"in $&&$.type==="string")return!1;return"allOf"in $};function XW($,q){let _=[Y6($.left._def,{...q,currentPath:[...q.currentPath,"allOf","0"]}),Y6($.right._def,{...q,currentPath:[...q.currentPath,"allOf","1"]})].filter((O)=>!!O),P=q.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,K=[];return _.forEach((O)=>{if(xp(O)){if(K.push(...O.allOf),O.unevaluatedProperties===void 0)P=void 0}else{let Y=O;if("additionalProperties"in O&&O.additionalProperties===!1){let{additionalProperties:v,...W}=O;Y=W}else P=void 0;K.push(Y)}}),K.length?{allOf:K,...P}:void 0}function AW($,q){let _=typeof $.value;if(_!=="bigint"&&_!=="number"&&_!=="boolean"&&_!=="string")return{type:Array.isArray($.value)?"array":"object"};if(q.target==="openApi3")return{type:_==="bigint"?"integer":_,enum:[$.value]};return{type:_==="bigint"?"integer":_,const:$.value}}var kW=void 0,V8={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>{if(kW===void 0)kW=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u");return kW},uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function e1($,q){let _={type:"string"};if($.checks)for(let P of $.checks)switch(P.kind){case"min":S6(_,"minLength",typeof _.minLength==="number"?Math.max(_.minLength,P.value):P.value,P.message,q);break;case"max":S6(_,"maxLength",typeof _.maxLength==="number"?Math.min(_.maxLength,P.value):P.value,P.message,q);break;case"email":switch(q.emailStrategy){case"format:email":l8(_,"email",P.message,q);break;case"format:idn-email":l8(_,"idn-email",P.message,q);break;case"pattern:zod":rq(_,V8.email,P.message,q);break}break;case"url":l8(_,"uri",P.message,q);break;case"uuid":l8(_,"uuid",P.message,q);break;case"regex":rq(_,P.regex,P.message,q);break;case"cuid":rq(_,V8.cuid,P.message,q);break;case"cuid2":rq(_,V8.cuid2,P.message,q);break;case"startsWith":rq(_,RegExp(`^${GW(P.value,q)}`),P.message,q);break;case"endsWith":rq(_,RegExp(`${GW(P.value,q)}$`),P.message,q);break;case"datetime":l8(_,"date-time",P.message,q);break;case"date":l8(_,"date",P.message,q);break;case"time":l8(_,"time",P.message,q);break;case"duration":l8(_,"duration",P.message,q);break;case"length":S6(_,"minLength",typeof _.minLength==="number"?Math.max(_.minLength,P.value):P.value,P.message,q),S6(_,"maxLength",typeof _.maxLength==="number"?Math.min(_.maxLength,P.value):P.value,P.message,q);break;case"includes":rq(_,RegExp(GW(P.value,q)),P.message,q);break;case"ip":if(P.version!=="v6")l8(_,"ipv4",P.message,q);if(P.version!=="v4")l8(_,"ipv6",P.message,q);break;case"base64url":rq(_,V8.base64url,P.message,q);break;case"jwt":rq(_,V8.jwt,P.message,q);break;case"cidr":if(P.version!=="v6")rq(_,V8.ipv4Cidr,P.message,q);if(P.version!=="v4")rq(_,V8.ipv6Cidr,P.message,q);break;case"emoji":rq(_,V8.emoji(),P.message,q);break;case"ulid":rq(_,V8.ulid,P.message,q);break;case"base64":switch(q.base64Strategy){case"format:binary":l8(_,"binary",P.message,q);break;case"contentEncoding:base64":S6(_,"contentEncoding","base64",P.message,q);break;case"pattern:zod":rq(_,V8.base64,P.message,q);break}break;case"nanoid":rq(_,V8.nanoid,P.message,q);break;case"toLowerCase":case"toUpperCase":case"trim":break;default:((K)=>{})(P)}return _}function GW($,q){return q.patternStrategy==="escape"?cp($):$}var pp=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function cp($){let q="";for(let _=0;_<$.length;_++){if(!pp.has($[_]))q+="\\";q+=$[_]}return q}function l8($,q,_,P){if($.format||$.anyOf?.some((K)=>K.format)){if(!$.anyOf)$.anyOf=[];if($.format){if($.anyOf.push({format:$.format,...$.errorMessage&&P.errorMessages&&{errorMessage:{format:$.errorMessage.format}}}),delete $.format,$.errorMessage){if(delete $.errorMessage.format,Object.keys($.errorMessage).length===0)delete $.errorMessage}}$.anyOf.push({format:q,..._&&P.errorMessages&&{errorMessage:{format:_}}})}else S6($,"format",q,_,P)}function rq($,q,_,P){if($.pattern||$.allOf?.some((K)=>K.pattern)){if(!$.allOf)$.allOf=[];if($.pattern){if($.allOf.push({pattern:$.pattern,...$.errorMessage&&P.errorMessages&&{errorMessage:{pattern:$.errorMessage.pattern}}}),delete $.pattern,$.errorMessage){if(delete $.errorMessage.pattern,Object.keys($.errorMessage).length===0)delete $.errorMessage}}$.allOf.push({pattern:cV(q,P),..._&&P.errorMessages&&{errorMessage:{pattern:_}}})}else S6($,"pattern",cV(q,P),_,P)}function cV($,q){if(!q.applyRegexFlags||!$.flags)return $.source;let _={i:$.flags.includes("i"),m:$.flags.includes("m"),s:$.flags.includes("s")},P=_.i?$.source.toLowerCase():$.source,K="",O=!1,Y=!1,v=!1;for(let W=0;W<P.length;W++){if(O){K+=P[W],O=!1;continue}if(_.i){if(Y){if(P[W].match(/[a-z]/)){if(v)K+=P[W],K+=`${P[W-2]}-${P[W]}`.toUpperCase(),v=!1;else if(P[W+1]==="-"&&P[W+2]?.match(/[a-z]/))K+=P[W],v=!0;else K+=`${P[W]}${P[W].toUpperCase()}`;continue}}else if(P[W].match(/[a-z]/)){K+=`[${P[W]}${P[W].toUpperCase()}]`;continue}}if(_.m){if(P[W]==="^"){K+=`(^|(?<=[\r
]))`;continue}else if(P[W]==="$"){K+=`($|(?=[\r
]))`;continue}}if(_.s&&P[W]==="."){K+=Y?`${P[W]}\r
`:`[${P[W]}\r
]`;continue}if(K+=P[W],P[W]==="\\")O=!0;else if(Y&&P[W]==="]")Y=!1;else if(!Y&&P[W]==="[")Y=!0}try{new RegExp(K)}catch{return console.warn(`Could not convert regex pattern at ${q.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),$.source}return K}function s1($,q){if(q.target==="openAi")console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.");if(q.target==="openApi3"&&$.keyType?._def.typeName===r$.ZodEnum)return{type:"object",required:$.keyType._def.values,properties:$.keyType._def.values.reduce((P,K)=>({...P,[K]:Y6($.valueType._def,{...q,currentPath:[...q.currentPath,"properties",K]})??y6(q)}),{}),additionalProperties:q.rejectedAdditionalProperties};let _={type:"object",additionalProperties:Y6($.valueType._def,{...q,currentPath:[...q.currentPath,"additionalProperties"]})??q.allowedAdditionalProperties};if(q.target==="openApi3")return _;if($.keyType?._def.typeName===r$.ZodString&&$.keyType._def.checks?.length){let{type:P,...K}=e1($.keyType._def,q);return{..._,propertyNames:K}}else if($.keyType?._def.typeName===r$.ZodEnum)return{..._,propertyNames:{enum:$.keyType._def.values}};else if($.keyType?._def.typeName===r$.ZodBranded&&$.keyType._def.type._def.typeName===r$.ZodString&&$.keyType._def.type._def.checks?.length){let{type:P,...K}=a1($.keyType._def,q);return{..._,propertyNames:K}}return _}function VW($,q){if(q.mapStrategy==="record")return s1($,q);let _=Y6($.keyType._def,{...q,currentPath:[...q.currentPath,"items","items","0"]})||y6(q),P=Y6($.valueType._def,{...q,currentPath:[...q.currentPath,"items","items","1"]})||y6(q);return{type:"array",maxItems:125,items:{type:"array",items:[_,P],minItems:2,maxItems:2}}}function SW($){let q=$.values,P=Object.keys($.values).filter((O)=>{return typeof q[q[O]]!=="number"}).map((O)=>q[O]),K=Array.from(new Set(P.map((O)=>typeof O)));return{type:K.length===1?K[0]==="string"?"string":"number":["string","number"],enum:P}}function MW($){return $.target==="openAi"?void 0:{not:y6({...$,currentPath:[...$.currentPath,"not"]})}}function NW($){return $.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var qP={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function CW($,q){if(q.target==="openApi3")return mV($,q);let _=$.options instanceof Map?Array.from($.options.values()):$.options;if(_.every((P)=>(P._def.typeName in qP)&&(!P._def.checks||!P._def.checks.length))){let P=_.reduce((K,O)=>{let Y=qP[O._def.typeName];return Y&&!K.includes(Y)?[...K,Y]:K},[]);return{type:P.length>1?P:P[0]}}else if(_.every((P)=>P._def.typeName==="ZodLiteral"&&!P.description)){let P=_.reduce((K,O)=>{let Y=typeof O._def.value;switch(Y){case"string":case"number":case"boolean":return[...K,Y];case"bigint":return[...K,"integer"];case"object":if(O._def.value===null)return[...K,"null"];return K;case"symbol":case"undefined":case"function":default:return K}},[]);if(P.length===_.length){let K=P.filter((O,Y,v)=>v.indexOf(O)===Y);return{type:K.length>1?K:K[0],enum:_.reduce((O,Y)=>{return O.includes(Y._def.value)?O:[...O,Y._def.value]},[])}}}else if(_.every((P)=>P._def.typeName==="ZodEnum"))return{type:"string",enum:_.reduce((P,K)=>[...P,...K._def.values.filter((O)=>!P.includes(O))],[])};return mV($,q)}var mV=($,q)=>{let _=($.options instanceof Map?Array.from($.options.values()):$.options).map((P,K)=>Y6(P._def,{...q,currentPath:[...q.currentPath,"anyOf",`${K}`]})).filter((P)=>!!P&&(!q.strictUnions||typeof P==="object"&&Object.keys(P).length>0));return _.length?{anyOf:_}:void 0};function EW($,q){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes($.innerType._def.typeName)&&(!$.innerType._def.checks||!$.innerType._def.checks.length)){if(q.target==="openApi3")return{type:qP[$.innerType._def.typeName],nullable:!0};return{type:[qP[$.innerType._def.typeName],"null"]}}if(q.target==="openApi3"){let P=Y6($.innerType._def,{...q,currentPath:[...q.currentPath]});if(P&&"$ref"in P)return{allOf:[P],nullable:!0};return P&&{...P,nullable:!0}}let _=Y6($.innerType._def,{...q,currentPath:[...q.currentPath,"anyOf","0"]});return _&&{anyOf:[_,{type:"null"}]}}function RW($,q){let _={type:"number"};if(!$.checks)return _;for(let P of $.checks)switch(P.kind){case"int":_.type="integer",P2(_,"type",P.message,q);break;case"min":if(q.target==="jsonSchema7")if(P.inclusive)S6(_,"minimum",P.value,P.message,q);else S6(_,"exclusiveMinimum",P.value,P.message,q);else{if(!P.inclusive)_.exclusiveMinimum=!0;S6(_,"minimum",P.value,P.message,q)}break;case"max":if(q.target==="jsonSchema7")if(P.inclusive)S6(_,"maximum",P.value,P.message,q);else S6(_,"exclusiveMaximum",P.value,P.message,q);else{if(!P.inclusive)_.exclusiveMaximum=!0;S6(_,"maximum",P.value,P.message,q)}break;case"multipleOf":S6(_,"multipleOf",P.value,P.message,q);break}return _}function IW($,q){let _=q.target==="openAi",P={type:"object",properties:{}},K=[],O=$.shape();for(let v in O){let W=O[v];if(W===void 0||W._def===void 0)continue;let T=dp(W);if(T&&_){if(W._def.typeName==="ZodOptional")W=W._def.innerType;if(!W.isNullable())W=W.nullable();T=!1}let Z=Y6(W._def,{...q,currentPath:[...q.currentPath,"properties",v],propertyPath:[...q.currentPath,"properties",v]});if(Z===void 0)continue;if(P.properties[v]=Z,!T)K.push(v)}if(K.length)P.required=K;let Y=mp($,q);if(Y!==void 0)P.additionalProperties=Y;return P}function mp($,q){if($.catchall._def.typeName!=="ZodNever")return Y6($.catchall._def,{...q,currentPath:[...q.currentPath,"additionalProperties"]});switch($.unknownKeys){case"passthrough":return q.allowedAdditionalProperties;case"strict":return q.rejectedAdditionalProperties;case"strip":return q.removeAdditionalStrategy==="strict"?q.allowedAdditionalProperties:q.rejectedAdditionalProperties}}function dp($){try{return $.isOptional()}catch{return!0}}var hW=($,q)=>{if(q.currentPath.toString()===q.propertyPath?.toString())return Y6($.innerType._def,q);let _=Y6($.innerType._def,{...q,currentPath:[...q.currentPath,"anyOf","1"]});return _?{anyOf:[{not:y6(q)},_]}:y6(q)};var DW=($,q)=>{if(q.pipeStrategy==="input")return Y6($.in._def,q);else if(q.pipeStrategy==="output")return Y6($.out._def,q);let _=Y6($.in._def,{...q,currentPath:[...q.currentPath,"allOf","0"]}),P=Y6($.out._def,{...q,currentPath:[...q.currentPath,"allOf",_?"1":"0"]});return{allOf:[_,P].filter((K)=>K!==void 0)}};function LW($,q){return Y6($.type._def,q)}function gW($,q){let P={type:"array",uniqueItems:!0,items:Y6($.valueType._def,{...q,currentPath:[...q.currentPath,"items"]})};if($.minSize)S6(P,"minItems",$.minSize.value,$.minSize.message,q);if($.maxSize)S6(P,"maxItems",$.maxSize.value,$.maxSize.message,q);return P}function bW($,q){if($.rest)return{type:"array",minItems:$.items.length,items:$.items.map((_,P)=>Y6(_._def,{...q,currentPath:[...q.currentPath,"items",`${P}`]})).reduce((_,P)=>P===void 0?_:[..._,P],[]),additionalItems:Y6($.rest._def,{...q,currentPath:[...q.currentPath,"additionalItems"]})};else return{type:"array",minItems:$.items.length,maxItems:$.items.length,items:$.items.map((_,P)=>Y6(_._def,{...q,currentPath:[...q.currentPath,"items",`${P}`]})).reduce((_,P)=>P===void 0?_:[..._,P],[])}}function yW($){return{not:y6($)}}function uW($){return y6($)}var xW=($,q)=>{return Y6($.innerType._def,q)};var pW=($,q,_)=>{switch(q){case r$.ZodString:return e1($,_);case r$.ZodNumber:return RW($,_);case r$.ZodObject:return IW($,_);case r$.ZodBigInt:return WW($,_);case r$.ZodBoolean:return HW();case r$.ZodDate:return z2($,_);case r$.ZodUndefined:return yW(_);case r$.ZodNull:return NW(_);case r$.ZodArray:return JW($,_);case r$.ZodUnion:case r$.ZodDiscriminatedUnion:return CW($,_);case r$.ZodIntersection:return XW($,_);case r$.ZodTuple:return bW($,_);case r$.ZodRecord:return s1($,_);case r$.ZodLiteral:return AW($,_);case r$.ZodEnum:return fW($);case r$.ZodNativeEnum:return SW($);case r$.ZodNullable:return EW($,_);case r$.ZodOptional:return hW($,_);case r$.ZodMap:return VW($,_);case r$.ZodSet:return gW($,_);case r$.ZodLazy:return()=>$.getter()._def;case r$.ZodPromise:return LW($,_);case r$.ZodNaN:case r$.ZodNever:return MW(_);case r$.ZodEffects:return ZW($,_);case r$.ZodAny:return y6(_);case r$.ZodUnknown:return uW(_);case r$.ZodDefault:return wW($,_);case r$.ZodBranded:return a1($,_);case r$.ZodReadonly:return xW($,_);case r$.ZodCatch:return TW($,_);case r$.ZodPipeline:return DW($,_);case r$.ZodFunction:case r$.ZodVoid:case r$.ZodSymbol:return;default:return((P)=>{return})(q)}};function Y6($,q,_=!1){let P=q.seen.get($);if(q.override){let v=q.override?.($,q,P,_);if(v!==PW)return v}if(P&&!_){let v=lp(P,q);if(v!==void 0)return v}let K={def:$,path:q.currentPath,jsonSchema:void 0};q.seen.set($,K);let O=pW($,$.typeName,q),Y=typeof O==="function"?Y6(O(),q):O;if(Y)rp($,q,Y);if(q.postProcess){let v=q.postProcess(Y,$,q);return K.jsonSchema=Y,v}return K.jsonSchema=Y,Y}var lp=($,q)=>{switch(q.$refStrategy){case"root":return{$ref:$.path.join("/")};case"relative":return{$ref:o1(q.currentPath,$.path)};case"none":case"seen":if($.path.length<q.currentPath.length&&$.path.every((_,P)=>q.currentPath[P]===_))return console.warn(`Recursive reference detected at ${q.currentPath.join("/")}! Defaulting to any`),y6(q);return q.$refStrategy==="seen"?y6(q):void 0}},rp=($,q,_)=>{if($.description){if(_.description=$.description,q.markdownDescription)_.markdownDescription=$.description}return _};var cW=($,q)=>{let _=OW(q),P=typeof q==="object"&&q.definitions?Object.entries(q.definitions).reduce((W,[T,Z])=>({...W,[T]:Y6(Z._def,{..._,currentPath:[..._.basePath,_.definitionPath,T]},!0)??y6(_)}),{}):void 0,K=typeof q==="string"?q:q?.nameStrategy==="title"?void 0:q?.name,O=Y6($._def,K===void 0?_:{..._,currentPath:[..._.basePath,_.definitionPath,K]},!1)??y6(_),Y=typeof q==="object"&&q.name!==void 0&&q.nameStrategy==="title"?q.name:void 0;if(Y!==void 0)O.title=Y;if(_.flags.hasReferencedOpenAiAnyType){if(!P)P={};if(!P[_.openAiAnyTypeName])P[_.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:_.$refStrategy==="relative"?"1":[..._.basePath,_.definitionPath,_.openAiAnyTypeName].join("/")}}}let v=K===void 0?P?{...O,[_.definitionPath]:P}:O:{$ref:[..._.$refStrategy==="relative"?[]:_.basePath,_.definitionPath,K].join("/"),[_.definitionPath]:{...P,[K]:O}};if(_.target==="jsonSchema7")v.$schema="http://json-schema.org/draft-07/schema#";else if(_.target==="jsonSchema2019-09"||_.target==="openAi")v.$schema="https://json-schema.org/draft/2019-09/schema#";if(_.target==="openAi"&&(("anyOf"in v)||("oneOf"in v)||("allOf"in v)||("type"in v)&&Array.isArray(v.type)))console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.");return v};function WK($,q){let _=typeof $;if(_!==typeof q)return!1;if(Array.isArray($)){if(!Array.isArray(q))return!1;let P=$.length;if(P!==q.length)return!1;for(let K=0;K<P;K++)if(!WK($[K],q[K]))return!1;return!0}if(_==="object"){if(!$||!q)return $===q;let P=Object.keys($),K=Object.keys(q);if(P.length!==K.length)return!1;for(let Y of P)if(!WK($[Y],q[Y]))return!1;return!0}return $===q}function W8($){return encodeURI(op($))}function op($){return $.replace(/~/g,"~0").replace(/\//g,"~1")}var np={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},ip={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Bp={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},Up=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function r8($,q=Object.create(null),_=Up,P=""){if($&&typeof $==="object"&&!Array.isArray($)){let O=$.$id||$.id;if(O){let Y=new URL(O,_.href);if(Y.hash.length>1)q[Y.href]=$;else if(Y.hash="",P==="")_=Y;else r8($,q,_)}}else if($!==!0&&$!==!1)return q;let K=_.href+(P?"#"+P:"");if(q[K]!==void 0)throw Error(`Duplicate schema URI "${K}".`);if(q[K]=$,$===!0||$===!1)return q;if($.__absolute_uri__===void 0)Object.defineProperty($,"__absolute_uri__",{enumerable:!1,value:K});if($.$ref&&$.__absolute_ref__===void 0){let O=new URL($.$ref,_.href);O.hash=O.hash,Object.defineProperty($,"__absolute_ref__",{enumerable:!1,value:O.href})}if($.$recursiveRef&&$.__absolute_recursive_ref__===void 0){let O=new URL($.$recursiveRef,_.href);O.hash=O.hash,Object.defineProperty($,"__absolute_recursive_ref__",{enumerable:!1,value:O.href})}if($.$anchor){let O=new URL("#"+$.$anchor,_.href);q[O.href]=$}for(let O in $){if(Bp[O])continue;let Y=`${P}/${W8(O)}`,v=$[O];if(Array.isArray(v)){if(np[O]){let W=v.length;for(let T=0;T<W;T++)r8(v[T],q,_,`${Y}/${T}`)}}else if(ip[O])for(let W in v)r8(v[W],q,_,`${Y}/${W8(W)}`);else r8(v,q,_,Y)}return q}var tp=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Fp=[0,31,28,31,30,31,30,31,31,30,31,30,31],Qp=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,ap=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ep=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,sp=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,$c=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,qc=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,_c=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Kc=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Pc=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Yc=($)=>{if($[0]==='"')return!1;let[q,_,...P]=$.split("@");if(!q||!_||P.length!==0||q.length>64||_.length>253)return!1;if(q[0]==="."||q.endsWith(".")||q.includes(".."))return!1;if(!/^[a-z0-9.-]+$/i.test(_)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(q))return!1;return _.split(".").every((K)=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(K))},Oc=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,jc=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,vc=($)=>$.length>1&&$.length<80&&(/^P\d+([.,]\d+)?W$/.test($)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test($)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test($));function Y_($){return $.test.bind($)}var mW={date:dV,time:lV.bind(void 0,!1),"date-time":Wc,duration:vc,uri:wc,"uri-reference":Y_(ep),"uri-template":Y_(sp),url:Y_($c),email:Yc,hostname:Y_(ap),ipv4:Y_(Oc),ipv6:Y_(jc),regex:fc,uuid:Y_(qc),"json-pointer":Y_(_c),"json-pointer-uri-fragment":Y_(Kc),"relative-json-pointer":Y_(Pc)};function zc($){return $%4===0&&($%100!==0||$%400===0)}function dV($){let q=$.match(tp);if(!q)return!1;let _=+q[1],P=+q[2],K=+q[3];return P>=1&&P<=12&&K>=1&&K<=(P==2&&zc(_)?29:Fp[P])}function lV($,q){let _=q.match(Qp);if(!_)return!1;let P=+_[1],K=+_[2],O=+_[3],Y=!!_[5];return(P<=23&&K<=59&&O<=59||P==23&&K==59&&O==60)&&(!$||Y)}var Jc=/t|\s/i;function Wc($){let q=$.split(Jc);return q.length==2&&dV(q[0])&&lV(!0,q[1])}var Hc=/\/|:/,Tc=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function wc($){return Hc.test($)&&Tc.test($)}var Zc=/[^\\]\\Z/;function fc($){if(Zc.test($))return!1;try{return new RegExp($,"u"),!0}catch(q){return!1}}function rV($){let q=0,_=$.length,P=0,K;while(P<_)if(q++,K=$.charCodeAt(P++),K>=55296&&K<=56319&&P<_){if(K=$.charCodeAt(P),(K&64512)==56320)P++}return q}function p6($,q,_="2019-09",P=r8(q),K=!0,O=null,Y="#",v="#",W=Object.create(null)){if(q===!0)return{valid:!0,errors:[]};if(q===!1)return{valid:!1,errors:[{instanceLocation:Y,keyword:"false",keywordLocation:Y,error:"False boolean schema."}]};let T=typeof $,Z;switch(T){case"boolean":case"number":case"string":Z=T;break;case"object":if($===null)Z="null";else if(Array.isArray($))Z="array";else Z="object";break;default:throw Error(`Instances of "${T}" type are not supported.`)}let{$ref:w,$recursiveRef:k,$recursiveAnchor:M,type:N,const:R,enum:E,required:D,not:h,anyOf:L,allOf:b,oneOf:y,if:p,then:i,else:$$,format:Q,properties:c,patternProperties:a,additionalProperties:j,unevaluatedProperties:J,minProperties:X,maxProperties:H,propertyNames:f,dependentRequired:V,dependentSchemas:S,dependencies:A,prefixItems:z,items:G,additionalItems:I,unevaluatedItems:C,contains:g,minContains:x,maxContains:l,minItems:o,maxItems:T$,uniqueItems:e,minimum:n,maximum:j$,exclusiveMinimum:s,exclusiveMaximum:P$,multipleOf:n$,minLength:m,maxLength:r,pattern:W$,__absolute_ref__:q$,__absolute_recursive_ref__:_$}=q,v$=[];if(M===!0&&O===null)O=q;if(k==="#"){let B=O===null?P[_$]:O,H$=`${v}/$recursiveRef`,t=p6($,O===null?q:O,_,P,K,B,Y,H$,W);if(!t.valid)v$.push({instanceLocation:Y,keyword:"$recursiveRef",keywordLocation:H$,error:"A subschema had errors."},...t.errors)}if(w!==void 0){let H$=P[q$||w];if(H$===void 0){let A$=`Unresolved $ref "${w}".`;if(q$&&q$!==w)A$+=`  Absolute URI "${q$}".`;throw A$+=`
Known schemas:
- ${Object.keys(P).join(`
- `)}`,Error(A$)}let t=`${v}/$ref`,F=p6($,H$,_,P,K,O,Y,t,W);if(!F.valid)v$.push({instanceLocation:Y,keyword:"$ref",keywordLocation:t,error:"A subschema had errors."},...F.errors);if(_==="4"||_==="7")return{valid:v$.length===0,errors:v$}}if(Array.isArray(N)){let B=N.length,H$=!1;for(let t=0;t<B;t++)if(Z===N[t]||N[t]==="integer"&&Z==="number"&&$%1===0&&$===$){H$=!0;break}if(!H$)v$.push({instanceLocation:Y,keyword:"type",keywordLocation:`${v}/type`,error:`Instance type "${Z}" is invalid. Expected "${N.join('", "')}".`})}else if(N==="integer"){if(Z!=="number"||$%1||$!==$)v$.push({instanceLocation:Y,keyword:"type",keywordLocation:`${v}/type`,error:`Instance type "${Z}" is invalid. Expected "${N}".`})}else if(N!==void 0&&Z!==N)v$.push({instanceLocation:Y,keyword:"type",keywordLocation:`${v}/type`,error:`Instance type "${Z}" is invalid. Expected "${N}".`});if(R!==void 0){if(Z==="object"||Z==="array"){if(!WK($,R))v$.push({instanceLocation:Y,keyword:"const",keywordLocation:`${v}/const`,error:`Instance does not match ${JSON.stringify(R)}.`})}else if($!==R)v$.push({instanceLocation:Y,keyword:"const",keywordLocation:`${v}/const`,error:`Instance does not match ${JSON.stringify(R)}.`})}if(E!==void 0){if(Z==="object"||Z==="array"){if(!E.some((B)=>WK($,B)))v$.push({instanceLocation:Y,keyword:"enum",keywordLocation:`${v}/enum`,error:`Instance does not match any of ${JSON.stringify(E)}.`})}else if(!E.some((B)=>$===B))v$.push({instanceLocation:Y,keyword:"enum",keywordLocation:`${v}/enum`,error:`Instance does not match any of ${JSON.stringify(E)}.`})}if(h!==void 0){let B=`${v}/not`;if(p6($,h,_,P,K,O,Y,B).valid)v$.push({instanceLocation:Y,keyword:"not",keywordLocation:B,error:'Instance matched "not" schema.'})}let d=[];if(L!==void 0){let B=`${v}/anyOf`,H$=v$.length,t=!1;for(let F=0;F<L.length;F++){let A$=L[F],J$=Object.create(W),z$=p6($,A$,_,P,K,M===!0?O:null,Y,`${B}/${F}`,J$);if(v$.push(...z$.errors),t=t||z$.valid,z$.valid)d.push(J$)}if(t)v$.length=H$;else v$.splice(H$,0,{instanceLocation:Y,keyword:"anyOf",keywordLocation:B,error:"Instance does not match any subschemas."})}if(b!==void 0){let B=`${v}/allOf`,H$=v$.length,t=!0;for(let F=0;F<b.length;F++){let A$=b[F],J$=Object.create(W),z$=p6($,A$,_,P,K,M===!0?O:null,Y,`${B}/${F}`,J$);if(v$.push(...z$.errors),t=t&&z$.valid,z$.valid)d.push(J$)}if(t)v$.length=H$;else v$.splice(H$,0,{instanceLocation:Y,keyword:"allOf",keywordLocation:B,error:"Instance does not match every subschema."})}if(y!==void 0){let B=`${v}/oneOf`,H$=v$.length,t=y.filter((F,A$)=>{let J$=Object.create(W),z$=p6($,F,_,P,K,M===!0?O:null,Y,`${B}/${A$}`,J$);if(v$.push(...z$.errors),z$.valid)d.push(J$);return z$.valid}).length;if(t===1)v$.length=H$;else v$.splice(H$,0,{instanceLocation:Y,keyword:"oneOf",keywordLocation:B,error:`Instance does not match exactly one subschema (${t} matches).`})}if(Z==="object"||Z==="array")Object.assign(W,...d);if(p!==void 0){let B=`${v}/if`;if(p6($,p,_,P,K,O,Y,B,W).valid){if(i!==void 0){let t=p6($,i,_,P,K,O,Y,`${v}/then`,W);if(!t.valid)v$.push({instanceLocation:Y,keyword:"if",keywordLocation:B,error:'Instance does not match "then" schema.'},...t.errors)}}else if($$!==void 0){let t=p6($,$$,_,P,K,O,Y,`${v}/else`,W);if(!t.valid)v$.push({instanceLocation:Y,keyword:"if",keywordLocation:B,error:'Instance does not match "else" schema.'},...t.errors)}}if(Z==="object"){if(D!==void 0){for(let F of D)if(!(F in $))v$.push({instanceLocation:Y,keyword:"required",keywordLocation:`${v}/required`,error:`Instance does not have required property "${F}".`})}let B=Object.keys($);if(X!==void 0&&B.length<X)v$.push({instanceLocation:Y,keyword:"minProperties",keywordLocation:`${v}/minProperties`,error:`Instance does not have at least ${X} properties.`});if(H!==void 0&&B.length>H)v$.push({instanceLocation:Y,keyword:"maxProperties",keywordLocation:`${v}/maxProperties`,error:`Instance does not have at least ${H} properties.`});if(f!==void 0){let F=`${v}/propertyNames`;for(let A$ in $){let J$=`${Y}/${W8(A$)}`,z$=p6(A$,f,_,P,K,O,J$,F);if(!z$.valid)v$.push({instanceLocation:Y,keyword:"propertyNames",keywordLocation:F,error:`Property name "${A$}" does not match schema.`},...z$.errors)}}if(V!==void 0){let F=`${v}/dependantRequired`;for(let A$ in V)if(A$ in $){let J$=V[A$];for(let z$ of J$)if(!(z$ in $))v$.push({instanceLocation:Y,keyword:"dependentRequired",keywordLocation:F,error:`Instance has "${A$}" but does not have "${z$}".`})}}if(S!==void 0)for(let F in S){let A$=`${v}/dependentSchemas`;if(F in $){let J$=p6($,S[F],_,P,K,O,Y,`${A$}/${W8(F)}`,W);if(!J$.valid)v$.push({instanceLocation:Y,keyword:"dependentSchemas",keywordLocation:A$,error:`Instance has "${F}" but does not match dependant schema.`},...J$.errors)}}if(A!==void 0){let F=`${v}/dependencies`;for(let A$ in A)if(A$ in $){let J$=A[A$];if(Array.isArray(J$)){for(let z$ of J$)if(!(z$ in $))v$.push({instanceLocation:Y,keyword:"dependencies",keywordLocation:F,error:`Instance has "${A$}" but does not have "${z$}".`})}else{let z$=p6($,J$,_,P,K,O,Y,`${F}/${W8(A$)}`);if(!z$.valid)v$.push({instanceLocation:Y,keyword:"dependencies",keywordLocation:F,error:`Instance has "${A$}" but does not match dependant schema.`},...z$.errors)}}}let H$=Object.create(null),t=!1;if(c!==void 0){let F=`${v}/properties`;for(let A$ in c){if(!(A$ in $))continue;let J$=`${Y}/${W8(A$)}`,z$=p6($[A$],c[A$],_,P,K,O,J$,`${F}/${W8(A$)}`);if(z$.valid)W[A$]=H$[A$]=!0;else if(t=K,v$.push({instanceLocation:Y,keyword:"properties",keywordLocation:F,error:`Property "${A$}" does not match schema.`},...z$.errors),t)break}}if(!t&&a!==void 0){let F=`${v}/patternProperties`;for(let A$ in a){let J$=new RegExp(A$,"u"),z$=a[A$];for(let G6 in $){if(!J$.test(G6))continue;let X$=`${Y}/${W8(G6)}`,k$=p6($[G6],z$,_,P,K,O,X$,`${F}/${W8(A$)}`);if(k$.valid)W[G6]=H$[G6]=!0;else t=K,v$.push({instanceLocation:Y,keyword:"patternProperties",keywordLocation:F,error:`Property "${G6}" matches pattern "${A$}" but does not match associated schema.`},...k$.errors)}}}if(!t&&j!==void 0){let F=`${v}/additionalProperties`;for(let A$ in $){if(H$[A$])continue;let J$=`${Y}/${W8(A$)}`,z$=p6($[A$],j,_,P,K,O,J$,F);if(z$.valid)W[A$]=!0;else t=K,v$.push({instanceLocation:Y,keyword:"additionalProperties",keywordLocation:F,error:`Property "${A$}" does not match additional properties schema.`},...z$.errors)}}else if(!t&&J!==void 0){let F=`${v}/unevaluatedProperties`;for(let A$ in $)if(!W[A$]){let J$=`${Y}/${W8(A$)}`,z$=p6($[A$],J,_,P,K,O,J$,F);if(z$.valid)W[A$]=!0;else v$.push({instanceLocation:Y,keyword:"unevaluatedProperties",keywordLocation:F,error:`Property "${A$}" does not match unevaluated properties schema.`},...z$.errors)}}}else if(Z==="array"){if(T$!==void 0&&$.length>T$)v$.push({instanceLocation:Y,keyword:"maxItems",keywordLocation:`${v}/maxItems`,error:`Array has too many items (${$.length} > ${T$}).`});if(o!==void 0&&$.length<o)v$.push({instanceLocation:Y,keyword:"minItems",keywordLocation:`${v}/minItems`,error:`Array has too few items (${$.length} < ${o}).`});let B=$.length,H$=0,t=!1;if(z!==void 0){let F=`${v}/prefixItems`,A$=Math.min(z.length,B);for(;H$<A$;H$++){let J$=p6($[H$],z[H$],_,P,K,O,`${Y}/${H$}`,`${F}/${H$}`);if(W[H$]=!0,!J$.valid){if(t=K,v$.push({instanceLocation:Y,keyword:"prefixItems",keywordLocation:F,error:"Items did not match schema."},...J$.errors),t)break}}}if(G!==void 0){let F=`${v}/items`;if(Array.isArray(G)){let A$=Math.min(G.length,B);for(;H$<A$;H$++){let J$=p6($[H$],G[H$],_,P,K,O,`${Y}/${H$}`,`${F}/${H$}`);if(W[H$]=!0,!J$.valid){if(t=K,v$.push({instanceLocation:Y,keyword:"items",keywordLocation:F,error:"Items did not match schema."},...J$.errors),t)break}}}else for(;H$<B;H$++){let A$=p6($[H$],G,_,P,K,O,`${Y}/${H$}`,F);if(W[H$]=!0,!A$.valid){if(t=K,v$.push({instanceLocation:Y,keyword:"items",keywordLocation:F,error:"Items did not match schema."},...A$.errors),t)break}}if(!t&&I!==void 0){let A$=`${v}/additionalItems`;for(;H$<B;H$++){let J$=p6($[H$],I,_,P,K,O,`${Y}/${H$}`,A$);if(W[H$]=!0,!J$.valid)t=K,v$.push({instanceLocation:Y,keyword:"additionalItems",keywordLocation:A$,error:"Items did not match additional items schema."},...J$.errors)}}}if(g!==void 0)if(B===0&&x===void 0)v$.push({instanceLocation:Y,keyword:"contains",keywordLocation:`${v}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(x!==void 0&&B<x)v$.push({instanceLocation:Y,keyword:"minContains",keywordLocation:`${v}/minContains`,error:`Array has less items (${B}) than minContains (${x}).`});else{let F=`${v}/contains`,A$=v$.length,J$=0;for(let z$=0;z$<B;z$++){let G6=p6($[z$],g,_,P,K,O,`${Y}/${z$}`,F);if(G6.valid)W[z$]=!0,J$++;else v$.push(...G6.errors)}if(J$>=(x||0))v$.length=A$;if(x===void 0&&l===void 0&&J$===0)v$.splice(A$,0,{instanceLocation:Y,keyword:"contains",keywordLocation:F,error:"Array does not contain item matching schema."});else if(x!==void 0&&J$<x)v$.push({instanceLocation:Y,keyword:"minContains",keywordLocation:`${v}/minContains`,error:`Array must contain at least ${x} items matching schema. Only ${J$} items were found.`});else if(l!==void 0&&J$>l)v$.push({instanceLocation:Y,keyword:"maxContains",keywordLocation:`${v}/maxContains`,error:`Array may contain at most ${l} items matching schema. ${J$} items were found.`})}if(!t&&C!==void 0){let F=`${v}/unevaluatedItems`;for(H$;H$<B;H$++){if(W[H$])continue;let A$=p6($[H$],C,_,P,K,O,`${Y}/${H$}`,F);if(W[H$]=!0,!A$.valid)v$.push({instanceLocation:Y,keyword:"unevaluatedItems",keywordLocation:F,error:"Items did not match unevaluated items schema."},...A$.errors)}}if(e)for(let F=0;F<B;F++){let A$=$[F],J$=typeof A$==="object"&&A$!==null;for(let z$=0;z$<B;z$++){if(F===z$)continue;let G6=$[z$];if(A$===G6||J$&&(typeof G6==="object"&&G6!==null)&&WK(A$,G6))v$.push({instanceLocation:Y,keyword:"uniqueItems",keywordLocation:`${v}/uniqueItems`,error:`Duplicate items at indexes ${F} and ${z$}.`}),F=Number.MAX_SAFE_INTEGER,z$=Number.MAX_SAFE_INTEGER}}}else if(Z==="number"){if(_==="4"){if(n!==void 0&&(s===!0&&$<=n||$<n))v$.push({instanceLocation:Y,keyword:"minimum",keywordLocation:`${v}/minimum`,error:`${$} is less than ${s?"or equal to ":""} ${n}.`});if(j$!==void 0&&(P$===!0&&$>=j$||$>j$))v$.push({instanceLocation:Y,keyword:"maximum",keywordLocation:`${v}/maximum`,error:`${$} is greater than ${P$?"or equal to ":""} ${j$}.`})}else{if(n!==void 0&&$<n)v$.push({instanceLocation:Y,keyword:"minimum",keywordLocation:`${v}/minimum`,error:`${$} is less than ${n}.`});if(j$!==void 0&&$>j$)v$.push({instanceLocation:Y,keyword:"maximum",keywordLocation:`${v}/maximum`,error:`${$} is greater than ${j$}.`});if(s!==void 0&&$<=s)v$.push({instanceLocation:Y,keyword:"exclusiveMinimum",keywordLocation:`${v}/exclusiveMinimum`,error:`${$} is less than ${s}.`});if(P$!==void 0&&$>=P$)v$.push({instanceLocation:Y,keyword:"exclusiveMaximum",keywordLocation:`${v}/exclusiveMaximum`,error:`${$} is greater than or equal to ${P$}.`})}if(n$!==void 0){let B=$%n$;if(Math.abs(0-B)>=0.00000011920929&&Math.abs(n$-B)>=0.00000011920929)v$.push({instanceLocation:Y,keyword:"multipleOf",keywordLocation:`${v}/multipleOf`,error:`${$} is not a multiple of ${n$}.`})}}else if(Z==="string"){let B=m===void 0&&r===void 0?0:rV($);if(m!==void 0&&B<m)v$.push({instanceLocation:Y,keyword:"minLength",keywordLocation:`${v}/minLength`,error:`String is too short (${B} < ${m}).`});if(r!==void 0&&B>r)v$.push({instanceLocation:Y,keyword:"maxLength",keywordLocation:`${v}/maxLength`,error:`String is too long (${B} > ${r}).`});if(W$!==void 0&&!new RegExp(W$,"u").test($))v$.push({instanceLocation:Y,keyword:"pattern",keywordLocation:`${v}/pattern`,error:"String does not match pattern."});if(Q!==void 0&&mW[Q]&&!mW[Q]($))v$.push({instanceLocation:Y,keyword:"format",keywordLocation:`${v}/format`,error:`String does not match format "${Q}".`})}return{valid:v$.length===0,errors:v$}}class dW{schema;draft;shortCircuit;lookup;constructor($,q="2019-09",_=!0){this.schema=$,this.draft=q,this.shortCircuit=_,this.lookup=r8($)}validate($){return p6($,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema($,q){if(q)$={...$,$id:q};r8($,this.lookup)}}var Xc={};k6(Xc,{Validator:()=>dW,deepCompareStrict:()=>WK,toJsonSchema:()=>lW,validatesOnlyStrings:()=>J2});function lW($,q){if(G8($)){let _=NV($,!0);if(m4(_)){let P=K2(_,!0);return yK(P,q)}else return yK($,q)}if(S_($))return cW($);return $}function J2($){if(!$||typeof $!=="object"||Object.keys($).length===0||Array.isArray($))return!1;if("type"in $){if(typeof $.type==="string")return $.type==="string";if(Array.isArray($.type))return $.type.every((q)=>q==="string");return!1}if("enum"in $)return Array.isArray($.enum)&&$.enum.length>0&&$.enum.every((q)=>typeof q==="string");if("const"in $)return typeof $.const==="string";if("allOf"in $&&Array.isArray($.allOf))return $.allOf.some((q)=>J2(q));if("anyOf"in $&&Array.isArray($.anyOf)||"oneOf"in $&&Array.isArray($.oneOf)){let q="anyOf"in $?$.anyOf:$.oneOf;return q.length>0&&q.every((_)=>J2(_))}if("not"in $)return!1;if("$ref"in $&&typeof $.$ref==="string"){let q=$.$ref,_=r8($);if(_[q])return J2(_[q]);return!1}return!1}var Ac={};k6(Ac,{Graph:()=>W2});function kc($,q){if($!==void 0&&!j4($))return $;else if(Z1(q))try{let _=q.getName();return _=_.startsWith("Runnable")?_.slice(8):_,_}catch{return q.getName()}else return q.name??"UnknownSchema"}function Gc($){if(Z1($.data))return{type:"runnable",data:{id:$.data.lc_id,name:$.data.getName()}};else return{type:"schema",data:{...lW($.data.schema),title:$.data.name}}}var W2=class ${nodes={};edges=[];constructor(q){this.nodes=q?.nodes??this.nodes,this.edges=q?.edges??this.edges}toJSON(){let q={};return Object.values(this.nodes).forEach((_,P)=>{q[_.id]=j4(_.id)?P:_.id}),{nodes:Object.values(this.nodes).map((_)=>({id:q[_.id],...Gc(_)})),edges:this.edges.map((_)=>{let P={source:q[_.source],target:q[_.target]};if(typeof _.data<"u")P.data=_.data;if(typeof _.conditional<"u")P.conditional=_.conditional;return P})}}addNode(q,_,P){if(_!==void 0&&this.nodes[_]!==void 0)throw Error(`Node with id ${_} already exists`);let K=_??BP(),O={id:K,data:q,name:kc(_,q),metadata:P};return this.nodes[K]=O,O}removeNode(q){delete this.nodes[q.id],this.edges=this.edges.filter((_)=>_.source!==q.id&&_.target!==q.id)}addEdge(q,_,P,K){if(this.nodes[q.id]===void 0)throw Error(`Source node ${q.id} not in graph`);if(this.nodes[_.id]===void 0)throw Error(`Target node ${_.id} not in graph`);let O={source:q.id,target:_.id,data:P,conditional:K};return this.edges.push(O),O}firstNode(){return oV(this)}lastNode(){return nV(this)}extend(q,_=""){let P=_;if(Object.values(q.nodes).map((T)=>T.id).every(j4))P="";let O=(T)=>{return P?`${P}:${T}`:T};Object.entries(q.nodes).forEach(([T,Z])=>{this.nodes[O(T)]={...Z,id:O(T)}});let Y=q.edges.map((T)=>{return{...T,source:O(T.source),target:O(T.target)}});this.edges=[...this.edges,...Y];let v=q.firstNode(),W=q.lastNode();return[v?{id:O(v.id),data:v.data}:void 0,W?{id:O(W.id),data:W.data}:void 0]}trimFirstNode(){let q=this.firstNode();if(q&&oV(this,[q.id]))this.removeNode(q)}trimLastNode(){let q=this.lastNode();if(q&&nV(this,[q.id]))this.removeNode(q)}reid(){let q=Object.fromEntries(Object.values(this.nodes).map((K)=>[K.id,K.name])),_=new Map;Object.values(q).forEach((K)=>{_.set(K,(_.get(K)||0)+1)});let P=(K)=>{let O=q[K];if(j4(K)&&_.get(O)===1)return O;else return K};return new $({nodes:Object.fromEntries(Object.entries(this.nodes).map(([K,O])=>[P(K),{...O,id:P(K)}])),edges:this.edges.map((K)=>({...K,source:P(K.source),target:P(K.target)}))})}drawMermaid(q){let{withStyles:_,curveStyle:P,nodeColors:K={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:O}=q??{},Y=this.reid(),v=Y.firstNode(),W=Y.lastNode();return CV(Y.nodes,Y.edges,{firstNode:v?.id,lastNode:W?.id,withStyles:_,curveStyle:P,nodeColors:K,wrapLabelNWords:O})}async drawMermaidPng(q){let _=this.drawMermaid(q);return EV(_,{backgroundColor:q?.backgroundColor})}};function oV($,q=[]){let _=new Set($.edges.filter((K)=>!q.includes(K.source)).map((K)=>K.target)),P=[];for(let K of Object.values($.nodes))if(!q.includes(K.id)&&!_.has(K.id))P.push(K);return P.length===1?P[0]:void 0}function nV($,q=[]){let _=new Set($.edges.filter((K)=>!q.includes(K.target)).map((K)=>K.source)),P=[];for(let K of Object.values($.nodes))if(!q.includes(K.id)&&!_.has(K.id))P.push(K);return P.length===1?P[0]:void 0}function iV($){let q=new TextEncoder,_=new ReadableStream({async start(P){for await(let K of $)P.enqueue(q.encode(`event: data
data: ${JSON.stringify(K)}

`));P.enqueue(q.encode(`event: end

`)),P.close()}});return mq.fromReadableStream(_)}function rW($){return typeof $==="object"&&$!==null&&typeof $[Symbol.iterator]==="function"&&typeof $.next==="function"}var BV=($)=>$!=null&&typeof $==="object"&&("next"in $)&&typeof $.next==="function";function H2($){return typeof $==="object"&&$!==null&&typeof $[Symbol.asyncIterator]==="function"}function*oW($,q){while(!0){let{value:_,done:P}=eq.runWithConfig(A_($),q.next.bind(q),!0);if(P)break;else yield _}}async function*T2($,q){let _=q[Symbol.asyncIterator]();while(!0){let{value:P,done:K}=await eq.runWithConfig(A_($),_.next.bind(q),!0);if(K)break;else yield P}}function wq($,q){return $&&!Array.isArray($)&&!($ instanceof Date)&&typeof $==="object"?$:{[q]:$}}var oq=class extends r_{lc_runnable=!0;name;getName($){let q=this.name??this.constructor.lc_name()??this.constructor.name;return $?`${q}${$}`:q}withRetry($){return new tV({bound:this,kwargs:{},config:{},maxAttemptNumber:$?.stopAfterAttempt,...$})}withConfig($){return new w2({bound:this,config:$,kwargs:{}})}withFallbacks($){let q=Array.isArray($)?$:$.fallbacks;return new Mc({runnable:this,fallbacks:q})}_getOptionsList($,q=0){if(Array.isArray($)&&$.length!==q)throw Error(`Passed "options" must be an array with the same length as the inputs, but got ${$.length} options for ${q} inputs`);if(Array.isArray($))return $.map(R6);if(q>1&&!Array.isArray($)&&$.runId){console.warn("Provided runId will be used only for the first element of the batch.");let _=Object.fromEntries(Object.entries($).filter(([P])=>P!=="runId"));return Array.from({length:q},(P,K)=>R6(K===0?$:_))}return Array.from({length:q},()=>R6($))}async batch($,q,_){let P=this._getOptionsList(q??{},$.length),K=P[0]?.maxConcurrency??_?.maxConcurrency,O=new w1({maxConcurrency:K,onFailedAttempt:(v)=>{throw v}}),Y=$.map((v,W)=>O.call(async()=>{try{return await this.invoke(v,P[W])}catch(T){if(_?.returnExceptions)return T;throw T}}));return Promise.all(Y)}async*_streamIterator($,q){yield this.invoke($,q)}async stream($,q){let _=R6(q),P=new F_({generator:this._streamIterator($,_),config:_});return await P.setup,mq.fromAsyncGenerator(P)}_separateRunnableConfigFromCallOptions($){let q;if($===void 0)q=R6($);else q=R6({callbacks:$.callbacks,tags:$.tags,metadata:$.metadata,runName:$.runName,configurable:$.configurable,recursionLimit:$.recursionLimit,maxConcurrency:$.maxConcurrency,runId:$.runId,timeout:$.timeout,signal:$.signal});let _={...$};return delete _.callbacks,delete _.tags,delete _.metadata,delete _.runName,delete _.configurable,delete _.recursionLimit,delete _.maxConcurrency,delete _.runId,delete _.timeout,delete _.signal,[q,_]}async _callWithConfig($,q,_){let P=R6(_),O=await(await X8(P))?.handleChainStart(this.toJSON(),wq(q,"input"),P.runId,P?.runType,void 0,void 0,P?.runName??this.getName());delete P.runId;let Y;try{let v=$.call(this,q,P,O);Y=await Q8(v,_?.signal)}catch(v){throw await O?.handleChainError(v),v}return await O?.handleChainEnd(wq(Y,"output")),Y}async _batchWithConfig($,q,_,P){let K=this._getOptionsList(_??{},q.length),O=await Promise.all(K.map(X8)),Y=await Promise.all(O.map(async(W,T)=>{let Z=await W?.handleChainStart(this.toJSON(),wq(q[T],"input"),K[T].runId,K[T].runType,void 0,void 0,K[T].runName??this.getName());return delete K[T].runId,Z})),v;try{let W=$.call(this,q,K,Y,P);v=await Q8(W,K?.[0]?.signal)}catch(W){throw await Promise.all(Y.map((T)=>T?.handleChainError(W))),W}return await Promise.all(Y.map((W)=>W?.handleChainEnd(wq(v,"output")))),v}_concatOutputChunks($,q){return t9($,q)}async*_transformStreamWithConfig($,q,_){let P,K=!0,O,Y=!0,v=R6(_),W=await X8(v),T=this;async function*Z(){for await(let k of $){if(K)if(P===void 0)P=k;else try{P=T._concatOutputChunks(P,k)}catch{P=void 0,K=!1}yield k}}let w;try{let k=await f3(q.bind(this),Z(),async()=>W?.handleChainStart(this.toJSON(),{input:""},v.runId,v.runType,void 0,void 0,v.runName??this.getName(),void 0,{lc_defers_inputs:!0}),_?.signal,v);delete v.runId,w=k.setup;let M=w?.handlers.find(bG),N=k.output;if(M!==void 0&&w!==void 0)N=M.tapOutputIterable(w.runId,N);let R=w?.handlers.find(V3);if(R!==void 0&&w!==void 0)N=R.tapOutputIterable(w.runId,N);for await(let E of N)if(yield E,Y)if(O===void 0)O=E;else try{O=this._concatOutputChunks(O,E)}catch{O=void 0,Y=!1}}catch(k){throw await w?.handleChainError(k,void 0,void 0,void 0,{inputs:wq(P,"input")}),k}await w?.handleChainEnd(O??{},void 0,void 0,void 0,{inputs:wq(P,"input")})}getGraph($){let q=new W2,_=q.addNode({name:`${this.getName()}Input`,schema:lK.any()}),P=q.addNode(this),K=q.addNode({name:`${this.getName()}Output`,schema:lK.any()});return q.addEdge(_,P),q.addEdge(P,K),q}pipe($){return new FV({first:this,last:rK($)})}pick($){return this.pipe(new Cc($))}assign($){return this.pipe(new Nc(new nW({steps:$})))}async*transform($,q){let _;for await(let P of $)if(_===void 0)_=P;else _=this._concatOutputChunks(_,P);yield*this._streamIterator(_,R6(q))}async*streamLog($,q,_){let P=new $5({..._,autoClose:!1,_schemaFormat:"original"}),K=R6(q);yield*this._streamLog($,P,K)}async*_streamLog($,q,_){let{callbacks:P}=_;if(P===void 0)_.callbacks=[q];else if(Array.isArray(P))_.callbacks=P.concat([q]);else{let v=P.copy();v.addHandler(q,!0),_.callbacks=v}let K=this.stream($,_);async function O(){try{let v=await K;for await(let W of v){let T=new a8({ops:[{op:"add",path:"/streamed_output/-",value:W}]});await q.writer.write(T)}}finally{await q.writer.close()}}let Y=O();try{for await(let v of q)yield v}finally{await Y}}streamEvents($,q,_){let P;if(q.version==="v1")P=this._streamEventsV1($,q,_);else if(q.version==="v2")P=this._streamEventsV2($,q,_);else throw Error('Only versions "v1" and "v2" of the schema are currently supported.');if(q.encoding==="text/event-stream")return iV(P);else return mq.fromAsyncGenerator(P)}async*_streamEventsV2($,q,_){let P=new yG({..._,autoClose:!1}),K=R6(q),O=K.runId??BP();K.runId=O;let Y=K.callbacks;if(Y===void 0)K.callbacks=[P];else if(Array.isArray(Y))K.callbacks=Y.concat(P);else{let M=Y.copy();M.addHandler(P,!0),K.callbacks=M}let v=new AbortController,W=this;async function T(){let M,N=null;try{if(q?.signal)if("any"in AbortSignal)M=AbortSignal.any([v.signal,q.signal]);else M=q.signal,N=()=>{v.abort()},q.signal.addEventListener("abort",N,{once:!0});else M=v.signal;let R=await W.stream($,{...K,signal:M}),E=P.tapOutputIterable(O,R);for await(let D of E)if(v.signal.aborted)break}finally{if(await P.finish(),M&&N)M.removeEventListener("abort",N)}}let Z=T(),w=!1,k;try{for await(let M of P){if(!w){M.data.input=$,w=!0,k=M.run_id,yield M;continue}if(M.run_id===k&&M.event.endsWith("_end")){if(M.data?.input)delete M.data.input}yield M}}finally{v.abort(),await Z}}async*_streamEventsV1($,q,_){let P,K=!1,O=R6(q),Y=O.tags??[],v=O.metadata??{},W=O.runName??this.getName(),T=new $5({..._,autoClose:!1,_schemaFormat:"streaming_events"}),Z=new pG({..._}),w=this._streamLog($,T,O);for await(let M of w){if(!P)P=s9.fromRunLogPatch(M);else P=P.concat(M);if(P.state===void 0)throw Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!K){K=!0;let D={...P.state},h={run_id:D.id,event:`on_${D.type}_start`,name:W,tags:Y,metadata:v,data:{input:$}};if(Z.includeEvent(h,D.type))yield h}let N=M.ops.filter((D)=>D.path.startsWith("/logs/")).map((D)=>D.path.split("/")[2]),R=[...new Set(N)];for(let D of R){let h,L={},b=P.state.logs[D];if(b.end_time===void 0)if(b.streamed_output.length>0)h="stream";else h="start";else h="end";if(h==="start"){if(b.inputs!==void 0)L.input=b.inputs}else if(h==="end"){if(b.inputs!==void 0)L.input=b.inputs;L.output=b.final_output}else if(h==="stream"){let y=b.streamed_output.length;if(y!==1)throw Error(`Expected exactly one chunk of streamed output, got ${y} instead. Encountered in: "${b.name}"`);L={chunk:b.streamed_output[0]},b.streamed_output=[]}yield{event:`on_${b.type}_${h}`,name:b.name,run_id:b.id,tags:b.tags,metadata:b.metadata,data:L}}let{state:E}=P;if(E.streamed_output.length>0){let D=E.streamed_output.length;if(D!==1)throw Error(`Expected exactly one chunk of streamed output, got ${D} instead. Encountered in: "${E.name}"`);let h={chunk:E.streamed_output[0]};E.streamed_output=[];let L={event:`on_${E.type}_stream`,run_id:E.id,tags:Y,metadata:v,name:W,data:h};if(Z.includeEvent(L,E.type))yield L}}let k=P?.state;if(k!==void 0){let M={event:`on_${k.type}_end`,name:W,run_id:k.id,tags:Y,metadata:v,data:{output:k.final_output}};if(Z.includeEvent(M,k.type))yield M}}static isRunnable($){return Z1($)}withListeners({onStart:$,onEnd:q,onError:_}){return new w2({bound:this,config:{},configFactories:[(P)=>({callbacks:[new S3({config:P,onStart:$,onEnd:q,onError:_})]})]})}asTool($){return Ec(this,$)}},w2=class $ extends oq{static lc_name(){return"RunnableBinding"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;bound;config;kwargs;configFactories;constructor(q){super(q);this.bound=q.bound,this.kwargs=q.kwargs,this.config=q.config,this.configFactories=q.configFactories}getName(q){return this.bound.getName(q)}async _mergeConfig(...q){let _=Z3(this.config,...q);return Z3(_,...this.configFactories?await Promise.all(this.configFactories.map(async(P)=>await P(_))):[])}withConfig(q){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...q}})}withRetry(q){return new tV({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:q?.stopAfterAttempt,...q})}async invoke(q,_){return this.bound.invoke(q,await this._mergeConfig(_,this.kwargs))}async batch(q,_,P){let K=Array.isArray(_)?await Promise.all(_.map(async(O)=>this._mergeConfig(R6(O),this.kwargs))):await this._mergeConfig(R6(_),this.kwargs);return this.bound.batch(q,K,P)}_concatOutputChunks(q,_){return this.bound._concatOutputChunks(q,_)}async*_streamIterator(q,_){yield*this.bound._streamIterator(q,await this._mergeConfig(R6(_),this.kwargs))}async stream(q,_){return this.bound.stream(q,await this._mergeConfig(R6(_),this.kwargs))}async*transform(q,_){yield*this.bound.transform(q,await this._mergeConfig(R6(_),this.kwargs))}streamEvents(q,_,P){let K=this,O=async function*(){yield*K.bound.streamEvents(q,{...await K._mergeConfig(R6(_),K.kwargs),version:_.version},P)};return mq.fromAsyncGenerator(O())}static isRunnableBinding(q){return q.bound&&oq.isRunnable(q.bound)}withListeners({onStart:q,onEnd:_,onError:P}){return new $({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[(K)=>({callbacks:[new S3({config:K,onStart:q,onEnd:_,onError:P})]})]})}};var tV=class extends w2{static lc_name(){return"RunnableRetry"}lc_namespace=["langchain_core","runnables"];maxAttemptNumber=3;onFailedAttempt=()=>{};constructor($){super($);this.maxAttemptNumber=$.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=$.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry($,q,_){let P=$>1?`retry:attempt:${$}`:void 0;return gq(q,{callbacks:_?.getChild(P)})}async _invoke($,q,_){return T1((P)=>super.invoke($,this._patchConfigForRetry(P,q,_)),{onFailedAttempt:({error:P})=>this.onFailedAttempt(P,$),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke($,q){return this._callWithConfig(this._invoke.bind(this),$,q)}async _batch($,q,_,P){let K={};try{await T1(async(O)=>{let Y=$.map((w,k)=>k).filter((w)=>K[w.toString()]===void 0||K[w.toString()]instanceof Error),v=Y.map((w)=>$[w]),W=Y.map((w)=>this._patchConfigForRetry(O,q?.[w],_?.[w])),T=await super.batch(v,W,{...P,returnExceptions:!0}),Z;for(let w=0;w<T.length;w+=1){let k=T[w],M=Y[w];if(k instanceof Error){if(Z===void 0)Z=k,Z.input=v[w]}K[M.toString()]=k}if(Z)throw Z;return T},{onFailedAttempt:({error:O})=>this.onFailedAttempt(O,O.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(O){if(P?.returnExceptions!==!0)throw O}return Object.keys(K).sort((O,Y)=>parseInt(O,10)-parseInt(Y,10)).map((O)=>K[parseInt(O,10)])}async batch($,q,_){return this._batchWithConfig(this._batch.bind(this),$,q,_)}},FV=class $ extends oq{static lc_name(){return"RunnableSequence"}first;middle=[];last;omitSequenceTags=!1;lc_serializable=!0;lc_namespace=["langchain_core","runnables"];constructor(q){super(q);this.first=q.first,this.middle=q.middle??this.middle,this.last=q.last,this.name=q.name,this.omitSequenceTags=q.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(q,_){let P=R6(_),O=await(await X8(P))?.handleChainStart(this.toJSON(),wq(q,"input"),P.runId,void 0,void 0,void 0,P?.runName);delete P.runId;let Y=q,v;try{let W=[this.first,...this.middle];for(let T=0;T<W.length;T+=1){let w=W[T].invoke(Y,gq(P,{callbacks:O?.getChild(this.omitSequenceTags?void 0:`seq:step:${T+1}`)}));Y=await Q8(w,_?.signal)}if(_?.signal?.aborted)throw H4(_.signal);v=await this.last.invoke(Y,gq(P,{callbacks:O?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(W){throw await O?.handleChainError(W),W}return await O?.handleChainEnd(wq(v,"output")),v}async batch(q,_,P){let K=this._getOptionsList(_??{},q.length),O=await Promise.all(K.map(X8)),Y=await Promise.all(O.map(async(W,T)=>{let Z=await W?.handleChainStart(this.toJSON(),wq(q[T],"input"),K[T].runId,void 0,void 0,void 0,K[T].runName);return delete K[T].runId,Z})),v=q;try{for(let W=0;W<this.steps.length;W+=1){let Z=this.steps[W].batch(v,Y.map((w,k)=>{let M=w?.getChild(this.omitSequenceTags?void 0:`seq:step:${W+1}`);return gq(K[k],{callbacks:M})}),P);v=await Q8(Z,K[0]?.signal)}}catch(W){throw await Promise.all(Y.map((T)=>T?.handleChainError(W))),W}return await Promise.all(Y.map((W)=>W?.handleChainEnd(wq(v,"output")))),v}_concatOutputChunks(q,_){return this.last._concatOutputChunks(q,_)}async*_streamIterator(q,_){let P=await X8(_),{runId:K,...O}=_??{},Y=await P?.handleChainStart(this.toJSON(),wq(q,"input"),K,void 0,void 0,void 0,O?.runName),v=[this.first,...this.middle,this.last],W=!0,T;async function*Z(){yield q}try{let w=v[0].transform(Z(),gq(O,{callbacks:Y?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let k=1;k<v.length;k+=1)w=await v[k].transform(w,gq(O,{callbacks:Y?.getChild(this.omitSequenceTags?void 0:`seq:step:${k+1}`)}));for await(let k of w)if(_?.signal?.throwIfAborted(),yield k,W)if(T===void 0)T=k;else try{T=this._concatOutputChunks(T,k)}catch{T=void 0,W=!1}}catch(w){throw await Y?.handleChainError(w),w}await Y?.handleChainEnd(wq(T,"output"))}getGraph(q){let _=new W2,P=null;return this.steps.forEach((K,O)=>{let Y=K.getGraph(q);if(O!==0)Y.trimFirstNode();if(O!==this.steps.length-1)Y.trimLastNode();_.extend(Y);let v=Y.firstNode();if(!v)throw Error(`Runnable ${K} has no first node`);if(P)_.addEdge(P,v);P=Y.lastNode()}),_}pipe(q){if($.isRunnableSequence(q))return new $({first:this.first,middle:this.middle.concat([this.last,q.first,...q.middle]),last:q.last,name:this.name??q.name});else return new $({first:this.first,middle:[...this.middle,this.last],last:rK(q),name:this.name})}static isRunnableSequence(q){return Array.isArray(q.middle)&&oq.isRunnable(q)}static from([q,..._],P){let K={};if(typeof P==="string")K.name=P;else if(P!==void 0)K=P;return new $({...K,first:rK(q),middle:_.slice(0,-1).map(rK),last:rK(_[_.length-1])})}},nW=class $ extends oq{static lc_name(){return"RunnableMap"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;steps;getStepsKeys(){return Object.keys(this.steps)}constructor(q){super(q);this.steps={};for(let[_,P]of Object.entries(q.steps))this.steps[_]=rK(P)}static from(q){return new $({steps:q})}async invoke(q,_){let P=R6(_),O=await(await X8(P))?.handleChainStart(this.toJSON(),{input:q},P.runId,void 0,void 0,void 0,P?.runName);delete P.runId;let Y={};try{let v=Object.entries(this.steps).map(async([W,T])=>{Y[W]=await T.invoke(q,gq(P,{callbacks:O?.getChild(`map:key:${W}`)}))});await Q8(Promise.all(v),_?.signal)}catch(v){throw await O?.handleChainError(v),v}return await O?.handleChainEnd(Y),Y}async*_transform(q,_,P){let K={...this.steps},O=U9(q,Object.keys(K).length),Y=new Map(Object.entries(K).map(([v,W],T)=>{let Z=W.transform(O[T],gq(P,{callbacks:_?.getChild(`map:key:${v}`)}));return[v,Z.next().then((w)=>({key:v,gen:Z,result:w}))]}));while(Y.size){let v=Promise.race(Y.values()),{key:W,result:T,gen:Z}=await Q8(v,P?.signal);if(Y.delete(W),!T.done)yield{[W]:T.value},Y.set(W,Z.next().then((w)=>({key:W,gen:Z,result:w})))}}transform(q,_){return this._transformStreamWithConfig(q,this._transform.bind(this),_)}async stream(q,_){async function*P(){yield q}let K=R6(_),O=new F_({generator:this.transform(P(),K),config:K});return await O.setup,mq.fromAsyncGenerator(O)}},Vc=class $ extends oq{lc_serializable=!1;lc_namespace=["langchain_core","runnables"];func;constructor(q){super(q);if(!n9(q.func))throw Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=q.func}async invoke(q,_){let[P]=this._getOptionsList(_??{},1),K=await X8(P),O=this.func(gq(P,{callbacks:K}),q);return Q8(O,P?.signal)}async*_streamIterator(q,_){let[P]=this._getOptionsList(_??{},1),K=await this.invoke(q,_);if(H2(K)){for await(let O of K)P?.signal?.throwIfAborted(),yield O;return}if(BV(K)){while(!0){P?.signal?.throwIfAborted();let O=K.next();if(O.done)break;yield O.value}return}yield K}static from(q){return new $({func:q})}};function Sc($){if(n9($))throw Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var QV=class $ extends oq{static lc_name(){return"RunnableLambda"}lc_namespace=["langchain_core","runnables"];func;constructor(q){if(n9(q.func))return Vc.from(q.func);super(q);Sc(q.func),this.func=q.func}static from(q){return new $({func:q})}async _invoke(q,_,P){return new Promise((K,O)=>{let Y=gq(_,{callbacks:P?.getChild(),recursionLimit:(_?.recursionLimit??B9)-1});eq.runWithConfig(A_(Y),async()=>{try{let v=await this.func(q,{...Y});if(v&&oq.isRunnable(v)){if(_?.recursionLimit===0)throw Error("Recursion limit reached.");v=await v.invoke(q,{...Y,recursionLimit:(Y.recursionLimit??B9)-1})}else if(H2(v)){let W;for await(let T of T2(Y,v))if(_?.signal?.throwIfAborted(),W===void 0)W=T;else try{W=this._concatOutputChunks(W,T)}catch{W=T}v=W}else if(rW(v)){let W;for(let T of oW(Y,v))if(_?.signal?.throwIfAborted(),W===void 0)W=T;else try{W=this._concatOutputChunks(W,T)}catch{W=T}v=W}K(v)}catch(v){O(v)}})})}async invoke(q,_){return this._callWithConfig(this._invoke.bind(this),q,_)}async*_transform(q,_,P){let K;for await(let v of q)if(K===void 0)K=v;else try{K=this._concatOutputChunks(K,v)}catch{K=v}let O=gq(P,{callbacks:_?.getChild(),recursionLimit:(P?.recursionLimit??B9)-1}),Y=await new Promise((v,W)=>{eq.runWithConfig(A_(O),async()=>{try{let T=await this.func(K,{...O,config:O});v(T)}catch(T){W(T)}})});if(Y&&oq.isRunnable(Y)){if(P?.recursionLimit===0)throw Error("Recursion limit reached.");let v=await Y.stream(K,O);for await(let W of v)yield W}else if(H2(Y))for await(let v of T2(O,Y))P?.signal?.throwIfAborted(),yield v;else if(rW(Y))for(let v of oW(O,Y))P?.signal?.throwIfAborted(),yield v;else yield Y}transform(q,_){return this._transformStreamWithConfig(q,this._transform.bind(this),_)}async stream(q,_){async function*P(){yield q}let K=R6(_),O=new F_({generator:this.transform(P(),K),config:K});return await O.setup,mq.fromAsyncGenerator(O)}};var Mc=class extends oq{static lc_name(){return"RunnableWithFallbacks"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnable;fallbacks;constructor($){super($);this.runnable=$.runnable,this.fallbacks=$.fallbacks}*runnables(){yield this.runnable;for(let $ of this.fallbacks)yield $}async invoke($,q){let _=R6(q),P=await X8(_),{runId:K,...O}=_,Y=await P?.handleChainStart(this.toJSON(),wq($,"input"),K,void 0,void 0,void 0,O?.runName),v=gq(O,{callbacks:Y?.getChild()});return await eq.runWithConfig(v,async()=>{let T;for(let Z of this.runnables()){_?.signal?.throwIfAborted();try{let w=await Z.invoke($,v);return await Y?.handleChainEnd(wq(w,"output")),w}catch(w){if(T===void 0)T=w}}if(T===void 0)throw Error("No error stored at end of fallback.");throw await Y?.handleChainError(T),T})}async*_streamIterator($,q){let _=R6(q),P=await X8(_),{runId:K,...O}=_,Y=await P?.handleChainStart(this.toJSON(),wq($,"input"),K,void 0,void 0,void 0,O?.runName),v,W;for(let Z of this.runnables()){_?.signal?.throwIfAborted();let w=gq(O,{callbacks:Y?.getChild()});try{let k=await Z.stream($,w);W=T2(w,k);break}catch(k){if(v===void 0)v=k}}if(W===void 0){let Z=v??Error("No error stored at end of fallback.");throw await Y?.handleChainError(Z),Z}let T;try{for await(let Z of W){yield Z;try{T=T===void 0?T:this._concatOutputChunks(T,Z)}catch{T=void 0}}}catch(Z){throw await Y?.handleChainError(Z),Z}await Y?.handleChainEnd(wq(T,"output"))}async batch($,q,_){if(_?.returnExceptions)throw Error("Not implemented.");let P=this._getOptionsList(q??{},$.length),K=await Promise.all(P.map((v)=>X8(v))),O=await Promise.all(K.map(async(v,W)=>{let T=await v?.handleChainStart(this.toJSON(),wq($[W],"input"),P[W].runId,void 0,void 0,void 0,P[W].runName);return delete P[W].runId,T})),Y;for(let v of this.runnables()){P[0].signal?.throwIfAborted();try{let W=await v.batch($,O.map((T,Z)=>gq(P[Z],{callbacks:T?.getChild()})),_);return await Promise.all(O.map((T,Z)=>T?.handleChainEnd(wq(W[Z],"output")))),W}catch(W){if(Y===void 0)Y=W}}if(!Y)throw Error("No error stored at end of fallbacks.");throw await Promise.all(O.map((v)=>v?.handleChainError(Y))),Y}};function rK($){if(typeof $==="function")return new QV({func:$});else if(oq.isRunnable($))return $;else if(!Array.isArray($)&&typeof $==="object"){let q={};for(let[_,P]of Object.entries($))q[_]=rK(P);return new nW({steps:q})}else throw Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var Nc=class extends oq{static lc_name(){return"RunnableAssign"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;mapper;constructor($){if($ instanceof nW)$={mapper:$};super($);this.mapper=$.mapper}async invoke($,q){let _=await this.mapper.invoke($,q);return{...$,..._}}async*_transform($,q,_){let P=this.mapper.getStepsKeys(),[K,O]=U9($),Y=this.mapper.transform(O,gq(_,{callbacks:q?.getChild()})),v=Y.next();for await(let W of K){if(typeof W!=="object"||Array.isArray(W))throw Error(`RunnableAssign can only be used with objects as input, got ${typeof W}`);let T=Object.fromEntries(Object.entries(W).filter(([Z])=>!P.includes(Z)));if(Object.keys(T).length>0)yield T}yield(await v).value;for await(let W of Y)yield W}transform($,q){return this._transformStreamWithConfig($,this._transform.bind(this),q)}async stream($,q){async function*_(){yield $}let P=R6(q),K=new F_({generator:this.transform(_(),P),config:P});return await K.setup,mq.fromAsyncGenerator(K)}},Cc=class extends oq{static lc_name(){return"RunnablePick"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;keys;constructor($){if(typeof $==="string"||Array.isArray($))$={keys:$};super($);this.keys=$.keys}async _pick($){if(typeof this.keys==="string")return $[this.keys];else{let q=this.keys.map((_)=>[_,$[_]]).filter((_)=>_[1]!==void 0);return q.length===0?void 0:Object.fromEntries(q)}}async invoke($,q){return this._callWithConfig(this._pick.bind(this),$,q)}async*_transform($){for await(let q of $){let _=await this._pick(q);if(_!==void 0)yield _}}transform($,q){return this._transformStreamWithConfig($,this._transform.bind(this),q)}async stream($,q){async function*_(){yield $}let P=R6(q),K=new F_({generator:this.transform(_(),P),config:P});return await K.setup,mq.fromAsyncGenerator(K)}},UV=class extends w2{name;description;schema;constructor($){let q=FV.from([QV.from(async(_)=>{let P;if(YO(_))try{P=await GV(this.schema,_.args)}catch{throw new eZ("Received tool input did not match expected schema",JSON.stringify(_.args))}else P=_;return P}).withConfig({runName:`${$.name}:parse_input`}),$.bound]).withConfig({runName:$.name});super({bound:q,config:$.config??{}});this.name=$.name,this.description=$.description,this.schema=$.schema}static lc_name(){return"RunnableToolLike"}};function Ec($,q){let _=q.name??$.getName(),P=q.description??VV(q.schema);if(SV(q.schema))return new UV({name:_,description:P,schema:lK.object({input:lK.string()}).transform((K)=>K.input),bound:$});return new UV({name:_,description:P,schema:q.schema,bound:$})}var $7=class extends oq{lc_namespace=["langchain_core","documents","transformers"];invoke($,q){return this.transformDocuments($)}},aV=class extends $7{async transformDocuments($){let q=[];for(let _ of $){let P=await this._transformDocument(_);q.push(P)}return q}};var Rc={};k6(Rc,{BaseDocumentTransformer:()=>$7,Document:()=>q9,MappingDocumentTransformer:()=>aV});var $0=R8(sV(),1),mc=Object.defineProperty,dc=($,q,_)=>(q in $)?mc($,q,{enumerable:!0,configurable:!0,writable:!0,value:_}):$[q]=_,lc=($,q,_)=>{return dc($,typeof q!=="symbol"?q+"":q,_),_};function rc($,q){let _=Array.from({length:$.length},(P,K)=>({start:K,end:K+1}));while(_.length>1){let P=null;for(let K=0;K<_.length-1;K++){let O=$.slice(_[K].start,_[K+1].end),Y=q.get(O.join(","));if(Y==null)continue;if(P==null||Y<P[0])P=[Y,K]}if(P!=null){let K=P[1];_[K]={start:_[K].start,end:_[K+1].end},_.splice(K+1,1)}else break}return _}function oc($,q){if($.length===1)return[q.get($.join(","))];return rc($,q).map((_)=>q.get($.slice(_.start,_.end).join(","))).filter((_)=>_!=null)}function nc($){return $.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var UW=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor($,q){this.patStr=$.pat_str;let _=$.bpe_ranks.split(`
`).filter(Boolean).reduce((P,K)=>{let[O,Y,...v]=K.split(" "),W=Number.parseInt(Y,10);return v.forEach((T,Z)=>P[T]=W+Z),P},{});for(let[P,K]of Object.entries(_)){let O=$0.default.toByteArray(P);this.rankMap.set(O.join(","),K),this.textMap.set(K,O)}this.specialTokens={...$.special_tokens,...q},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((P,[K,O])=>{return P[O]=this.textEncoder.encode(K),P},{})}encode($,q=[],_="all"){let P=new RegExp(this.patStr,"ug"),K=UW.specialTokenRegex(Object.keys(this.specialTokens)),O=[],Y=new Set(q==="all"?Object.keys(this.specialTokens):q),v=new Set(_==="all"?Object.keys(this.specialTokens).filter((T)=>!Y.has(T)):_);if(v.size>0){let T=UW.specialTokenRegex([...v]),Z=$.match(T);if(Z!=null)throw Error(`The text contains a special token that is not allowed: ${Z[0]}`)}let W=0;while(!0){let T=null,Z=W;while(!0){if(K.lastIndex=Z,T=K.exec($),T==null||Y.has(T[0]))break;Z=T.index+1}let w=T?.index??$.length;for(let M of $.substring(W,w).matchAll(P)){let N=this.textEncoder.encode(M[0]),R=this.rankMap.get(N.join(","));if(R!=null){O.push(R);continue}O.push(...oc(N,this.rankMap))}if(T==null)break;let k=this.specialTokens[T[0]];O.push(k),W=T.index+T[0].length}return O}decode($){let q=[],_=0;for(let O=0;O<$.length;++O){let Y=$[O],v=this.textMap.get(Y)??this.inverseSpecialTokens[Y];if(v!=null)q.push(v),_+=v.length}let P=new Uint8Array(_),K=0;for(let O of q)P.set(O,K),K+=O.length;return this.textDecoder.decode(P)}},Z2=UW;lc(Z2,"specialTokenRegex",($)=>{return new RegExp($.map((q)=>nc(q)).join("|"),"g")});function tW($){switch($){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw Error("Unknown model")}}var ic={};k6(ic,{encodingForModel:()=>Uc,getEncoding:()=>FW});var f2={},Bc=new w1({});async function FW($){if(!($ in f2))f2[$]=Bc.fetch(`https://tiktoken.pages.dev/js/${$}.json`).then((q)=>q.json()).then((q)=>new Z2(q)).catch((q)=>{throw delete f2[$],q});return await f2[$]}async function Uc($){return FW(tW($))}var q0=class extends $7{lc_namespace=["langchain","document_transformers","text_splitters"];chunkSize=1000;chunkOverlap=200;keepSeparator=!1;lengthFunction;constructor($){super($);if(this.chunkSize=$?.chunkSize??this.chunkSize,this.chunkOverlap=$?.chunkOverlap??this.chunkOverlap,this.keepSeparator=$?.keepSeparator??this.keepSeparator,this.lengthFunction=$?.lengthFunction??((q)=>q.length),this.chunkOverlap>=this.chunkSize)throw Error("Cannot have chunkOverlap >= chunkSize")}async transformDocuments($,q={}){return this.splitDocuments($,q)}splitOnSeparator($,q){let _;if(q)if(this.keepSeparator){let P=q.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");_=$.split(new RegExp(`(?=${P})`))}else _=$.split(q);else _=$.split("");return _.filter((P)=>P!=="")}async createDocuments($,q=[],_={}){let P=q.length>0?q:[...Array($.length)].map(()=>({})),{chunkHeader:K="",chunkOverlapHeader:O="(cont'd) ",appendChunkOverlapHeader:Y=!1}=_,v=[];for(let W=0;W<$.length;W+=1){let T=$[W],Z=1,w=null,k=-1;for(let M of await this.splitText(T)){let N=K,R=T.indexOf(M,k+1);if(w===null){let L=this.numberOfNewLines(T,0,R);Z+=L}else{let L=k+await this.lengthFunction(w);if(L<R){let b=this.numberOfNewLines(T,L,R);Z+=b}else if(L>R){let b=this.numberOfNewLines(T,R,L);Z-=b}if(Y)N+=O}let E=this.numberOfNewLines(M),D=P[W].loc&&typeof P[W].loc==="object"?{...P[W].loc}:{};D.lines={from:Z,to:Z+E};let h={...P[W],loc:D};N+=M,v.push(new q9({pageContent:N,metadata:h})),Z+=E,w=M,k=R}}return v}numberOfNewLines($,q,_){return($.slice(q,_).match(/\n/g)||[]).length}async splitDocuments($,q={}){let _=$.filter((O)=>O.pageContent!==void 0),P=_.map((O)=>O.pageContent),K=_.map((O)=>O.metadata);return this.createDocuments(P,K,q)}joinDocs($,q){let _=$.join(q).trim();return _===""?null:_}async mergeSplits($,q){let _=[],P=[],K=0;for(let Y of $){let v=await this.lengthFunction(Y);if(K+v+P.length*q.length>this.chunkSize){if(K>this.chunkSize)console.warn(`Created a chunk of size ${K}, +
which is longer than the specified ${this.chunkSize}`);if(P.length>0){let W=this.joinDocs(P,q);if(W!==null)_.push(W);while(K>this.chunkOverlap||K+v+P.length*q.length>this.chunkSize&&K>0)K-=await this.lengthFunction(P[0]),P.shift()}}P.push(Y),K+=v}let O=this.joinDocs(P,q);if(O!==null)_.push(O);return _}};var QW=class $ extends q0{static lc_name(){return"RecursiveCharacterTextSplitter"}separators=[`

`,`
`," ",""];constructor(q){super(q);this.separators=q?.separators??this.separators,this.keepSeparator=q?.keepSeparator??!0}async _splitText(q,_){let P=[],K=_[_.length-1],O;for(let T=0;T<_.length;T+=1){let Z=_[T];if(Z===""){K=Z;break}if(q.includes(Z)){K=Z,O=_.slice(T+1);break}}let Y=this.splitOnSeparator(q,K),v=[],W=this.keepSeparator?"":K;for(let T of Y)if(await this.lengthFunction(T)<this.chunkSize)v.push(T);else{if(v.length){let Z=await this.mergeSplits(v,W);P.push(...Z),v=[]}if(!O)P.push(T);else{let Z=await this._splitText(T,O);P.push(...Z)}}if(v.length){let T=await this.mergeSplits(v,W);P.push(...T)}return P}async splitText(q){return this._splitText(q,this.separators)}static fromLanguage(q,_){return new $({..._,separators:$.getSeparatorsForLanguage(q)})}static getSeparatorsForLanguage(q){if(q==="cpp")return[`
class `,`
void `,`
int `,`
float `,`
double `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="go")return[`
func `,`
var `,`
const `,`
type `,`
if `,`
for `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="java")return[`
class `,`
public `,`
protected `,`
private `,`
static `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="js")return[`
function `,`
const `,`
let `,`
var `,`
class `,`
if `,`
for `,`
while `,`
switch `,`
case `,`
default `,`

`,`
`," ",""];else if(q==="php")return[`
function `,`
class `,`
if `,`
foreach `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="proto")return[`
message `,`
service `,`
enum `,`
option `,`
import `,`
syntax `,`

`,`
`," ",""];else if(q==="python")return[`
class `,`
def `,`
	def `,`

`,`
`," ",""];else if(q==="rst")return[`
===
`,`
---
`,`
***
`,`
.. `,`

`,`
`," ",""];else if(q==="ruby")return[`
def `,`
class `,`
if `,`
unless `,`
while `,`
for `,`
do `,`
begin `,`
rescue `,`

`,`
`," ",""];else if(q==="rust")return[`
fn `,`
const `,`
let `,`
if `,`
while `,`
for `,`
loop `,`
match `,`
const `,`

`,`
`," ",""];else if(q==="scala")return[`
class `,`
object `,`
def `,`
val `,`
var `,`
if `,`
for `,`
while `,`
match `,`
case `,`

`,`
`," ",""];else if(q==="swift")return[`
func `,`
class `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="markdown")return[`
## `,`
### `,`
#### `,`
##### `,`
###### `,"```\n\n",`

***

`,`

---

`,`

___

`,`

`,`
`," ",""];else if(q==="latex")return[`
\\chapter{`,`
\\section{`,`
\\subsection{`,`
\\subsubsection{`,`
\\begin{enumerate}`,`
\\begin{itemize}`,`
\\begin{description}`,`
\\begin{list}`,`
\\begin{quote}`,`
\\begin{quotation}`,`
\\begin{verse}`,`
\\begin{verbatim}`,`
\\begin{align}`,"$$","$",`

`,`
`," ",""];else if(q==="html")return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];else if(q==="sol")return[`
pragma `,`
using `,`
contract `,`
interface `,`
library `,`
constructor `,`
type `,`
function `,`
event `,`
modifier `,`
error `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do while `,`
assembly `,`

`,`
`," ",""];else throw Error(`Language ${q} is not supported.`)}};var HZ=R8(jM(),1);var vM=($)=>{$=1831565813+($|=0)|0;let q=Math.imul($^$>>>15,1|$);return q=q+Math.imul(q^q>>>7,61|q)^q,((q^q>>>14)>>>0)/4294967296};class JM{constructor($){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;let{length:q,separator:_,dictionaries:P,style:K,seed:O}=$;this.dictionaries=P,this.separator=_,this.length=q,this.style=K,this.seed=O}generate(){if(!this.dictionaries)throw Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw Error("Invalid length provided");if(this.length>this.dictionaries.length)throw Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let $=this.seed;return this.dictionaries.slice(0,this.length).reduce((q,_)=>{let P;$?(P=((O)=>{if(typeof O=="string"){let Y=O.split("").map((W)=>W.charCodeAt(0)).reduce((W,T)=>W+T,1),v=Math.floor(Number(Y));return vM(v)}return vM(O)})($),$=4294967296*P):P=Math.random();let K=_[Math.floor(P*_.length)]||"";if(this.style==="lowerCase")K=K.toLowerCase();else if(this.style==="capital"){let[O,...Y]=K.split("");K=O.toUpperCase()+Y.join("")}else this.style==="upperCase"&&(K=K.toUpperCase());return q?`${q}${this.separator}${K}`:`${K}`},"")}}var zM={separator:"_",dictionaries:[]},h2=($)=>{let q=[...$&&$.dictionaries||zM.dictionaries],_={...zM,...$,length:$&&$.length||q.length,dictionaries:q};if(!$||!$.dictionaries||!$.dictionaries.length)throw Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new JM(_).generate()};var D2=["Aaren","Aarika","Abagael","Abagail","Abbe","Abbey","Abbi","Abbie","Abby","Abbye","Abigael","Abigail","Abigale","Abra","Ada","Adah","Adaline","Adan","Adara","Adda","Addi","Addia","Addie","Addy","Adel","Adela","Adelaida","Adelaide","Adele","Adelheid","Adelice","Adelina","Adelind","Adeline","Adella","Adelle","Adena","Adey","Adi","Adiana","Adina","Adora","Adore","Adoree","Adorne","Adrea","Adria","Adriaens","Adrian","Adriana","Adriane","Adrianna","Adrianne","Adriena","Adrienne","Aeriel","Aeriela","Aeriell","Afton","Ag","Agace","Agata","Agatha","Agathe","Aggi","Aggie","Aggy","Agna","Agnella","Agnes","Agnese","Agnesse","Agneta","Agnola","Agretha","Aida","Aidan","Aigneis","Aila","Aile","Ailee","Aileen","Ailene","Ailey","Aili","Ailina","Ailis","Ailsun","Ailyn","Aime","Aimee","Aimil","Aindrea","Ainslee","Ainsley","Ainslie","Ajay","Alaine","Alameda","Alana","Alanah","Alane","Alanna","Alayne","Alberta","Albertina","Albertine","Albina","Alecia","Aleda","Aleece","Aleen","Alejandra","Alejandrina","Alena","Alene","Alessandra","Aleta","Alethea","Alex","Alexa","Alexandra","Alexandrina","Alexi","Alexia","Alexina","Alexine","Alexis","Alfi","Alfie","Alfreda","Alfy","Ali","Alia","Alica","Alice","Alicea","Alicia","Alida","Alidia","Alie","Alika","Alikee","Alina","Aline","Alis","Alisa","Alisha","Alison","Alissa","Alisun","Alix","Aliza","Alla","Alleen","Allegra","Allene","Alli","Allianora","Allie","Allina","Allis","Allison","Allissa","Allix","Allsun","Allx","Ally","Allyce","Allyn","Allys","Allyson","Alma","Almeda","Almeria","Almeta","Almira","Almire","Aloise","Aloisia","Aloysia","Alta","Althea","Alvera","Alverta","Alvina","Alvinia","Alvira","Alyce","Alyda","Alys","Alysa","Alyse","Alysia","Alyson","Alyss","Alyssa","Amabel","Amabelle","Amalea","Amalee","Amaleta","Amalia","Amalie","Amalita","Amalle","Amanda","Amandi","Amandie","Amandy","Amara","Amargo","Amata","Amber","Amberly","Ambur","Ame","Amelia","Amelie","Amelina","Ameline","Amelita","Ami","Amie","Amii","Amil","Amitie","Amity","Ammamaria","Amy","Amye","Ana","Anabal","Anabel","Anabella","Anabelle","Analiese","Analise","Anallese","Anallise","Anastasia","Anastasie","Anastassia","Anatola","Andee","Andeee","Anderea","Andi","Andie","Andra","Andrea","Andreana","Andree","Andrei","Andria","Andriana","Andriette","Andromache","Andy","Anestassia","Anet","Anett","Anetta","Anette","Ange","Angel","Angela","Angele","Angelia","Angelica","Angelika","Angelina","Angeline","Angelique","Angelita","Angelle","Angie","Angil","Angy","Ania","Anica","Anissa","Anita","Anitra","Anjanette","Anjela","Ann","Ann-marie","Anna","Anna-diana","Anna-diane","Anna-maria","Annabal","Annabel","Annabela","Annabell","Annabella","Annabelle","Annadiana","Annadiane","Annalee","Annaliese","Annalise","Annamaria","Annamarie","Anne","Anne-corinne","Anne-marie","Annecorinne","Anneliese","Annelise","Annemarie","Annetta","Annette","Anni","Annice","Annie","Annis","Annissa","Annmaria","Annmarie","Annnora","Annora","Anny","Anselma","Ansley","Anstice","Anthe","Anthea","Anthia","Anthiathia","Antoinette","Antonella","Antonetta","Antonia","Antonie","Antonietta","Antonina","Anya","Appolonia","April","Aprilette","Ara","Arabel","Arabela","Arabele","Arabella","Arabelle","Arda","Ardath","Ardeen","Ardelia","Ardelis","Ardella","Ardelle","Arden","Ardene","Ardenia","Ardine","Ardis","Ardisj","Ardith","Ardra","Ardyce","Ardys","Ardyth","Aretha","Ariadne","Ariana","Aridatha","Ariel","Ariela","Ariella","Arielle","Arlana","Arlee","Arleen","Arlen","Arlena","Arlene","Arleta","Arlette","Arleyne","Arlie","Arliene","Arlina","Arlinda","Arline","Arluene","Arly","Arlyn","Arlyne","Aryn","Ashely","Ashia","Ashien","Ashil","Ashla","Ashlan","Ashlee","Ashleigh","Ashlen","Ashley","Ashli","Ashlie","Ashly","Asia","Astra","Astrid","Astrix","Atalanta","Athena","Athene","Atlanta","Atlante","Auberta","Aubine","Aubree","Aubrette","Aubrey","Aubrie","Aubry","Audi","Audie","Audra","Audre","Audrey","Audrie","Audry","Audrye","Audy","Augusta","Auguste","Augustina","Augustine","Aundrea","Aura","Aurea","Aurel","Aurelea","Aurelia","Aurelie","Auria","Aurie","Aurilia","Aurlie","Auroora","Aurora","Aurore","Austin","Austina","Austine","Ava","Aveline","Averil","Averyl","Avie","Avis","Aviva","Avivah","Avril","Avrit","Ayn","Bab","Babara","Babb","Babbette","Babbie","Babette","Babita","Babs","Bambi","Bambie","Bamby","Barb","Barbabra","Barbara","Barbara-anne","Barbaraanne","Barbe","Barbee","Barbette","Barbey","Barbi","Barbie","Barbra","Barby","Bari","Barrie","Barry","Basia","Bathsheba","Batsheva","Bea","Beatrice","Beatrisa","Beatrix","Beatriz","Bebe","Becca","Becka","Becki","Beckie","Becky","Bee","Beilul","Beitris","Bekki","Bel","Belia","Belicia","Belinda","Belita","Bell","Bella","Bellanca","Belle","Bellina","Belva","Belvia","Bendite","Benedetta","Benedicta","Benedikta","Benetta","Benita","Benni","Bennie","Benny","Benoite","Berenice","Beret","Berget","Berna","Bernadene","Bernadette","Bernadina","Bernadine","Bernardina","Bernardine","Bernelle","Bernete","Bernetta","Bernette","Berni","Bernice","Bernie","Bernita","Berny","Berri","Berrie","Berry","Bert","Berta","Berte","Bertha","Berthe","Berti","Bertie","Bertina","Bertine","Berty","Beryl","Beryle","Bess","Bessie","Bessy","Beth","Bethanne","Bethany","Bethena","Bethina","Betsey","Betsy","Betta","Bette","Bette-ann","Betteann","Betteanne","Betti","Bettina","Bettine","Betty","Bettye","Beulah","Bev","Beverie","Beverlee","Beverley","Beverlie","Beverly","Bevvy","Bianca","Bianka","Bibbie","Bibby","Bibbye","Bibi","Biddie","Biddy","Bidget","Bili","Bill","Billi","Billie","Billy","Billye","Binni","Binnie","Binny","Bird","Birdie","Birgit","Birgitta","Blair","Blaire","Blake","Blakelee","Blakeley","Blanca","Blanch","Blancha","Blanche","Blinni","Blinnie","Blinny","Bliss","Blisse","Blithe","Blondell","Blondelle","Blondie","Blondy","Blythe","Bobbe","Bobbee","Bobbette","Bobbi","Bobbie","Bobby","Bobbye","Bobette","Bobina","Bobine","Bobinette","Bonita","Bonnee","Bonni","Bonnibelle","Bonnie","Bonny","Brana","Brandais","Brande","Brandea","Brandi","Brandice","Brandie","Brandise","Brandy","Breanne","Brear","Bree","Breena","Bren","Brena","Brenda","Brenn","Brenna","Brett","Bria","Briana","Brianna","Brianne","Bride","Bridget","Bridgette","Bridie","Brier","Brietta","Brigid","Brigida","Brigit","Brigitta","Brigitte","Brina","Briney","Brinn","Brinna","Briny","Brit","Brita","Britney","Britni","Britt","Britta","Brittan","Brittaney","Brittani","Brittany","Britte","Britteny","Brittne","Brittney","Brittni","Brook","Brooke","Brooks","Brunhilda","Brunhilde","Bryana","Bryn","Bryna","Brynn","Brynna","Brynne","Buffy","Bunni","Bunnie","Bunny","Cacilia","Cacilie","Cahra","Cairistiona","Caitlin","Caitrin","Cal","Calida","Calla","Calley","Calli","Callida","Callie","Cally","Calypso","Cam","Camala","Camel","Camella","Camellia","Cami","Camila","Camile","Camilla","Camille","Cammi","Cammie","Cammy","Candace","Candi","Candice","Candida","Candide","Candie","Candis","Candra","Candy","Caprice","Cara","Caralie","Caren","Carena","Caresa","Caressa","Caresse","Carey","Cari","Caria","Carie","Caril","Carilyn","Carin","Carina","Carine","Cariotta","Carissa","Carita","Caritta","Carla","Carlee","Carleen","Carlen","Carlene","Carley","Carlie","Carlin","Carlina","Carline","Carlita","Carlota","Carlotta","Carly","Carlye","Carlyn","Carlynn","Carlynne","Carma","Carmel","Carmela","Carmelia","Carmelina","Carmelita","Carmella","Carmelle","Carmen","Carmencita","Carmina","Carmine","Carmita","Carmon","Caro","Carol","Carol-jean","Carola","Carolan","Carolann","Carole","Carolee","Carolin","Carolina","Caroline","Caroljean","Carolyn","Carolyne","Carolynn","Caron","Carree","Carri","Carrie","Carrissa","Carroll","Carry","Cary","Caryl","Caryn","Casandra","Casey","Casi","Casie","Cass","Cassandra","Cassandre","Cassandry","Cassaundra","Cassey","Cassi","Cassie","Cassondra","Cassy","Catarina","Cate","Caterina","Catha","Catharina","Catharine","Cathe","Cathee","Catherin","Catherina","Catherine","Cathi","Cathie","Cathleen","Cathlene","Cathrin","Cathrine","Cathryn","Cathy","Cathyleen","Cati","Catie","Catina","Catlaina","Catlee","Catlin","Catrina","Catriona","Caty","Caye","Cayla","Cecelia","Cecil","Cecile","Ceciley","Cecilia","Cecilla","Cecily","Ceil","Cele","Celene","Celesta","Celeste","Celestia","Celestina","Celestine","Celestyn","Celestyna","Celia","Celie","Celina","Celinda","Celine","Celinka","Celisse","Celka","Celle","Cesya","Chad","Chanda","Chandal","Chandra","Channa","Chantal","Chantalle","Charil","Charin","Charis","Charissa","Charisse","Charita","Charity","Charla","Charlean","Charleen","Charlena","Charlene","Charline","Charlot","Charlotta","Charlotte","Charmain","Charmaine","Charmane","Charmian","Charmine","Charmion","Charo","Charyl","Chastity","Chelsae","Chelsea","Chelsey","Chelsie","Chelsy","Cher","Chere","Cherey","Cheri","Cherianne","Cherice","Cherida","Cherie","Cherilyn","Cherilynn","Cherin","Cherise","Cherish","Cherlyn","Cherri","Cherrita","Cherry","Chery","Cherye","Cheryl","Cheslie","Chiarra","Chickie","Chicky","Chiquia","Chiquita","Chlo","Chloe","Chloette","Chloris","Chris","Chrissie","Chrissy","Christa","Christabel","Christabella","Christal","Christalle","Christan","Christean","Christel","Christen","Christi","Christian","Christiana","Christiane","Christie","Christin","Christina","Christine","Christy","Christye","Christyna","Chrysa","Chrysler","Chrystal","Chryste","Chrystel","Cicely","Cicily","Ciel","Cilka","Cinda","Cindee","Cindelyn","Cinderella","Cindi","Cindie","Cindra","Cindy","Cinnamon","Cissiee","Cissy","Clair","Claire","Clara","Clarabelle","Clare","Claresta","Clareta","Claretta","Clarette","Clarey","Clari","Claribel","Clarice","Clarie","Clarinda","Clarine","Clarissa","Clarisse","Clarita","Clary","Claude","Claudelle","Claudetta","Claudette","Claudia","Claudie","Claudina","Claudine","Clea","Clem","Clemence","Clementia","Clementina","Clementine","Clemmie","Clemmy","Cleo","Cleopatra","Clerissa","Clio","Clo","Cloe","Cloris","Clotilda","Clovis","Codee","Codi","Codie","Cody","Coleen","Colene","Coletta","Colette","Colleen","Collen","Collete","Collette","Collie","Colline","Colly","Con","Concettina","Conchita","Concordia","Conni","Connie","Conny","Consolata","Constance","Constancia","Constancy","Constanta","Constantia","Constantina","Constantine","Consuela","Consuelo","Cookie","Cora","Corabel","Corabella","Corabelle","Coral","Coralie","Coraline","Coralyn","Cordelia","Cordelie","Cordey","Cordi","Cordie","Cordula","Cordy","Coreen","Corella","Corenda","Corene","Coretta","Corette","Corey","Cori","Corie","Corilla","Corina","Corine","Corinna","Corinne","Coriss","Corissa","Corliss","Corly","Cornela","Cornelia","Cornelle","Cornie","Corny","Correna","Correy","Corri","Corrianne","Corrie","Corrina","Corrine","Corrinne","Corry","Cortney","Cory","Cosetta","Cosette","Costanza","Courtenay","Courtnay","Courtney","Crin","Cris","Crissie","Crissy","Crista","Cristabel","Cristal","Cristen","Cristi","Cristie","Cristin","Cristina","Cristine","Cristionna","Cristy","Crysta","Crystal","Crystie","Cthrine","Cyb","Cybil","Cybill","Cymbre","Cynde","Cyndi","Cyndia","Cyndie","Cyndy","Cynthea","Cynthia","Cynthie","Cynthy","Dacey","Dacia","Dacie","Dacy","Dael","Daffi","Daffie","Daffy","Dagmar","Dahlia","Daile","Daisey","Daisi","Daisie","Daisy","Dale","Dalenna","Dalia","Dalila","Dallas","Daloris","Damara","Damaris","Damita","Dana","Danell","Danella","Danette","Dani","Dania","Danica","Danice","Daniela","Daniele","Daniella","Danielle","Danika","Danila","Danit","Danita","Danna","Danni","Dannie","Danny","Dannye","Danya","Danyelle","Danyette","Daphene","Daphna","Daphne","Dara","Darb","Darbie","Darby","Darcee","Darcey","Darci","Darcie","Darcy","Darda","Dareen","Darell","Darelle","Dari","Daria","Darice","Darla","Darleen","Darlene","Darline","Darlleen","Daron","Darrelle","Darryl","Darsey","Darsie","Darya","Daryl","Daryn","Dasha","Dasi","Dasie","Dasya","Datha","Daune","Daveen","Daveta","Davida","Davina","Davine","Davita","Dawn","Dawna","Dayle","Dayna","Ddene","De","Deana","Deane","Deanna","Deanne","Deb","Debbi","Debbie","Debby","Debee","Debera","Debi","Debor","Debora","Deborah","Debra","Dede","Dedie","Dedra","Dee","Deeann","Deeanne","Deedee","Deena","Deerdre","Deeyn","Dehlia","Deidre","Deina","Deirdre","Del","Dela","Delcina","Delcine","Delia","Delila","Delilah","Delinda","Dell","Della","Delly","Delora","Delores","Deloria","Deloris","Delphine","Delphinia","Demeter","Demetra","Demetria","Demetris","Dena","Deni","Denice","Denise","Denna","Denni","Dennie","Denny","Deny","Denys","Denyse","Deonne","Desdemona","Desirae","Desiree","Desiri","Deva","Devan","Devi","Devin","Devina","Devinne","Devon","Devondra","Devonna","Devonne","Devora","Di","Diahann","Dian","Diana","Diandra","Diane","Diane-marie","Dianemarie","Diann","Dianna","Dianne","Diannne","Didi","Dido","Diena","Dierdre","Dina","Dinah","Dinnie","Dinny","Dion","Dione","Dionis","Dionne","Dita","Dix","Dixie","Dniren","Dode","Dodi","Dodie","Dody","Doe","Doll","Dolley","Dolli","Dollie","Dolly","Dolores","Dolorita","Doloritas","Domeniga","Dominga","Domini","Dominica","Dominique","Dona","Donella","Donelle","Donetta","Donia","Donica","Donielle","Donna","Donnamarie","Donni","Donnie","Donny","Dora","Doralia","Doralin","Doralyn","Doralynn","Doralynne","Dore","Doreen","Dorelia","Dorella","Dorelle","Dorena","Dorene","Doretta","Dorette","Dorey","Dori","Doria","Dorian","Dorice","Dorie","Dorine","Doris","Dorisa","Dorise","Dorita","Doro","Dorolice","Dorolisa","Dorotea","Doroteya","Dorothea","Dorothee","Dorothy","Dorree","Dorri","Dorrie","Dorris","Dorry","Dorthea","Dorthy","Dory","Dosi","Dot","Doti","Dotti","Dottie","Dotty","Dre","Dreddy","Dredi","Drona","Dru","Druci","Drucie","Drucill","Drucy","Drusi","Drusie","Drusilla","Drusy","Dulce","Dulcea","Dulci","Dulcia","Dulciana","Dulcie","Dulcine","Dulcinea","Dulcy","Dulsea","Dusty","Dyan","Dyana","Dyane","Dyann","Dyanna","Dyanne","Dyna","Dynah","Eachelle","Eada","Eadie","Eadith","Ealasaid","Eartha","Easter","Eba","Ebba","Ebonee","Ebony","Eda","Eddi","Eddie","Eddy","Ede","Edee","Edeline","Eden","Edi","Edie","Edin","Edita","Edith","Editha","Edithe","Ediva","Edna","Edwina","Edy","Edyth","Edythe","Effie","Eileen","Eilis","Eimile","Eirena","Ekaterina","Elaina","Elaine","Elana","Elane","Elayne","Elberta","Elbertina","Elbertine","Eleanor","Eleanora","Eleanore","Electra","Eleen","Elena","Elene","Eleni","Elenore","Eleonora","Eleonore","Elfie","Elfreda","Elfrida","Elfrieda","Elga","Elianora","Elianore","Elicia","Elie","Elinor","Elinore","Elisa","Elisabet","Elisabeth","Elisabetta","Elise","Elisha","Elissa","Elita","Eliza","Elizabet","Elizabeth","Elka","Elke","Ella","Elladine","Elle","Ellen","Ellene","Ellette","Elli","Ellie","Ellissa","Elly","Ellyn","Ellynn","Elmira","Elna","Elnora","Elnore","Eloisa","Eloise","Elonore","Elora","Elsa","Elsbeth","Else","Elset","Elsey","Elsi","Elsie","Elsinore","Elspeth","Elsy","Elva","Elvera","Elvina","Elvira","Elwira","Elyn","Elyse","Elysee","Elysha","Elysia","Elyssa","Em","Ema","Emalee","Emalia","Emelda","Emelia","Emelina","Emeline","Emelita","Emelyne","Emera","Emilee","Emili","Emilia","Emilie","Emiline","Emily","Emlyn","Emlynn","Emlynne","Emma","Emmalee","Emmaline","Emmalyn","Emmalynn","Emmalynne","Emmeline","Emmey","Emmi","Emmie","Emmy","Emmye","Emogene","Emyle","Emylee","Engracia","Enid","Enrica","Enrichetta","Enrika","Enriqueta","Eolanda","Eolande","Eran","Erda","Erena","Erica","Ericha","Ericka","Erika","Erin","Erina","Erinn","Erinna","Erma","Ermengarde","Ermentrude","Ermina","Erminia","Erminie","Erna","Ernaline","Ernesta","Ernestine","Ertha","Eryn","Esma","Esmaria","Esme","Esmeralda","Essa","Essie","Essy","Esta","Estel","Estele","Estell","Estella","Estelle","Ester","Esther","Estrella","Estrellita","Ethel","Ethelda","Ethelin","Ethelind","Etheline","Ethelyn","Ethyl","Etta","Etti","Ettie","Etty","Eudora","Eugenia","Eugenie","Eugine","Eula","Eulalie","Eunice","Euphemia","Eustacia","Eva","Evaleen","Evangelia","Evangelin","Evangelina","Evangeline","Evania","Evanne","Eve","Eveleen","Evelina","Eveline","Evelyn","Evey","Evie","Evita","Evonne","Evvie","Evvy","Evy","Eyde","Eydie","Ezmeralda","Fae","Faina","Faith","Fallon","Fan","Fanchette","Fanchon","Fancie","Fancy","Fanechka","Fania","Fanni","Fannie","Fanny","Fanya","Fara","Farah","Farand","Farica","Farra","Farrah","Farrand","Faun","Faunie","Faustina","Faustine","Fawn","Fawne","Fawnia","Fay","Faydra","Faye","Fayette","Fayina","Fayre","Fayth","Faythe","Federica","Fedora","Felecia","Felicdad","Felice","Felicia","Felicity","Felicle","Felipa","Felisha","Felita","Feliza","Fenelia","Feodora","Ferdinanda","Ferdinande","Fern","Fernanda","Fernande","Fernandina","Ferne","Fey","Fiann","Fianna","Fidela","Fidelia","Fidelity","Fifi","Fifine","Filia","Filide","Filippa","Fina","Fiona","Fionna","Fionnula","Fiorenze","Fleur","Fleurette","Flo","Flor","Flora","Florance","Flore","Florella","Florence","Florencia","Florentia","Florenza","Florette","Flori","Floria","Florida","Florie","Florina","Florinda","Floris","Florri","Florrie","Florry","Flory","Flossi","Flossie","Flossy","Flss","Fran","Francene","Frances","Francesca","Francine","Francisca","Franciska","Francoise","Francyne","Frank","Frankie","Franky","Franni","Frannie","Franny","Frayda","Fred","Freda","Freddi","Freddie","Freddy","Fredelia","Frederica","Fredericka","Frederique","Fredi","Fredia","Fredra","Fredrika","Freida","Frieda","Friederike","Fulvia","Gabbey","Gabbi","Gabbie","Gabey","Gabi","Gabie","Gabriel","Gabriela","Gabriell","Gabriella","Gabrielle","Gabriellia","Gabrila","Gaby","Gae","Gael","Gail","Gale","Galina","Garland","Garnet","Garnette","Gates","Gavra","Gavrielle","Gay","Gaye","Gayel","Gayla","Gayle","Gayleen","Gaylene","Gaynor","Gelya","Gena","Gene","Geneva","Genevieve","Genevra","Genia","Genna","Genni","Gennie","Gennifer","Genny","Genovera","Genvieve","George","Georgeanna","Georgeanne","Georgena","Georgeta","Georgetta","Georgette","Georgia","Georgiana","Georgianna","Georgianne","Georgie","Georgina","Georgine","Geralda","Geraldine","Gerda","Gerhardine","Geri","Gerianna","Gerianne","Gerladina","Germain","Germaine","Germana","Gerri","Gerrie","Gerrilee","Gerry","Gert","Gerta","Gerti","Gertie","Gertrud","Gertruda","Gertrude","Gertrudis","Gerty","Giacinta","Giana","Gianina","Gianna","Gigi","Gilberta","Gilberte","Gilbertina","Gilbertine","Gilda","Gilemette","Gill","Gillan","Gilli","Gillian","Gillie","Gilligan","Gilly","Gina","Ginelle","Ginevra","Ginger","Ginni","Ginnie","Ginnifer","Ginny","Giorgia","Giovanna","Gipsy","Giralda","Gisela","Gisele","Gisella","Giselle","Giuditta","Giulia","Giulietta","Giustina","Gizela","Glad","Gladi","Gladys","Gleda","Glen","Glenda","Glenine","Glenn","Glenna","Glennie","Glennis","Glori","Gloria","Gloriana","Gloriane","Glory","Glyn","Glynda","Glynis","Glynnis","Gnni","Godiva","Golda","Goldarina","Goldi","Goldia","Goldie","Goldina","Goldy","Grace","Gracia","Gracie","Grata","Gratia","Gratiana","Gray","Grayce","Grazia","Greer","Greta","Gretal","Gretchen","Grete","Gretel","Grethel","Gretna","Gretta","Grier","Griselda","Grissel","Guendolen","Guenevere","Guenna","Guglielma","Gui","Guillema","Guillemette","Guinevere","Guinna","Gunilla","Gus","Gusella","Gussi","Gussie","Gussy","Gusta","Gusti","Gustie","Gusty","Gwen","Gwendolen","Gwendolin","Gwendolyn","Gweneth","Gwenette","Gwenneth","Gwenni","Gwennie","Gwenny","Gwenora","Gwenore","Gwyn","Gwyneth","Gwynne","Gypsy","Hadria","Hailee","Haily","Haleigh","Halette","Haley","Hali","Halie","Halimeda","Halley","Halli","Hallie","Hally","Hana","Hanna","Hannah","Hanni","Hannie","Hannis","Hanny","Happy","Harlene","Harley","Harli","Harlie","Harmonia","Harmonie","Harmony","Harri","Harrie","Harriet","Harriett","Harrietta","Harriette","Harriot","Harriott","Hatti","Hattie","Hatty","Hayley","Hazel","Heath","Heather","Heda","Hedda","Heddi","Heddie","Hedi","Hedvig","Hedvige","Hedwig","Hedwiga","Hedy","Heida","Heidi","Heidie","Helaina","Helaine","Helen","Helen-elizabeth","Helena","Helene","Helenka","Helga","Helge","Helli","Heloise","Helsa","Helyn","Hendrika","Henka","Henrie","Henrieta","Henrietta","Henriette","Henryetta","Hephzibah","Hermia","Hermina","Hermine","Herminia","Hermione","Herta","Hertha","Hester","Hesther","Hestia","Hetti","Hettie","Hetty","Hilary","Hilda","Hildagard","Hildagarde","Hilde","Hildegaard","Hildegarde","Hildy","Hillary","Hilliary","Hinda","Holli","Hollie","Holly","Holly-anne","Hollyanne","Honey","Honor","Honoria","Hope","Horatia","Hortense","Hortensia","Hulda","Hyacinth","Hyacintha","Hyacinthe","Hyacinthia","Hyacinthie","Hynda","Ianthe","Ibbie","Ibby","Ida","Idalia","Idalina","Idaline","Idell","Idelle","Idette","Ileana","Ileane","Ilene","Ilise","Ilka","Illa","Ilsa","Ilse","Ilysa","Ilyse","Ilyssa","Imelda","Imogen","Imogene","Imojean","Ina","Indira","Ines","Inesita","Inessa","Inez","Inga","Ingaberg","Ingaborg","Inge","Ingeberg","Ingeborg","Inger","Ingrid","Ingunna","Inna","Iolande","Iolanthe","Iona","Iormina","Ira","Irena","Irene","Irina","Iris","Irita","Irma","Isa","Isabel","Isabelita","Isabella","Isabelle","Isadora","Isahella","Iseabal","Isidora","Isis","Isobel","Issi","Issie","Issy","Ivett","Ivette","Ivie","Ivonne","Ivory","Ivy","Izabel","Jacenta","Jacinda","Jacinta","Jacintha","Jacinthe","Jackelyn","Jacki","Jackie","Jacklin","Jacklyn","Jackquelin","Jackqueline","Jacky","Jaclin","Jaclyn","Jacquelin","Jacqueline","Jacquelyn","Jacquelynn","Jacquenetta","Jacquenette","Jacquetta","Jacquette","Jacqui","Jacquie","Jacynth","Jada","Jade","Jaime","Jaimie","Jaine","Jami","Jamie","Jamima","Jammie","Jan","Jana","Janaya","Janaye","Jandy","Jane","Janean","Janeczka","Janeen","Janel","Janela","Janella","Janelle","Janene","Janenna","Janessa","Janet","Janeta","Janetta","Janette","Janeva","Janey","Jania","Janice","Janie","Janifer","Janina","Janine","Janis","Janith","Janka","Janna","Jannel","Jannelle","Janot","Jany","Jaquelin","Jaquelyn","Jaquenetta","Jaquenette","Jaquith","Jasmin","Jasmina","Jasmine","Jayme","Jaymee","Jayne","Jaynell","Jazmin","Jean","Jeana","Jeane","Jeanelle","Jeanette","Jeanie","Jeanine","Jeanna","Jeanne","Jeannette","Jeannie","Jeannine","Jehanna","Jelene","Jemie","Jemima","Jemimah","Jemmie","Jemmy","Jen","Jena","Jenda","Jenelle","Jeni","Jenica","Jeniece","Jenifer","Jeniffer","Jenilee","Jenine","Jenn","Jenna","Jennee","Jennette","Jenni","Jennica","Jennie","Jennifer","Jennilee","Jennine","Jenny","Jeralee","Jere","Jeri","Jermaine","Jerrie","Jerrilee","Jerrilyn","Jerrine","Jerry","Jerrylee","Jess","Jessa","Jessalin","Jessalyn","Jessamine","Jessamyn","Jesse","Jesselyn","Jessi","Jessica","Jessie","Jessika","Jessy","Jewel","Jewell","Jewelle","Jill","Jillana","Jillane","Jillayne","Jilleen","Jillene","Jilli","Jillian","Jillie","Jilly","Jinny","Jo","Jo-ann","Jo-anne","Joan","Joana","Joane","Joanie","Joann","Joanna","Joanne","Joannes","Jobey","Jobi","Jobie","Jobina","Joby","Jobye","Jobyna","Jocelin","Joceline","Jocelyn","Jocelyne","Jodee","Jodi","Jodie","Jody","Joeann","Joela","Joelie","Joell","Joella","Joelle","Joellen","Joelly","Joellyn","Joelynn","Joete","Joey","Johanna","Johannah","Johna","Johnath","Johnette","Johnna","Joice","Jojo","Jolee","Joleen","Jolene","Joletta","Joli","Jolie","Joline","Joly","Jolyn","Jolynn","Jonell","Joni","Jonie","Jonis","Jordain","Jordan","Jordana","Jordanna","Jorey","Jori","Jorie","Jorrie","Jorry","Joscelin","Josee","Josefa","Josefina","Josepha","Josephina","Josephine","Josey","Josi","Josie","Josselyn","Josy","Jourdan","Joy","Joya","Joyan","Joyann","Joyce","Joycelin","Joye","Jsandye","Juana","Juanita","Judi","Judie","Judith","Juditha","Judy","Judye","Juieta","Julee","Juli","Julia","Juliana","Juliane","Juliann","Julianna","Julianne","Julie","Julienne","Juliet","Julieta","Julietta","Juliette","Julina","Juline","Julissa","Julita","June","Junette","Junia","Junie","Junina","Justina","Justine","Justinn","Jyoti","Kacey","Kacie","Kacy","Kaela","Kai","Kaia","Kaila","Kaile","Kailey","Kaitlin","Kaitlyn","Kaitlynn","Kaja","Kakalina","Kala","Kaleena","Kali","Kalie","Kalila","Kalina","Kalinda","Kalindi","Kalli","Kally","Kameko","Kamila","Kamilah","Kamillah","Kandace","Kandy","Kania","Kanya","Kara","Kara-lynn","Karalee","Karalynn","Kare","Karee","Karel","Karen","Karena","Kari","Karia","Karie","Karil","Karilynn","Karin","Karina","Karine","Kariotta","Karisa","Karissa","Karita","Karla","Karlee","Karleen","Karlen","Karlene","Karlie","Karlotta","Karlotte","Karly","Karlyn","Karmen","Karna","Karol","Karola","Karole","Karolina","Karoline","Karoly","Karon","Karrah","Karrie","Karry","Kary","Karyl","Karylin","Karyn","Kasey","Kass","Kassandra","Kassey","Kassi","Kassia","Kassie","Kat","Kata","Katalin","Kate","Katee","Katerina","Katerine","Katey","Kath","Katha","Katharina","Katharine","Katharyn","Kathe","Katherina","Katherine","Katheryn","Kathi","Kathie","Kathleen","Kathlin","Kathrine","Kathryn","Kathryne","Kathy","Kathye","Kati","Katie","Katina","Katine","Katinka","Katleen","Katlin","Katrina","Katrine","Katrinka","Katti","Kattie","Katuscha","Katusha","Katy","Katya","Kay","Kaycee","Kaye","Kayla","Kayle","Kaylee","Kayley","Kaylil","Kaylyn","Keeley","Keelia","Keely","Kelcey","Kelci","Kelcie","Kelcy","Kelila","Kellen","Kelley","Kelli","Kellia","Kellie","Kellina","Kellsie","Kelly","Kellyann","Kelsey","Kelsi","Kelsy","Kendra","Kendre","Kenna","Keri","Keriann","Kerianne","Kerri","Kerrie","Kerrill","Kerrin","Kerry","Kerstin","Kesley","Keslie","Kessia","Kessiah","Ketti","Kettie","Ketty","Kevina","Kevyn","Ki","Kiah","Kial","Kiele","Kiersten","Kikelia","Kiley","Kim","Kimberlee","Kimberley","Kimberli","Kimberly","Kimberlyn","Kimbra","Kimmi","Kimmie","Kimmy","Kinna","Kip","Kipp","Kippie","Kippy","Kira","Kirbee","Kirbie","Kirby","Kiri","Kirsten","Kirsteni","Kirsti","Kirstin","Kirstyn","Kissee","Kissiah","Kissie","Kit","Kitti","Kittie","Kitty","Kizzee","Kizzie","Klara","Klarika","Klarrisa","Konstance","Konstanze","Koo","Kora","Koral","Koralle","Kordula","Kore","Korella","Koren","Koressa","Kori","Korie","Korney","Korrie","Korry","Kris","Krissie","Krissy","Krista","Kristal","Kristan","Kriste","Kristel","Kristen","Kristi","Kristien","Kristin","Kristina","Kristine","Kristy","Kristyn","Krysta","Krystal","Krystalle","Krystle","Krystyna","Kyla","Kyle","Kylen","Kylie","Kylila","Kylynn","Kym","Kynthia","Kyrstin","Lacee","Lacey","Lacie","Lacy","Ladonna","Laetitia","Laina","Lainey","Lana","Lanae","Lane","Lanette","Laney","Lani","Lanie","Lanita","Lanna","Lanni","Lanny","Lara","Laraine","Lari","Larina","Larine","Larisa","Larissa","Lark","Laryssa","Latashia","Latia","Latisha","Latrena","Latrina","Laura","Lauraine","Laural","Lauralee","Laure","Lauree","Laureen","Laurel","Laurella","Lauren","Laurena","Laurene","Lauretta","Laurette","Lauri","Laurianne","Laurice","Laurie","Lauryn","Lavena","Laverna","Laverne","Lavina","Lavinia","Lavinie","Layla","Layne","Layney","Lea","Leah","Leandra","Leann","Leanna","Leanor","Leanora","Lebbie","Leda","Lee","Leeann","Leeanne","Leela","Leelah","Leena","Leesa","Leese","Legra","Leia","Leigh","Leigha","Leila","Leilah","Leisha","Lela","Lelah","Leland","Lelia","Lena","Lenee","Lenette","Lenka","Lenna","Lenora","Lenore","Leodora","Leoine","Leola","Leoline","Leona","Leonanie","Leone","Leonelle","Leonie","Leonora","Leonore","Leontine","Leontyne","Leora","Leshia","Lesley","Lesli","Leslie","Lesly","Lesya","Leta","Lethia","Leticia","Letisha","Letitia","Letizia","Letta","Letti","Lettie","Letty","Lexi","Lexie","Lexine","Lexis","Lexy","Leyla","Lezlie","Lia","Lian","Liana","Liane","Lianna","Lianne","Lib","Libbey","Libbi","Libbie","Libby","Licha","Lida","Lidia","Liesa","Lil","Lila","Lilah","Lilas","Lilia","Lilian","Liliane","Lilias","Lilith","Lilla","Lilli","Lillian","Lillis","Lilllie","Lilly","Lily","Lilyan","Lin","Lina","Lind","Linda","Lindi","Lindie","Lindsay","Lindsey","Lindsy","Lindy","Linea","Linell","Linet","Linette","Linn","Linnea","Linnell","Linnet","Linnie","Linzy","Lira","Lisa","Lisabeth","Lisbeth","Lise","Lisetta","Lisette","Lisha","Lishe","Lissa","Lissi","Lissie","Lissy","Lita","Liuka","Liv","Liva","Livia","Livvie","Livvy","Livvyy","Livy","Liz","Liza","Lizabeth","Lizbeth","Lizette","Lizzie","Lizzy","Loella","Lois","Loise","Lola","Loleta","Lolita","Lolly","Lona","Lonee","Loni","Lonna","Lonni","Lonnie","Lora","Lorain","Loraine","Loralee","Loralie","Loralyn","Loree","Loreen","Lorelei","Lorelle","Loren","Lorena","Lorene","Lorenza","Loretta","Lorette","Lori","Loria","Lorianna","Lorianne","Lorie","Lorilee","Lorilyn","Lorinda","Lorine","Lorita","Lorna","Lorne","Lorraine","Lorrayne","Lorri","Lorrie","Lorrin","Lorry","Lory","Lotta","Lotte","Lotti","Lottie","Lotty","Lou","Louella","Louisa","Louise","Louisette","Loutitia","Lu","Luce","Luci","Lucia","Luciana","Lucie","Lucienne","Lucila","Lucilia","Lucille","Lucina","Lucinda","Lucine","Lucita","Lucky","Lucretia","Lucy","Ludovika","Luella","Luelle","Luisa","Luise","Lula","Lulita","Lulu","Lura","Lurette","Lurleen","Lurlene","Lurline","Lusa","Luz","Lyda","Lydia","Lydie","Lyn","Lynda","Lynde","Lyndel","Lyndell","Lyndsay","Lyndsey","Lyndsie","Lyndy","Lynea","Lynelle","Lynett","Lynette","Lynn","Lynna","Lynne","Lynnea","Lynnell","Lynnelle","Lynnet","Lynnett","Lynnette","Lynsey","Lyssa","Mab","Mabel","Mabelle","Mable","Mada","Madalena","Madalyn","Maddalena","Maddi","Maddie","Maddy","Madel","Madelaine","Madeleine","Madelena","Madelene","Madelin","Madelina","Madeline","Madella","Madelle","Madelon","Madelyn","Madge","Madlen","Madlin","Madonna","Mady","Mae","Maegan","Mag","Magda","Magdaia","Magdalen","Magdalena","Magdalene","Maggee","Maggi","Maggie","Maggy","Mahala","Mahalia","Maia","Maible","Maiga","Maighdiln","Mair","Maire","Maisey","Maisie","Maitilde","Mala","Malanie","Malena","Malia","Malina","Malinda","Malinde","Malissa","Malissia","Mallissa","Mallorie","Mallory","Malorie","Malory","Malva","Malvina","Malynda","Mame","Mamie","Manda","Mandi","Mandie","Mandy","Manon","Manya","Mara","Marabel","Marcela","Marcelia","Marcella","Marcelle","Marcellina","Marcelline","Marchelle","Marci","Marcia","Marcie","Marcile","Marcille","Marcy","Mareah","Maren","Marena","Maressa","Marga","Margalit","Margalo","Margaret","Margareta","Margarete","Margaretha","Margarethe","Margaretta","Margarette","Margarita","Margaux","Marge","Margeaux","Margery","Marget","Margette","Margi","Margie","Margit","Margo","Margot","Margret","Marguerite","Margy","Mari","Maria","Mariam","Marian","Mariana","Mariann","Marianna","Marianne","Maribel","Maribelle","Maribeth","Marice","Maridel","Marie","Marie-ann","Marie-jeanne","Marieann","Mariejeanne","Mariel","Mariele","Marielle","Mariellen","Marietta","Mariette","Marigold","Marijo","Marika","Marilee","Marilin","Marillin","Marilyn","Marin","Marina","Marinna","Marion","Mariquilla","Maris","Marisa","Mariska","Marissa","Marita","Maritsa","Mariya","Marj","Marja","Marje","Marji","Marjie","Marjorie","Marjory","Marjy","Marketa","Marla","Marlane","Marleah","Marlee","Marleen","Marlena","Marlene","Marley","Marlie","Marline","Marlo","Marlyn","Marna","Marne","Marney","Marni","Marnia","Marnie","Marquita","Marrilee","Marris","Marrissa","Marsha","Marsiella","Marta","Martelle","Martguerita","Martha","Marthe","Marthena","Marti","Martica","Martie","Martina","Martita","Marty","Martynne","Mary","Marya","Maryann","Maryanna","Maryanne","Marybelle","Marybeth","Maryellen","Maryjane","Maryjo","Maryl","Marylee","Marylin","Marylinda","Marylou","Marylynne","Maryrose","Marys","Marysa","Masha","Matelda","Mathilda","Mathilde","Matilda","Matilde","Matti","Mattie","Matty","Maud","Maude","Maudie","Maura","Maure","Maureen","Maureene","Maurene","Maurine","Maurise","Maurita","Maurizia","Mavis","Mavra","Max","Maxi","Maxie","Maxine","Maxy","May","Maybelle","Maye","Mead","Meade","Meagan","Meaghan","Meara","Mechelle","Meg","Megan","Megen","Meggi","Meggie","Meggy","Meghan","Meghann","Mehetabel","Mei","Mel","Mela","Melamie","Melania","Melanie","Melantha","Melany","Melba","Melesa","Melessa","Melicent","Melina","Melinda","Melinde","Melisa","Melisande","Melisandra","Melisenda","Melisent","Melissa","Melisse","Melita","Melitta","Mella","Melli","Mellicent","Mellie","Mellisa","Mellisent","Melloney","Melly","Melodee","Melodie","Melody","Melonie","Melony","Melosa","Melva","Mercedes","Merci","Mercie","Mercy","Meredith","Meredithe","Meridel","Meridith","Meriel","Merilee","Merilyn","Meris","Merissa","Merl","Merla","Merle","Merlina","Merline","Merna","Merola","Merralee","Merridie","Merrie","Merrielle","Merrile","Merrilee","Merrili","Merrill","Merrily","Merry","Mersey","Meryl","Meta","Mia","Micaela","Michaela","Michaelina","Michaeline","Michaella","Michal","Michel","Michele","Michelina","Micheline","Michell","Michelle","Micki","Mickie","Micky","Midge","Mignon","Mignonne","Miguela","Miguelita","Mikaela","Mil","Mildred","Mildrid","Milena","Milicent","Milissent","Milka","Milli","Millicent","Millie","Millisent","Milly","Milzie","Mimi","Min","Mina","Minda","Mindy","Minerva","Minetta","Minette","Minna","Minnaminnie","Minne","Minni","Minnie","Minnnie","Minny","Minta","Miquela","Mira","Mirabel","Mirabella","Mirabelle","Miran","Miranda","Mireielle","Mireille","Mirella","Mirelle","Miriam","Mirilla","Mirna","Misha","Missie","Missy","Misti","Misty","Mitzi","Modesta","Modestia","Modestine","Modesty","Moina","Moira","Moll","Mollee","Molli","Mollie","Molly","Mommy","Mona","Monah","Monica","Monika","Monique","Mora","Moreen","Morena","Morgan","Morgana","Morganica","Morganne","Morgen","Moria","Morissa","Morna","Moselle","Moyna","Moyra","Mozelle","Muffin","Mufi","Mufinella","Muire","Mureil","Murial","Muriel","Murielle","Myra","Myrah","Myranda","Myriam","Myrilla","Myrle","Myrlene","Myrna","Myrta","Myrtia","Myrtice","Myrtie","Myrtle","Nada","Nadean","Nadeen","Nadia","Nadine","Nadiya","Nady","Nadya","Nalani","Nan","Nana","Nananne","Nance","Nancee","Nancey","Nanci","Nancie","Nancy","Nanete","Nanette","Nani","Nanice","Nanine","Nannette","Nanni","Nannie","Nanny","Nanon","Naoma","Naomi","Nara","Nari","Nariko","Nat","Nata","Natala","Natalee","Natalie","Natalina","Nataline","Natalya","Natasha","Natassia","Nathalia","Nathalie","Natividad","Natka","Natty","Neala","Neda","Nedda","Nedi","Neely","Neila","Neile","Neilla","Neille","Nelia","Nelie","Nell","Nelle","Nelli","Nellie","Nelly","Nerissa","Nerita","Nert","Nerta","Nerte","Nerti","Nertie","Nerty","Nessa","Nessi","Nessie","Nessy","Nesta","Netta","Netti","Nettie","Nettle","Netty","Nevsa","Neysa","Nichol","Nichole","Nicholle","Nicki","Nickie","Nicky","Nicol","Nicola","Nicole","Nicolea","Nicolette","Nicoli","Nicolina","Nicoline","Nicolle","Nikaniki","Nike","Niki","Nikki","Nikkie","Nikoletta","Nikolia","Nina","Ninetta","Ninette","Ninnetta","Ninnette","Ninon","Nissa","Nisse","Nissie","Nissy","Nita","Nixie","Noami","Noel","Noelani","Noell","Noella","Noelle","Noellyn","Noelyn","Noemi","Nola","Nolana","Nolie","Nollie","Nomi","Nona","Nonah","Noni","Nonie","Nonna","Nonnah","Nora","Norah","Norean","Noreen","Norene","Norina","Norine","Norma","Norri","Norrie","Norry","Novelia","Nydia","Nyssa","Octavia","Odele","Odelia","Odelinda","Odella","Odelle","Odessa","Odetta","Odette","Odilia","Odille","Ofelia","Ofella","Ofilia","Ola","Olenka","Olga","Olia","Olimpia","Olive","Olivette","Olivia","Olivie","Oliy","Ollie","Olly","Olva","Olwen","Olympe","Olympia","Olympie","Ondrea","Oneida","Onida","Oona","Opal","Opalina","Opaline","Ophelia","Ophelie","Ora","Oralee","Oralia","Oralie","Oralla","Oralle","Orel","Orelee","Orelia","Orelie","Orella","Orelle","Oriana","Orly","Orsa","Orsola","Ortensia","Otha","Othelia","Othella","Othilia","Othilie","Ottilie","Page","Paige","Paloma","Pam","Pamela","Pamelina","Pamella","Pammi","Pammie","Pammy","Pandora","Pansie","Pansy","Paola","Paolina","Papagena","Pat","Patience","Patrica","Patrice","Patricia","Patrizia","Patsy","Patti","Pattie","Patty","Paula","Paule","Pauletta","Paulette","Pauli","Paulie","Paulina","Pauline","Paulita","Pauly","Pavia","Pavla","Pearl","Pearla","Pearle","Pearline","Peg","Pegeen","Peggi","Peggie","Peggy","Pen","Penelopa","Penelope","Penni","Pennie","Penny","Pepi","Pepita","Peri","Peria","Perl","Perla","Perle","Perri","Perrine","Perry","Persis","Pet","Peta","Petra","Petrina","Petronella","Petronia","Petronilla","Petronille","Petunia","Phaedra","Phaidra","Phebe","Phedra","Phelia","Phil","Philipa","Philippa","Philippe","Philippine","Philis","Phillida","Phillie","Phillis","Philly","Philomena","Phoebe","Phylis","Phyllida","Phyllis","Phyllys","Phylys","Pia","Pier","Pierette","Pierrette","Pietra","Piper","Pippa","Pippy","Polly","Pollyanna","Pooh","Poppy","Portia","Pris","Prisca","Priscella","Priscilla","Prissie","Pru","Prudence","Prudi","Prudy","Prue","Queenie","Quentin","Querida","Quinn","Quinta","Quintana","Quintilla","Quintina","Rachael","Rachel","Rachele","Rachelle","Rae","Raeann","Raf","Rafa","Rafaela","Rafaelia","Rafaelita","Rahal","Rahel","Raina","Raine","Rakel","Ralina","Ramona","Ramonda","Rana","Randa","Randee","Randene","Randi","Randie","Randy","Ranee","Rani","Rania","Ranice","Ranique","Ranna","Raphaela","Raquel","Raquela","Rasia","Rasla","Raven","Ray","Raychel","Raye","Rayna","Raynell","Rayshell","Rea","Reba","Rebbecca","Rebe","Rebeca","Rebecca","Rebecka","Rebeka","Rebekah","Rebekkah","Ree","Reeba","Reena","Reeta","Reeva","Regan","Reggi","Reggie","Regina","Regine","Reiko","Reina","Reine","Remy","Rena","Renae","Renata","Renate","Rene","Renee","Renell","Renelle","Renie","Rennie","Reta","Retha","Revkah","Rey","Reyna","Rhea","Rheba","Rheta","Rhetta","Rhiamon","Rhianna","Rhianon","Rhoda","Rhodia","Rhodie","Rhody","Rhona","Rhonda","Riane","Riannon","Rianon","Rica","Ricca","Rici","Ricki","Rickie","Ricky","Riki","Rikki","Rina","Risa","Rita","Riva","Rivalee","Rivi","Rivkah","Rivy","Roana","Roanna","Roanne","Robbi","Robbie","Robbin","Robby","Robbyn","Robena","Robenia","Roberta","Robin","Robina","Robinet","Robinett","Robinetta","Robinette","Robinia","Roby","Robyn","Roch","Rochell","Rochella","Rochelle","Rochette","Roda","Rodi","Rodie","Rodina","Rois","Romola","Romona","Romonda","Romy","Rona","Ronalda","Ronda","Ronica","Ronna","Ronni","Ronnica","Ronnie","Ronny","Roobbie","Rora","Rori","Rorie","Rory","Ros","Rosa","Rosabel","Rosabella","Rosabelle","Rosaleen","Rosalia","Rosalie","Rosalind","Rosalinda","Rosalinde","Rosaline","Rosalyn","Rosalynd","Rosamond","Rosamund","Rosana","Rosanna","Rosanne","Rose","Roseann","Roseanna","Roseanne","Roselia","Roselin","Roseline","Rosella","Roselle","Rosemaria","Rosemarie","Rosemary","Rosemonde","Rosene","Rosetta","Rosette","Roshelle","Rosie","Rosina","Rosita","Roslyn","Rosmunda","Rosy","Row","Rowe","Rowena","Roxana","Roxane","Roxanna","Roxanne","Roxi","Roxie","Roxine","Roxy","Roz","Rozalie","Rozalin","Rozamond","Rozanna","Rozanne","Roze","Rozele","Rozella","Rozelle","Rozina","Rubetta","Rubi","Rubia","Rubie","Rubina","Ruby","Ruperta","Ruth","Ruthann","Ruthanne","Ruthe","Ruthi","Ruthie","Ruthy","Ryann","Rycca","Saba","Sabina","Sabine","Sabra","Sabrina","Sacha","Sada","Sadella","Sadie","Sadye","Saidee","Sal","Salaidh","Sallee","Salli","Sallie","Sally","Sallyann","Sallyanne","Saloma","Salome","Salomi","Sam","Samantha","Samara","Samaria","Sammy","Sande","Sandi","Sandie","Sandra","Sandy","Sandye","Sapphira","Sapphire","Sara","Sara-ann","Saraann","Sarah","Sarajane","Saree","Sarena","Sarene","Sarette","Sari","Sarina","Sarine","Sarita","Sascha","Sasha","Sashenka","Saudra","Saundra","Savina","Sayre","Scarlet","Scarlett","Sean","Seana","Seka","Sela","Selena","Selene","Selestina","Selia","Selie","Selina","Selinda","Seline","Sella","Selle","Selma","Sena","Sephira","Serena","Serene","Shae","Shaina","Shaine","Shalna","Shalne","Shana","Shanda","Shandee","Shandeigh","Shandie","Shandra","Shandy","Shane","Shani","Shanie","Shanna","Shannah","Shannen","Shannon","Shanon","Shanta","Shantee","Shara","Sharai","Shari","Sharia","Sharity","Sharl","Sharla","Sharleen","Sharlene","Sharline","Sharon","Sharona","Sharron","Sharyl","Shaun","Shauna","Shawn","Shawna","Shawnee","Shay","Shayla","Shaylah","Shaylyn","Shaylynn","Shayna","Shayne","Shea","Sheba","Sheela","Sheelagh","Sheelah","Sheena","Sheeree","Sheila","Sheila-kathryn","Sheilah","Shel","Shela","Shelagh","Shelba","Shelbi","Shelby","Shelia","Shell","Shelley","Shelli","Shellie","Shelly","Shena","Sher","Sheree","Sheri","Sherie","Sherill","Sherilyn","Sherline","Sherri","Sherrie","Sherry","Sherye","Sheryl","Shina","Shir","Shirl","Shirlee","Shirleen","Shirlene","Shirley","Shirline","Shoshana","Shoshanna","Siana","Sianna","Sib","Sibbie","Sibby","Sibeal","Sibel","Sibella","Sibelle","Sibilla","Sibley","Sibyl","Sibylla","Sibylle","Sidoney","Sidonia","Sidonnie","Sigrid","Sile","Sileas","Silva","Silvana","Silvia","Silvie","Simona","Simone","Simonette","Simonne","Sindee","Siobhan","Sioux","Siouxie","Sisely","Sisile","Sissie","Sissy","Siusan","Sofia","Sofie","Sondra","Sonia","Sonja","Sonni","Sonnie","Sonnnie","Sonny","Sonya","Sophey","Sophi","Sophia","Sophie","Sophronia","Sorcha","Sosanna","Stace","Stacee","Stacey","Staci","Stacia","Stacie","Stacy","Stafani","Star","Starla","Starlene","Starlin","Starr","Stefa","Stefania","Stefanie","Steffane","Steffi","Steffie","Stella","Stepha","Stephana","Stephani","Stephanie","Stephannie","Stephenie","Stephi","Stephie","Stephine","Stesha","Stevana","Stevena","Stoddard","Storm","Stormi","Stormie","Stormy","Sue","Suellen","Sukey","Suki","Sula","Sunny","Sunshine","Susan","Susana","Susanetta","Susann","Susanna","Susannah","Susanne","Susette","Susi","Susie","Susy","Suzann","Suzanna","Suzanne","Suzette","Suzi","Suzie","Suzy","Sybil","Sybila","Sybilla","Sybille","Sybyl","Sydel","Sydelle","Sydney","Sylvia","Tabatha","Tabbatha","Tabbi","Tabbie","Tabbitha","Tabby","Tabina","Tabitha","Taffy","Talia","Tallia","Tallie","Tallou","Tallulah","Tally","Talya","Talyah","Tamar","Tamara","Tamarah","Tamarra","Tamera","Tami","Tamiko","Tamma","Tammara","Tammi","Tammie","Tammy","Tamqrah","Tamra","Tana","Tandi","Tandie","Tandy","Tanhya","Tani","Tania","Tanitansy","Tansy","Tanya","Tara","Tarah","Tarra","Tarrah","Taryn","Tasha","Tasia","Tate","Tatiana","Tatiania","Tatum","Tawnya","Tawsha","Ted","Tedda","Teddi","Teddie","Teddy","Tedi","Tedra","Teena","Teirtza","Teodora","Tera","Teresa","Terese","Teresina","Teresita","Teressa","Teri","Teriann","Terra","Terri","Terrie","Terrijo","Terry","Terrye","Tersina","Terza","Tess","Tessa","Tessi","Tessie","Tessy","Thalia","Thea","Theadora","Theda","Thekla","Thelma","Theo","Theodora","Theodosia","Theresa","Therese","Theresina","Theresita","Theressa","Therine","Thia","Thomasa","Thomasin","Thomasina","Thomasine","Tiena","Tierney","Tiertza","Tiff","Tiffani","Tiffanie","Tiffany","Tiffi","Tiffie","Tiffy","Tilda","Tildi","Tildie","Tildy","Tillie","Tilly","Tim","Timi","Timmi","Timmie","Timmy","Timothea","Tina","Tine","Tiphani","Tiphanie","Tiphany","Tish","Tisha","Tobe","Tobey","Tobi","Toby","Tobye","Toinette","Toma","Tomasina","Tomasine","Tomi","Tommi","Tommie","Tommy","Toni","Tonia","Tonie","Tony","Tonya","Tonye","Tootsie","Torey","Tori","Torie","Torrie","Tory","Tova","Tove","Tracee","Tracey","Traci","Tracie","Tracy","Trenna","Tresa","Trescha","Tressa","Tricia","Trina","Trish","Trisha","Trista","Trix","Trixi","Trixie","Trixy","Truda","Trude","Trudey","Trudi","Trudie","Trudy","Trula","Tuesday","Twila","Twyla","Tybi","Tybie","Tyne","Ula","Ulla","Ulrica","Ulrika","Ulrikaumeko","Ulrike","Umeko","Una","Ursa","Ursala","Ursola","Ursula","Ursulina","Ursuline","Uta","Val","Valaree","Valaria","Vale","Valeda","Valencia","Valene","Valenka","Valentia","Valentina","Valentine","Valera","Valeria","Valerie","Valery","Valerye","Valida","Valina","Valli","Vallie","Vally","Valma","Valry","Van","Vanda","Vanessa","Vania","Vanna","Vanni","Vannie","Vanny","Vanya","Veda","Velma","Velvet","Venita","Venus","Vera","Veradis","Vere","Verena","Verene","Veriee","Verile","Verina","Verine","Verla","Verna","Vernice","Veronica","Veronika","Veronike","Veronique","Vevay","Vi","Vicki","Vickie","Vicky","Victoria","Vida","Viki","Vikki","Vikky","Vilhelmina","Vilma","Vin","Vina","Vinita","Vinni","Vinnie","Vinny","Viola","Violante","Viole","Violet","Violetta","Violette","Virgie","Virgina","Virginia","Virginie","Vita","Vitia","Vitoria","Vittoria","Viv","Viva","Vivi","Vivia","Vivian","Viviana","Vivianna","Vivianne","Vivie","Vivien","Viviene","Vivienne","Viviyan","Vivyan","Vivyanne","Vonni","Vonnie","Vonny","Vyky","Wallie","Wallis","Walliw","Wally","Waly","Wanda","Wandie","Wandis","Waneta","Wanids","Wenda","Wendeline","Wendi","Wendie","Wendy","Wendye","Wenona","Wenonah","Whitney","Wileen","Wilhelmina","Wilhelmine","Wilie","Willa","Willabella","Willamina","Willetta","Willette","Willi","Willie","Willow","Willy","Willyt","Wilma","Wilmette","Wilona","Wilone","Wilow","Windy","Wini","Winifred","Winna","Winnah","Winne","Winni","Winnie","Winnifred","Winny","Winona","Winonah","Wren","Wrennie","Wylma","Wynn","Wynne","Wynnie","Wynny","Xaviera","Xena","Xenia","Xylia","Xylina","Yalonda","Yasmeen","Yasmin","Yelena","Yetta","Yettie","Yetty","Yevette","Ynes","Ynez","Yoko","Yolanda","Yolande","Yolane","Yolanthe","Yoshi","Yoshiko","Yovonnda","Ysabel","Yvette","Yvonne","Zabrina","Zahara","Zandra","Zaneta","Zara","Zarah","Zaria","Zarla","Zea","Zelda","Zelma","Zena","Zenia","Zia","Zilvia","Zita","Zitella","Zoe","Zola","Zonda","Zondra","Zonnya","Zora","Zorah","Zorana","Zorina","Zorine","Zsazsa","Zulema","Zuzana"];var U$={};Rq(U$,{xor:()=>_N,xid:()=>CM,void:()=>QM,uuidv7:()=>XM,uuidv6:()=>fM,uuidv4:()=>ZM,uuid:()=>wM,util:()=>l$,url:()=>AM,uppercase:()=>R4,unknown:()=>tK,union:()=>KY,undefined:()=>tM,ulid:()=>NM,uint64:()=>BM,uint32:()=>oM,tuple:()=>AT,trim:()=>b4,treeifyError:()=>y3,transform:()=>YY,toUpperCase:()=>u4,toLowerCase:()=>y4,toJSONSchema:()=>yK,templateLiteral:()=>ZN,symbol:()=>UM,superRefine:()=>iT,success:()=>HN,stringbool:()=>MN,stringFormat:()=>xM,string:()=>x2,strictObject:()=>$N,startsWith:()=>h4,slugify:()=>x4,size:()=>LK,setErrorMap:()=>xn,set:()=>jN,safeParseAsync:()=>BH,safeParse:()=>iH,safeEncodeAsync:()=>sH,safeEncode:()=>aH,safeDecodeAsync:()=>$T,safeDecode:()=>eH,registry:()=>R5,regexes:()=>k8,regex:()=>C4,refine:()=>nT,record:()=>kT,readonly:()=>cT,property:()=>s5,promise:()=>fN,prettifyError:()=>u3,preprocess:()=>CN,prefault:()=>LT,positive:()=>F5,pipe:()=>Z7,partialRecord:()=>PN,parseAsync:()=>nH,parse:()=>oH,overwrite:()=>u8,optional:()=>T7,object:()=>sM,number:()=>_T,nullish:()=>WN,nullable:()=>w7,null:()=>jT,normalize:()=>g4,nonpositive:()=>a5,nonoptional:()=>gT,nonnegative:()=>e5,never:()=>_Y,negative:()=>Q5,nativeEnum:()=>vN,nanoid:()=>VM,nan:()=>TN,multipleOf:()=>qK,minSize:()=>q_,minLength:()=>G_,mime:()=>L4,meta:()=>VN,maxSize:()=>_K,maxLength:()=>gK,map:()=>ON,mac:()=>IM,lte:()=>J8,lt:()=>s8,lowercase:()=>E4,looseRecord:()=>YN,looseObject:()=>qN,locales:()=>m1,literal:()=>zN,length:()=>bK,lazy:()=>lT,ksuid:()=>EM,keyof:()=>eM,jwt:()=>uM,json:()=>NN,iso:()=>WP,ipv6:()=>hM,ipv4:()=>RM,intersection:()=>fT,int64:()=>iM,int32:()=>rM,int:()=>p2,instanceof:()=>SN,includes:()=>I4,httpUrl:()=>kM,hostname:()=>pM,hex:()=>cM,hash:()=>mM,guid:()=>TM,gte:()=>dq,gt:()=>$_,globalRegistry:()=>b6,getErrorMap:()=>pn,function:()=>XN,fromJSONSchema:()=>RN,formatError:()=>C1,float64:()=>lM,float32:()=>dM,flattenError:()=>N1,file:()=>JN,exactOptional:()=>ET,enum:()=>PY,endsWith:()=>D4,encodeAsync:()=>FH,encode:()=>UH,emoji:()=>GM,email:()=>HM,e164:()=>yM,discriminatedUnion:()=>KN,describe:()=>GN,decodeAsync:()=>QH,decode:()=>tH,date:()=>aM,custom:()=>kN,cuid2:()=>MM,cuid:()=>SM,core:()=>V_,config:()=>U6,coerce:()=>UT,codec:()=>wN,clone:()=>n6,cidrv6:()=>LM,cidrv4:()=>DM,check:()=>AN,catch:()=>uT,boolean:()=>KT,bigint:()=>nM,base64url:()=>bM,base64:()=>gM,array:()=>A7,any:()=>FM,_function:()=>XN,_default:()=>hT,_ZodString:()=>c2,ZodXor:()=>TT,ZodXID:()=>i2,ZodVoid:()=>WT,ZodUnknown:()=>zT,ZodUnion:()=>G7,ZodUndefined:()=>YT,ZodUUID:()=>v_,ZodURL:()=>f7,ZodULID:()=>n2,ZodType:()=>W6,ZodTuple:()=>XT,ZodTransform:()=>NT,ZodTemplateLiteral:()=>mT,ZodSymbol:()=>PT,ZodSuccess:()=>bT,ZodStringFormat:()=>h6,ZodString:()=>TP,ZodSet:()=>VT,ZodRecord:()=>V7,ZodRealError:()=>_8,ZodReadonly:()=>pT,ZodPromise:()=>rT,ZodPrefault:()=>DT,ZodPipe:()=>vY,ZodOptional:()=>OY,ZodObject:()=>k7,ZodNumberFormat:()=>FK,ZodNumber:()=>ZP,ZodNullable:()=>RT,ZodNull:()=>OT,ZodNonOptional:()=>jY,ZodNever:()=>JT,ZodNanoID:()=>l2,ZodNaN:()=>xT,ZodMap:()=>GT,ZodMAC:()=>qT,ZodLiteral:()=>ST,ZodLazy:()=>dT,ZodKSUID:()=>B2,ZodJWT:()=>$Y,ZodIssueCode:()=>un,ZodIntersection:()=>ZT,ZodISOTime:()=>y2,ZodISODuration:()=>u2,ZodISODateTime:()=>g2,ZodISODate:()=>b2,ZodIPv6:()=>t2,ZodIPv4:()=>U2,ZodGUID:()=>H7,ZodFunction:()=>oT,ZodFirstPartyTypeKind:()=>BT,ZodFile:()=>MT,ZodExactOptional:()=>CT,ZodError:()=>bn,ZodEnum:()=>HP,ZodEmoji:()=>d2,ZodEmail:()=>m2,ZodE164:()=>s2,ZodDiscriminatedUnion:()=>wT,ZodDefault:()=>IT,ZodDate:()=>X7,ZodCustomStringFormat:()=>wP,ZodCustom:()=>S7,ZodCodec:()=>zY,ZodCatch:()=>yT,ZodCUID2:()=>o2,ZodCUID:()=>r2,ZodCIDRv6:()=>Q2,ZodCIDRv4:()=>F2,ZodBoolean:()=>fP,ZodBigIntFormat:()=>qY,ZodBigInt:()=>XP,ZodBase64URL:()=>e2,ZodBase64:()=>a2,ZodArray:()=>HT,ZodAny:()=>vT,TimePrecision:()=>pz,NEVER:()=>M3,$output:()=>Lz,$input:()=>gz,$brand:()=>N3});var W7={};Rq(W7,{xor:()=>_N,xid:()=>CM,void:()=>QM,uuidv7:()=>XM,uuidv6:()=>fM,uuidv4:()=>ZM,uuid:()=>wM,url:()=>AM,unknown:()=>tK,union:()=>KY,undefined:()=>tM,ulid:()=>NM,uint64:()=>BM,uint32:()=>oM,tuple:()=>AT,transform:()=>YY,templateLiteral:()=>ZN,symbol:()=>UM,superRefine:()=>iT,success:()=>HN,stringbool:()=>MN,stringFormat:()=>xM,string:()=>x2,strictObject:()=>$N,set:()=>jN,refine:()=>nT,record:()=>kT,readonly:()=>cT,promise:()=>fN,preprocess:()=>CN,prefault:()=>LT,pipe:()=>Z7,partialRecord:()=>PN,optional:()=>T7,object:()=>sM,number:()=>_T,nullish:()=>WN,nullable:()=>w7,null:()=>jT,nonoptional:()=>gT,never:()=>_Y,nativeEnum:()=>vN,nanoid:()=>VM,nan:()=>TN,meta:()=>VN,map:()=>ON,mac:()=>IM,looseRecord:()=>YN,looseObject:()=>qN,literal:()=>zN,lazy:()=>lT,ksuid:()=>EM,keyof:()=>eM,jwt:()=>uM,json:()=>NN,ipv6:()=>hM,ipv4:()=>RM,intersection:()=>fT,int64:()=>iM,int32:()=>rM,int:()=>p2,instanceof:()=>SN,httpUrl:()=>kM,hostname:()=>pM,hex:()=>cM,hash:()=>mM,guid:()=>TM,function:()=>XN,float64:()=>lM,float32:()=>dM,file:()=>JN,exactOptional:()=>ET,enum:()=>PY,emoji:()=>GM,email:()=>HM,e164:()=>yM,discriminatedUnion:()=>KN,describe:()=>GN,date:()=>aM,custom:()=>kN,cuid2:()=>MM,cuid:()=>SM,codec:()=>wN,cidrv6:()=>LM,cidrv4:()=>DM,check:()=>AN,catch:()=>uT,boolean:()=>KT,bigint:()=>nM,base64url:()=>bM,base64:()=>gM,array:()=>A7,any:()=>FM,_function:()=>XN,_default:()=>hT,_ZodString:()=>c2,ZodXor:()=>TT,ZodXID:()=>i2,ZodVoid:()=>WT,ZodUnknown:()=>zT,ZodUnion:()=>G7,ZodUndefined:()=>YT,ZodUUID:()=>v_,ZodURL:()=>f7,ZodULID:()=>n2,ZodType:()=>W6,ZodTuple:()=>XT,ZodTransform:()=>NT,ZodTemplateLiteral:()=>mT,ZodSymbol:()=>PT,ZodSuccess:()=>bT,ZodStringFormat:()=>h6,ZodString:()=>TP,ZodSet:()=>VT,ZodRecord:()=>V7,ZodReadonly:()=>pT,ZodPromise:()=>rT,ZodPrefault:()=>DT,ZodPipe:()=>vY,ZodOptional:()=>OY,ZodObject:()=>k7,ZodNumberFormat:()=>FK,ZodNumber:()=>ZP,ZodNullable:()=>RT,ZodNull:()=>OT,ZodNonOptional:()=>jY,ZodNever:()=>JT,ZodNanoID:()=>l2,ZodNaN:()=>xT,ZodMap:()=>GT,ZodMAC:()=>qT,ZodLiteral:()=>ST,ZodLazy:()=>dT,ZodKSUID:()=>B2,ZodJWT:()=>$Y,ZodIntersection:()=>ZT,ZodIPv6:()=>t2,ZodIPv4:()=>U2,ZodGUID:()=>H7,ZodFunction:()=>oT,ZodFile:()=>MT,ZodExactOptional:()=>CT,ZodEnum:()=>HP,ZodEmoji:()=>d2,ZodEmail:()=>m2,ZodE164:()=>s2,ZodDiscriminatedUnion:()=>wT,ZodDefault:()=>IT,ZodDate:()=>X7,ZodCustomStringFormat:()=>wP,ZodCustom:()=>S7,ZodCodec:()=>zY,ZodCatch:()=>yT,ZodCUID2:()=>o2,ZodCUID:()=>r2,ZodCIDRv6:()=>Q2,ZodCIDRv4:()=>F2,ZodBoolean:()=>fP,ZodBigIntFormat:()=>qY,ZodBigInt:()=>XP,ZodBase64URL:()=>e2,ZodBase64:()=>a2,ZodArray:()=>HT,ZodAny:()=>vT});var L2={};Rq(L2,{uppercase:()=>R4,trim:()=>b4,toUpperCase:()=>u4,toLowerCase:()=>y4,startsWith:()=>h4,slugify:()=>x4,size:()=>LK,regex:()=>C4,property:()=>s5,positive:()=>F5,overwrite:()=>u8,normalize:()=>g4,nonpositive:()=>a5,nonnegative:()=>e5,negative:()=>Q5,multipleOf:()=>qK,minSize:()=>q_,minLength:()=>G_,mime:()=>L4,maxSize:()=>_K,maxLength:()=>gK,lte:()=>J8,lt:()=>s8,lowercase:()=>E4,length:()=>bK,includes:()=>I4,gte:()=>dq,gt:()=>$_,endsWith:()=>D4});var WP={};Rq(WP,{time:()=>lH,duration:()=>rH,datetime:()=>mH,date:()=>dH,ZodISOTime:()=>y2,ZodISODuration:()=>u2,ZodISODateTime:()=>g2,ZodISODate:()=>b2});var g2=Y$("ZodISODateTime",($,q)=>{oj.init($,q),h6.init($,q)});function mH($){return cz(g2,$)}var b2=Y$("ZodISODate",($,q)=>{nj.init($,q),h6.init($,q)});function dH($){return mz(b2,$)}var y2=Y$("ZodISOTime",($,q)=>{ij.init($,q),h6.init($,q)});function lH($){return dz(y2,$)}var u2=Y$("ZodISODuration",($,q)=>{Bj.init($,q),h6.init($,q)});function rH($){return lz(u2,$)}var WM=($,q)=>{M1.init($,q),$.name="ZodError",Object.defineProperties($,{format:{value:(_)=>C1($,_)},flatten:{value:(_)=>N1($,_)},addIssue:{value:(_)=>{$.issues.push(_),$.message=JSON.stringify($.issues,Z4,2)}},addIssues:{value:(_)=>{$.issues.push(..._),$.message=JSON.stringify($.issues,Z4,2)}},isEmpty:{get(){return $.issues.length===0}}})},bn=Y$("ZodError",WM),_8=Y$("ZodError",WM,{Parent:Error});var oH=A4(_8),nH=k4(_8),iH=V4(_8),BH=S4(_8),UH=O5(_8),tH=j5(_8),FH=v5(_8),QH=z5(_8),aH=J5(_8),eH=W5(_8),sH=H5(_8),$T=T5(_8);var W6=Y$("ZodType",($,q)=>{return O6.init($,q),Object.assign($["~standard"],{jsonSchema:{input:c4($,"input"),output:c4($,"output")}}),$.toJSONSchema=XJ($,{}),$.def=q,$.type=q.type,Object.defineProperty($,"_def",{value:q}),$.check=(..._)=>{return $.clone(l$.mergeDefs(q,{checks:[...q.checks??[],..._.map((P)=>typeof P==="function"?{_zod:{check:P,def:{check:"custom"},onattach:[]}}:P)]}),{parent:!0})},$.with=$.check,$.clone=(_,P)=>n6($,_,P),$.brand=()=>$,$.register=(_,P)=>{return _.add($,P),$},$.parse=(_,P)=>oH($,_,P,{callee:$.parse}),$.safeParse=(_,P)=>iH($,_,P),$.parseAsync=async(_,P)=>nH($,_,P,{callee:$.parseAsync}),$.safeParseAsync=async(_,P)=>BH($,_,P),$.spa=$.safeParseAsync,$.encode=(_,P)=>UH($,_,P),$.decode=(_,P)=>tH($,_,P),$.encodeAsync=async(_,P)=>FH($,_,P),$.decodeAsync=async(_,P)=>QH($,_,P),$.safeEncode=(_,P)=>aH($,_,P),$.safeDecode=(_,P)=>eH($,_,P),$.safeEncodeAsync=async(_,P)=>sH($,_,P),$.safeDecodeAsync=async(_,P)=>$T($,_,P),$.refine=(_,P)=>$.check(nT(_,P)),$.superRefine=(_)=>$.check(iT(_)),$.overwrite=(_)=>$.check(u8(_)),$.optional=()=>T7($),$.exactOptional=()=>ET($),$.nullable=()=>w7($),$.nullish=()=>T7(w7($)),$.nonoptional=(_)=>gT($,_),$.array=()=>A7($),$.or=(_)=>KY([$,_]),$.and=(_)=>fT($,_),$.transform=(_)=>Z7($,YY(_)),$.default=(_)=>hT($,_),$.prefault=(_)=>LT($,_),$.catch=(_)=>uT($,_),$.pipe=(_)=>Z7($,_),$.readonly=()=>cT($),$.describe=(_)=>{let P=$.clone();return b6.add(P,{description:_}),P},Object.defineProperty($,"description",{get(){return b6.get($)?.description},configurable:!0}),$.meta=(..._)=>{if(_.length===0)return b6.get($);let P=$.clone();return b6.add(P,_[0]),P},$.isOptional=()=>$.safeParse(void 0).success,$.isNullable=()=>$.safeParse(null).success,$.apply=(_)=>_($),$}),c2=Y$("_ZodString",($,q)=>{DK.init($,q),W6.init($,q),$._zod.processJSONSchema=(P,K,O)=>AJ($,P,K,O);let _=$._zod.bag;$.format=_.format??null,$.minLength=_.minimum??null,$.maxLength=_.maximum??null,$.regex=(...P)=>$.check(C4(...P)),$.includes=(...P)=>$.check(I4(...P)),$.startsWith=(...P)=>$.check(h4(...P)),$.endsWith=(...P)=>$.check(D4(...P)),$.min=(...P)=>$.check(G_(...P)),$.max=(...P)=>$.check(gK(...P)),$.length=(...P)=>$.check(bK(...P)),$.nonempty=(...P)=>$.check(G_(1,...P)),$.lowercase=(P)=>$.check(E4(P)),$.uppercase=(P)=>$.check(R4(P)),$.trim=()=>$.check(b4()),$.normalize=(...P)=>$.check(g4(...P)),$.toLowerCase=()=>$.check(y4()),$.toUpperCase=()=>$.check(u4()),$.slugify=()=>$.check(x4())}),TP=Y$("ZodString",($,q)=>{DK.init($,q),c2.init($,q),$.email=(_)=>$.check(I5(m2,_)),$.url=(_)=>$.check(l1(f7,_)),$.jwt=(_)=>$.check(U5($Y,_)),$.emoji=(_)=>$.check(b5(d2,_)),$.guid=(_)=>$.check(d1(H7,_)),$.uuid=(_)=>$.check(h5(v_,_)),$.uuidv4=(_)=>$.check(D5(v_,_)),$.uuidv6=(_)=>$.check(L5(v_,_)),$.uuidv7=(_)=>$.check(g5(v_,_)),$.nanoid=(_)=>$.check(y5(l2,_)),$.guid=(_)=>$.check(d1(H7,_)),$.cuid=(_)=>$.check(u5(r2,_)),$.cuid2=(_)=>$.check(x5(o2,_)),$.ulid=(_)=>$.check(p5(n2,_)),$.base64=(_)=>$.check(n5(a2,_)),$.base64url=(_)=>$.check(i5(e2,_)),$.xid=(_)=>$.check(c5(i2,_)),$.ksuid=(_)=>$.check(m5(B2,_)),$.ipv4=(_)=>$.check(d5(U2,_)),$.ipv6=(_)=>$.check(l5(t2,_)),$.cidrv4=(_)=>$.check(r5(F2,_)),$.cidrv6=(_)=>$.check(o5(Q2,_)),$.e164=(_)=>$.check(B5(s2,_)),$.datetime=(_)=>$.check(mH(_)),$.date=(_)=>$.check(dH(_)),$.time=(_)=>$.check(lH(_)),$.duration=(_)=>$.check(rH(_))});function x2($){return yz(TP,$)}var h6=Y$("ZodStringFormat",($,q)=>{I6.init($,q),c2.init($,q)}),m2=Y$("ZodEmail",($,q)=>{yj.init($,q),h6.init($,q)});function HM($){return I5(m2,$)}var H7=Y$("ZodGUID",($,q)=>{gj.init($,q),h6.init($,q)});function TM($){return d1(H7,$)}var v_=Y$("ZodUUID",($,q)=>{bj.init($,q),h6.init($,q)});function wM($){return h5(v_,$)}function ZM($){return D5(v_,$)}function fM($){return L5(v_,$)}function XM($){return g5(v_,$)}var f7=Y$("ZodURL",($,q)=>{uj.init($,q),h6.init($,q)});function AM($){return l1(f7,$)}function kM($){return l1(f7,{protocol:/^https?$/,hostname:k8.domain,...l$.normalizeParams($)})}var d2=Y$("ZodEmoji",($,q)=>{xj.init($,q),h6.init($,q)});function GM($){return b5(d2,$)}var l2=Y$("ZodNanoID",($,q)=>{pj.init($,q),h6.init($,q)});function VM($){return y5(l2,$)}var r2=Y$("ZodCUID",($,q)=>{cj.init($,q),h6.init($,q)});function SM($){return u5(r2,$)}var o2=Y$("ZodCUID2",($,q)=>{mj.init($,q),h6.init($,q)});function MM($){return x5(o2,$)}var n2=Y$("ZodULID",($,q)=>{dj.init($,q),h6.init($,q)});function NM($){return p5(n2,$)}var i2=Y$("ZodXID",($,q)=>{lj.init($,q),h6.init($,q)});function CM($){return c5(i2,$)}var B2=Y$("ZodKSUID",($,q)=>{rj.init($,q),h6.init($,q)});function EM($){return m5(B2,$)}var U2=Y$("ZodIPv4",($,q)=>{Uj.init($,q),h6.init($,q)});function RM($){return d5(U2,$)}var qT=Y$("ZodMAC",($,q)=>{Fj.init($,q),h6.init($,q)});function IM($){return xz(qT,$)}var t2=Y$("ZodIPv6",($,q)=>{tj.init($,q),h6.init($,q)});function hM($){return l5(t2,$)}var F2=Y$("ZodCIDRv4",($,q)=>{Qj.init($,q),h6.init($,q)});function DM($){return r5(F2,$)}var Q2=Y$("ZodCIDRv6",($,q)=>{aj.init($,q),h6.init($,q)});function LM($){return o5(Q2,$)}var a2=Y$("ZodBase64",($,q)=>{sj.init($,q),h6.init($,q)});function gM($){return n5(a2,$)}var e2=Y$("ZodBase64URL",($,q)=>{$v.init($,q),h6.init($,q)});function bM($){return i5(e2,$)}var s2=Y$("ZodE164",($,q)=>{qv.init($,q),h6.init($,q)});function yM($){return B5(s2,$)}var $Y=Y$("ZodJWT",($,q)=>{_v.init($,q),h6.init($,q)});function uM($){return U5($Y,$)}var wP=Y$("ZodCustomStringFormat",($,q)=>{Kv.init($,q),h6.init($,q)});function xM($,q,_={}){return p4(wP,$,q,_)}function pM($){return p4(wP,"hostname",k8.hostname,$)}function cM($){return p4(wP,"hex",k8.hex,$)}function mM($,q){let _=q?.enc??"hex",P=`${$}_${_}`,K=k8[P];if(!K)throw Error(`Unrecognized hash format: ${P}`);return p4(wP,P,K,q)}var ZP=Y$("ZodNumber",($,q)=>{M5.init($,q),W6.init($,q),$._zod.processJSONSchema=(P,K,O)=>kJ($,P,K,O),$.gt=(P,K)=>$.check($_(P,K)),$.gte=(P,K)=>$.check(dq(P,K)),$.min=(P,K)=>$.check(dq(P,K)),$.lt=(P,K)=>$.check(s8(P,K)),$.lte=(P,K)=>$.check(J8(P,K)),$.max=(P,K)=>$.check(J8(P,K)),$.int=(P)=>$.check(p2(P)),$.safe=(P)=>$.check(p2(P)),$.positive=(P)=>$.check($_(0,P)),$.nonnegative=(P)=>$.check(dq(0,P)),$.negative=(P)=>$.check(s8(0,P)),$.nonpositive=(P)=>$.check(J8(0,P)),$.multipleOf=(P,K)=>$.check(qK(P,K)),$.step=(P,K)=>$.check(qK(P,K)),$.finite=()=>$;let _=$._zod.bag;$.minValue=Math.max(_.minimum??Number.NEGATIVE_INFINITY,_.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,$.maxValue=Math.min(_.maximum??Number.POSITIVE_INFINITY,_.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,$.isInt=(_.format??"").includes("int")||Number.isSafeInteger(_.multipleOf??0.5),$.isFinite=!0,$.format=_.format??null});function _T($){return rz(ZP,$)}var FK=Y$("ZodNumberFormat",($,q)=>{Pv.init($,q),ZP.init($,q)});function p2($){return nz(FK,$)}function dM($){return iz(FK,$)}function lM($){return Bz(FK,$)}function rM($){return Uz(FK,$)}function oM($){return tz(FK,$)}var fP=Y$("ZodBoolean",($,q)=>{D1.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>GJ($,_,P,K)});function KT($){return Fz(fP,$)}var XP=Y$("ZodBigInt",($,q)=>{N5.init($,q),W6.init($,q),$._zod.processJSONSchema=(P,K,O)=>VJ($,P,K,O),$.gte=(P,K)=>$.check(dq(P,K)),$.min=(P,K)=>$.check(dq(P,K)),$.gt=(P,K)=>$.check($_(P,K)),$.gte=(P,K)=>$.check(dq(P,K)),$.min=(P,K)=>$.check(dq(P,K)),$.lt=(P,K)=>$.check(s8(P,K)),$.lte=(P,K)=>$.check(J8(P,K)),$.max=(P,K)=>$.check(J8(P,K)),$.positive=(P)=>$.check($_(BigInt(0),P)),$.negative=(P)=>$.check(s8(BigInt(0),P)),$.nonpositive=(P)=>$.check(J8(BigInt(0),P)),$.nonnegative=(P)=>$.check(dq(BigInt(0),P)),$.multipleOf=(P,K)=>$.check(qK(P,K));let _=$._zod.bag;$.minValue=_.minimum??null,$.maxValue=_.maximum??null,$.format=_.format??null});function nM($){return az(XP,$)}var qY=Y$("ZodBigIntFormat",($,q)=>{Yv.init($,q),XP.init($,q)});function iM($){return sz(qY,$)}function BM($){return $J(qY,$)}var PT=Y$("ZodSymbol",($,q)=>{Ov.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>SJ($,_,P,K)});function UM($){return qJ(PT,$)}var YT=Y$("ZodUndefined",($,q)=>{jv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>NJ($,_,P,K)});function tM($){return _J(YT,$)}var OT=Y$("ZodNull",($,q)=>{vv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>MJ($,_,P,K)});function jT($){return KJ(OT,$)}var vT=Y$("ZodAny",($,q)=>{zv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>RJ($,_,P,K)});function FM(){return PJ(vT)}var zT=Y$("ZodUnknown",($,q)=>{C5.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>IJ($,_,P,K)});function tK(){return t5(zT)}var JT=Y$("ZodNever",($,q)=>{L1.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>EJ($,_,P,K)});function _Y($){return r1(JT,$)}var WT=Y$("ZodVoid",($,q)=>{Jv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>CJ($,_,P,K)});function QM($){return YJ(WT,$)}var X7=Y$("ZodDate",($,q)=>{Wv.init($,q),W6.init($,q),$._zod.processJSONSchema=(P,K,O)=>hJ($,P,K,O),$.min=(P,K)=>$.check(dq(P,K)),$.max=(P,K)=>$.check(J8(P,K));let _=$._zod.bag;$.minDate=_.minimum?new Date(_.minimum):null,$.maxDate=_.maximum?new Date(_.maximum):null});function aM($){return OJ(X7,$)}var HT=Y$("ZodArray",($,q)=>{Hv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>lJ($,_,P,K),$.element=q.element,$.min=(_,P)=>$.check(G_(_,P)),$.nonempty=(_)=>$.check(G_(1,_)),$.max=(_,P)=>$.check(gK(_,P)),$.length=(_,P)=>$.check(bK(_,P)),$.unwrap=()=>$.element});function A7($,q){return zJ(HT,$,q)}function eM($){let q=$._zod.def.shape;return PY(Object.keys(q))}var k7=Y$("ZodObject",($,q)=>{Tv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>rJ($,_,P,K),l$.defineLazy($,"shape",()=>{return q.shape}),$.keyof=()=>PY(Object.keys($._zod.def.shape)),$.catchall=(_)=>$.clone({...$._zod.def,catchall:_}),$.passthrough=()=>$.clone({...$._zod.def,catchall:tK()}),$.loose=()=>$.clone({...$._zod.def,catchall:tK()}),$.strict=()=>$.clone({...$._zod.def,catchall:_Y()}),$.strip=()=>$.clone({...$._zod.def,catchall:void 0}),$.extend=(_)=>{return l$.extend($,_)},$.safeExtend=(_)=>{return l$.safeExtend($,_)},$.merge=(_)=>l$.merge($,_),$.pick=(_)=>l$.pick($,_),$.omit=(_)=>l$.omit($,_),$.partial=(..._)=>l$.partial(OY,$,_[0]),$.required=(..._)=>l$.required(jY,$,_[0])});function sM($,q){let _={type:"object",shape:$??{},...l$.normalizeParams(q)};return new k7(_)}function $N($,q){return new k7({type:"object",shape:$,catchall:_Y(),...l$.normalizeParams(q)})}function qN($,q){return new k7({type:"object",shape:$,catchall:tK(),...l$.normalizeParams(q)})}var G7=Y$("ZodUnion",($,q)=>{g1.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>q2($,_,P,K),$.options=q.options});function KY($,q){return new G7({type:"union",options:$,...l$.normalizeParams(q)})}var TT=Y$("ZodXor",($,q)=>{G7.init($,q),wv.init($,q),$._zod.processJSONSchema=(_,P,K)=>q2($,_,P,K),$.options=q.options});function _N($,q){return new TT({type:"union",options:$,inclusive:!1,...l$.normalizeParams(q)})}var wT=Y$("ZodDiscriminatedUnion",($,q)=>{G7.init($,q),Zv.init($,q)});function KN($,q,_){return new wT({type:"union",options:q,discriminator:$,...l$.normalizeParams(_)})}var ZT=Y$("ZodIntersection",($,q)=>{fv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>oJ($,_,P,K)});function fT($,q){return new ZT({type:"intersection",left:$,right:q})}var XT=Y$("ZodTuple",($,q)=>{E5.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>nJ($,_,P,K),$.rest=(_)=>$.clone({...$._zod.def,rest:_})});function AT($,q,_){let P=q instanceof O6,K=P?_:q;return new XT({type:"tuple",items:$,rest:P?q:null,...l$.normalizeParams(K)})}var V7=Y$("ZodRecord",($,q)=>{Xv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>iJ($,_,P,K),$.keyType=q.keyType,$.valueType=q.valueType});function kT($,q,_){return new V7({type:"record",keyType:$,valueType:q,...l$.normalizeParams(_)})}function PN($,q,_){let P=n6($);return P._zod.values=void 0,new V7({type:"record",keyType:P,valueType:q,...l$.normalizeParams(_)})}function YN($,q,_){return new V7({type:"record",keyType:$,valueType:q,mode:"loose",...l$.normalizeParams(_)})}var GT=Y$("ZodMap",($,q)=>{Av.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>mJ($,_,P,K),$.keyType=q.keyType,$.valueType=q.valueType,$.min=(..._)=>$.check(q_(..._)),$.nonempty=(_)=>$.check(q_(1,_)),$.max=(..._)=>$.check(_K(..._)),$.size=(..._)=>$.check(LK(..._))});function ON($,q,_){return new GT({type:"map",keyType:$,valueType:q,...l$.normalizeParams(_)})}var VT=Y$("ZodSet",($,q)=>{kv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>dJ($,_,P,K),$.min=(..._)=>$.check(q_(..._)),$.nonempty=(_)=>$.check(q_(1,_)),$.max=(..._)=>$.check(_K(..._)),$.size=(..._)=>$.check(LK(..._))});function jN($,q){return new VT({type:"set",valueType:$,...l$.normalizeParams(q)})}var HP=Y$("ZodEnum",($,q)=>{Gv.init($,q),W6.init($,q),$._zod.processJSONSchema=(P,K,O)=>DJ($,P,K,O),$.enum=q.entries,$.options=Object.values(q.entries);let _=new Set(Object.keys(q.entries));$.extract=(P,K)=>{let O={};for(let Y of P)if(_.has(Y))O[Y]=q.entries[Y];else throw Error(`Key ${Y} not found in enum`);return new HP({...q,checks:[],...l$.normalizeParams(K),entries:O})},$.exclude=(P,K)=>{let O={...q.entries};for(let Y of P)if(_.has(Y))delete O[Y];else throw Error(`Key ${Y} not found in enum`);return new HP({...q,checks:[],...l$.normalizeParams(K),entries:O})}});function PY($,q){let _=Array.isArray($)?Object.fromEntries($.map((P)=>[P,P])):$;return new HP({type:"enum",entries:_,...l$.normalizeParams(q)})}function vN($,q){return new HP({type:"enum",entries:$,...l$.normalizeParams(q)})}var ST=Y$("ZodLiteral",($,q)=>{Vv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>LJ($,_,P,K),$.values=new Set(q.values),Object.defineProperty($,"value",{get(){if(q.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return q.values[0]}})});function zN($,q){return new ST({type:"literal",values:Array.isArray($)?$:[$],...l$.normalizeParams(q)})}var MT=Y$("ZodFile",($,q)=>{Sv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>yJ($,_,P,K),$.min=(_,P)=>$.check(q_(_,P)),$.max=(_,P)=>$.check(_K(_,P)),$.mime=(_,P)=>$.check(L4(Array.isArray(_)?_:[_],P))});function JN($){return JJ(MT,$)}var NT=Y$("ZodTransform",($,q)=>{Mv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>cJ($,_,P,K),$._zod.parse=(_,P)=>{if(P.direction==="backward")throw new RK($.constructor.name);_.addIssue=(O)=>{if(typeof O==="string")_.issues.push(l$.issue(O,_.value,q));else{let Y=O;if(Y.fatal)Y.continue=!1;Y.code??(Y.code="custom"),Y.input??(Y.input=_.value),Y.inst??(Y.inst=$),_.issues.push(l$.issue(Y))}};let K=q.transform(_.value,_);if(K instanceof Promise)return K.then((O)=>{return _.value=O,_});return _.value=K,_}});function YY($){return new NT({type:"transform",transform:$})}var OY=Y$("ZodOptional",($,q)=>{b1.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>_2($,_,P,K),$.unwrap=()=>$._zod.def.innerType});function T7($){return new OY({type:"optional",innerType:$})}var CT=Y$("ZodExactOptional",($,q)=>{Nv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>_2($,_,P,K),$.unwrap=()=>$._zod.def.innerType});function ET($){return new CT({type:"optional",innerType:$})}var RT=Y$("ZodNullable",($,q)=>{Cv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>BJ($,_,P,K),$.unwrap=()=>$._zod.def.innerType});function w7($){return new RT({type:"nullable",innerType:$})}function WN($){return T7(w7($))}var IT=Y$("ZodDefault",($,q)=>{Ev.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>tJ($,_,P,K),$.unwrap=()=>$._zod.def.innerType,$.removeDefault=$.unwrap});function hT($,q){return new IT({type:"default",innerType:$,get defaultValue(){return typeof q==="function"?q():l$.shallowClone(q)}})}var DT=Y$("ZodPrefault",($,q)=>{Rv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>FJ($,_,P,K),$.unwrap=()=>$._zod.def.innerType});function LT($,q){return new DT({type:"prefault",innerType:$,get defaultValue(){return typeof q==="function"?q():l$.shallowClone(q)}})}var jY=Y$("ZodNonOptional",($,q)=>{Iv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>UJ($,_,P,K),$.unwrap=()=>$._zod.def.innerType});function gT($,q){return new jY({type:"nonoptional",innerType:$,...l$.normalizeParams(q)})}var bT=Y$("ZodSuccess",($,q)=>{hv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>uJ($,_,P,K),$.unwrap=()=>$._zod.def.innerType});function HN($){return new bT({type:"success",innerType:$})}var yT=Y$("ZodCatch",($,q)=>{Dv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>QJ($,_,P,K),$.unwrap=()=>$._zod.def.innerType,$.removeCatch=$.unwrap});function uT($,q){return new yT({type:"catch",innerType:$,catchValue:typeof q==="function"?q:()=>q})}var xT=Y$("ZodNaN",($,q)=>{Lv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>gJ($,_,P,K)});function TN($){return vJ(xT,$)}var vY=Y$("ZodPipe",($,q)=>{gv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>aJ($,_,P,K),$.in=q.in,$.out=q.out});function Z7($,q){return new vY({type:"pipe",in:$,out:q})}var zY=Y$("ZodCodec",($,q)=>{vY.init($,q),y1.init($,q)});function wN($,q,_){return new zY({type:"pipe",in:$,out:q,transform:_.decode,reverseTransform:_.encode})}var pT=Y$("ZodReadonly",($,q)=>{bv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>eJ($,_,P,K),$.unwrap=()=>$._zod.def.innerType});function cT($){return new pT({type:"readonly",innerType:$})}var mT=Y$("ZodTemplateLiteral",($,q)=>{yv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>bJ($,_,P,K)});function ZN($,q){return new mT({type:"template_literal",parts:$,...l$.normalizeParams(q)})}var dT=Y$("ZodLazy",($,q)=>{pv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>$W($,_,P,K),$.unwrap=()=>$._zod.def.getter()});function lT($){return new dT({type:"lazy",getter:$})}var rT=Y$("ZodPromise",($,q)=>{xv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>sJ($,_,P,K),$.unwrap=()=>$._zod.def.innerType});function fN($){return new rT({type:"promise",innerType:$})}var oT=Y$("ZodFunction",($,q)=>{uv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>pJ($,_,P,K)});function XN($){return new oT({type:"function",input:Array.isArray($?.input)?AT($?.input):$?.input??A7(tK()),output:$?.output??tK()})}var S7=Y$("ZodCustom",($,q)=>{cv.init($,q),W6.init($,q),$._zod.processJSONSchema=(_,P,K)=>xJ($,_,P,K)});function AN($){let q=new L6({check:"custom"});return q._zod.check=$,q}function kN($,q){return WJ(S7,$??(()=>!0),q)}function nT($,q={}){return HJ(S7,$,q)}function iT($){return TJ($)}var GN=wJ,VN=ZJ;function SN($,q={}){let _=new S7({type:"custom",check:"custom",fn:(P)=>P instanceof $,abort:!0,...l$.normalizeParams(q)});return _._zod.bag.Class=$,_._zod.check=(P)=>{if(!(P.value instanceof $))P.issues.push({code:"invalid_type",expected:$.name,input:P.value,inst:_,path:[..._._zod.def.path??[]]})},_}var MN=(...$)=>fJ({Codec:zY,Boolean:fP,String:TP},...$);function NN($){let q=lT(()=>{return KY([x2($),_T(),KT(),jT(),A7(q),kT(x2(),q)])});return q}function CN($,q){return Z7(YY($),q)}var un={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function xn($){U6({customError:$})}function pn(){return U6().customError}var BT;(function($){})(BT||(BT={}));var Q$={...W7,...L2,iso:WP},cn=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function mn($,q){let _=$.$schema;if(_==="https://json-schema.org/draft/2020-12/schema")return"draft-2020-12";if(_==="http://json-schema.org/draft-07/schema#")return"draft-7";if(_==="http://json-schema.org/draft-04/schema#")return"draft-4";return q??"draft-2020-12"}function dn($,q){if(!$.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let _=$.slice(1).split("/").filter(Boolean);if(_.length===0)return q.rootSchema;let P=q.version==="draft-2020-12"?"$defs":"definitions";if(_[0]===P){let K=_[1];if(!K||!q.defs[K])throw Error(`Reference not found: ${$}`);return q.defs[K]}throw Error(`Reference not found: ${$}`)}function EN($,q){if($.not!==void 0){if(typeof $.not==="object"&&Object.keys($.not).length===0)return Q$.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if($.unevaluatedItems!==void 0)throw Error("unevaluatedItems is not supported");if($.unevaluatedProperties!==void 0)throw Error("unevaluatedProperties is not supported");if($.if!==void 0||$.then!==void 0||$.else!==void 0)throw Error("Conditional schemas (if/then/else) are not supported");if($.dependentSchemas!==void 0||$.dependentRequired!==void 0)throw Error("dependentSchemas and dependentRequired are not supported");if($.$ref){let K=$.$ref;if(q.refs.has(K))return q.refs.get(K);if(q.processing.has(K))return Q$.lazy(()=>{if(!q.refs.has(K))throw Error(`Circular reference not resolved: ${K}`);return q.refs.get(K)});q.processing.add(K);let O=dn(K,q),Y=yq(O,q);return q.refs.set(K,Y),q.processing.delete(K),Y}if($.enum!==void 0){let K=$.enum;if(q.version==="openapi-3.0"&&$.nullable===!0&&K.length===1&&K[0]===null)return Q$.null();if(K.length===0)return Q$.never();if(K.length===1)return Q$.literal(K[0]);if(K.every((Y)=>typeof Y==="string"))return Q$.enum(K);let O=K.map((Y)=>Q$.literal(Y));if(O.length<2)return O[0];return Q$.union([O[0],O[1],...O.slice(2)])}if($.const!==void 0)return Q$.literal($.const);let _=$.type;if(Array.isArray(_)){let K=_.map((O)=>{let Y={...$,type:O};return EN(Y,q)});if(K.length===0)return Q$.never();if(K.length===1)return K[0];return Q$.union(K)}if(!_)return Q$.any();let P;switch(_){case"string":{let K=Q$.string();if($.format){let O=$.format;if(O==="email")K=K.check(Q$.email());else if(O==="uri"||O==="uri-reference")K=K.check(Q$.url());else if(O==="uuid"||O==="guid")K=K.check(Q$.uuid());else if(O==="date-time")K=K.check(Q$.iso.datetime());else if(O==="date")K=K.check(Q$.iso.date());else if(O==="time")K=K.check(Q$.iso.time());else if(O==="duration")K=K.check(Q$.iso.duration());else if(O==="ipv4")K=K.check(Q$.ipv4());else if(O==="ipv6")K=K.check(Q$.ipv6());else if(O==="mac")K=K.check(Q$.mac());else if(O==="cidr")K=K.check(Q$.cidrv4());else if(O==="cidr-v6")K=K.check(Q$.cidrv6());else if(O==="base64")K=K.check(Q$.base64());else if(O==="base64url")K=K.check(Q$.base64url());else if(O==="e164")K=K.check(Q$.e164());else if(O==="jwt")K=K.check(Q$.jwt());else if(O==="emoji")K=K.check(Q$.emoji());else if(O==="nanoid")K=K.check(Q$.nanoid());else if(O==="cuid")K=K.check(Q$.cuid());else if(O==="cuid2")K=K.check(Q$.cuid2());else if(O==="ulid")K=K.check(Q$.ulid());else if(O==="xid")K=K.check(Q$.xid());else if(O==="ksuid")K=K.check(Q$.ksuid())}if(typeof $.minLength==="number")K=K.min($.minLength);if(typeof $.maxLength==="number")K=K.max($.maxLength);if($.pattern)K=K.regex(new RegExp($.pattern));P=K;break}case"number":case"integer":{let K=_==="integer"?Q$.number().int():Q$.number();if(typeof $.minimum==="number")K=K.min($.minimum);if(typeof $.maximum==="number")K=K.max($.maximum);if(typeof $.exclusiveMinimum==="number")K=K.gt($.exclusiveMinimum);else if($.exclusiveMinimum===!0&&typeof $.minimum==="number")K=K.gt($.minimum);if(typeof $.exclusiveMaximum==="number")K=K.lt($.exclusiveMaximum);else if($.exclusiveMaximum===!0&&typeof $.maximum==="number")K=K.lt($.maximum);if(typeof $.multipleOf==="number")K=K.multipleOf($.multipleOf);P=K;break}case"boolean":{P=Q$.boolean();break}case"null":{P=Q$.null();break}case"object":{let K={},O=$.properties||{},Y=new Set($.required||[]);for(let[W,T]of Object.entries(O)){let Z=yq(T,q);K[W]=Y.has(W)?Z:Z.optional()}if($.propertyNames){let W=yq($.propertyNames,q),T=$.additionalProperties&&typeof $.additionalProperties==="object"?yq($.additionalProperties,q):Q$.any();if(Object.keys(K).length===0){P=Q$.record(W,T);break}let Z=Q$.object(K).passthrough(),w=Q$.looseRecord(W,T);P=Q$.intersection(Z,w);break}if($.patternProperties){let W=$.patternProperties,T=Object.keys(W),Z=[];for(let k of T){let M=yq(W[k],q),N=Q$.string().regex(new RegExp(k));Z.push(Q$.looseRecord(N,M))}let w=[];if(Object.keys(K).length>0)w.push(Q$.object(K).passthrough());if(w.push(...Z),w.length===0)P=Q$.object({}).passthrough();else if(w.length===1)P=w[0];else{let k=Q$.intersection(w[0],w[1]);for(let M=2;M<w.length;M++)k=Q$.intersection(k,w[M]);P=k}break}let v=Q$.object(K);if($.additionalProperties===!1)P=v.strict();else if(typeof $.additionalProperties==="object")P=v.catchall(yq($.additionalProperties,q));else P=v.passthrough();break}case"array":{let{prefixItems:K,items:O}=$;if(K&&Array.isArray(K)){let Y=K.map((W)=>yq(W,q)),v=O&&typeof O==="object"&&!Array.isArray(O)?yq(O,q):void 0;if(v)P=Q$.tuple(Y).rest(v);else P=Q$.tuple(Y);if(typeof $.minItems==="number")P=P.check(Q$.minLength($.minItems));if(typeof $.maxItems==="number")P=P.check(Q$.maxLength($.maxItems))}else if(Array.isArray(O)){let Y=O.map((W)=>yq(W,q)),v=$.additionalItems&&typeof $.additionalItems==="object"?yq($.additionalItems,q):void 0;if(v)P=Q$.tuple(Y).rest(v);else P=Q$.tuple(Y);if(typeof $.minItems==="number")P=P.check(Q$.minLength($.minItems));if(typeof $.maxItems==="number")P=P.check(Q$.maxLength($.maxItems))}else if(O!==void 0){let Y=yq(O,q),v=Q$.array(Y);if(typeof $.minItems==="number")v=v.min($.minItems);if(typeof $.maxItems==="number")v=v.max($.maxItems);P=v}else P=Q$.array(Q$.any());break}default:throw Error(`Unsupported type: ${_}`)}if($.description)P=P.describe($.description);if($.default!==void 0)P=P.default($.default);return P}function yq($,q){if(typeof $==="boolean")return $?Q$.any():Q$.never();let _=EN($,q),P=$.type||$.enum!==void 0||$.const!==void 0;if($.anyOf&&Array.isArray($.anyOf)){let v=$.anyOf.map((T)=>yq(T,q)),W=Q$.union(v);_=P?Q$.intersection(_,W):W}if($.oneOf&&Array.isArray($.oneOf)){let v=$.oneOf.map((T)=>yq(T,q)),W=Q$.xor(v);_=P?Q$.intersection(_,W):W}if($.allOf&&Array.isArray($.allOf))if($.allOf.length===0)_=P?_:Q$.any();else{let v=P?_:yq($.allOf[0],q),W=P?0:1;for(let T=W;T<$.allOf.length;T++)v=Q$.intersection(v,yq($.allOf[T],q));_=v}if($.nullable===!0&&q.version==="openapi-3.0")_=Q$.nullable(_);if($.readOnly===!0)_=Q$.readonly(_);let K={},O=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let v of O)if(v in $)K[v]=$[v];let Y=["contentEncoding","contentMediaType","contentSchema"];for(let v of Y)if(v in $)K[v]=$[v];for(let v of Object.keys($))if(!cn.has(v))K[v]=$[v];if(Object.keys(K).length>0)q.registry.add(_,K);return _}function RN($,q){if(typeof $==="boolean")return $?Q$.any():Q$.never();let _=mn($,q?.defaultTarget),P=$.$defs||$.definitions||{},K={version:_,defs:P,refs:new Map,processing:new Set,rootSchema:$,registry:q?.registry??b6};return yq($,K)}var UT={};Rq(UT,{string:()=>ln,number:()=>rn,date:()=>Bn,boolean:()=>on,bigint:()=>nn});function ln($){return uz(TP,$)}function rn($){return oz(ZP,$)}function on($){return Qz(fP,$)}function nn($){return ez(XP,$)}function Bn($){return jJ(X7,$)}U6(u1());var u_=null;function NP(){if(u_!==null)return u_;if(typeof process<"u"&&process.versions?.node)return u_="node",u_;if(typeof globalThis<"u"&&globalThis.window?.document!==void 0)return u_="browser",u_;return u_="unknown",u_}function tY$(){u_=null}class RE{store={};constructor(){let $=globalThis;if($.window?.ENV)this.store={...$.window.ENV};let q=globalThis;if(q.__ENV__)this.store={...this.store,...q.__ENV__}}get($){let q=this.store[$];return q!==void 0?String(q):void 0}set($,q){this.store[$]=q}getAll(){return{...this.store}}}class yw{runtime;browserStore;cache=new Map;constructor(){if(this.runtime=NP(),this.runtime==="browser")this.browserStore=new RE}getRuntime(){return this.runtime}isNode(){return this.runtime==="node"}isBrowser(){return this.runtime==="browser"}get($,q){if(this.cache.has($))return this.cache.get($)??q;let _;if(this.runtime==="node"&&typeof process<"u")_=process.env[$];else if(this.runtime==="browser")_=this.browserStore?.get($);return this.cache.set($,_),_??q}set($,q){this.cache.delete($);let _=String(q);if(this.runtime==="node"&&typeof process<"u")process.env[$]=_;else if(this.runtime==="browser")this.browserStore?.set($,q)}has($){return this.get($)!==void 0}getAll(){if(this.runtime==="node"&&typeof process<"u")return{...process.env};if(this.runtime==="browser"&&this.browserStore)return this.browserStore.getAll();return{}}static TRUTHY_VALUES=new Set(["true","1","yes","on"]);getBoolean($,q=!1){let _=this.get($);if(_===void 0)return q;return yw.TRUTHY_VALUES.has(_.toLowerCase())}getNumber($,q){let _=this.get($);if(_===void 0)return q;let P=Number(_);return isNaN(P)?q:P}clearCache(){this.cache.clear()}}var EE=null;function CP(){return EE??=new yw,EE}function x_($,q){return CP().get($,q)}function FY$($,q){CP().set($,q)}function QY$($){return CP().has($)}function aY$($,q=!1){return CP().getBoolean($,q)}function IE($,q){return CP().getNumber($,q)}function eY$($){let q=CP();if(q.isBrowser()){for(let[_,P]of Object.entries($))if(P!==void 0)q.set(_,P)}}var sY$=NP();function RF($,q=[".env",".env.local"]){if(typeof process>"u"||!process.cwd)return null;let _=(()=>({})),P=(HY(),H6(WY)),K=$||process.cwd();while(!0){for(let Y of q){let v=P.join(K,Y);if(_.existsSync(v))return v}let O=P.dirname(K);if(O===K)break;K=O}return null}function IF($,q){if(typeof process>"u"||!process.cwd)return!1;let _=CE(),P=$||RF();if(!P)return!1;let K=_.config({path:P,override:q?.override??!1});if(K.error)return console?.warn?.(`Failed to parse .env file at ${P}:`,K.error),!1;return!0}function hF($,q){if(typeof process>"u"||!process.cwd)return[];let _=(HY(),H6(WY)),P=(()=>({})),K=[],O=q?_.resolve(q):null,Y=$;for(let v=0;v<10;v++){let W=_.join(Y,".env");if(P.existsSync(W))K.push(W);if(O&&_.resolve(Y)===O)break;let T=_.dirname(Y);if(T===Y)break;Y=T}return K}function $O$($,q){let _=hF($,q?.boundaryDir);if(_.length===0)return[];if(q?.clearBeforeLoad&&q.varsToClear)for(let P of q.varsToClear)delete process.env[P];for(let P=_.length-1;P>=0;P--)IF(_[P],{override:!0});return _}class DY{globalStore;constructor($){this.globalStore=$}clear(){console.clear()}filterByLabel($){hE($,this.globalStore.cache).forEach((_)=>{p7(_)})}filterByNamespace(...$){DE($,this.globalStore.cache).forEach((_)=>{p7(_)})}filterByLevel($){LE($,this.globalStore.cache).forEach((_)=>{p7(_)})}renderAll(){this.globalStore.cache.forEach(($)=>{p7($)})}}class EP{config;pidCounter=1;labels=new Map;_listenerCounter=0;_levelsToListeners=new Map;_cache=[];constructor($={}){this.config=$}get cache(){return this._cache}get configuration(){return this.config}get pid(){let $=this.pidCounter;return this.pidCounter++,$}get tools(){return new DY(this)}addLogToCache($){if(this._cache.length<(this.config.cacheSize??300))this._cache.push($)}clearCache(){this._cache=[]}getLabel($){return this.labels.get($)}setLabel($,q){this.labels.set($,q)}addListener($,q){let _=this._listenerCounter+=1;return c7({...Y8.levels,...this.config.levels??{}},$).forEach((K)=>{if(this._levelsToListeners.has(K))this._levelsToListeners.get(K).set(_,q);else this._levelsToListeners.set(K,new Map([[_,q]]))}),_}removeListener($){this._levelsToListeners.forEach((q)=>{q.delete($)})}getListeners($){return Array.from(this._levelsToListeners.get($)?.values()??[])}}function uw($){return globalThis.$adzeGlobal=new EP($),globalThis.$adzeGlobal}function LY($){let q=globalThis.$adzeGlobal;if(DF(q))return q;let _=new EP($);return globalThis.$adzeGlobal=_,_}function DF($){return $ instanceof EP}function p_(){return typeof window<"u"&&typeof window.location<"u"&&typeof window.navigator.userAgent<"u"&&!LF()}function LF(){return typeof Deno<"u"}function gE($){return p_()}function bE(){let $=!1;if(p_())$=new URLSearchParams(globalThis.location.search).get("ADZE_ENV")==="test";return globalThis.$ADZE_ENV==="test"||$}function yE(){let $=globalThis;if(gE($))return $.navigator.userAgent.includes("Firefox");return!1}function RP($){return Object.prototype.toString.call($)==="[object String]"}function IP($){return $!==null&&typeof $==="number"&&!isNaN(Number($))}function gY($){return cw.includes($)}function uE($){return cE.includes($)}function xE($){return pw.includes($)}function xw($){return $.every((q)=>RP(q))}function pE($){return Array.isArray($)&&$.length===3&&$[1]==="-"}function mE(){return Error().stack?.replace(/^Error\n/,`
`)}function dE($){if(IP($.activeLevel))return $.activeLevel;return $.levels[$.activeLevel].level}var lw=R8(rE(),1),oE=lw.default??lw;function rw($){return $.charAt(0).toUpperCase()+$.slice(1)}function ow($){return Object.values($).map((q)=>q.level)}function nw($,q,_){return $.filter((P)=>P>=q&&P<=_)}function iw($,q=!1,_){let K=(q&&_?9+_.length:9)-$.length,O=$;for(let Y=0;Y<=K;Y+=1)O+=" ";return O}function Bw($,q){return q.reduce((_,P)=>{return oE[P](_)},$)}function p7($){if($.data)console[$.data.method](...$.data.message)}function nE($){return $.filter((q)=>q!=="")}function iE($){return typeof $==="object"&&$!==null}function c7($,q){if(q==="*")return Object.values($).map((_)=>_.level);if(RP(q))return[$[q].level];if(IP(q))return[q];if(pE(q)){if(xw(q)){let _=$[q[0]].level,P=$[q[2]].level;return nw(ow($),_,P)}return nw(ow($),q[0],q[2])}if(Array.isArray(q)&&xw(q))return q.map((_)=>$[_].level);return q}function Uw($,q,_){if(q.length===0)return!1;return $==="include"?!q.includes(_):q.includes(_)}function tw($,q){if($.length===0)return!1;if($.length>0&&q.length===0)return!0;return!q.map((_)=>$.includes(_)).includes(!0)}function Fw($,q){if($.length===0)return!1;if($.length>0&&q.length===0)return!0;return q.map((_)=>$.includes(_)).includes(!0)}function hE($,q){return q.filter((_)=>_.data?.label?.name===$)}function DE($,q){return q.filter((_)=>{if(_.data?.namespace)return _.data.namespace.map((K)=>$.includes(K)).includes(!0);return!1})}function LE($,q){return q.filter((_)=>{let P=c7(_.configuration.levels,$);if(_.data?.level===void 0)return!1;return Uw("exclude",P,_.data.level)})}function Qw($){if($&&$.length>0)return $.reduce((q,_)=>`${q}#${_} `,"");return""}function aw($){return $?`[${$.name}] `:""}function ew($){return $!==void 0?`(Count: ${$}) `:""}function sw($,q){return $!==void 0&&!$?`${q?" ":""}Assertion failed:`:""}function $Z($,q){return $!==void 0&&$?`${q?" ":""}Expression passed:`:""}var bY=-1,hP=0,DP=1,LP=2,m7=3,d7=4,l7=5,r7=6,yY=7,uY=8;var BE=typeof self==="object"?self:globalThis,gF=($,q)=>{let _=(K,O)=>{return $.set(O,K),K},P=(K)=>{if($.has(K))return $.get(K);let[O,Y]=q[K];switch(O){case hP:case bY:return _(Y,K);case DP:{let v=_([],K);for(let W of Y)v.push(P(W));return v}case LP:{let v=_({},K);for(let[W,T]of Y)v[P(W)]=P(T);return v}case m7:return _(new Date(Y),K);case d7:{let{source:v,flags:W}=Y;return _(new RegExp(v,W),K)}case l7:{let v=_(new Map,K);for(let[W,T]of Y)v.set(P(W),P(T));return v}case r7:{let v=_(new Set,K);for(let W of Y)v.add(P(W));return v}case yY:{let{name:v,message:W}=Y;return _(new BE[v](W),K)}case uY:return _(BigInt(Y),K);case"BigInt":return _(Object(BigInt(Y)),K)}return _(new BE[O](Y),K)};return P},qZ=($)=>gF(new Map,$)(0);var gP="",{toString:bF}={},{keys:yF}=Object,o7=($)=>{let q=typeof $;if(q!=="object"||!$)return[hP,q];let _=bF.call($).slice(8,-1);switch(_){case"Array":return[DP,gP];case"Object":return[LP,gP];case"Date":return[m7,gP];case"RegExp":return[d7,gP];case"Map":return[l7,gP];case"Set":return[r7,gP]}if(_.includes("Array"))return[DP,_];if(_.includes("Error"))return[yY,_];return[LP,_]},xY=([$,q])=>$===hP&&(q==="function"||q==="symbol"),uF=($,q,_,P)=>{let K=(Y,v)=>{let W=P.push(Y)-1;return _.set(v,W),W},O=(Y)=>{if(_.has(Y))return _.get(Y);let[v,W]=o7(Y);switch(v){case hP:{let Z=Y;switch(W){case"bigint":v=uY,Z=Y.toString();break;case"function":case"symbol":if($)throw TypeError("unable to serialize "+W);Z=null;break;case"undefined":return K([bY],Y)}return K([v,Z],Y)}case DP:{if(W)return K([W,[...Y]],Y);let Z=[],w=K([v,Z],Y);for(let k of Y)Z.push(O(k));return w}case LP:{if(W)switch(W){case"BigInt":return K([W,Y.toString()],Y);case"Boolean":case"Number":case"String":return K([W,Y.valueOf()],Y)}if(q&&"toJSON"in Y)return O(Y.toJSON());let Z=[],w=K([v,Z],Y);for(let k of yF(Y))if($||!xY(o7(Y[k])))Z.push([O(k),O(Y[k])]);return w}case m7:return K([v,Y.toISOString()],Y);case d7:{let{source:Z,flags:w}=Y;return K([v,{source:Z,flags:w}],Y)}case l7:{let Z=[],w=K([v,Z],Y);for(let[k,M]of Y)if($||!(xY(o7(k))||xY(o7(M))))Z.push([O(k),O(M)]);return w}case r7:{let Z=[],w=K([v,Z],Y);for(let k of Y)if($||!xY(o7(k)))Z.push(O(k));return w}}let{message:T}=Y;return K([v,{name:W,message:T}],Y)};return O},_Z=($,{json:q,lossy:_}={})=>{let P=[];return uF(!(q||_),!!q,new Map,P)($),P};var KZ=typeof structuredClone==="function"?($,q)=>q&&(("json"in q)||("lossy"in q))?qZ(_Z($,q)):structuredClone($):($,q)=>qZ(_Z($,q));function PZ($,q,_,P){let{formatters:K,middleware:O=[],...Y}=q.exportValues();return class extends ${_cfg=new bP({...KZ(Y),formatters:{...K},middleware:[...O]});_modifierData=KZ(_);modifierQueue=[...P]}}function YZ([$,q]){return`${$}s ${q/1e6}ms`}function UE(){return YZ(pY())}function pY($){let q=performance.now()*0.001,_=Math.floor(q),P=Math.floor(q%1*1e9);if($===void 0)return[_,P];let K=_-$[0],O=P-$[1];if(O<0)K-=1,O+=1e9;return[K,O]}function yP($){let q=(O)=>`${Math.floor(Math.abs(O))}`.padStart(2,"0"),_=-$.getTimezoneOffset(),K=`${_>=0?"+":"-"}${q(_/60)}:${q(_%60)}`;return`${$.getFullYear()}-${q($.getMonth()+1)}-${q($.getDate())}T${q($.getHours())}:${q($.getMinutes())}:${q($.getSeconds())}${K}`}function tE($){let q=(R,E=2)=>String(R).padStart(E,"0"),_=q($.getDate()),K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][$.getMonth()],O=$.getFullYear(),Y=q($.getHours()),v=q($.getMinutes()),W=q($.getSeconds()),T=-$.getTimezoneOffset(),Z=T>=0?"+":"-",w=Math.abs(T),k=q(Math.floor(w/60)),M=q(w%60),N=`${Z}${k}${M}`;return`${_}/${K}/${O}:${Y}:${v}:${W} ${N}`}class n8{cfg;level;timestampFormatFunction=($)=>yP($);constructor($,q){this.cfg=$,this.level=q}get timestampFormatter(){return this.cfg.timestampFormatter?this.cfg.timestampFormatter:this.timestampFormatFunction}print($,q,_){if(this.level.level>dE(this.cfg))return[];if(this.failsFilters($))return[];if($.assertion===!0)return[];if($.if===!1)return[];if($.method&&!xE($.method)){if(uE($.method)&&gY($.method))return _}let P=p_()?this.formatBrowser($,q,_):this.formatServer($,q,_);if($.stacktrace)P.push($.stacktrace);return P}failsFilters($){if(this.failsLevelSelector())return!0;if(this.failsNamespacesFilter($))return!0;if(this.failsLabelsFilter($))return!0;return!1}failsLevelSelector(){if(this.cfg.filters?.levels===void 0)return!1;let $=c7(this.cfg.levels,this.cfg.filters.levels.values);if(Uw(this.cfg.filters.levels.type,$,this.level.level))return!0;return!1}failsNamespacesFilter($){if(this.cfg.filters?.namespaces===void 0)return!1;if(this.cfg.filters.namespaces.values.length>0&&$.namespace===void 0)return!0;if(this.cfg.filters.namespaces.type==="include"){let _=$.namespace??[];return tw(this.cfg.filters.namespaces.values,_)}let q=$.namespace??[];return Fw(this.cfg.filters.namespaces.values,q)}failsLabelsFilter($){if(this.cfg.filters?.labels===void 0)return!1;if(this.cfg.filters.labels.values.length>0&&$.label===void 0)return!0;let q=$.label?[$.label.name]:[];if(this.cfg.filters.labels.type==="include")return tw(this.cfg.filters.labels.values,q);return Fw(this.cfg.filters.labels.values,q)}}class cY extends n8{timestampFormatFunction=($)=>tE($);formatBrowser($,q,_){return this.formatMessage($,q,_)}formatServer($,q,_){return this.formatMessage($,q,_)}formatMessage($,q,_){if(this.cfg.meta.hostname===void 0)console.warn(Error("Adze: 'hostname' is required for the common log format. Please provide this value in your log's meta data."));let P=this.cfg.meta.hostname,K=this.cfg.meta.ident??"-",O=this.cfg.meta.user??"-",Y=_[0];return[`${P} ${K} ${O} [${q}] ${Y}`]}}var FE=cY;function QE($){return typeof $.name==="string"&&typeof $.hostname==="string"}class mY extends n8{timestampFormatFunction=($)=>yP($);formatBrowser($,q,_){return this.formatMessage($,q,_)}formatServer($,q,_){return this.formatMessage($,q,_)}formatMessage($,q,_){let P=LY(),K=[..._],O=K.shift();if(QE(this.cfg.meta)){let{src:Y,err:v,req_id:W,req:T,res:Z,latency:w,hostname:k,name:M,...N}=this.cfg.meta,{namespace:R,label:E}=$,D={v:1,level:this.level.level,levelName:this.level.levelName,name:M,hostname:k,msg:O,args:K,pid:P.pid,time:q,meta:Object.keys(N).length>0?N:void 0,namespace:R,label:E?.name,src:Y,err:v,req_id:W,req:T,res:Z,latency:w};try{let h;if(this.cfg.autoSerialize){let L=this.cfg.customReplacer??xF;h=JSON.stringify(D,L)}else h=JSON.stringify(D);return[h]}catch(h){return console.warn(`Adze: Failed to stringify log message to JSON format. Returning original args. Be sure to use the appropriate serializer functions for errors, requests, and responses. More info: https://adzejs.com/reference/formatters.html#jsonlogformatmeta-serializer-functions

`,h),[...K]}}return console.warn(Error("Adze: Required fields are missing from the log meta for generating a JSON log. If using TypeScript, use the JsonLogFormatMeta type for type safety. More info: https://adzejs.com/reference/formatters.html#jsonlogformatmeta-interface")),[...K]}}function xF($,q){if(typeof q==="bigint")return q.toString();if(q instanceof Error)return{name:q.name,message:q.message,stack:q.stack};if(q instanceof Date)return q.toISOString();if(q instanceof Map)return Object.fromEntries(q);if(q instanceof Set)return Array.from(q);if(ArrayBuffer.isView(q))return Array.from(q);if(typeof q==="function"||typeof q==="symbol"||q===void 0)return;return q}var aE=mY;class dY extends n8{formatBrowser($,q,_){let P=this.formatLeader(),K=this.formatMeta($,q);if(this.cfg.withEmoji)return[P,"font-size: 12px;",this.level.style,K,..._];return[P,this.level.style,K,..._]}formatServer($,q,_){let P=[],O=`${iw(this.formatLeader(!1),this.cfg.withEmoji,this.level.emoji)} `,Y=this.formatMeta($,q),v=Bw(O,this.level.terminalStyle);return P.push(v),Y!==""&&P.push(Y),[v,Y,..._]}formatLeader($=!0){let q=$?"%c":"",_=" "+rw(this.level.levelName);if(this.cfg.withEmoji)return`${q}${this.formatEmoji($)}${q}${_}`;return`${q}${_}`}formatEmoji($){let q=$?" ":"";return this.level.emoji?`${this.level.emoji}${q}`:""}formatMeta($,q){let _=this.cfg.showTimestamp?`${q} `:"",P=Qw($.namespace),K=aw($.label),O=this.formatTime($),Y=ew($.label?.count),v=sw($.assertion,this.cfg.withEmoji),W=$Z($.if,this.cfg.withEmoji),T=v!==""?v:W!==""?W:"";return _+P+K+O+Y+T}formatTime($){let q=this.cfg.withEmoji?" ":"Time elapsed: ";if($.timeNow)return`(${q}${$.timeNow})`;return $.label?.timeElapsed?`(${q}${$.label.timeElapsed})`:""}}var OZ=dY;class n7 extends n8{timestampFormatFunction=($)=>yP($);formatBrowser($,q,_){return this.formatMessage(q,$,_)}formatServer($,q,_){return this.formatMessage(q,$,_)}formatMessage($,q,_){let P="",{appname:K,hostname:O,port:Y}=this.cfg.meta,v=IP(Y)?`/${Y}`:"",W=RP(K)?`${K}${v}`:"",T=RP(O)?` on ${O}: `:"",Z=this.formatNamespace(q.namespace),w=q.label?`[${q.label.name}] `:"";return P=`${W}${T}${Z}${w}`,[`[${$}] ${this.level.levelName.toUpperCase()}: ${P}${_[0]} `,_.map((k)=>iE(k)?JSON.stringify(k):k).slice(1).join(" ")]}formatNamespace($){if($&&$.length>0)return`${$.reduce((_,P,K)=>{return K===$.length-1?`${_}${P}`:`${_}${P}/`},"")} `;return""}}var pw=["group","groupCollapsed"],eE=["dir","dirxml","table",...pw],cw=["error","warn","info","log","debug",...eE],mw=["clear","groupEnd"],cE=[...eE,...mw],N3$=[...cw,...mw];var Y8={activeLevel:"log",autoSerialize:!0,cache:!1,cacheSize:300,dump:!1,format:"pretty",meta:{},middleware:[],showTimestamp:!1,silent:!1,withEmoji:!1,levels:{alert:pF(),error:cF(),warn:mF(),info:dF(),fail:lF(),success:rF(),log:oF(),debug:nF(),verbose:iF()},formatters:{default:OZ,pretty:OZ,standard:n7,common:FE,json:aE}};function pF($={}){return{levelName:"alert",level:0,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fc8585, #fc2323); color: #fff; border-color: #b70101;",terminalStyle:["white","bold","bgRed"],method:"error",emoji:"\uD83D\uDEA8",...$}}function cF($={}){return{levelName:"error",level:1,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fff, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"error",emoji:"\uD83D\uDD25",...$}}function mF($={}){return{levelName:"warn",level:2,style:`font-size: 12px; border-radius: 4px;  background: linear-gradient(to right, #fff, #fff0a8); color: #715100; border-color: #e3d696; padding-right: ${yE()?"44px":"30px"};`,terminalStyle:["white","bgYellow"],method:"warn",emoji:"\uD83D\uDD14",...$}}function dF($={}){return{levelName:"info",level:3,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #d8ebff, #b2d7ff); color: #465464; border-color: #96b5d7;",terminalStyle:["white","bgBlue"],method:"info",emoji:"",...$}}function lF($={}){return{levelName:"fail",level:4,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #ffe8e8, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"info",emoji:"",...$}}function rF($={}){return{levelName:"success",level:5,style:"font-size: 12px; border-radius: 4px; padding-right: 22px; background: linear-gradient(to right, #e6f6e4, #ceedc9); color: #4e594d; border-color: #b7d1b3;",terminalStyle:["white","bgGreen"],method:"info",emoji:"\uD83C\uDF89",...$}}function oF($={}){return{levelName:"log",level:6,style:"font-size: 12px; border-radius: 4px; padding-right: 51px; background: linear-gradient(to right, #ecedef, #d9dce0); color: #333435; border-color: #bfc1c5;",terminalStyle:["white","bgBlackBright"],method:"log",emoji:"\uD83E\uDEB5",...$}}function nF($={}){return{levelName:"debug",level:7,style:"font-size: 12px; padding-right: 36px; border-right: 1px solid #d9dce0; color: #465464; border-color: #999999;",terminalStyle:["white","bgBlack"],method:"debug",emoji:"\uD83D\uDC1E",...$}}function iF($={}){return{levelName:"verbose",level:8,style:"font-size: 12px; padding-right: 22px; color: #999999;",terminalStyle:["black","italic"],method:"debug",emoji:"\uD83D\uDCAC",...$}}class bP{logCfg;glblCfg;constructor($){this.logCfg=$??{},this.glblCfg=globalThis.$adzeGlobal?.configuration}updateConfiguration($){this.logCfg=$}get activeLevel(){return this.glblCfg?.activeLevel??this.logCfg.activeLevel??Y8.activeLevel}set activeLevel($){this.logCfg.activeLevel=$}set autoSerialize($){this.logCfg.autoSerialize=$}get autoSerialize(){return this.glblCfg?.autoSerialize??this.logCfg.autoSerialize??Y8.autoSerialize}get cache(){return this.glblCfg?.cache??this.logCfg.cache??Y8.cache}set cache($){this.logCfg.cache=$}get cacheSize(){return this.glblCfg?.cacheSize??this.logCfg.cacheSize??Y8.cacheSize}set cacheSize($){this.logCfg.cacheSize=$}set customReplacer($){this.logCfg.customReplacer=$}get customReplacer(){return this.glblCfg?.customReplacer??this.logCfg.customReplacer}get dump(){return this.glblCfg?.dump??this.logCfg.dump??Y8.dump}set dump($){this.logCfg.dump=$}get meta(){return{...this.logCfg.meta,...this.glblCfg?.meta}}set meta($){this.logCfg.meta=$}get silent(){return this.glblCfg?.silent??this.logCfg.silent??Y8.silent}set silent($){this.logCfg.silent=$}get showTimestamp(){return this.glblCfg?.showTimestamp??this.logCfg.showTimestamp??Y8.showTimestamp}set showTimestamp($){this.logCfg.showTimestamp=$}get withEmoji(){return this.glblCfg?.withEmoji??this.logCfg.withEmoji??Y8.withEmoji}set withEmoji($){this.logCfg.withEmoji=$}get format(){return this.glblCfg?.format??this.logCfg.format??Y8.format}set format($){this.logCfg.format=$}get levels(){return{...Y8.levels,...this.logCfg.levels??{},...this.glblCfg?.levels??{}}}set levels($){this.logCfg.levels=$}get middleware(){return[...this.glblCfg?.middleware??[],...this.logCfg.middleware??[]]}set middleware($){this.logCfg.middleware=$}get filters(){return this.glblCfg?.filters??this.logCfg.filters}set filters($){this.logCfg.filters=$}get timestampFormatter(){return this.glblCfg?.timestampFormatter??this.logCfg.timestampFormatter}set timestampFormatter($){this.logCfg.timestampFormatter=$}get formatters(){return{...Y8.formatters,...this.logCfg.formatters??{},...this.glblCfg?.formatters??{}}}set formatters($){this.logCfg.formatters=$}exportValues(){return{activeLevel:this.logCfg.activeLevel,cache:this.logCfg.cache,cacheSize:this.logCfg.cacheSize,dump:this.logCfg.dump,meta:this.logCfg.meta,silent:this.logCfg.silent,showTimestamp:this.logCfg.showTimestamp,withEmoji:this.logCfg.withEmoji,format:this.logCfg.format,levels:this.logCfg.levels,middleware:this.logCfg.middleware,filters:this.logCfg.filters,timestampFormatter:this.logCfg.timestampFormatter,formatters:this.logCfg.formatters}}}function BF($){return typeof $==="function"}class uP{globalStore;_cfg;_modifierData;_data;modifierQueue=[];constructor($,q){this.globalStore=LY($),this._modifierData=q??{},this._cfg=new bP($),this.doHook((_)=>{if(_.constructed)_.constructed(this)})}get data(){return this._data}get modifierData(){return this._modifierData}get configuration(){return this._cfg}alert(...$){this.terminate("alert",$)}static alert(...$){new this().alert(...$)}error(...$){this.terminate("error",$)}static error(...$){new this().error(...$)}warn(...$){this.terminate("warn",$)}static warn(...$){new this().warn(...$)}info(...$){this.terminate("info",$)}static info(...$){new this().info(...$)}fail(...$){this.terminate("fail",$)}static fail(...$){new this().fail(...$)}success(...$){this.terminate("success",$)}static success(...$){new this().success(...$)}log(...$){this.terminate("log",$)}static log($,...q){new this().log(...[$,...q])}debug(...$){this.terminate("debug",$)}static debug(...$){new this().debug(...$)}verbose(...$){this.terminate("verbose",$)}static verbose(...$){new this().verbose(...$)}clear(){console.clear()}static clear(){console.clear()}clr(){console.clear()}static clr(){console.clear()}custom($,...q){if(!this._cfg.levels[$])return console.warn(Error("Custom log level not found in configuration.")),this;return this.terminate($,q),this}static custom($,...q){return new this().custom($,...q)}seal($){if($)this._cfg.updateConfiguration($);return PZ(uP,this._cfg,this.modifierData,this.modifierQueue)}static seal($){return new this().seal($)}sealTag($,q){return this._cfg=new bP({...this._cfg.exportValues(),...q}),(_,...P)=>{let K=String.raw({raw:_},...P),O=PZ(uP,this._cfg,this.modifierData,this.modifierQueue),Y=$;if(BF(O[Y]))O[Y](K)}}static sealTag($,q){return new this().sealTag($,q)}thread($,q){if(this.runModifierQueue(),this._modifierData.label){if(!this._modifierData.label.context)this._modifierData.label.context={};this._modifierData.label.context={...this._modifierData.label.context,[$]:q}}}static thread($,q){new this().thread($,q)}assert($){return this.modifierQueue.push(["assert",(q)=>{return q.assertion=$,q}]),this}static assert($){return new this().assert($)}get closeThread(){return this.modifierQueue.push(["closeThread",($)=>{if($.label?.context)$.label.context=void 0;return $}]),this}static get closeThread(){return new this().closeThread}get count(){return this.modifierQueue.push(["count",($)=>{if($.label)$.label.count=$.label.count!==void 0?$.label.count+1:1;return $}]),this}static get count(){return new this().count}get countClear(){return this.modifierQueue.push(["countClear",($)=>{if($.label)delete $.label.count;return $}]),this}static get countClear(){return new this().countClear}get countReset(){return this.modifierQueue.push(["countReset",($)=>{if($.label)$.label.count=0;return $}]),this}static get countReset(){return new this().countReset}get dir(){return this.modifierQueue.push(["dir",($)=>{return $.method="dir",$}]),this}static get dir(){return new this().dir}get dirxml(){return this.modifierQueue.push(["dirxml",($)=>{return $.method="dirxml",$}]),this}static get dirxml(){return new this().dirxml}get dump(){return this.modifierQueue.push(["dump",($,q)=>{return q._cfg.dump=!0,$}]),this}static get dump(){return new this().dump}format($){return this.modifierQueue.push(["format",(q,_)=>{if(Object.keys(_._cfg.formatters).includes($))return _._cfg.format=$,q;return console.warn(Error(`Adze: Formatter "${$}" not found in configuration.`)),q}]),this}static format($){return new this().format($)}get group(){return this.modifierQueue.push(["group",($)=>{return $.method="group",$}]),this}static get group(){return new this().group}get groupCollapsed(){return this.modifierQueue.push(["groupCollapsed",($)=>{return $.method="groupCollapsed",$}]),this}static get groupCollapsed(){return new this().groupCollapsed}get groupEnd(){return this.modifierQueue.push(["groupEnd",($)=>{return $.method="groupEnd",$}]),this}static get groupEnd(){return new this().groupEnd}if($){return this.modifierQueue.push(["if",(q)=>{return q.if=$,q}]),this}static if($){return new this().if($)}test($){return this.if($)}static test($){return new this().if($)}label($){return this.modifierQueue.unshift(["label",(q)=>{let _=this.globalStore.getLabel($)??{name:$};return q.label=_,this.globalStore.setLabel($,_),q}]),this}static label($){return new this().label($)}meta($){return this.modifierQueue.push(["meta",(q,_)=>{return _._cfg.meta={..._._cfg.meta,...$},q}]),this}static meta($){return new this().meta($)}namespace(...$){return this.modifierQueue.push(["namespace",(q)=>{let _=q.namespace??[];return q.namespace=_.length>0?[..._,...$]:$,q}]),this}static namespace(...$){return new this().namespace(...$)}ns(...$){return this.namespace(...$)}static ns(...$){return new this().namespace(...$)}get silent(){return this.modifierQueue.push(["silent",($,q)=>{return q._cfg.silent=!0,$}]),this}static get silent(){return new this().silent}get table(){return this.modifierQueue.push(["table",($)=>{return $.method="table",$}]),this}static get table(){return new this().table}get time(){return this.modifierQueue.push(["time",($)=>{let q=pY();if($.label)$.label.timeStart=q;return $}]),this}static get time(){return new this().time}get timeEnd(){return this.modifierQueue.push(["timeEnd",($)=>{if($.label?.timeStart)$.label.timeElapsed=YZ(pY($.label.timeStart));return $}]),this}static get timeEnd(){return new this().timeEnd}get timeNow(){return this.modifierQueue.push(["timeNow",($)=>{return $.timeNow=UE(),$}]),this}static get timeNow(){return new this().timeNow}get timestamp(){return this.modifierQueue.push(["timestamp",($,q)=>{return q._cfg.showTimestamp=!0,$}]),this}static get timestamp(){return new this().timestamp}get trace(){return this.modifierQueue.push(["trace",($)=>{return $.stacktrace=mE(),$}]),this}static get trace(){return new this().trace}get withEmoji(){return this.modifierQueue.push(["withEmoji",($,q)=>{return q._cfg.withEmoji=!0,$}]),this}static get withEmoji(){return new this().withEmoji}print($){if(bE())return;if($.silent)return;if($.message.length<1)return;if(gY($.method))console[$.method](...$.message);else console[$.method]()}terminate($,q){this.doHook((D)=>{if(D.beforeTerminated)D.beforeTerminated(this,$,q)}),this.runModifierQueue();let _=this.getLevelConfig($),K=new(this.selectFormatter(this._cfg.format))(this._cfg,_),O=K.timestampFormatter(new Date),Y=nE(K.print(this.modifierData,O,q));if(this._cfg.dump&&this.modifierData.label?.context)Y.push(this.modifierData.label.context);this.doHook((D)=>{if(D.beforeFormatApplied)Y=D.beforeFormatApplied(this,this._cfg.format,Y)});let{activeLevel:v,cache:W,cacheSize:T,dump:Z,format:w,meta:k,showTimestamp:M,silent:N,withEmoji:R}=this._cfg,E={activeLevel:v,cache:W,cacheSize:T,dump:Z,format:w,meta:k,showTimestamp:M,silent:N,withEmoji:R,..._,...this._modifierData,terminator:$,args:q,timestamp:O,message:Y};if(this.doHook((D)=>{if(D.afterFormatApplied)D.afterFormatApplied(this,this._cfg.format,Y)}),this._data=E,this._cfg.cache)this.globalStore.addLogToCache(this);this.doHook((D)=>{if(D.beforePrint)D.beforePrint(this)}),this.print(this._data),this.doHook((D)=>{if(D.afterTerminated)D.afterTerminated(this,$,q)}),this.globalStore.getListeners(_.level).forEach((D)=>{D(this)})}selectFormatter($){return this._cfg.formatters[$]}getLevelConfig($){return this._cfg.levels[$]}runModifierQueue(){this.modifierQueue.forEach(([$,q])=>{let _=q(this.modifierData,this);this.doHook((P)=>{if(P.beforeModifierApplied)P.beforeModifierApplied(this,$,_)}),this._modifierData=_,this.doHook((P)=>{if(P.afterModifierApplied)P.afterModifierApplied(this,$,_)})})}doHook($){this._cfg.middleware?.forEach((q)=>{$(q)})}}class UF{targetEnvironment;environment=p_()?"browser":"server";dependencyLoaders=[];constructor($){if(this.targetEnvironment=$??"both",!p_()&&(this.targetEnvironment==="server"||this.targetEnvironment==="both"))this.dependencyLoaders.push(this.loadServerDependencies());if(p_()&&(this.targetEnvironment==="browser"||this.targetEnvironment==="both"))this.dependencyLoaders.push(this.loadBrowserDependencies())}async load(){await Promise.all(this.dependencyLoaders)}async loadServerDependencies(){}async loadBrowserDependencies(){}}var tF=["black","red","green","yellow","blue","magenta","cyan","white","gray","blackBright","redBright","greenBright","yellowBright","blueBright","magentaBright","cyanBright","whiteBright","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgBlackBright","bgRedBright","bgGreenBright","bgYellowBright","bgBlueBright","bgMagentaBright","bgCyanBright","bgWhiteBright","reset","bold","dim","italic","underline","inverse","hidden","strikethrough"],sE=Object.freeze(tF);var $R=uP;var GR=R8(XR(),1),Yj$={__noop:()=>{}},oY=new Set;function vj$($){return oY.add($),()=>oY.delete($)}function zj$($){oY.delete($)}var nY={trace:10,verbose:10,debug:20,success:27,progress:28,log:29,info:30,warn:40,error:50,fatal:60,alert:60},CQ={10:"trace",20:"debug",27:"success",28:"progress",29:"log",30:"info",40:"warn",50:"error",60:"fatal"};function AR($,q){let _=nY[$.toLowerCase()]||30,P=nY[q.toLowerCase()]||30;return _>=P}function iY($){try{let q=new WeakSet;return JSON.stringify($,(_,P)=>{if(typeof P==="object"&&P!==null){if(q.has(P))return"[Circular]";q.add(P)}return P})}catch{return String($)}}function VR($){if(!$)return!1;let q=$.toLowerCase().trim();return q==="true"||q==="1"||q==="yes"||q==="on"}function EQ($){if($===null)return"null";if($===void 0)return"undefined";if(typeof $==="string")return $;if(typeof $==="number"||typeof $==="boolean")return String($);if($ instanceof Error)return $.message;return iY($)}function rY($,q,_){if(_)return q;let P=$.src,K=P?`[${P.toUpperCase()}] `:"",O=["src","agentId","agentName"],Y=[];for(let[W,T]of Object.entries($)){if(O.includes(W))continue;if(T===void 0)continue;Y.push(`${W}=${EQ(T)}`)}let v=Y.length>0?` (${Y.join(", ")})`:"";return`${K}${q}${v}`}var RQ="info",BY=x_("LOG_LEVEL")||RQ,Jj$={fatal:60,error:50,warn:40,info:30,log:29,progress:28,success:27,debug:20,trace:10},_4=VR(x_("LOG_JSON_FORMAT")),WZ=VR(x_("LOG_TIMESTAMPS")??"true"),IQ=x_("SERVER_ID")||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID().slice(0,8):Math.random().toString(36).slice(2,10)),kR=GR.default({paths:["password","passwd","secret","token","apiKey","api_key","apiSecret","api_secret","authorization","auth","credential","credentials","privateKey","private_key","accessToken","access_token","refreshToken","refresh_token","cookie","session","jwt","bearer","*.password","*.secret","*.token","*.apiKey","*.api_key","*.authorization","*.credential","*.credentials","*.privateKey","*.accessToken","*.refreshToken"],serialize:!1,censor:"[REDACTED]"});function hQ($=100){let q=[];return{write(_){if(q.push(_),q.length>$)q.shift();for(let P of oY)try{P(_)}catch{}},clear(){q.length=0},recentLogs(){return q.map((_)=>{let P=WZ?new Date(_.time).toISOString():"",K=CQ[_.level??30]||"info";return`${P} ${K} ${_.msg}`.trim()}).join(`
`)}}}var B7=hQ(),SR=()=>{let $=BY.toLowerCase();if($==="trace")return"verbose";if($==="debug")return"debug";if($==="log")return"log";if($==="info")return"info";if($==="warn")return"warn";if($==="error")return"error";if($==="fatal")return"alert";return"info"},DQ=SR(),MR={alert:{levelName:"alert",level:0,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","white","bold"],method:"error",emoji:""},error:{levelName:"error",level:1,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","whiteBright","bold"],method:"error",emoji:""},warn:{levelName:"warn",level:2,style:"font-size: 12px; color: #ffaa00;",terminalStyle:["bgYellow","black","bold"],method:"warn",emoji:""},info:{levelName:"info",level:3,style:"font-size: 12px; color: #0099ff;",terminalStyle:["cyan"],method:"info",emoji:""},fail:{levelName:"fail",level:4,style:"font-size: 12px; color: #ff6600;",terminalStyle:["red","underline"],method:"error",emoji:""},success:{levelName:"success",level:5,style:"font-size: 12px; color: #00cc00;",terminalStyle:["green"],method:"log",emoji:""},log:{levelName:"log",level:6,style:"font-size: 12px; color: #888888;",terminalStyle:["white"],method:"log",emoji:""},debug:{levelName:"debug",level:7,style:"font-size: 12px; color: #9b59b6;",terminalStyle:["gray","dim"],method:"debug",emoji:""},verbose:{levelName:"verbose",level:8,style:"font-size: 12px; color: #666666;",terminalStyle:["gray","dim","italic"],method:"debug",emoji:""}},LQ=uw({activeLevel:DQ,format:_4?"json":"pretty",timestampFormatter:WZ?void 0:()=>"",withEmoji:!1,levels:MR});LQ.addListener("*",($)=>{try{let q=$.data,_=Array.isArray(q?.message)?q.message.map((K)=>typeof K==="string"?K:iY(K)).join(" "):typeof q?.message==="string"?q.message:"",P={time:Date.now(),level:typeof q?.level==="number"?q.level:void 0,msg:_};B7.write(P)}catch{}});function gQ($){let q=$R,_=[];if(typeof $.namespace==="string")_.push($.namespace);if(Array.isArray($.namespaces))_.push(...$.namespaces);if(_.length>0)q=q.ns(..._);let P={...$};if(delete P.namespace,delete P.namespaces,!P.name)P.name="elizaos";if(!P.pid&&typeof process<"u"&&process.pid)P.pid=process.pid;if(!P.environment&&typeof process<"u"&&process.env)P.environment="development";if(!P.serverId)P.serverId=IQ;if(_4&&!P.hostname){let O="unknown";if(typeof process<"u"&&process.platform)O=(QT(),H6(FT)).hostname();else if(typeof window<"u"&&window.location)O=window.location.hostname||"browser";P.hostname=O}let K={activeLevel:SR(),format:_4?"json":"pretty",timestampFormatter:WZ?void 0:()=>"",withEmoji:!1,levels:MR};return q.meta(P).seal(K)}function bQ($){let q=BY,_={},P;if(typeof $==="object"&&$!==null){if("level"in $)q=$.level;if("maxMemoryLogs"in $&&typeof $.maxMemoryLogs==="number")P=$.maxMemoryLogs;let{level:K,maxMemoryLogs:O,...Y}=$;_=Y}return{level:q,base:_,maxMemoryLogs:P}}function U7($=!1){let{level:q,base:_,maxMemoryLogs:P}=bQ($);if(typeof P==="number"&&P>0)B7.clear();if(typeof $==="object"&&$&&"__forceType"in $&&$.__forceType==="browser"){let $$=(typeof q==="number"?"info":q||BY).toLowerCase(),Q=(...J)=>{return J.map((X)=>{if(typeof X==="string")return X;if(X instanceof Error)return X.message;return iY(X)}).join(" ")},c=(J,...X)=>{if(!AR(J,$$))return;let H=Q(...X),f=J==="fatal"?"error":J==="trace"||J==="verbose"?"debug":J==="success"||J==="progress"?"info":J==="log"?"log":(J in console)&&typeof console[J]==="function"?J:"log",V=console[f];if(V&&typeof V==="function")V(H)},a=(J)=>{try{let X={...J};return kR(X),X}catch{return J}},j=(J,X,...H)=>{if(typeof J==="string")return X!==void 0?[J,X,...H]:[J,...H];if(J instanceof Error)return X!==void 0?[J.message,X,...H]:[J.message,...H];let f=a(J);if(X!==void 0)return[rY(f,X,!1),...H];let V=rY(f,"",!1);return V?[V,...H]:[...H]};return{level:$$,trace:(J,X,...H)=>c("trace",...j(J,X,...H)),debug:(J,X,...H)=>c("debug",...j(J,X,...H)),info:(J,X,...H)=>c("info",...j(J,X,...H)),warn:(J,X,...H)=>c("warn",...j(J,X,...H)),error:(J,X,...H)=>c("error",...j(J,X,...H)),fatal:(J,X,...H)=>c("fatal",...j(J,X,...H)),success:(J,X,...H)=>c("success",...j(J,X,...H)),progress:(J,X,...H)=>c("progress",...j(J,X,...H)),log:(J,X,...H)=>c("log",...j(J,X,...H)),clear:()=>{if(typeof console.clear==="function")console.clear()},child:(J)=>U7({level:$$,..._,...J,__forceType:"browser"})}}let O=gQ(_),v=(typeof q==="number"?"info":q||BY).toLowerCase(),W=(i,$$)=>{},T=(i,...$$)=>{if(!AR(i,v))return;W(i,$$);let Q="";if($$.length>0)Q=$$.map((J)=>{if(typeof J==="string")return J;if(J instanceof Error)return J.message;return iY(J)}).join(" ");if(_.namespace)Q=`#${_.namespace}  ${Q}`;let c={time:Date.now(),level:nY[i.toLowerCase()]||nY.info,msg:Q};B7.write(c);let a=i,j=$$;if(i==="fatal")a="alert";else if(i==="progress")a="info",j=["[PROGRESS]",...$$];else if(i==="success")a="info",j=["[SUCCESS]",...$$];else if(i==="trace")a="verbose";try{let J=O;if(a in J&&typeof J[a]==="function")J[a](...j)}catch{console.log(`[${i.toUpperCase()}]`,...$$)}},Z=(i)=>{try{let $$={...i};return kR($$),$$}catch{return i}},w=(i,$$,...Q)=>{if(typeof i==="string")return $$!==void 0?[i,$$,...Q]:[i,...Q];if(i instanceof Error)return $$!==void 0?[i.message,{error:i},$$,...Q]:[i.message,{error:i},...Q];let c=Z(i);if($$!==void 0){if(!_4)return[rY(c,$$,_4),...Q];return[$$,c,...Q]}if(!_4){let a=rY(c,"",_4);return a?[a,...Q]:[...Q]}return[c,...Q]};return{level:v,trace:(i,$$,...Q)=>T("verbose",...w(i,$$,...Q)),debug:(i,$$,...Q)=>T("debug",...w(i,$$,...Q)),info:(i,$$,...Q)=>T("info",...w(i,$$,...Q)),warn:(i,$$,...Q)=>T("warn",...w(i,$$,...Q)),error:(i,$$,...Q)=>T("error",...w(i,$$,...Q)),fatal:(i,$$,...Q)=>T("fatal",...w(i,$$,...Q)),success:(i,$$,...Q)=>T("success",...w(i,$$,...Q)),progress:(i,$$,...Q)=>T("progress",...w(i,$$,...Q)),log:(i,$$,...Q)=>T("log",...w(i,$$,...Q)),clear:()=>{if(typeof console?.clear==="function")console.clear();B7.clear()},child:(i)=>{return U7({level:v,..._,...i})}}}var M6=U7(),Wj$=M6,Hj$=()=>B7.recentLogs();var UY=M6;function CR($){return $.replace(/(?<!{){{(?![{#\/!>])([\s\S]*?)}}/g,(q,_)=>{if(_.trim()==="else")return`{{${_}}}`;return`{{{${_}}}}`})}var ER=({state:$,template:q})=>{let _=typeof q==="function"?q({state:$}):q,P=HZ.default.compile(CR(_));return RR(P($),10)},t7=({state:$,template:q})=>{let _=typeof q==="function"?q({state:$}):q,P=HZ.default.compile(CR(_)),Y=Object.keys($).filter((W)=>!["text","values","data"].includes(W)).reduce((W,T)=>{return W[T]=$[T],W},{});return RR(P({...Y,...$.values}),10)},Vj$=($,q)=>{return q.length>0?`${$?`${$}
`:$}${q}
`:""},RR=($,q)=>{let _=Array.from({length:q},()=>h2({dictionaries:[D2]})),P=$;for(let K=0;K<_.length;K++)P=P.replaceAll(`{{name${K+1}}}`,_[K]);return P},Sj$=({messages:$,entities:q,conversationHeader:_=!0})=>{let P={};return $.forEach((Y)=>{if(Y.roomId){if(!P[Y.roomId])P[Y.roomId]=[];P[Y.roomId].push(Y)}}),Object.values(P).forEach((Y)=>{Y.sort((v,W)=>(v.createdAt||0)-(W.createdAt||0))}),Object.entries(P).sort(([,Y],[,v])=>(v[v.length-1]?.createdAt||0)-(Y[Y.length-1]?.createdAt||0)).map(([Y,v])=>{let W=v.filter((Z)=>Z.entityId).map((Z)=>{let w=q.find((N)=>N.id===Z.entityId);if(!w)UY.warn({src:"core:utils",entityId:Z.entityId},"No entity found for message");let k=w?.names[0]||"Unknown User",M=w?.names[0]||"unknown";return`Name: ${k} (@${M} EntityID:${Z.entityId})
MessageID: ${Z.id}${Z.content.inReplyTo?`
In reply to: ${Z.content.inReplyTo}`:""}
Source: ${Z.content.source}
Date: ${IR(Z.createdAt||0)}
Text:
${Z.content.text}`});return`${_?`Conversation: ${Y.slice(-5)}
`:""}${W.join(`

`)}`}).join(`

`)},Mj$=({messages:$,entities:q})=>{return $.reverse().filter((P)=>P.entityId).map((P)=>{let K=P.content.text,O=P.content.actions,Y=P.content.thought,v=q.find((b)=>b.id===P.entityId)?.names[0]||"Unknown User",W=P.content.attachments,T=W&&W.length>0?` (Attachments: ${W.map((b)=>{let y=[`[${b.id} - ${b.title} (${b.url})]`];if(b.text)y.push(`Text: ${b.text}`);if(b.description)y.push(`Description: ${b.description}`);return y.join(`
`)}).join(W.every((b)=>!b.text&&!b.description)?", ":`
`)})`:null,Z=new Date(P.createdAt||0),w=Z.getHours().toString().padStart(2,"0"),k=Z.getMinutes().toString().padStart(2,"0"),M=`${w}:${k}`,N=IR(P.createdAt||0),R=Y?`(${v}'s internal thought: ${Y})`:null,E=`${M} (${N}) [${P.entityId}]`,D=K?`${E} ${v}: ${K}`:null,h=O&&O.length>0?`${D?"":E} (${v}'s actions: ${O.join(", ")})`:null;return[D,R,h,T].filter(Boolean).join(`
`)}).join(`
`)},IR=($)=>{let _=new Date().getTime()-$,P=Math.abs(_),K=Math.floor(P/1000),O=Math.floor(K/60),Y=Math.floor(O/60),v=Math.floor(Y/24);if(P<60000)return"just now";if(O<60)return`${O} minute${O!==1?"s":""} ago`;if(Y<24)return`${Y} hour${Y!==1?"s":""} ago`;return`${v} day${v!==1?"s":""} ago`},yQ=/```json\n([\s\S]*?)\n```/;function T_($){if(!$)return null;let q=null,_=$.indexOf("<response>");if(_!==-1){let Y=_+10,v=$.indexOf("</response>",Y);if(v!==-1)q=$.slice(Y,v)}if(!q){let v=((W)=>{let T=0,Z=W.length;while(T<Z){let w=W.indexOf("<",T);if(w===-1)break;if(W.startsWith("</",w)||W.startsWith("<!--",w)||W.startsWith("<?",w)){T=w+1;continue}let k=w+1,M="";while(k<Z){let L=W[k];if(/^[A-Za-z0-9_-]$/.test(L)){M+=L,k++;continue}break}if(!M){T=w+1;continue}let N=W.indexOf(">",k);if(N===-1)break;let R=W.slice(w,N+1);if(/\/\s*>$/.test(R)){T=N+1;continue}let E=`</${M}>`,D=1,h=N+1;while(D>0&&h<Z){let L=W.indexOf(`<${M}`,h),b=W.indexOf(E,h);if(b===-1)break;if(L!==-1&&L<b){let y=W.indexOf(">",L+1);if(y===-1)break;let p=W.slice(L,y+1);if(/\/\s*>$/.test(p))h=y+1;else D++,h=y+1}else D--,h=b+E.length}if(D===0){let L=h-E.length,b=W.slice(N+1,L);return{tag:M,content:b}}T=N+1}return null})($);if(!v)return UY.warn({src:"core:utils"},"Could not find XML block in text"),null;q=v.content}let P={},O=((Y)=>{let v=[],W=Y.length,T=0;while(T<W){let Z=Y.indexOf("<",T);if(Z===-1)break;if(Y.startsWith("</",Z)||Y.startsWith("<!--",Z)||Y.startsWith("<?",Z)){T=Z+1;continue}let w=Z+1,k="";while(w<W){let y=Y[w];if(/^[A-Za-z0-9_-]$/.test(y)){k+=y,w++;continue}break}if(!k){T=Z+1;continue}let M=Y.indexOf(">",w);if(M===-1)break;let N=Y.slice(Z,M+1);if(/\/\s*>$/.test(N)){T=M+1;continue}let R=`</${k}>`,E=1,D=M+1;while(E>0&&D<W){let y=Y.indexOf(`<${k}`,D),p=Y.indexOf(R,D);if(p===-1)break;if(y!==-1&&y<p){let i=Y.indexOf(">",y+1);if(i===-1)break;let $$=Y.slice(y,i+1);if(!/\/\s*>$/.test($$))E++;D=i+1}else E--,D=p+R.length}if(E!==0){T=M+1;continue}let h=D-R.length,b=Y.slice(M+1,h).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'").trim();v.push({key:k,value:b}),T=D}return v})(q);for(let{key:Y,value:v}of O)if(Y==="actions"||Y==="providers"||Y==="evaluators")P[Y]=v?v.split(",").map((W)=>W.trim()):[];else if(Y==="simple")P[Y]=v.toLowerCase()==="true";else P[Y]=v;if(Object.keys(P).length===0)return UY.warn({src:"core:utils"},"No key-value pairs extracted from XML content"),null;return P}function Nj$($){let q=$.match(yQ),_=null;try{if(q)_=JSON.parse(NR(q[1].trim()));else _=JSON.parse(NR($.trim()))}catch{return null}if(_&&typeof _==="object"&&!Array.isArray(_))return _;return null}var NR=($)=>{return $=$.replace(/\{\s+/,"{").replace(/\s+\}/,"}").trim(),$=$.replace(/("[\w\d_-]+")\s*: \s*(?!"|\[)([\s\S]+?)(?=(,\s*"|\}$))/g,'$1: "$2"'),$=$.replace(/"([^"]+)"\s*:\s*'([^']*)'/g,(q,_,P)=>`"${_}": "${P}"`),$=$.replace(/("[\w\d_-]+")\s*:\s*([A-Za-z_]+)(?!["\w])/g,'$1: "$2"'),$};function hR($,q){if($.length<=q)return $;let _=$.lastIndexOf(".",q-1);if(_!==-1){let O=$.slice(0,_+1).trim();if(O.length>0)return O}let P=$.lastIndexOf(" ",q-1);if(P!==-1){let O=$.slice(0,P).trim();if(O.length>0)return`${O}...`}return`${$.slice(0,q-3).trim()}...`}async function Cj$($,q=512,_=20){return await new QW({chunkSize:Number(Math.floor(q*3.5)),chunkOverlap:Number(Math.floor(_*3.5))}).splitText($)}async function Ej$($,q,_){if(!$)throw Error("Trim tokens received a null prompt");if($.length<q/5)return $;if(q<=0)throw Error("maxTokens must be positive");let P=await _.useModel(A6.TEXT_TOKENIZER_ENCODE,{prompt:$,modelType:A6.TEXT_TOKENIZER_ENCODE});if(P.length<=q)return $;let K=P.slice(-q);return await _.useModel(A6.TEXT_TOKENIZER_DECODE,{tokens:K,modelType:A6.TEXT_TOKENIZER_DECODE})}function Rj$(){let $=new WeakSet;return function(q,_){if(typeof _==="object"&&_!==null){if($.has(_))return"[Circular]";$.add(_)}return _}}function F7($){if(!$)return!1;if(typeof $==="boolean")return $;let q=["YES","Y","TRUE","T","1","ON","ENABLE"],_=["NO","N","FALSE","F","0","OFF","DISABLE"],P=$.trim().toUpperCase();if(q.includes(P))return!0;if(_.includes(P))return!1;return!1}var uQ=U$.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format");function xQ($){let q=uQ.safeParse($);return q.success?q.data:null}function FY($){if(typeof $==="number")$=$.toString();if(typeof $!=="string")throw TypeError("Value must be string");let q=xQ($);if(q)return q;let _=encodeURIComponent($),K=pQ(_).slice(0,16);return K[8]=K[8]&63|128,K[6]=K[6]&15|0,mQ(K)}async function Ij$($){if(!TZ())return;let q=$.map(async(_)=>{let P=encodeURIComponent(_),K=await DR(P);K4.set(P,K)});await Promise.all(q)}var K4=new Map,tY=null;function TZ(){if(tY!==null)return tY;if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.subtle&&typeof globalThis.crypto.subtle.digest==="function")return tY=!0,!0;return tY=!1,!1}function pQ($){let q=K4.get($);if(q)return q;let _=LR($);if(K4.set($,_),TZ())DR($).then((P)=>{K4.set($,P)}).catch(()=>{});if(K4.size>1e4)Array.from(K4.keys()).slice(0,5000).forEach((K)=>K4.delete(K));return _}async function DR($){if(TZ()){let _=new TextEncoder().encode($),P=await globalThis.crypto.subtle.digest("SHA-1",_);return new Uint8Array(P)}return LR($)}function LR($){let q=cQ($),_=q.length,P=new Uint8Array(_+9+63>>>6<<6);P.set(q),P[_]=128;let K=_*8,O=new DataView(P.buffer);O.setUint32(P.length-4,K>>>0,!1),O.setUint32(P.length-8,Math.floor(K/4294967296)>>>0,!1);let Y=1732584193,v=4023233417,W=2562383102,T=271733878,Z=3285377520,w=new Uint32Array(80);for(let N=0;N<P.length;N+=64){for(let b=0;b<16;b++)w[b]=O.getUint32(N+b*4,!1);for(let b=16;b<80;b++){let y=w[b-3]^w[b-8]^w[b-14]^w[b-16];w[b]=y<<1|y>>>31}let R=Y,E=v,D=W,h=T,L=Z;for(let b=0;b<80;b++){let y,p;if(b<20)y=E&D|~E&h,p=1518500249;else if(b<40)y=E^D^h,p=1859775393;else if(b<60)y=E&D|E&h|D&h,p=2400959708;else y=E^D^h,p=3395469782;let i=(R<<5|R>>>27)+y+L+p+w[b]>>>0;L=h,h=D,D=(E<<30|E>>>2)>>>0,E=R,R=i}Y=Y+R>>>0,v=v+E>>>0,W=W+D>>>0,T=T+h>>>0,Z=Z+L>>>0}let k=new Uint8Array(20),M=new DataView(k.buffer);return M.setUint32(0,Y,!1),M.setUint32(4,v,!1),M.setUint32(8,W,!1),M.setUint32(12,T,!1),M.setUint32(16,Z,!1),k}function cQ($){if(typeof TextEncoder<"u")return new TextEncoder().encode($);let q=[];for(let _=0;_<$.length;_++){let P=$.charCodeAt(_);if(P<128)q.push(P);else if(P<2048)q.push(192|P>>6,128|P&63);else if(P<55296||P>=57344)q.push(224|P>>12,128|P>>6&63,128|P&63);else{_++;let K=65536+((P&1023)<<10|$.charCodeAt(_)&1023);q.push(240|K>>18,128|K>>12&63,128|K>>6&63,128|K&63)}}return new Uint8Array(q)}function mQ($){let q=[];for(let _=0;_<$.length;_++){let P=$[_].toString(16).padStart(2,"0");q.push(P)}return q.slice(0,4).join("")+"-"+q.slice(4,6).join("")+"-"+q.slice(6,8).join("")+"-"+q.slice(8,10).join("")+"-"+q.slice(10,16).join("")}var hj$=($)=>{if($.startsWith("image/"))return"image";if($.startsWith("video/"))return"video";if($.startsWith("audio/"))return"audio";if($.includes("pdf")||$.includes("document")||$.startsWith("text/"))return"document";return};function gR($){return`http://localhost:${x_("SERVER_PORT","3000")}${$}`}var bR=U$.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format").describe("Unique identifier for the character in UUID format"),dQ=U$.object({id:U$.string().describe("Unique identifier for the media"),url:U$.string().describe("URL of the media file"),title:U$.string().optional().describe("Media title"),source:U$.string().optional().describe("Media source"),description:U$.string().optional().describe("Media description"),text:U$.string().optional().describe("Text content associated with the media"),contentType:U$.nativeEnum(mP).optional().describe("Type of media content")}).loose().describe("Media attachment with URL and metadata"),lQ=U$.object({text:U$.string().optional().describe("The main text content of the message"),thought:U$.string().optional().describe("Internal thought process or reasoning"),actions:U$.array(U$.string()).optional().describe("Actions to be taken in response"),providers:U$.array(U$.string()).optional().describe("Data providers to use (e.g., KNOWLEDGE)"),source:U$.string().optional().describe("Source of the content"),target:U$.string().optional().describe("Target of the content"),url:U$.string().optional().describe("Related URL"),inReplyTo:bR.optional().describe("UUID of message this is replying to"),attachments:U$.array(dQ).optional().describe("Array of media attachments (images, videos, documents, etc.)"),channelType:U$.enum(dP).optional().describe("Type of channel this content is for")}).catchall(U$.unknown()).describe("Content structure for messages in conversation examples"),rQ=U$.object({name:U$.string().describe("Name of the speaker (can use {{name1}} placeholder for dynamic names)"),content:lQ}).describe("A single message in a conversation example"),oQ=U$.object({directory:U$.string().describe("Path to a directory containing knowledge files"),shared:U$.boolean().optional().describe("Whether this knowledge is shared across characters")}).describe("Directory-based knowledge source"),nQ=U$.union([U$.string().describe("File path to a knowledge document"),U$.object({path:U$.string().describe("Path to a knowledge file"),shared:U$.boolean().optional().describe("Whether this knowledge is shared across characters")}),oQ]).describe("Knowledge source - can be a file path, file object, or directory"),iQ=U$.union([U$.string().describe("Template string with placeholders"),U$.function().optional()]).describe("Template for generating text - can be a string template or function"),BQ=U$.object({all:U$.array(U$.string()).optional().describe("Style guidelines applied to all types of responses"),chat:U$.array(U$.string()).optional().describe("Style guidelines specific to chat/conversation responses"),post:U$.array(U$.string()).optional().describe("Style guidelines specific to social media posts")}).optional().describe("Style configuration defining how the character communicates across different contexts"),UQ=U$.record(U$.string(),U$.union([U$.string(),U$.boolean(),U$.number(),U$.object({}).loose(),U$.array(U$.unknown())])).optional().describe("Character-specific settings like avatar URL, preferences, and configuration"),tQ=U$.record(U$.string(),U$.union([U$.string(),U$.boolean(),U$.number()])).optional().describe("Secret values and API keys (should not be committed to version control)"),FQ=U$.object({id:bR.optional().describe("Unique identifier for the character"),name:U$.string().min(1,"Character name is required").describe('The name of the character (e.g., "Eliza")'),username:U$.string().optional().describe("Username for the character on various platforms"),system:U$.string().optional().describe("System prompt that defines the character's core behavior and response style"),templates:U$.record(U$.string(),iQ).optional().describe("Custom templates for generating different types of content"),bio:U$.union([U$.string(),U$.array(U$.string())]).describe("Character biography - can be a single string or array of biographical points"),messageExamples:U$.array(U$.array(rQ)).optional().describe("Example conversations showing how the character responds in different scenarios"),postExamples:U$.array(U$.string()).optional().describe("Example social media posts demonstrating the character's voice and topics"),topics:U$.array(U$.string()).optional().describe("Topics the character is knowledgeable about and engages with"),adjectives:U$.array(U$.string()).optional().describe("Adjectives that describe the character's personality and traits"),knowledge:U$.array(nQ).optional().describe("Knowledge sources (files, directories) the character can reference"),plugins:U$.array(U$.string()).optional().describe('List of plugin package names to load (e.g., ["@elizaos/plugin-sql", "@elizaos/plugin-bootstrap"] - these are commonly required)'),settings:UQ,secrets:tQ,style:BQ}).strict().describe("Complete character definition including personality, behavior, and capabilities");function yR($){let q=FQ.safeParse($);if(q.success)return{success:!0,data:q.data};return{success:!1,error:{message:`Character validation failed: ${q.error.message}`,issues:q.error.issues}}}function yj$($){try{let q=JSON.parse($);return yR(q)}catch(q){return{success:!1,error:{message:`Invalid JSON: ${q instanceof Error?q.message:"Unknown JSON parsing error"}`}}}}function uj$($){return yR($).success}function m_(){return typeof Buffer<"u"&&typeof Buffer.from==="function"}function QQ($){let q=$.replace(/[^0-9a-fA-F]/g,"");if(m_())return Buffer.from(q,"hex");let _=new Uint8Array(q.length/2);for(let P=0;P<_.length;P++)_[P]=parseInt(q.substr(P*2,2),16);return _}function aQ($,q="utf8"){if(m_()){let P=q==="utf-8"?"utf8":q;return Buffer.from($,P)}if(q==="base64"){let P=atob($),K=new Uint8Array(P.length);for(let O=0;O<P.length;O++)K[O]=P.charCodeAt(O);return K}return new TextEncoder().encode($)}function uR($){if(m_()&&Buffer.isBuffer($))return $.toString("hex");let q=$ instanceof Uint8Array?$:new Uint8Array($),_="";for(let P=0;P<q.length;P++){let K=q[P].toString(16);_+=K.length===1?"0"+K:K}return _}function eQ($,q="utf8"){if(m_()&&Buffer.isBuffer($)){let K=q==="utf-8"?"utf8":q;return $.toString(K)}let _=$ instanceof Uint8Array?$:new Uint8Array($);if(q==="hex")return uR(_);if(q==="base64"){let K="";for(let O=0;O<_.length;O++)K+=String.fromCharCode(_[O]);return btoa(K)}return new TextDecoder().decode(_)}function wZ($){if(!$)return!1;if(m_()&&Buffer.isBuffer($))return!0;if($ instanceof Uint8Array||$ instanceof ArrayBuffer)return!0;if(typeof $==="object"&&$!==null&&!Array.isArray($)){let q=$;return q.buffer instanceof ArrayBuffer&&typeof q.byteLength==="number"}return!1}function sQ($){if(m_())return Buffer.alloc($);return new Uint8Array($)}function $a($){if(m_())return Buffer.from($);return new Uint8Array($)}function qa($){if(m_()&&$.every((K)=>Buffer.isBuffer(K)))return Buffer.concat($);let q=0;for(let K of $)q+=K.length;let _=new Uint8Array(q),P=0;for(let K of $){let O=K instanceof Uint8Array?K:new Uint8Array(K);_.set(O,P),P+=O.length}return _}function _a($,q,_){if(m_()&&Buffer.isBuffer($))return $.slice(q,_);return($ instanceof Uint8Array?$:new Uint8Array($)).slice(q,_)}function Ka($,q){if($.length!==q.length)return!1;let _=$ instanceof Uint8Array?$:new Uint8Array($),P=q instanceof Uint8Array?q:new Uint8Array(q);for(let K=0;K<_.length;K++)if(_[K]!==P[K])return!1;return!0}function Pa($){return $.length}function Ya($){let q=new Uint8Array($),_=typeof globalThis<"u"?globalThis.crypto||globalThis.webcrypto:void 0;if(_&&typeof _.getRandomValues==="function")_.getRandomValues(q);else for(let P=0;P<$;P++)q[P]=Math.floor(Math.random()*256);return q}var AK={fromHex:QQ,fromString:aQ,fromBytes:$a,toHex:uR,toString:eQ,isBuffer:wZ,alloc:sQ,concat:qa,slice:_a,equals:Ka,byteLength:Pa,randomBytes:Ya};var mj$=($,q)=>{if(!$.length||q<=0)return"";let _=$.filter((Y)=>Y.examples&&Array.isArray(Y.examples)&&Y.examples.length>0);if(!_.length)return"";let P=_.map((Y)=>[...Y.examples||[]]),K=[],O=P.map((Y,v)=>Y.length>0?v:-1).filter((Y)=>Y!==-1);while(K.length<q&&O.length>0){let Y=Math.floor(Math.random()*O.length),v=O[Y],W=P[v],T=Math.floor(Math.random()*W.length);if(K.push(W.splice(T,1)[0]),W.length===0)O.splice(Y,1)}return Oa(K)},Oa=($)=>{return $.map((_)=>{let P=Array.from({length:5},()=>h2({dictionaries:[D2]}));return`
${_.map((O)=>{let Y=`${O.name}: ${O.content.text}`;for(let v=0;v<P.length;v++)Y=Y.replaceAll(`{{name${v+1}}}`,P[v]);return Y}).join(`
`)}`}).join(`
`)};function dj$($){if(!$?.length)return"";return[...$].sort(()=>Math.random()-0.5).map((q)=>q.name).join(", ")}function lj$($){if(!$?.length)return"";return[...$].sort(()=>Math.random()-0.5).map((q)=>`- **${q.name}**: ${q.description||"No description available"}`).join(`
`)}class ja{db}class fZ extends Error{code;details;constructor($,q,_){super(q);this.name="StreamError",this.code=$,this.details=_}static isStreamError($){return $ instanceof fZ}}function va($){let q="";return{getStreamedText:()=>{let _=$.flush?.()??"";if(_)q+=_;return q},isComplete:()=>$.done,reset:()=>{$.reset(),q=""},_appendText:(_)=>{q+=_}}}function XZ($,q,_){let P=va($);return{onStreamChunk:async(K,O)=>{if($.done)return;let Y=$.push(K);if(Y)P._appendText(Y),await q(Y,O)},messageId:_,reset:P.reset,getStreamedText:P.getStreamedText,isComplete:P.isComplete}}var xP=10,za=102400,ZZ=1048576;function xR($,q,_,P,K=xP){let O=$,Y=P;if(!Y){let W=O.indexOf(q);if(W!==-1)Y=!0,O=O.slice(W+q.length);else return{content:"",closed:!1,buffer:O,insideTag:!1}}let v=O.indexOf(_);if(v!==-1){let W=O.slice(0,v),T=O.slice(v+_.length);return{content:W,closed:!0,buffer:T,insideTag:!1}}if(O.length>K){let W=O.slice(0,-K),T=O.slice(-K);return{content:W,closed:!1,buffer:T,insideTag:!0}}return{content:"",closed:!1,buffer:O,insideTag:!0}}function AZ($){if($.length>ZZ)throw new fZ("CHUNK_TOO_LARGE",`Chunk size ${$.length} exceeds maximum allowed ${ZZ}`,{chunkSize:$.length,maxAllowed:ZZ})}function kZ($,q=za,_=1024){if($.length>q)return $.slice(-_);return $}class GZ{openTag;closeTag;buffer="";insideTag=!1;finished=!1;constructor($){this.openTag=`<${$}>`,this.closeTag=`</${$}>`}get done(){return this.finished}push($){if(this.finished)return"";if(AZ($),this.buffer+=$,!this.insideTag)this.buffer=kZ(this.buffer);let q=xR(this.buffer,this.openTag,this.closeTag,this.insideTag,xP);if(this.buffer=q.buffer,this.insideTag=q.insideTag,q.closed)this.finished=!0;return q.content}reset(){this.buffer="",this.insideTag=!1,this.finished=!1}flush(){if(this.insideTag&&this.buffer.length>0){let $=this.buffer;return this.buffer="",$}return""}}class QY{static STREAM_TAGS=["text"];buffer="";insideTag=!1;currentTag=null;finished=!1;responseStrategy="pending";get done(){return this.finished}reset(){this.buffer="",this.insideTag=!1,this.currentTag=null,this.finished=!1,this.responseStrategy="pending"}flush(){if(this.insideTag&&this.buffer.length>0){let $=this.buffer;return this.buffer="",$}return""}push($){if(AZ($),this.buffer+=$,this.responseStrategy==="pending")this.detectResponseStrategy();if(!this.insideTag)for(let P of QY.STREAM_TAGS){let K=`<${P}>`,O=`</${P}>`,Y=this.buffer.indexOf(K);if(Y!==-1){if(!this.shouldStreamTag(P)){let v=this.buffer.indexOf(O);if(v!==-1){this.buffer=this.buffer.slice(v+O.length);continue}break}this.insideTag=!0,this.currentTag=P,this.buffer=this.buffer.slice(Y+K.length);break}}if(!this.insideTag)return this.buffer=kZ(this.buffer),"";let q=`</${this.currentTag}>`,_=this.buffer.indexOf(q);if(_!==-1){let P=this.buffer.slice(0,_);return this.buffer=this.buffer.slice(_+q.length),this.insideTag=!1,this.currentTag=null,this.finished=!0,P}if(this.buffer.length>xP){let P=this.buffer.slice(0,-xP);return this.buffer=this.buffer.slice(-xP),P}return""}detectResponseStrategy(){let _=this.buffer.indexOf("<actions>");if(_===-1)return;let P=_+9,K=this.buffer.indexOf("</actions>",P);if(K===-1)return;let O=this.buffer.substring(P,K),Y=this.parseActions(O);this.responseStrategy=this.isDirectReply(Y)?"direct":"delegated"}parseActions($){return $.split(",").map((q)=>q.trim().toUpperCase()).filter(Boolean)}isDirectReply($){return $.length===1&&$[0]==="REPLY"}shouldStreamTag($){return $==="text"&&this.responseStrategy==="direct"}}class VZ{buffer="";decided=!1;contentType=null;insideTextTag=!1;finished=!1;get done(){return this.finished}reset(){this.buffer="",this.decided=!1,this.contentType=null,this.insideTextTag=!1,this.finished=!1}flush(){if(this.contentType==="xml"&&this.insideTextTag&&this.buffer.length>0){let $=this.buffer;return this.buffer="",$}return""}push($){if(AZ($),this.buffer+=$,!this.decided){let q=this.detectContentType();if(q)this.contentType=q,this.decided=!0;else return""}switch(this.contentType){case"json":return"";case"text":return this.handlePlainText();case"xml":return this.handleXml();default:return""}}detectContentType(){let $=this.buffer.trimStart();if($.length===0)return null;let q=$[0];if(q==="{"||q==="[")return"json";if(q==="<")return"xml";return"text"}handlePlainText(){let $=this.buffer;return this.buffer="",$}handleXml(){let $=xR(this.buffer,"<text>","</text>",this.insideTextTag,xP);if(this.buffer=$.buffer,this.insideTextTag=$.insideTag,$.closed)this.finished=!0;if(!this.insideTextTag&&!$.closed)this.buffer=kZ(this.buffer,1024,1024);return $.content}}function ij$($){return{...$,createdAt:Date.now(),metadata:{type:"message",timestamp:Date.now(),scope:$.agentId?"private":"shared"}}}function Bj$($){return $.type==="document"}function Uj$($){return $.type==="fragment"}function tj$($){return $.type==="message"}function Fj$($){return $.type==="description"}function Qj$($){return $.type!=="document"&&$.type!=="fragment"&&$.type!=="message"&&$.type!=="description"}function aj$($){return $.metadata?.type==="document"}function ej$($){return $.metadata?.type==="fragment"}function sj$($,q=""){return $.content.text??q}var pR=`<task>Decide on behalf of {{agentName}} whether they should respond to the message, ignore it or stop the conversation.</task>

<providers>
{{providers}}
</providers>

<instructions>Decide if {{agentName}} should respond to or interact with the conversation.

IMPORTANT RULES FOR RESPONDING:
- If YOUR name ({{agentName}}) is directly mentioned  RESPOND
- If someone uses a DIFFERENT name (not {{agentName}})  IGNORE (they're talking to someone else)
- If you're actively participating in a conversation and the message continues that thread  RESPOND
- If someone tells you to stop or be quiet  STOP
- Otherwise  IGNORE

The key distinction is:
- "Talking TO {{agentName}}" (your name mentioned, replies to you, continuing your conversation)  RESPOND
- "Talking ABOUT {{agentName}}" or to someone else  IGNORE
</instructions>

<output>
Do NOT include any thinking, reasoning, or <think> sections in your response.
Go directly to the XML response format without any preamble or explanation.

Respond using XML format like this:
<response>
  <name>{{agentName}}</name>
  <reasoning>Your reasoning here</reasoning>
  <action>RESPOND | IGNORE | STOP</action>
</response>

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.
</output>`,cR=`<task>Generate dialog and actions for the character {{agentName}}.</task>

<providers>
{{providers}}
</providers>

<instructions>
Write a thought and plan for {{agentName}} and decide what actions to take. Also include the providers that {{agentName}} will use to have the right context for responding and acting, if any.

IMPORTANT ACTION ORDERING RULES:
- Actions are executed in the ORDER you list them - the order MATTERS!
- REPLY should come FIRST to acknowledge the user's request before executing other actions
- Common patterns:
  - For requests requiring tool use: REPLY,CALL_MCP_TOOL (acknowledge first, then gather info)
  - For task execution: REPLY,SEND_MESSAGE or REPLY,EVM_SWAP_TOKENS (acknowledge first, then do the task)
  - For multi-step operations: REPLY,ACTION1,ACTION2 (acknowledge first, then complete all steps)
- REPLY is used to acknowledge and inform the user about what you're going to do
- Follow-up actions execute the actual tasks after acknowledgment
- Use IGNORE only when you should not respond at all
- If you use IGNORE, do not include any other actions. IGNORE should be used alone when you should not respond or take any actions.

IMPORTANT PROVIDER SELECTION RULES:
- Only include providers if they are needed to respond accurately.
- If the message mentions images, photos, pictures, attachments, or visual content, OR if you see "(Attachments:" in the conversation, you MUST include "ATTACHMENTS" in your providers list
- If the message asks about or references specific people, include "ENTITIES" in your providers list  
- If the message asks about relationships or connections between people, include "RELATIONSHIPS" in your providers list
- If the message asks about facts or specific information, include "FACTS" in your providers list
- If the message asks about the environment or world context, include "WORLD" in your providers list
- If no additional context is needed, you may leave the providers list empty.

IMPORTANT CODE BLOCK FORMATTING RULES:
- If {{agentName}} includes code examples, snippets, or multi-line code in the response, ALWAYS wrap the code with \`\`\` fenced code blocks (specify the language if known, e.g., \`\`\`python).
- ONLY use fenced code blocks for actual code. Do NOT wrap non-code text, instructions, or single words in fenced code blocks.
- If including inline code (short single words or function names), use single backticks (\`) as appropriate.
- This ensures the user sees clearly formatted and copyable code when relevant.

First, think about what you want to do next and plan your actions. Then, write the next message and include the actions you plan to take.
</instructions>

<keys>
"thought" should be a short description of what the agent is thinking about and planning.
"actions" should be a comma-separated list of the actions {{agentName}} plans to take based on the thought, IN THE ORDER THEY SHOULD BE EXECUTED (if none, use IGNORE, if simply responding with text, use REPLY)
"providers" should be a comma-separated list of the providers that {{agentName}} will use to have the right context for responding and acting (NEVER use "IGNORE" as a provider - use specific provider names like ATTACHMENTS, ENTITIES, FACTS, KNOWLEDGE, etc.)
"text" should be the text of the next message for {{agentName}} which they will send to the conversation.
</keys>

<output>
Do NOT include any thinking, reasoning, or <think> sections in your response. 
Go directly to the XML response format without any preamble or explanation.

Respond using XML format like this:
<response>
    <thought>Your thought here</thought>
    <actions>ACTION1,ACTION2</actions>
    <providers>PROVIDER1,PROVIDER2</providers>
    <text>Your response text here</text>
</response>

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.
</output>`,qv$=`# Task: Create a post in the voice and style and perspective of {{agentName}} @{{twitterUserName}}.

Example task outputs:
1. A post about the importance of AI in our lives
<response>
  <thought>I am thinking about writing a post about the importance of AI in our lives</thought>
  <post>AI is changing the world and it is important to understand how it works</post>
  <imagePrompt>A futuristic cityscape with flying cars and people using AI to do things</imagePrompt>
</response>

2. A post about dogs
<response>
  <thought>I am thinking about writing a post about dogs</thought>
  <post>Dogs are man's best friend and they are loyal and loving</post>
  <imagePrompt>A dog playing with a ball in a park</imagePrompt>
</response>

3. A post about finding a new job
<response>
  <thought>Getting a job is hard, I bet there's a good tweet in that</thought>
  <post>Just keep going!</post>
  <imagePrompt>A person looking at a computer screen with a job search website</imagePrompt>
</response>

{{providers}}

Write a post that is {{adjective}} about {{topic}} (without mentioning {{topic}} directly), from the perspective of {{agentName}}. Do not add commentary or acknowledge this request, just write the post.
Your response should be 1, 2, or 3 sentences (choose the length at random).
Your response should not contain any questions. Brief, concise statements only. The total character count MUST be less than 280. No emojis. Use \\n\\n (double spaces) between statements if there are multiple statements in your response.

Your output should be formatted in XML like this:
<response>
  <thought>Your thought here</thought>
  <post>Your post text here</post>
  <imagePrompt>Optional image prompt here</imagePrompt>
</response>

The "post" field should be the post you want to send. Do not including any thinking or internal reflection in the "post" field.
The "imagePrompt" field is optional and should be a prompt for an image that is relevant to the post. It should be a single sentence that captures the essence of the post. ONLY USE THIS FIELD if it makes sense that the post would benefit from an image.
The "thought" field should be a short description of what the agent is thinking about before responding, including a brief justification for the response. Includate an explanation how the post is relevant to the topic but unique and different than other posts.

Do NOT include any thinking, reasoning, or <think> sections in your response. 
Go directly to the XML response format without any preamble or explanation.

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.`,_v$="Respond with only a YES or a NO.",mR=`<task>Analyze the provided image and generate a comprehensive description with multiple levels of detail.</task>

<instructions>
Carefully examine the image and provide:
1. A concise, descriptive title that captures the main subject or scene
2. A brief summary description (1-2 sentences) highlighting the key elements
3. An extensive, detailed description that covers all visible elements, composition, lighting, colors, mood, and any other relevant details

Be objective and descriptive. Focus on what you can actually see in the image rather than making assumptions about context or meaning.
</instructions>

<output>
Do NOT include any thinking, reasoning, or <think> sections in your response. 
Go directly to the XML response format without any preamble or explanation.

Respond using XML format like this:
<response>
  <title>A concise, descriptive title for the image</title>
  <description>A brief 1-2 sentence summary of the key elements in the image</description>
  <text>An extensive, detailed description covering all visible elements, composition, lighting, colors, mood, setting, objects, people, activities, and any other relevant details you can observe in the image</text>
</response>

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.
</output>`,dR=`<task>
Determine the next step the assistant should take in this conversation to help the user reach their goal.
</task>

{{recentMessages}}

# Multi-Step Workflow

In each step, decide:

1. **Which providers (if any)** should be called to gather necessary data.
2. **Which action (if any)** should be executed after providers return.
3. **What parameters** the action requires (if any).
4. Decide whether the task is complete. If so, set \`isFinish: true\`. Do not select the \`REPLY\` action; replies are handled separately after task completion.

You can select **multiple providers** and at most **one action** per step.

If the task is fully resolved and no further steps are needed, mark the step as \`isFinish: true\`.

---

{{actionsWithParams}}

{{providersWithDescriptions}}

These are the actions or data provider calls that have already been used in this run. Use this to avoid redundancy and guide your next move.

{{actionResults}}

<keys>
"thought" Clearly explain your reasoning for the selected providers and/or action, and how this step contributes to resolving the user's request.
"action" Name of the action to execute after providers return. Omit or use empty string "" if isFinish: true or no action needed.
"parameters" JSON object with exact parameter names and values for the action. Use empty object {} if no parameters are needed.
"providers" List of provider names to call in this step (can be empty if none are needed).
"isFinish" Set to true only if the task is fully complete.
</keys>

 IMPORTANT: Do **not** mark the task as \`isFinish: true\` immediately after calling an action. Wait for the action to complete before deciding the task is finished.

<output>
<response>
  <thought>Your thought here</thought>
  <action>ACTION_NAME or ""</action>
  <parameters>
    {
      "param1": "value1",
      "param2": "value2"
    }
  </parameters>
  <providers>PROVIDER1,PROVIDER2</providers>
  <isFinish>true | false</isFinish>
</response>
</output>`,lR=`<task>
Summarize what the assistant has done so far and provide a final response to the user based on the completed steps.
</task>

# Context Information
{{bio}}

---

{{system}}

---

{{messageDirections}}

# Conversation Summary
Below is the users original request and conversation so far:
{{recentMessages}}

# Execution Trace
Here are the actions taken by the assistant to fulfill the request:
{{actionResults}}

# Assistants Last Reasoning Step
{{recentMessage}}

# Instructions

 - Review the execution trace and last reasoning step carefully

 - Your final output MUST be in this XML format:
<output>
<response>
  <thought>Your thought here</thought>
  <text>Your final message to the user</text>
</response>
</output>
`;async function Ov$($,q,_){let P=w_($,_),K=await $.getWorld(P);if(!K||!K.metadata?.roles)return"NONE";if(K.metadata.roles[q])return K.metadata.roles[q];return"NONE"}async function jv$($,q){if(!q)return M6.error({src:"core:roles",agentId:$.agentId},"User ID is required to find server"),null;let _=await $.getAllWorlds();if(!_||_.length===0)return M6.debug({src:"core:roles",agentId:$.agentId},"No worlds found for agent"),null;let P=[];for(let K of _)if(K.metadata?.ownership?.ownerId===q)P.push(K);return P.length?P:null}var Nq=[];for(let $=0;$<256;++$)Nq.push(($+256).toString(16).slice(1));function rR($,q=0){return(Nq[$[q+0]]+Nq[$[q+1]]+Nq[$[q+2]]+Nq[$[q+3]]+"-"+Nq[$[q+4]]+Nq[$[q+5]]+"-"+Nq[$[q+6]]+Nq[$[q+7]]+"-"+Nq[$[q+8]]+Nq[$[q+9]]+"-"+Nq[$[q+10]]+Nq[$[q+11]]+Nq[$[q+12]]+Nq[$[q+13]]+Nq[$[q+14]]+Nq[$[q+15]]).toLowerCase()}var SZ,Ja=new Uint8Array(16);function MZ(){if(!SZ){if(typeof crypto>"u"||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");SZ=crypto.getRandomValues.bind(crypto)}return SZ(Ja)}var Wa=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),NZ={randomUUID:Wa};function Ha($,q,_){$=$||{};let P=$.random??$.rng?.()??MZ();if(P.length<16)throw Error("Random bytes length must be >= 16");if(P[6]=P[6]&15|64,P[8]=P[8]&63|128,q){if(_=_||0,_<0||_+16>q.length)throw RangeError(`UUID byte range ${_}:${_+15} is out of buffer bounds`);for(let K=0;K<16;++K)q[_+K]=P[K];return q}return rR(P)}function Ta($,q,_){if(NZ.randomUUID&&!q&&!$)return NZ.randomUUID();return Ha($,q,_)}var O8=Ta;function Q7($){if(typeof $!=="object"||$===null)return!1;if(Array.isArray($))return!1;if(wZ($))return!1;if($ instanceof Date)return!1;if($ instanceof RegExp)return!1;if($ instanceof Map)return!1;if($ instanceof Set)return!1;if($ instanceof WeakMap)return!1;if($ instanceof WeakSet)return!1;if($ instanceof Error)return!1;if($ instanceof Promise)return!1;return!0}var a7=new Map;class CZ{async handleMessage($,q,_,P){let K={maxRetries:P?.maxRetries??3,timeoutDuration:P?.timeoutDuration??3600000,useMultiStep:P?.useMultiStep??F7(String($.getSetting("USE_MULTI_STEP")||"")),maxMultiStepIterations:P?.maxMultiStepIterations??parseInt(String($.getSetting("MAX_MULTISTEP_ITERATIONS")||"6")),onStreamChunk:P?.onStreamChunk},O=void 0,Y=qO(O8());try{if($.logger.info({src:"service:message",agentId:$.agentId,entityId:q.entityId,roomId:q.roomId},"Message received"),!a7.has($.agentId))a7.set($.agentId,new Map);let v=a7.get($.agentId);if(!v)throw Error("Agent responses map not found");let W=v.get(q.roomId);if(W)M6.debug({src:"service:message",roomId:q.roomId,previousResponseId:W,responseId:Y},"Updating response ID");v.set(q.roomId,Y);let T=$.startRun(q.roomId),Z=Date.now();await $.emitEvent("RUN_STARTED",{runtime:$,source:"messageHandler",runId:T,messageId:q.id,roomId:q.roomId,entityId:q.entityId,startTime:Z,status:"started"});let w=new Promise((E,D)=>{O=setTimeout(async()=>{await $.emitEvent("RUN_TIMEOUT",{runtime:$,source:"messageHandler",runId:T,messageId:q.id,roomId:q.roomId,entityId:q.entityId,startTime:Z,status:"timeout",endTime:Date.now(),duration:Date.now()-Z,error:"Run exceeded timeout"}),D(Error("Run exceeded timeout"))},K.timeoutDuration)}),k=K.useMultiStep??F7(String($.getSetting("USE_MULTI_STEP")||"")),M=K.onStreamChunk&&!k?XZ(new QY,K.onStreamChunk,Y):void 0,N=kK(M,()=>this.processMessage($,q,_,Y,T,Z,K)),R=await Promise.race([N,w]);return clearTimeout(O),R}finally{clearTimeout(O)}}async processMessage($,q,_,P,K,O,Y){try{let v=a7.get($.agentId);if(!v)throw Error("Agent responses map not found");if(q.entityId===$.agentId)return $.logger.debug({src:"service:message",agentId:$.agentId},"Skipping message from self"),await this.emitRunEnded($,K,q,O,"self"),{didRespond:!1,responseContent:null,responseMessages:[],state:{values:{},data:{},text:""},mode:"none"};$.logger.debug({src:"service:message",messagePreview:hR(q.content.text||"",50)},"Processing message"),$.logger.debug({src:"service:message"},"Saving message to memory");let W;if(q.id){let j=await $.getMemoryById(q.id);if(j)$.logger.debug({src:"service:message"},"Memory already exists, skipping creation"),W=j;else{let J=await $.createMemory(q,"messages");W={...q,id:J}}await $.queueEmbeddingGeneration(W,"high")}else{let j=await $.createMemory(q,"messages");q.id=j,W={...q,id:j},await $.queueEmbeddingGeneration(W,"normal")}let T=await $.getParticipantUserState(q.roomId,$.agentId);if(F7(String($.getSetting("BOOTSTRAP_DEFLLMOFF")||""))&&T===null)return $.logger.debug({src:"service:message"},"LLM is off by default"),await this.emitRunEnded($,K,q,O,"off"),{didRespond:!1,responseContent:null,responseMessages:[],state:{values:{},data:{},text:""},mode:"none"};if(T==="MUTED"&&!q.content.text?.toLowerCase().includes($.character.name.toLowerCase()))return $.logger.debug({src:"service:message",roomId:q.roomId},"Ignoring muted room"),await this.emitRunEnded($,K,q,O,"muted"),{didRespond:!1,responseContent:null,responseMessages:[],state:{values:{},data:{},text:""},mode:"none"};let w=await $.composeState(q,["ANXIETY","ENTITIES","CHARACTER","RECENT_MESSAGES","ACTIONS"],!0),k=q.content.mentionContext,M=await $.getRoom(q.roomId);if(q.content.attachments&&q.content.attachments.length>0){if(q.content.attachments=await this.processAttachments($,q.content.attachments),q.id)await $.updateMemory({id:q.id,content:q.content})}let N=this.shouldRespond($,q,M??void 0,k);$.logger.debug({src:"service:message",responseDecision:N},"Response decision");let R=!0;if(N.skipEvaluation)$.logger.debug({src:"service:message",agentName:$.character.name,reason:N.reason},"Skipping LLM evaluation"),R=N.shouldRespond;else{let j=t7({state:w,template:$.character.templates?.shouldRespondTemplate||pR});$.logger.debug({src:"service:message",agentName:$.character.name,reason:N.reason},"Using LLM evaluation");let J=await $.useModel(A6.TEXT_SMALL,{prompt:j});$.logger.debug({src:"service:message",response:J},"LLM evaluation result");let X=T_(J);$.logger.debug({src:"service:message",responseObject:X},"Parsed evaluation result");let H=["IGNORE","NONE"],f=X?.action;R=typeof f==="string"&&!H.includes(f.toUpperCase())}let E=null,D=[],h="none";if(R){let j=Y.useMultiStep?await this.runMultiStepCore($,q,w,_,Y,P):await this.runSingleShotCore($,q,w,Y,P);if(E=j.responseContent,D=j.responseMessages,w=j.state,h=j.mode,v.get(q.roomId)!==P)return $.logger.info({src:"service:message",agentId:$.agentId,roomId:q.roomId},"Response discarded - newer message being processed"),{didRespond:!1,responseContent:null,responseMessages:[],state:w,mode:"none"};if(E&&q.id)E.inReplyTo=w_($,q.id);if(E?.providers?.length&&E.providers.length>0)w=await $.composeState(q,E.providers||[]);if(E){if(h==="simple"){if(E.providers&&E.providers.length>0)$.logger.debug({src:"service:message",providers:E.providers},"Simple response used providers");if(_)await _(E)}else if(h==="actions")await $.processActions(q,D,w,async(X)=>{if($.logger.debug({src:"service:message",content:X},"Action callback"),E.actionCallbacks=X,_)return _(X);return[]},{onStreamChunk:Y.onStreamChunk})}}else{$.logger.debug({src:"service:message"},"Agent decided not to respond");let j=v.get(q.roomId),J=F7(String($.getSetting("BOOTSTRAP_KEEP_RESP")||""));if(j!==P&&!J)return $.logger.info({src:"service:message",agentId:$.agentId,roomId:q.roomId},"Ignore response discarded - newer message being processed"),await this.emitRunEnded($,K,q,O,"replaced"),{didRespond:!1,responseContent:null,responseMessages:[],state:w,mode:"none"};if(!q.id)return $.logger.error({src:"service:message",agentId:$.agentId},"Message ID is missing, cannot create ignore response"),await this.emitRunEnded($,K,q,O,"noMessageId"),{didRespond:!1,responseContent:null,responseMessages:[],state:w,mode:"none"};let X={thought:"Agent decided not to respond to this message.",actions:["IGNORE"],simple:!0,inReplyTo:w_($,q.id)};if(_)await _(X);let H={id:qO(O8()),entityId:$.agentId,agentId:$.agentId,content:X,roomId:q.roomId,createdAt:Date.now()};await $.createMemory(H,"messages"),$.logger.debug({src:"service:message",memoryId:H.id},"Saved ignore response to memory")}if(v.delete(q.roomId),v.size===0)a7.delete($.agentId);await $.evaluate(q,w,R,async(j)=>{if($.logger.debug({src:"service:message",content:j},"Evaluate callback"),E)E.evalCallbacks=j;if(_)return _(j);return[]},D);let L="noname";if(q.metadata&&"entityName"in q.metadata&&typeof q.metadata.entityName==="string")L=q.metadata.entityName;let b=q.content?.channelType==="DM",y=L;if(!b){let j=await $.getRoomsByIds([q.roomId]);if(j?.length){let J=j[0];if(J.name)y=J.name;if(J.worldId){let X=await $.getWorld(J.worldId);if(X)y=X.name+"-"+y}}}let p=new Date,i=w.data?.providers,Q=(typeof i==="object"&&i!==null&&"ACTIONS"in i?i.ACTIONS:void 0)?.data?.actionsData,c=Array.isArray(Q)?Q.map((j)=>j.name):[-1],a={at:p.toString(),timestamp:parseInt(""+p.getTime()/1000),messageId:q.id,userEntityId:q.entityId,input:q.content.text,thought:E?.thought,simple:E?.simple,availableActions:c,actions:E?.actions,providers:E?.providers,irt:E?.inReplyTo,output:E?.text,entityName:L,source:q.content.source,channelType:q.content.channelType,roomName:y};return await $.emitEvent("RUN_ENDED",{runtime:$,source:"messageHandler",runId:K,messageId:q.id,roomId:q.roomId,entityId:q.entityId,startTime:O,status:"completed",endTime:Date.now(),duration:Date.now()-O}),{didRespond:R,responseContent:E,responseMessages:D,state:w,mode:h}}catch(v){let W=v instanceof Error?v.message:String(v);throw $.logger.error({src:"service:message",agentId:$.agentId,error:v},"Error processing message"),await $.emitEvent("RUN_ENDED",{runtime:$,source:"messageHandler",runId:K,messageId:q.id,roomId:q.roomId,entityId:q.entityId,startTime:O,status:"completed",endTime:Date.now(),duration:Date.now()-O,error:W}),v}}shouldRespond($,q,_,P){if(!_)return{shouldRespond:!1,skipEvaluation:!0,reason:"no room context"};function K(N){if(!N||typeof N!=="string")return[];return N.trim().replace(/^\[|\]$/g,"").split(",").map((E)=>E.trim()).filter(Boolean)}let O=["DM","VOICE_DM","SELF","API"],Y=["client_chat"],v=K($.getSetting("ALWAYS_RESPOND_CHANNELS")||$.getSetting("SHOULD_RESPOND_BYPASS_TYPES")),W=K($.getSetting("ALWAYS_RESPOND_SOURCES")||$.getSetting("SHOULD_RESPOND_BYPASS_SOURCES")),T=new Set([...O.map((N)=>N.toString()),...v].map((N)=>N.trim().toLowerCase())),Z=[...Y,...W].map((N)=>N.trim().toLowerCase()),w=_.type?.toString().toLowerCase(),k=q.content.source?.toLowerCase()||"";if(T.has(w))return{shouldRespond:!0,skipEvaluation:!0,reason:`private channel: ${w}`};if(Z.some((N)=>k.includes(N)))return{shouldRespond:!0,skipEvaluation:!0,reason:`whitelisted source: ${k}`};if(!!(P?.isMention||P?.isReply))return{shouldRespond:!0,skipEvaluation:!0,reason:`platform ${P?.isMention?"mention":"reply"}`};return{shouldRespond:!1,skipEvaluation:!1,reason:"needs LLM evaluation"}}async processAttachments($,q){if(!q||q.length===0)return[];$.logger.debug({src:"service:message",count:q.length},"Processing attachments");let _=[];for(let P of q){let K={...P},O=/^(http|https):\/\//.test(P.url),Y=O?P.url:gR(P.url);if(P.contentType==="image"&&!P.description){$.logger.debug({src:"service:message",imageUrl:P.url},"Generating image description");let v=Y;if(!O){let T=await fetch(Y);if(!T.ok)throw Error(`Failed to fetch image: ${T.statusText}`);let Z=await T.arrayBuffer(),w=Buffer.from(Z);v=`data:${T.headers.get("content-type")||"application/octet-stream"};base64,${w.toString("base64")}`}let W=await $.useModel(A6.IMAGE_DESCRIPTION,{prompt:mR,imageUrl:v});if(typeof W==="string"){let T=T_(W);if(T&&(T.description||T.text))K.description=(typeof T.description==="string"?T.description:"")||"",K.title=(typeof T.title==="string"?T.title:"Image")||"Image",K.text=(typeof T.text==="string"?T.text:"")||(typeof T.description==="string"?T.description:"")||"",$.logger.debug({src:"service:message",descriptionPreview:K.description?.substring(0,100)},"Generated image description");else{let Z=W,w=Z.match(/<title>([^<]+)<\/title>/),k=Z.match(/<description>([^<]+)<\/description>/),M=Z.match(/<text>([^<]+)<\/text>/);if(w||k||M)K.title=w?.[1]||"Image",K.description=k?.[1]||"",K.text=M?.[1]||k?.[1]||"",$.logger.debug({src:"service:message",descriptionPreview:K.description?.substring(0,100)},"Used fallback XML parsing for description");else $.logger.warn({src:"service:message"},"Failed to parse XML response for image description")}}else if(W&&typeof W==="object"&&"description"in W){let T=W;K.description=T.description,K.title=T.title||"Image",K.text=T.description,$.logger.debug({src:"service:message",descriptionPreview:K.description?.substring(0,100)},"Generated image description")}else $.logger.warn({src:"service:message"},"Unexpected response format for image description")}else if(P.contentType==="document"&&!P.text){let v=await fetch(Y);if(!v.ok)throw Error(`Failed to fetch document: ${v.statusText}`);let W=v.headers.get("content-type")||"";if(W.startsWith("text/plain")){$.logger.debug({src:"service:message",documentUrl:P.url},"Processing plain text document");let Z=await v.text();K.text=Z,K.title=K.title||"Text File",$.logger.debug({src:"service:message",textPreview:K.text?.substring(0,100)},"Extracted text content")}else $.logger.warn({src:"service:message",contentType:W},"Skipping non-plain-text document")}_.push(K)}return _}async runSingleShotCore($,q,_,P,K){if(_=await $.composeState(q,["ACTIONS"]),!_.values?.actionNames)$.logger.warn({src:"service:message"},"actionNames data missing from state");let O=t7({state:_,template:$.character.templates?.messageHandlerTemplate||cR}),Y=null,v=0;while(v<P.maxRetries&&(!Y?.thought||!Y?.actions)){let M=Y4();if(v>0&&M?.isComplete?.()){$.logger.info({src:"service:message",retries:v},"Text extraction complete despite XML parse failure - skipping further retries");break}if(v>0){let E=M?.getStreamedText?.()||"";if(E.length>0){$.logger.debug({src:"service:message",streamedTextLength:E.length},"Partial text streamed - exiting retry loop for continuation");break}M?.reset?.()}let N=await $.useModel(A6.TEXT_LARGE,{prompt:O});$.logger.info({src:"service:message",responseLength:N.length,responsePreview:N.substring(0,500)},"Raw LLM response received");let R=T_(N);if($.logger.info({src:"service:message",parsedXml:R?{hasThought:!!R.thought,thoughtPreview:typeof R.thought==="string"?R.thought.substring(0,100):null,hasActions:!!R.actions,actions:R.actions,hasText:!!R.text,textPreview:typeof R.text==="string"?R.text.substring(0,100):null}:null},"Parsed XML content"),R){let E=typeof R.thought==="string"?R.thought:"",D=Array.isArray(R.actions)?R.actions.filter((y)=>typeof y==="string"):typeof R.actions==="string"?[R.actions]:["IGNORE"],h=Array.isArray(R.providers)?R.providers.filter((y)=>typeof y==="string"):[],L=typeof R.text==="string"?R.text:"",b=typeof R.simple==="boolean"?R.simple:!1;Y={...R,thought:E,actions:D,providers:h,text:L,simple:b}}else Y=null,$.logger.warn({src:"service:message",responsePreview:N.substring(0,300)},"parseKeyValueXml returned null - XML parsing failed");if(v++,!Y?.thought||!Y?.actions)$.logger.warn({src:"service:message",retries:v,maxRetries:P.maxRetries,hasThought:!!Y?.thought,hasActions:!!Y?.actions,actionsValue:Y?.actions},"Missing required fields (thought or actions), retrying")}let W=Y4(),T=W?.getStreamedText?.()||"",Z=W?.isComplete?.()??!1;if(Z&&T&&(!Y||!Y.text))$.logger.info({src:"service:message",streamedTextLength:T.length,streamedTextPreview:T.substring(0,100),hadResponseContent:!!Y},"Text extraction complete - using streamed text"),Y={...Y||{},thought:Y?.thought||"Response generated via streaming",actions:Y?.actions||["REPLY"],providers:Y?.providers||[],text:T,simple:!0};else if(T&&!Z){$.logger.debug({src:"service:message",streamedTextLength:T.length,streamedTextPreview:T.substring(0,100)},"Text cut mid-stream - attempting continuation"),W?.reset?.();let M=`${O}

[CONTINUATION REQUIRED]
Your previous response was cut off. The user already received this text:
"${T}"

Continue EXACTLY from where you left off. Do NOT repeat what was already said.
Output ONLY the continuation, starting immediately after the last character above.
Wrap your continuation in <text></text> tags.`,N=await kK(W,()=>$.useModel(A6.TEXT_LARGE,{prompt:M}));$.logger.debug({src:"service:message",continuationLength:N.length,continuationPreview:N.substring(0,200)},"Continuation response received");let R=T_(N),E=typeof R?.text==="string"?R.text:"";if(E){let D=T+E;Y={...Y||{},thought:Y?.thought||"Response completed via continuation",actions:Y?.actions||["REPLY"],providers:Y?.providers||[],text:D,simple:!0},$.logger.info({src:"service:message",fullTextLength:D.length},"Continuation successful - combined text")}}if(!Y)return{responseContent:null,responseMessages:[],state:_,mode:"none"};if(Y.actions&&Y.actions.length>1){let M=(R)=>typeof R==="string"&&R.toUpperCase()==="IGNORE";if(Y.actions.some(M))if(!Y.text||Y.text.trim()==="")Y.actions=["IGNORE"];else{let R=Y.actions.filter((E)=>!M(E));Y.actions=R.length?R:["REPLY"]}}let w=Y.actions?.length===1&&typeof Y.actions[0]==="string"&&Y.actions[0].toUpperCase()==="REPLY"&&(!Y.providers||Y.providers.length===0);Y.simple=w,Y.responseId=K;let k=[{id:K,entityId:$.agentId,agentId:$.agentId,content:Y,roomId:q.roomId,createdAt:Date.now()}];return{responseContent:Y,responseMessages:k,state:_,mode:w&&Y.text?"simple":"actions"}}async runMultiStepCore($,q,_,P,K,O){let Y=[],v=_,W=0;$.logger.info({src:"service:message:multistep",responseId:O,maxIterations:K.maxMultiStepIterations,streamingEnabled:!!K.onStreamChunk},"Starting multi-step processing");while(W<K.maxMultiStepIterations){W++,$.logger.info({src:"service:message:multistep",step:W,maxSteps:K.maxMultiStepIterations},`Step ${W}/${K.maxMultiStepIterations} - Beginning iteration`),v=await $.composeState(q,["RECENT_MESSAGES","ACTION_STATE"]),v.data.actionResults=Y;let y=t7({state:v,template:$.character.templates?.multiStepDecisionTemplate||dR}),p=$.getSetting("MULTISTEP_PARSE_RETRIES"),i=parseInt(String(p??"5"),10),$$=Math.max(1,Math.min(10,isNaN(i)?5:i)),Q="",c=null;for(let o=1;o<=$$;o++)try{if($.logger.debug({src:"service:message",attempt:o,maxAttempts:$$,iteration:W},"Decision step model call attempt"),Q=await $.useModel(A6.TEXT_LARGE,{prompt:y}),c=T_(Q),c){$.logger.debug({src:"service:message",attempt:o,iteration:W},"Successfully parsed decision step");break}else if($.logger.warn({src:"service:message",attempt:o,maxAttempts:$$,iteration:W,rawResponsePreview:Q.substring(0,200)},"Failed to parse XML response"),o<$$){let T$=Math.min(1000*Math.pow(2,o-1),8000);await new Promise((e)=>setTimeout(e,T$))}}catch(T$){if($.logger.error({src:"service:message",attempt:o,maxAttempts:$$,iteration:W,error:T$ instanceof Error?T$.message:String(T$)},"Error during model call attempt"),o>=$$)throw T$;let e=Math.min(1000*Math.pow(2,o-1),8000);await new Promise((n)=>setTimeout(n,e))}if(!c){$.logger.warn({src:"service:message",iteration:W,maxParseRetries:$$},"Failed to parse step result after all retry attempts"),Y.push({data:{actionName:"parse_error"},success:!1,error:`Failed to parse step result after ${$$} attempts`});break}let a=typeof c.thought==="string"?c.thought:void 0,j=Array.isArray(c.providers)?c.providers:[],J=typeof c.action==="string"?c.action.trim():void 0,X=J&&J.length>0?J:void 0,H=c.isFinish,f=c.parameters;$.logger.info({src:"service:message:multistep",step:W,thought:a?a.substring(0,100)+(a.length>100?"...":""):null,action:X||null,providers:j.length>0?j:null,isFinish:H==="true"||H===!0},`Step ${W} - Decision: ${X||"no action"}${j.length>0?`, providers: [${j.join(", ")}]`:""}`);let V={};if(f){if(typeof f==="string")try{let o=JSON.parse(f);if(o!==null&&typeof o==="object"&&!Array.isArray(o))V=o,$.logger.debug({src:"service:message",params:V},"Parsed action parameters from string");else $.logger.warn({src:"service:message",rawParams:f,parsedType:o===null?"null":Array.isArray(o)?"array":typeof o},"Parsed parameters is not a valid object, ignoring")}catch(o){$.logger.warn({src:"service:message",rawParams:f,error:o instanceof Error?o.message:String(o)},"Failed to parse parameters JSON")}else if(typeof f==="object"&&f!==null&&!Array.isArray(f))V=f,$.logger.debug({src:"service:message",params:V},"Using parameters object directly");else if(Array.isArray(f))$.logger.warn({src:"service:message",rawParams:f},"Parameters is an array, expected object, ignoring")}if(X&&Object.keys(V).length>0){v.data.actionParams=V;let o=X.toLowerCase().replace(/_/g,"");v.data[o]={...V,_source:"multiStepDecisionTemplate",_timestamp:Date.now()},$.logger.info({src:"service:message",action:X,params:V},"Stored parameters for action")}if(H==="true"||H===!0){if($.logger.info({src:"service:message:multistep",step:W,totalActions:Y.length},`Step ${W} - Task marked as finished by agent`),P)await P({text:"",thought:typeof a==="string"?a:""});break}let S=Array.isArray(j)?j:[];if((!S||S.length===0)&&!X){$.logger.warn({src:"service:message",iteration:W},"No providers or action specified, forcing completion");break}let A=parseInt(String($.getSetting("PROVIDERS_TOTAL_TIMEOUT_MS")||"1000")),z=new Set;$.logger.info({src:"service:message:multistep",step:W,providers:S,parallelExecution:!0},`Step ${W} - Executing ${S.length} providers in parallel`);let G=S.filter((o)=>typeof o==="string").map(async(o)=>{$.logger.debug({src:"service:message:multistep",step:W,provider:o},`Step ${W} - Starting provider: ${o}`);let T$=$.providers.find((e)=>e.name===o);if(!T$)return $.logger.warn({src:"service:message:multistep",step:W,providerName:o},`Step ${W} - Provider not found: ${o}`),z.add(o),{providerName:o,success:!1,error:`Provider not found: ${o}`};try{let e=await T$.get($,q,v);if(z.add(o),!e)return $.logger.warn({src:"service:message:multistep",step:W,providerName:o},`Step ${W} - Provider returned no result: ${o}`),{providerName:o,success:!1,error:"Provider returned no result"};let n=!!e.text;return $.logger.info({src:"service:message:multistep",step:W,provider:o,success:n,resultLength:e.text?.length||0},`Step ${W} - Provider completed: ${o} (${n?e.text?.length||0:0} chars)`),{providerName:o,success:n,text:n?e.text:void 0,error:n?void 0:"Provider returned no result"}}catch(e){z.add(o);let n=e instanceof Error?e.message:String(e);return $.logger.error({src:"service:message:multistep",step:W,providerName:o,error:n},`Step ${W} - Provider execution failed: ${o}`),{providerName:o,success:!1,error:n}}}),I,C=new Promise((o)=>{I=setTimeout(()=>o("timeout"),A)}),g=Promise.allSettled(G),x=await Promise.race([g,C]);if(clearTimeout(I),x==="timeout"){let T$=S.filter((e)=>typeof e==="string").filter((e)=>!z.has(e));if($.logger.error({src:"service:message:multistep",step:W,timeoutMs:A,pendingProviders:T$,completedProviders:Array.from(z)},`Step ${W} - Provider timeout (>${A}ms): ${T$.join(", ")}`),P)await P({text:"Providers took too long to respond. Please optimize your providers or use caching.",actions:[],thought:"Provider timeout - pipeline aborted"});return{responseContent:null,responseMessages:[],state:_,mode:"none"}}let l=x;for(let o of l)if(o.status==="fulfilled"){let{providerName:T$,success:e,text:n,error:j$}=o.value;if(Y.push({data:{actionName:T$},success:e,text:n,error:j$}),P)await P({text:`\uD83D\uDD0E Provider executed: ${T$}`,actions:[T$],thought:typeof a==="string"?a:""})}else $.logger.error({src:"service:message",error:o.reason||"Unknown provider failure"},"Unexpected provider promise rejection");if(X){$.logger.info({src:"service:message:multistep",step:W,action:X},`Step ${W} - Executing action: ${X}`);let o={text:`\uD83D\uDD0E Executing action: ${X}`,actions:[X],thought:a||""};await $.processActions(q,[{id:O8(),entityId:$.agentId,roomId:q.roomId,createdAt:Date.now(),content:o}],v,async()=>{return[]},{onStreamChunk:K.onStreamChunk});let T$=$.stateCache?.get(`${q.id}_action_results`),e=Array.isArray(T$?.values?.actionResults)?T$.values.actionResults:[],n=e.length>0&&typeof e[0]==="object"&&e[0]!==null?e[0]:null,j$=n&&"success"in n&&typeof n.success==="boolean"?n.success:!1,s=n&&"text"in n&&typeof n.text==="string"?n.text:void 0;Y.push({data:{actionName:typeof X==="string"?X:"unknown"},success:j$,text:s,values:n&&"values"in n&&typeof n.values==="object"&&n.values!==null?n.values:void 0,error:j$?void 0:s}),$.logger.info({src:"service:message:multistep",step:W,action:X,success:j$,resultLength:s?.length||0},`Step ${W} - Action completed: ${X} (success=${j$})`)}}if(W>=K.maxMultiStepIterations)$.logger.warn({src:"service:message:multistep",maxIterations:K.maxMultiStepIterations},`Reached maximum iterations (${K.maxMultiStepIterations}), forcing completion`);$.logger.info({src:"service:message:multistep",totalSteps:W,actionsExecuted:Y.length,streamingEnabled:!!K.onStreamChunk},`Generating summary (${W} steps completed, ${Y.length} actions traced)`),v=await $.composeState(q,["RECENT_MESSAGES","ACTION_STATE"]);let T=t7({state:v,template:$.character.templates?.multiStepSummaryTemplate||lR}),Z=$.getSetting("MULTISTEP_SUMMARY_PARSE_RETRIES"),w=parseInt(String(Z??"5"),10),k=Math.max(1,Math.min(10,isNaN(w)?5:w)),M="",N=null,R=K.onStreamChunk?XZ(new GZ("text"),K.onStreamChunk,O):void 0;for(let y=1;y<=k;y++){if(y>1&&R?.isComplete?.()){$.logger.info({src:"service:message:multistep",attempt:y},"Summary text extraction complete despite XML parse failure - skipping further retries");break}try{if($.logger.debug({src:"service:message",attempt:y,maxAttempts:k},"Summary generation attempt"),y>1&&R){let p=R.getStreamedText?.()||"";if(p.length>0){$.logger.debug({src:"service:message:multistep",streamedTextLength:p.length},"Partial text streamed - exiting retry loop for continuation");break}R.reset?.()}if(R)M=await kK(R,()=>$.useModel(A6.TEXT_LARGE,{prompt:T}));else M=await $.useModel(A6.TEXT_LARGE,{prompt:T});if(N=T_(M),N?.text){$.logger.debug({src:"service:message",attempt:y},"Successfully parsed summary");break}else if($.logger.warn({src:"service:message",attempt:y,maxAttempts:k,rawResponsePreview:M.substring(0,200),streamedTextLength:R?.getStreamedText?.()?.length??0},"Failed to parse summary XML"),y<k){let p=Math.min(1000*Math.pow(2,y-1),8000);await new Promise((i)=>setTimeout(i,p))}}catch(p){if($.logger.error({src:"service:message",attempt:y,maxAttempts:k,error:p instanceof Error?p.message:String(p)},"Error during summary generation attempt"),y>=k){$.logger.warn({src:"service:message"},"Failed to generate summary after all retries, using fallback");break}let i=Math.min(1000*Math.pow(2,y-1),8000);await new Promise(($$)=>setTimeout($$,i))}}let E=R?.getStreamedText?.()||"",D=R?.isComplete?.()??!1;if(D&&E&&!N?.text)$.logger.info({src:"service:message:multistep",streamedTextLength:E.length,streamedTextPreview:E.substring(0,100),hadSummary:!!N},"Summary text extraction complete - using streamed text"),N={...N||{},text:E,thought:N?.thought||"Summary generated via streaming"};else if(E&&!D){$.logger.debug({src:"service:message:multistep",streamedTextLength:E.length,streamedTextPreview:E.substring(0,100)},"Summary text cut mid-stream - attempting continuation"),R?.reset?.();let y=`${T}

[CONTINUATION REQUIRED]
Your previous response was cut off. The user already received this text:
"${E}"

Continue EXACTLY from where you left off. Do NOT repeat what was already said.
Output ONLY the continuation, starting immediately after the last character above.
Wrap your continuation in <text></text> tags.`,p=await kK(R,()=>$.useModel(A6.TEXT_LARGE,{prompt:y})),i=T_(p),$$=typeof i?.text==="string"?i.text:"";if($$){let Q=E+$$;N={text:Q,thought:"Summary completed via continuation"},$.logger.info({src:"service:message:multistep",fullTextLength:Q.length},"Summary continuation successful")}}let h=null,L=N?.text;if(typeof L==="string"&&L){let y=N?.thought;h={actions:["MULTI_STEP_SUMMARY"],text:L,thought:(typeof y==="string"?y:"Final user-facing message after task completion.")||"Final user-facing message after task completion.",simple:!0,responseId:O}}else $.logger.warn({src:"service:message",maxSummaryRetries:k},"No valid summary generated after all attempts, using fallback"),h={actions:["MULTI_STEP_SUMMARY"],text:"I completed the requested actions, but encountered an issue generating the summary.",thought:"Summary generation failed after retries.",simple:!0,responseId:O};let b=h?[{id:O,entityId:$.agentId,agentId:$.agentId,content:h,roomId:q.roomId,createdAt:Date.now()}]:[];return $.logger.info({src:"service:message:multistep",responseId:O,totalSteps:W,actionsExecuted:Y.length,successfulActions:Y.filter((y)=>y.success).length,responseLength:h?.text?.length||0},`Complete - ${W} steps, ${Y.filter((y)=>y.success).length}/${Y.length} actions succeeded`),{responseContent:h,responseMessages:b,state:v,mode:h?"simple":"none"}}async emitRunEnded($,q,_,P,K){await $.emitEvent("RUN_ENDED",{runtime:$,source:"messageHandler",runId:q,messageId:_.id,roomId:_.roomId,entityId:_.entityId,startTime:P,status:K,endTime:Date.now(),duration:Date.now()-P})}async deleteMessage($,q){try{if(!q.id){$.logger.error({src:"service:message",agentId:$.agentId},"Cannot delete memory: message ID is missing");return}$.logger.info({src:"service:message",agentId:$.agentId,messageId:q.id,roomId:q.roomId},"Deleting memory"),await $.deleteMemory(q.id),$.logger.debug({src:"service:message",messageId:q.id},"Successfully deleted memory")}catch(_){throw $.logger.error({src:"service:message",agentId:$.agentId,error:_},"Error in deleteMessage"),_}}async clearChannel($,q,_){try{$.logger.info({src:"service:message",agentId:$.agentId,channelId:_,roomId:q},"Clearing message memories from channel");let P=await $.getMemoriesByRoomIds({tableName:"messages",roomIds:[q]});$.logger.debug({src:"service:message",channelId:_,count:P.length},"Found message memories to delete");let K=0;for(let O of P)if(O.id)try{await $.deleteMemory(O.id),K++}catch(Y){$.logger.warn({src:"service:message",error:Y,memoryId:O.id},"Failed to delete message memory")}$.logger.info({src:"service:message",agentId:$.agentId,channelId:_,deletedCount:K,totalCount:P.length},"Cleared message memories from channel")}catch(P){throw $.logger.error({src:"service:message",agentId:$.agentId,error:P},"Error in clearChannel"),P}}}var d_=($)=>{switch($){case 97:case 101:case 105:case 111:case 117:case 121:return!0;default:return!1}},wa=($)=>{switch($){case 97:case 101:case 105:case 111:case 117:case 121:case 119:case 120:case 89:return!0;default:return!1}},Za=($)=>{switch($){case 99:case 100:case 101:case 103:case 104:case 107:case 109:case 110:case 114:case 116:return!0;default:return!1}},fa=($)=>{switch($){case 98:case 100:case 102:case 103:case 109:case 110:case 112:case 114:case 116:return!0;default:return!1}},oR=($,q)=>{return q>=2&&d_($[q-2])&&(q===2&&!d_($[q-1])||q>=3&&!d_($[q-3])&&!wa($[q-1]))},Xa=($)=>{if($.length<3)return $;if($.length<=6)switch($){case"ski":return"ski";case"skies":return"sky";case"dying":return"die";case"lying":return"lie";case"tying":return"tie";case"idly":return"idl";case"gently":return"gentl";case"ugly":return"ugli";case"early":return"earli";case"only":return"onli";case"singly":return"singl";case"sky":case"news":case"howe":case"atlas":case"cosmos":case"bias":case"andes":return $}let q=$.charCodeAt(0)===39?1:0,_=$.length-q,P=Array(_),K=!1;for(let Z=0;Z<_;++Z){let w=$.charCodeAt(Z+q);if(w===121&&(Z===0||d_(P[Z-1]))){K=!0,P[Z]=89;continue}P[Z]=w}if(P[_-1]===39)--_;if(_>=2&&P[_-2]===39&&P[_-1]===115)_-=2;let O=0;while(O<_&&!d_(P[O]))++O;if(O<_)++O;let Y=O;if(_>=5&&(P[0]===103&&P[1]===101&&P[2]===110&&P[3]===101&&P[4]===114||P[0]===97&&P[1]===114&&P[2]===115&&P[3]===101&&P[4]===110))Y=5;else if(_>=6&&P[0]===99&&P[1]===111&&P[2]===109&&P[3]===109&&P[4]===117&&P[5]===110)Y=6;else{while(Y<_&&d_(P[Y]))++Y;if(Y<_)++Y}let v=Y;while(v<_&&!d_(P[v]))++v;while(v<_&&d_(P[v]))++v;if(v<_)++v;if(_>=3){if(P[_-1]===115){if(_>=4&&P[_-2]===101&&P[_-3]===115&&P[_-4]===115)_-=2;else if(P[_-2]===101&&P[_-3]===105)_-=_>=5?2:1;else if(P[_-2]!==117&&P[_-2]!==115&&O<_-1)_-=1}else if(P[_-1]===100&&P[_-2]===101&&P[_-3]===105)_-=_>=5?2:1}if(_===6&&(P[0]===105&&P[1]===110&&P[2]===110&&P[3]===105&&P[4]===110&&P[5]===103||P[0]===111&&P[1]===117&&P[2]===116&&P[3]===105&&P[4]===110&&P[5]===103||P[0]===101&&P[1]===120&&P[2]===99&&P[3]===101&&P[4]===101&&P[5]===100)||_===7&&(P[0]===99&&P[1]===97&&P[2]===110&&P[3]===110&&P[4]===105&&P[5]===110&&P[6]===103||P[0]===104&&P[1]===101&&P[2]===114&&P[3]===114&&P[4]===105&&P[5]===110&&P[6]===103||P[0]===101&&P[1]===97&&P[2]===114&&P[3]===114&&P[4]===105&&P[5]===110&&P[6]===103||P[0]===112&&P[1]===114&&P[2]===111&&P[3]===99&&P[4]===101&&P[5]===101&&P[6]===100||P[0]===115&&P[1]===117&&P[2]===99&&P[3]===99&&P[4]===101&&P[5]===101&&P[6]===100)){let Z="";for(let w=0;w<_;++w)Z+=String.fromCharCode(P[w]);return Z}let W=_>=2&&P[_-1]===121&&P[_-2]===108?_-2:_;if(W>=3)if(P[W-3]===101&&P[W-2]===101&&P[W-1]===100){if(W>=Y+3)_=W-1}else{if(P[W-2]===101&&P[W-1]===100)W-=2;else if(P[W-3]===105&&P[W-2]===110&&P[W-1]===103)W-=3;else W=-1;if(W>=0&&O<=W){if(_=W,_>=2){if(P[_-1]===116&&P[_-2]===97||P[_-1]===108&&P[_-2]===98||P[_-1]===122&&P[_-2]===105)P[_]=101,++_;else if(P[_-2]===P[_-1]&&fa(P[_-1]))--_;else if(Y>=_&&oR(P,_))P[_]=101,++_}}}if(_>=3&&(P[_-1]===89||P[_-1]===121)&&!d_(P[_-2]))P[_-1]=105;if(_>=Y+2)switch(P[_-1]){case 108:if(_>=Y+6&&P[_-2]===97&&P[_-3]===110&&P[_-4]===111&&P[_-5]===105&&P[_-6]===116)if(_>=7&&P[_-7]===97){if(_>=Y+7)_-=4,P[_-1]=101}else _-=2;break;case 110:if(_>=Y+5&&P[_-2]===111&&P[_-3]===105&&P[_-4]===116&&P[_-5]===97)if(_>=7&&P[_-6]===122&&P[_-7]===105){if(_>=Y+7)_-=4,P[_-1]=101}else _-=2,P[_-1]=101;break;case 114:if(_>=Y+4){if(P[_-2]===101){if(P[_-3]===122&&P[_-4]===105)--_}else if(P[_-2]===111){if(P[_-3]===116&&P[_-4]===97)--_,P[_-1]=101}}break;case 115:if(_>=Y+7&&P[_-2]===115&&P[_-3]===101&&P[_-4]===110&&(P[_-5]===108&&P[_-6]===117&&P[_-7]===102||P[_-5]===115&&P[_-6]===117&&P[_-7]===111||P[_-5]===101&&P[_-6]===118&&P[_-7]===105))_-=4;break;case 109:if(_>=Y+5&&P[_-2]===115&&P[_-3]===105&&P[_-4]===108&&P[_-5]===97)_-=3;break;case 105:if(P[_-2]===99){if(_>=Y+4&&(P[_-4]===101||P[_-4]===97)&&P[_-3]===110)P[_-1]=101}else if(P[_-2]===103){if(_>=Y+3&&_>=4&&P[_-2]===103&&P[_-3]===111&&P[_-4]===108)--_}else if(P[_-2]===116){if(_>=Y+5&&P[_-3]===105){if(P[_-4]===108){if(_>=6&&P[_-5]===105&&P[_-6]===98){if(_>=Y+6)_-=3,P[_-2]=108,P[_-1]=101}else if(P[_-4]===108&&P[_-5]===97)_-=3}else if(P[_-4]===118&&P[_-5]===105)_-=2,P[_-1]=101}}else if(P[_-2]===108&&_>=3){if(P[_-3]===98){if(_>=4&&P[_-4]===97){if(_>=Y+4)P[_-1]=101}else if(_>=Y+3)P[_-1]=101}else if(P[_-3]===108){if(_>=5&&P[_-4]===117&&P[_-5]===102){if(_>=Y+5)_-=2}else if(_>=Y+4&&P[_-4]===97)_-=2}else if(P[_-3]===115){if(_>=6&&P[_-4]===115&&P[_-5]===101&&P[_-6]===108){if(_>=Y+6)_-=2}else if(_>=Y+5&&P[_-4]===117&&P[_-5]===111)_-=2}else if(_>=5&&P[_-3]===116&&P[_-4]===110&&P[_-5]===101){if(_>=Y+5)_-=2}else if(Za(P[_-3]))_-=2}}if(_>=Y+3)switch(P[_-1]){case 108:if(P[_-3]===99){if(_>=Y+4&&P[_-4]===105&&P[_-2]===97)_-=2}else if(P[_-3]===102){if(P[_-2]===117)_-=3}else if(P[_-3]===110){if(_>=Y+6&&P[_-2]===97&&P[_-4]===111&&P[_-5]===105&&P[_-6]===116)if(_>=7&&P[_-7]===97){if(_>=Y+7)_-=4,P[_-1]=101}else _-=2}break;case 101:if(P[_-2]===122){if(_>=Y+5&&P[_-3]===105&&P[_-4]===108&&P[_-5]===97)_-=3}else if(P[_-2]===116){if(_>=Y+5&&P[_-3]===97&&P[_-4]===99&&P[_-5]===105)_-=3}else if(P[_-2]===118){if(_>=v+5&&P[_-3]===105&&P[_-4]===116&&P[_-5]===97)_-=5}break;case 105:if(_>=Y+5&&P[_-2]===116&&P[_-3]===105&&P[_-4]===99&&P[_-5]===105)_-=3;break;case 115:if(_>=Y+4&&P[_-2]===115&&P[_-3]===101&&P[_-4]===110)_-=4}if(_>=v+2)switch(P[_-1]){case 110:if(_>=v+3&&P[_-2]===111&&P[_-3]===105&&(P[_-4]===115||P[_-4]===116))_-=3;break;case 108:if(P[_-2]===97)_-=2;break;case 114:if(P[_-2]===101)_-=2;break;case 99:if(P[_-2]===105)_-=2;break;case 109:if(_>=v+3&&P[_-2]===115&&P[_-3]===105)_-=3;break;case 105:if(_>=v+3&&P[_-2]===116&&P[_-3]===105)_-=3;break;case 115:if(_>=v+3&&P[_-2]===117&&P[_-3]===111)_-=3;break;case 116:if(_>=v+3&&P[_-2]===110){if(P[_-3]===97)_-=3;else if(P[_-3]===101)if(_>=4&&P[_-4]===109){if(_>=5&&P[_-5]===101){if(_>=v+5)_-=5}else if(_>=v+4)_-=4}else _-=3}break;case 101:if(P[_-2]===99){if(_>=v+4&&P[_-3]===110&&(P[_-4]===97||P[_-4]===101))_-=4}else if(P[_-2]===108){if(_>=v+4&&P[_-3]===98&&(P[_-4]===97||P[_-4]===105))_-=4}else if(P[_-2]===116){if(_>=v+3&&P[_-3]===97)_-=3}else if(_>=v+3&&(P[_-2]===118||P[_-2]===122)&&P[_-3]===105)_-=3}if(_>=Y+1&&(_>=v+1&&P[_-1]===108&&P[_-2]===108||P[_-1]===101&&(_>=v+1||!oR(P,_-1))))--_;let T="";if(K)for(let Z=0;Z<_;++Z)T+=String.fromCharCode(P[Z]===89?121:P[Z]);else for(let Z=0;Z<_;++Z)T+=String.fromCharCode(P[Z]);return T},Aa={k1:1.2,b:0.75,minLength:2,stopWords:new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","were","will","with"]),stemming:!1,stemWords:($)=>$};class EZ{stopWords;minLength;stemming;stemmingRules;static DEFAULT_OPTIONS={stopWords:new Set,minLength:2,stemming:!1,stemmingRules:[]};constructor($={}){let q={...EZ.DEFAULT_OPTIONS,...$};this.stopWords=q.stopWords,this.minLength=q.minLength,this.stemming=q.stemming,this.stemmingRules=q.stemmingRules.map((_)=>({..._,pattern:typeof _.pattern==="string"?new RegExp(_.pattern):_.pattern}))}tokenize($,q=!1){if(!$)throw Error("Input text cannot be null or empty");let _=Date.now(),P=$.split(/\s+/).filter((v)=>v.length>0),O=this.cleanText($).split(/\s+/).filter((v)=>this.isValidToken(v)).map((v)=>this.stemming?this.stemWord(v):v),Y=q?{originalWordCount:P.length,stopWordsRemoved:P.length-O.length,stemmedWords:this.stemming?O.length:0,processingTimeMs:Date.now()-_}:{originalWordCount:0,stopWordsRemoved:0,stemmedWords:0,processingTimeMs:0};return{tokens:O,stats:Y}}cleanText($){return $.toLowerCase().normalize("NFKD").replace(/[\u0000-\u001F\u007F-\u009F\u200B-\u200D\uFEFF]/g,"").replace(/[\u0300-\u036f]/g,"").replace(/[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu,"").replace(/[]/g,"").replace(/[\p{P}]/gu," ").replace(/[^a-z0-9\u3040-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uAC00-\uD7AF\s]/gu," ").replace(/\s+/g," ").trim()}isValidToken($){let q=/^\d+$/.test($);return($.length>=this.minLength||q)&&!this.stopWords.has($)}stemWord($){if($.length<3)return $;let q=!1,_=$;for(let P of this.stemmingRules){let K=_.match(P.pattern);if(K){if(!P.minMeasure||this.measure(_.substring(0,K.index))>=P.minMeasure){if(typeof P.replacement==="string")_=_.replace(P.pattern,P.replacement);else _=_.replace(P.pattern,(...O)=>P.replacement(...O));q=!0}}}if(q&&_!==$)return _;return Xa(_)}isConsonant($,q){let _=$[q];if("aeiou".includes(_))return!1;return _!=="y"||(q===0?!0:!this.isConsonant($,q-1))}measure($){let q=0,_=!1;for(let P=0;P<$.length;P++)if(this.isConsonant($,P)){if(_)q++,_=!1}else _=!0;return q}}class RZ{termFrequencySaturation;lengthNormalizationFactor;tokenizer;documentLengths;averageDocLength;termToIndex;documentFrequency;termFrequencies;fieldBoosts;documents;constructor($,q={}){let _={...Aa,...q};if(this.termFrequencySaturation=_.k1,this.lengthNormalizationFactor=_.b,this.tokenizer=new EZ(_),this.fieldBoosts=_.fieldBoosts||{},this.documents=[],this.documentLengths=new Uint32Array(0),this.termToIndex=new Map,this.documentFrequency=new Uint32Array(0),this.averageDocLength=0,this.termFrequencies=new Map,$&&$.length>0){this.documents=[...$];let{documentLengths:P,termToIndex:K,documentFrequency:O,averageDocLength:Y,termFrequencies:v}=this.processDocuments($);this.documentLengths=P,this.termToIndex=K,this.documentFrequency=O,this.averageDocLength=Y,this.termFrequencies=v}}processDocuments($){let q=$.length,_=new Uint32Array(q),P=new Map,K=new Map,O=new Map,Y=0,v=0;$.forEach((T,Z)=>{let w=0,k=new Map;Object.entries(T).forEach(([M,N])=>{if(typeof N!=="string")return;let R=this.fieldBoosts[M]||1,{tokens:E}=this.tokenizer.tokenize(N),D=E.length*R;w+=D,E.forEach((h)=>{if(!P.has(h))P.set(h,v++);let L=P.get(h);if(!K.has(h))K.set(h,new Set);K.get(h).add(Z);let b=k.get(L)||0;k.set(L,b+R)})}),_[Z]=w,Y+=w,k.forEach((M,N)=>{if(!O.has(N))O.set(N,new Map);O.get(N).set(Z,M)})});let W=new Uint32Array(P.size);return K.forEach((T,Z)=>{let w=P.get(Z);W[w]=T.size}),{documentLengths:_,termToIndex:P,documentFrequency:W,averageDocLength:q>0?Y/q:0,termFrequencies:O}}recalculateAverageLength(){if(this.documentLengths.length===0){this.averageDocLength=0;return}let $=this.documentLengths.reduce((q,_)=>q+_,0);this.averageDocLength=$/this.documentLengths.length}search($,q=10){let{tokens:_}=this.tokenizer.tokenize($),P=new Float32Array(this.documentLengths.length).fill(0);return _.forEach((K)=>{let O=this.termToIndex.get(K);if(O===void 0)return;let Y=this.calculateIdf(O);if(Y<=0)return;let v=this.termFrequencies.get(O);if(!v)return;v.forEach((W,T)=>{let Z=this.documentLengths[T],w=W*(this.termFrequencySaturation+1),k=W+this.termFrequencySaturation*(1-this.lengthNormalizationFactor+this.lengthNormalizationFactor*Z/this.averageDocLength);P[T]+=Y*(w/k)})}),Array.from({length:P.length},(K,O)=>({index:O,score:P[O]})).filter((K)=>K.score>0).sort((K,O)=>O.score-K.score).slice(0,q)}searchPhrase($,q=10){let{tokens:_}=this.tokenizer.tokenize($);if(_.length===0)return[];let P=null;for(let O of _){let Y=this.termToIndex.get(O);if(Y===void 0)return[];let v=this.termFrequencies.get(Y)?.keys();if(!v)return[];let W=new Set(v);if(P===null)P=W;else P=new Set([...P].filter((T)=>W.has(T)));if(P.size===0)return[]}if(P===null||P.size===0)return[];let K=new Map;return P.forEach((O)=>{let Y=this.getDocument(O),v=!1;Object.entries(Y).forEach(([W,T])=>{if(typeof T!=="string"||v)return;let Z=this.fieldBoosts[W]||1,{tokens:w}=this.tokenizer.tokenize(T);for(let k=0;k<=w.length-_.length;k++){let M=!0;for(let N=0;N<_.length;N++)if(w[k+N]!==_[N]){M=!1;break}if(M){let N=this.calculatePhraseScore(_,O)*Z;K.set(O,(K.get(O)||0)+N),v=!0;break}}})}),Array.from(K.entries()).map(([O,Y])=>({index:O,score:Y})).sort((O,Y)=>Y.score-O.score).slice(0,q)}calculatePhraseScore($,q){return $.reduce((_,P)=>{let K=this.termToIndex.get(P);if(K===void 0)return _;let O=this.calculateIdf(K),Y=this.termFrequencies.get(K)?.get(q)||0,v=this.documentLengths[q],W=Y*(this.termFrequencySaturation+1),T=Y+this.termFrequencySaturation*(1-this.lengthNormalizationFactor+this.lengthNormalizationFactor*v/this.averageDocLength);return _+O*(W/T)},0)}async addDocument($){if(!$)throw Error("Document cannot be null");let q=this.documentLengths.length;this.documents.push($);let _=new Uint32Array(q+1);_.set(this.documentLengths,0),this.documentLengths=_;let P=0,K=new Map;Object.entries($).forEach(([O,Y])=>{if(typeof Y!=="string")return;let v=this.fieldBoosts[O]||1,{tokens:W}=this.tokenizer.tokenize(Y);P+=W.length*v,W.forEach((T)=>{let Z;if(!this.termToIndex.has(T)){if(Z=this.termToIndex.size,this.termToIndex.set(T,Z),this.documentFrequency.length<=Z){let k=this.documentFrequency,M=Math.max(Z+1,k.length*2||1);this.documentFrequency=new Uint32Array(M),this.documentFrequency.set(k,0)}this.documentFrequency[Z]=0}else Z=this.termToIndex.get(T);let w=K.get(Z)||0;K.set(Z,w+v)})}),this.documentLengths[q]=P,K.forEach((O,Y)=>{if(!this.termFrequencies.has(Y))this.termFrequencies.set(Y,new Map);if(this.termFrequencies.get(Y).set(q,O),Y<this.documentFrequency.length)this.documentFrequency[Y]++}),this.recalculateAverageLength()}calculateIdf($){if($<0||$>=this.documentFrequency.length)return 0;let q=this.documentFrequency[$];if(q<=0||q>this.documentLengths.length)return 0;let P=this.documentLengths.length-q+0.5,K=q+0.5;return Math.log(1+P/K)}getTermFrequency($,q){return this.termFrequencies.get($)?.get(q)||0}getDocument($){if($<0||$>=this.documents.length)throw Error(`Document index ${$} out of bounds (0-${this.documents.length-1})`);return this.documents[$]}clearDocuments(){this.documents=[],this.documentLengths=new Uint32Array(0),this.termToIndex.clear(),this.documentFrequency=new Uint32Array(0),this.averageDocLength=0,this.termFrequencies.clear()}getDocumentCount(){return this.documents.length}async addDocuments($){return Promise.all($.map((q)=>this.addDocument(q)))}}var ka={};class Ga{permits;waiting=[];constructor($){this.permits=$}async acquire(){if(this.permits>0)return this.permits-=1,Promise.resolve();return new Promise(($)=>{this.waiting.push($)})}release(){this.permits+=1;let $=this.waiting.shift();if($&&this.permits>0)this.permits-=1,$()}}class IZ{#$=32;agentId;character;adapter;actions=[];evaluators=[];providers=[];plugins=[];events={};stateCache=new Map;fetch=fetch;services=new Map;serviceTypes=new Map;models=new Map;routes=[];taskWorkers=new Map;sendHandlers=new Map;eventHandlers=new Map;elizaOS;allAvailablePlugins=new Map;characterPlugins=[];logger;settings;servicePromiseHandlers=new Map;servicePromises=new Map;serviceRegistrationStatus=new Map;initPromise;initResolver;initRejecter;currentRunId;currentRoomId;currentActionContext;maxWorkingMemoryEntries=50;messageService=null;constructor($){if(this.agentId=$.character?.id??$?.agentId??FY($.character?.name??O8()),this.character=$.character,this.initPromise=new Promise((q,_)=>{this.initResolver=q,this.initRejecter=_}),this.logger=U7({namespace:this.character?.name}),this.#$=$.conversationLength??this.#$,$.adapter)this.registerDatabaseAdapter($.adapter);if(this.fetch=$.fetch??this.fetch,this.settings=$.settings??ka,this.plugins=[],this.characterPlugins=$?.plugins??[],$.allAvailablePlugins){for(let q of $.allAvailablePlugins)if(q?.name)this.allAvailablePlugins.set(q.name,q)}if(this.logger.debug({src:"agent",agentId:this.agentId,agentName:this.character?.name},"Initialized"),this.currentRunId=void 0,$.settings?.MAX_WORKING_MEMORY_ENTRIES)this.maxWorkingMemoryEntries=parseInt($.settings.MAX_WORKING_MEMORY_ENTRIES,10)||50;else this.maxWorkingMemoryEntries=IE("MAX_WORKING_MEMORY_ENTRIES",50)}createRunId(){return O8()}startRun($){return this.currentRunId=this.createRunId(),this.currentRoomId=$,this.currentRunId}endRun(){this.currentRunId=void 0,this.currentRoomId=void 0}getCurrentRunId(){if(!this.currentRunId)this.currentRunId=this.createRunId();return this.currentRunId}async registerPlugin($){if(!$?.name)throw this.logger.error({src:"agent",agentId:this.agentId,error:"Plugin or plugin name is undefined"},"Plugin registration failed"),Error("registerPlugin: Plugin or plugin name is undefined");if(this.plugins.find((_)=>_.name===$.name)){this.logger.warn({src:"agent",agentId:this.agentId,plugin:$.name},"Plugin already registered, skipping");return}if(this.plugins.push($),this.logger.debug({src:"agent",agentId:this.agentId,plugin:$.name},"Plugin added"),$.init){let _={};if($.config){for(let[P,K]of Object.entries($.config))if(K!==null&&K!==void 0)_[P]=String(K)}await $.init(_,this),this.logger.debug({src:"agent",agentId:this.agentId,plugin:$.name},"Plugin initialized")}if($.adapter)this.logger.debug({src:"agent",agentId:this.agentId,plugin:$.name},"Registering database adapter"),this.registerDatabaseAdapter($.adapter);if($.actions)for(let _ of $.actions)this.registerAction(_);if($.evaluators)for(let _ of $.evaluators)this.registerEvaluator(_);if($.providers)for(let _ of $.providers)this.registerProvider(_);if($.models)for(let[_,P]of Object.entries($.models))this.registerModel(_,P,$.name,$?.priority);if($.routes)for(let _ of $.routes){let P=_.path.startsWith("/")?_.path:`/${_.path}`;this.routes.push({..._,path:"/"+$.name+P})}if($.events)for(let[_,P]of Object.entries($.events))for(let K of P)this.registerEvent(_,K);if($.services)for(let _ of $.services){let P=_.serviceType;if(this.logger.debug({src:"agent",agentId:this.agentId,plugin:$.name,serviceType:P},"Registering service"),!this.servicePromises.has(P))this._createServiceResolver(P);this.serviceRegistrationStatus.set(P,"pending"),this.registerService(_).catch((K)=>{this.logger.error({src:"agent",agentId:this.agentId,plugin:$.name,serviceType:P,error:K instanceof Error?K.message:String(K)},"Service registration failed");let O=this.servicePromiseHandlers.get(P);if(O){let Y=Error(`Service ${P} from plugin ${$.name} failed to register: ${K instanceof Error?K.message:String(K)}`);O.reject(Y),this.servicePromiseHandlers.delete(P),this.servicePromises.delete(P)}this.serviceRegistrationStatus.set(P,"failed")})}}getAllServices(){return this.services}async stop(){this.logger.debug({src:"agent",agentId:this.agentId},"Stopping runtime");for(let[$,q]of this.services){this.logger.debug({src:"agent",agentId:this.agentId,serviceType:$},"Stopping service");for(let _ of q)await _.stop()}this.elizaOS=void 0}async initialize($){let q=[],_=this.characterPlugins;for(let T of _)if(T)q.push(this.registerPlugin(T));if(await Promise.all(q),!this.adapter)throw this.logger.error({src:"agent",agentId:this.agentId},"Database adapter not initialized"),Error("Database adapter not initialized. The SQL plugin (@elizaos/plugin-sql) is required for agent initialization. Please ensure it is included in your character configuration.");if(!await this.adapter.isReady())await this.adapter.init();this.messageService=new CZ;let P=$?.skipMigrations??!1,K=await this.ensureAgentExists({...this.character,id:this.agentId});if(!K)throw Error(`Agent ${this.agentId} does not exist in database after ensureAgentExists`);this.mergeAgentSettings(K),await Promise.all([this.ensureWorldExists({id:this.agentId,name:`${this.character.name}'s World`,agentId:this.agentId,messageServerId:this.agentId}),P?Promise.resolve():(async()=>{this.logger.debug({src:"agent",agentId:this.agentId},"Running plugin migrations"),await this.runPluginMigrations(),this.logger.debug({src:"agent",agentId:this.agentId},"Plugin migrations completed")})()]);let[O,Y,v]=await Promise.all([this.ensureEntity({id:this.agentId,names:[this.character.name],metadata:{},agentId:K.id}),this.getRoom(this.agentId),this.adapter.getParticipantsForRoom(this.agentId)]);if(!O)throw Error(`Failed to ensure entity for agent ${this.agentId}`);if(!Y)await this.createRoom({id:this.agentId,name:this.character.name,source:"elizaos",type:"SELF",channelId:this.agentId,messageServerId:this.agentId,worldId:this.agentId}),this.logger.debug({src:"agent",agentId:this.agentId},"Agent room created");if(!v.includes(this.agentId)){if(!await this.addParticipant(this.agentId,this.agentId))throw Error(`Failed to add agent ${this.agentId} as participant to its own room`);this.logger.debug({src:"agent",agentId:this.agentId},"Agent linked to room")}if(!this.getModel(A6.TEXT_EMBEDDING))this.logger.warn({src:"agent",agentId:this.agentId},"No TEXT_EMBEDDING model registered, skipping embedding setup");else await this.ensureEmbeddingDimension();if(this.initResolver)this.initResolver(),this.initResolver=void 0}mergeAgentSettings($){if(!$.settings)return;this.character.settings={...$.settings,...this.character.settings};let q=$.settings.secrets&&typeof $.settings.secrets==="object"?$.settings.secrets:{},_=this.character.settings.secrets&&typeof this.character.settings.secrets==="object"?this.character.settings.secrets:{},P=this.character.secrets&&typeof this.character.secrets==="object"?this.character.secrets:{},K={...q,...P,..._};if(Object.keys(K).length>0){let O={};for(let[Y,v]of Object.entries(K))if(v!==null&&v!==void 0)O[Y]=v;if(Object.keys(O).length>0)this.character.secrets=O,this.character.settings.secrets=O}}async runPluginMigrations(){if(!this.adapter){this.logger.warn({src:"agent",agentId:this.agentId},"Database adapter not found, skipping plugin migrations");return}if(typeof this.adapter.runPluginMigrations!=="function"){this.logger.warn({src:"agent",agentId:this.agentId},"Database adapter does not support plugin migrations");return}let $=this.plugins.filter((P)=>P.schema).map((P)=>{let K=P.schema||{},O={};for(let[Y,v]of Object.entries(K))if(typeof v==="string"||typeof v==="number"||typeof v==="boolean"||v===null||typeof v==="object"&&v!==null&&!Array.isArray(v))O[Y]=v;return{name:P.name,schema:O}});if($.length===0){this.logger.debug({src:"agent",agentId:this.agentId},"No plugins with schemas, skipping migrations");return}this.logger.debug({src:"agent",agentId:this.agentId,count:$.length},"Found plugins with schemas");let q=!1,_=process.env.ELIZA_ALLOW_DESTRUCTIVE_MIGRATIONS==="true";await this.adapter.runPluginMigrations($,{verbose:!q,force:_,dryRun:!1}),this.logger.debug({src:"agent",agentId:this.agentId},"Plugin migrations completed")}async getConnection(){if(!this.adapter)throw Error("Database adapter not registered");return this.adapter.getConnection()}setSetting($,q,_=!1){if(_){if(!this.character.secrets)this.character.secrets={};if(q!==null&&q!==void 0)this.character.secrets[$]=q}else{if(!this.character.settings)this.character.settings={};if(q!==null&&q!==void 0)this.character.settings[$]=q}}getSetting($){let q=this.character.settings,_=this.character.secrets,P=typeof q==="object"&&q!==null&&"secrets"in q&&typeof q.secrets==="object"&&q.secrets!==null?q.secrets:void 0,K=_?.[$]||q?.[$]||P?.[$]||this.settings[$];if(K===void 0||K===null)return null;if(typeof K==="number")return K;if(typeof K==="boolean")return K;if(typeof K==="string"){let O=aY(K,l_());if(O==="true")return!0;if(O==="false")return!1;return O}return null}getConversationLength(){return this.#$}registerDatabaseAdapter($){if(this.adapter)this.logger.warn({src:"agent",agentId:this.agentId},"Database adapter already registered, ignoring");else this.adapter=$,this.logger.debug({src:"agent",agentId:this.agentId},"Database adapter registered")}registerProvider($){this.providers.push($),this.logger.debug({src:"agent",agentId:this.agentId,provider:$.name},"Provider registered")}registerAction($){if(this.actions.find((q)=>q.name===$.name))this.logger.warn({src:"agent",agentId:this.agentId,action:$.name},"Action already registered, skipping");else this.actions.push($),this.logger.debug({src:"agent",agentId:this.agentId,action:$.name},"Action registered")}registerEvaluator($){this.evaluators.push($)}updateActionPlan($,q){return{...$,...q}}updateActionStep($,q,_){if(!$.steps||q<0||q>=$.steps.length)return this.logger.warn({src:"agent",agentId:this.agentId,index:q,stepsCount:$.steps?.length||0},"Invalid step index"),$;return{...$,steps:$.steps.map((P,K)=>K===q?{...P,..._}:P)}}async processActions($,q,_,P,K){let O=[];for(let k of q)if(k.content?.actions&&k.content.actions.length>0)O.push(...k.content.actions);let Y=O.length>1,v=this.getCurrentRunId(),W=this.createRunId(),T=void 0,Z=q[0]?.content?.thought||`Executing ${O.length} actions: ${O.join(", ")}`;if(Y)T={runId:W,totalSteps:O.length,currentStep:0,steps:O.map((k)=>({action:k,status:"pending"})),thought:Z,startTime:Date.now()};let w=0;for(let k of q){let E=function(D){return D.toLowerCase().replace(/_/g,"")};if(!k.content?.actions||k.content.actions.length===0){this.logger.warn({src:"agent",agentId:this.agentId},"No action found in response");continue}let M=k.content.actions,N=[],R=_;this.logger.trace({src:"agent",agentId:this.agentId,actions:this.actions.map((D)=>E(D.name))},"Available actions");for(let D of M){if(T)T=this.updateActionPlan(T,{currentStep:w+1});if(R=await this.composeState($,["RECENT_MESSAGES","ACTION_STATE"]),T&&R.data)R.data.actionPlan=T,R.data.actionResults=N;this.logger.debug({src:"agent",agentId:this.agentId,action:D},"Processing action");let h=E(D),L=this.actions.find((V)=>E(V.name)===h);if(!L)L=this.actions.find((V)=>E(V.name).includes(h)||h.includes(E(V.name)));if(!L)for(let V of this.actions){if(V.similes?.find((z)=>E(z)===h)){L=V,this.logger.debug({src:"agent",agentId:this.agentId,action:L.name,match:"simile"},"Action resolved via simile");break}if(V.similes?.find((z)=>E(z).includes(h)||h.includes(E(z)))){L=V,this.logger.debug({src:"agent",agentId:this.agentId,action:L.name,match:"fuzzy"},"Action resolved via fuzzy match");break}}if(!L){let V=`Action not found: ${D}`;if(this.logger.error({src:"agent",agentId:this.agentId,action:D},"Action not found"),T&&T.steps[w])T=this.updateActionStep(T,w,{status:"failed",error:V});let S={id:O8(),entityId:$.entityId,roomId:$.roomId,worldId:$.worldId,content:{thought:V,source:"auto",type:"action_result",actionName:D,actionStatus:"failed",runId:W}};await this.createMemory(S,"messages"),w++;continue}if(!L.handler){if(this.logger.error({src:"agent",agentId:this.agentId,action:L.name},"Action has no handler"),T&&T.steps[w])T=this.updateActionStep(T,w,{status:"failed",error:"No handler"});w++;continue}this.logger.debug({src:"agent",agentId:this.agentId,action:L.name},"Executing action");let b=O8(),y=O8();this.currentActionContext={actionName:L.name,actionId:b,prompts:[]};let i={actionContext:{previousResults:N,getPreviousResult:(V)=>{return N.find((S)=>S.data?.actionName===V)}}};if(T)i.actionPlan={totalSteps:T.totalSteps,currentStep:T.currentStep,steps:T.steps,thought:T.thought};if(K?.onStreamChunk)i.onStreamChunk=K.onStreamChunk;await this.emitEvent("ACTION_STARTED",{messageId:b,roomId:$.roomId,world:$.worldId,content:{text:`Executing action: ${L.name}`,actions:[L.name],actionStatus:"executing",actionId:b,runId:W,type:"agent_action",thought:Z,source:$.content?.source}});let $$=[],Q=async(V)=>{return V.responseId=y,$$.push(V),[]},c;if(K?.onStreamChunk){let V=null;c={messageId:y,onStreamChunk:async(S,A)=>{if(!V)V=new VZ;let z=V.push(S);if(z)await K.onStreamChunk(z,A)},onStreamEnd:()=>{V=null}}}let a=await kK(c,()=>L.handler(this,$,R,i,Q,q)),j=a===void 0||a===null||typeof a==="boolean",J=null;if(!j){if(typeof a==="object"&&a!==null&&(("values"in a)||("data"in a)||("text"in a)))J={...a,success:"success"in a?a.success:!0};else J={success:!0,data:{actionName:L.name,legacyResult:a}};if(N.push(J),J.values){let V=Array.isArray(R.data?.actionResults)?R.data.actionResults:[];R={...R,values:{...R.values,...J.values},data:{...R.data||{},actionResults:[...V,J],actionPlan:T}}}if(J&&R.data){if(!R.data.workingMemory)R.data.workingMemory={};let S=`action_${J.data?.actionName||L.name}_${O8()}`,A={actionName:L.name,result:J,timestamp:Date.now()},z=R.data.workingMemory;z[S]=A;let G=Object.entries(z);if(G.length>this.maxWorkingMemoryEntries){let I=G.sort((C,g)=>{let x=C[1],l=g[1],o=x?.timestamp??0;return(l?.timestamp??0)-o});R.data.workingMemory=Object.fromEntries(I.slice(0,this.maxWorkingMemoryEntries))}}if(T&&T.steps[w])T=this.updateActionStep(T,w,{status:"completed",result:J})}let H=J?.success!==!1?"completed":"failed";if(await this.emitEvent("ACTION_COMPLETED",{messageId:b,roomId:$.roomId,world:$.worldId,content:{text:J?.text||"",actions:[L.name],actionStatus:H,actionId:b,type:"agent_action",thought:Z,actionResult:J,source:$.content?.source}}),P)for(let V of $$)await P(V);let f={id:b,entityId:this.agentId,roomId:$.roomId,worldId:$.worldId,content:{text:J?.text||`Executed action: ${L.name}`,source:"action",type:"action_result",actionName:L.name,actionStatus:J?.success?"completed":"failed",actionResult:j?{legacy:a}:J,runId:W,...T&&{planStep:`${T.currentStep}/${T.totalSteps}`,planThought:T.thought}},metadata:{type:"action_result",actionName:L.name,runId:W,parentRunId:v,actionId:b,...T&&{totalSteps:T.totalSteps,currentStep:T.currentStep}}};await this.createMemory(f,"messages"),this.logger.debug({src:"agent",agentId:this.agentId,action:L.name},"Action completed"),await this.adapter.log({entityId:$.entityId,roomId:$.roomId,type:"action",body:{action:L.name,actionId:b,message:$.content.text,messageId:$.id,state:R,responses:q,result:j?{legacy:a}:J,isLegacyReturn:j,prompts:this.currentActionContext?.prompts||[],promptCount:this.currentActionContext?.prompts.length||0,runId:W,parentRunId:v,...T&&{planStep:`${T.currentStep}/${T.totalSteps}`,planThought:T.thought}}}),this.currentActionContext=void 0,w++}if($.id)this.stateCache.set(`${$.id}_action_results`,{values:{actionResults:N},data:{actionResults:N,actionPlan:T},text:JSON.stringify(N)})}}getActionResults($){return this.stateCache?.get(`${$}_action_results`)?.data?.actionResults||[]}async evaluate($,q,_,P,K){let O=this.evaluators.map(async(v)=>{if(!v.handler)return null;if(!_&&!v.alwaysRun)return null;if(await v.validate(this,$,q))return v;return null}),Y=(await Promise.all(O)).filter(Boolean);if(Y.length===0)return[];return q=await this.composeState($,["RECENT_MESSAGES","EVALUATORS"]),await Promise.all(Y.map(async(v)=>{if(v.handler)await v.handler(this,$,q,{},P,K),this.adapter.log({entityId:$.entityId,roomId:$.roomId,type:"evaluator",body:{evaluator:v.name,messageId:$.id,message:$.content.text,state:q,runId:this.getCurrentRunId()}})})),Y}async ensureConnections($,q,_,P){if(!$){this.logger.error({src:"agent",agentId:this.agentId},"ensureConnections called without entities");return}if(!q||q.length===0){this.logger.error({src:"agent",agentId:this.agentId},"ensureConnections called without rooms");return}await this.ensureWorldExists({...P,agentId:this.agentId});let K=q[0],O=(R,E)=>R.reduce((D,h,L)=>{if(L%E===0)D.push([]);return D[D.length-1].push(h),D},[]),Y=q.map((R)=>R.id),W=(await this.getRoomsByIds(Y))?.map((R)=>R.id),T=Y.filter((R)=>!W?.includes(R)),Z={worldId:P.id,messageServerId:P.messageServerId,source:_,agentId:this.agentId};if(T.length){this.logger.debug({src:"agent",agentId:this.agentId,count:T.length},"Creating rooms");let R=q.filter((E)=>T.includes(E.id)).map((E)=>({...E,...Z,type:E.type||"GROUP"}));await this.createRooms(R)}let w=$.map((R)=>R.id).filter((R)=>R!==void 0);if($.length){this.logger.debug({src:"agent",agentId:this.agentId,count:$.length},"Creating entities");let R={roomId:K.id,channelId:K.channelId,type:K.type,worldId:P.id,messageServerId:P.messageServerId,source:_,agentId:this.agentId},E=$.filter((h)=>h.id!==void 0).map((h)=>({...h,...R,metadata:h.metadata||{}})),D=O(E,5000);for(let h of D)await this.createEntities(h)}await this.ensureParticipantInRoom(this.agentId,K.id);let M=(await this.getParticipantsForRoom(K.id)).filter((R)=>R!==void 0),N=w.filter((R)=>!M.includes(R));if(N.length){this.logger.debug({src:"agent",agentId:this.agentId,count:N.length,channelId:K.id},"Adding missing participants");let R=O(N,5000);for(let E of R)await this.addParticipantsRoom(E,K.id)}this.logger.success({src:"agent",agentId:this.agentId,worldId:P.id},"World connected")}async ensureConnection({entityId:$,roomId:q,worldId:_,worldName:P,userName:K,name:O,source:Y,type:v,channelId:W,messageServerId:T,userId:Z,metadata:w}){if(!_&&T)_=w_(this,T);let k=[O,K].filter(Boolean),M={[Y]:{id:Z,name:O,userName:K}},N=await this.getEntityById($);if(!N)if(await this.createEntity({id:$,names:k,metadata:M,agentId:this.agentId}))this.logger.debug({src:"agent",agentId:this.agentId,entityId:$,userName:O||K},"Entity created");else throw Error(`Failed to create entity ${$}`);else await this.adapter.updateEntity({id:$,names:[...new Set([...N.names||[],...k])].filter(Boolean),metadata:{...N.metadata,[Y]:{...N.metadata?.[Y]&&typeof N.metadata[Y]==="object"?N.metadata[Y]:{},id:Z,name:O,userName:K}},agentId:this.agentId});await this.ensureWorldExists({id:_,name:P||T?`World for server ${T}`:`World for room ${q}`,agentId:this.agentId,messageServerId:T,metadata:w}),await this.ensureRoomExists({id:q,name:O||"default",source:Y||"default",type:v||"DM",channelId:W,messageServerId:T,worldId:_}),await this.ensureParticipantInRoom($,q),await this.ensureParticipantInRoom(this.agentId,q),this.logger.debug({src:"agent",agentId:this.agentId,entityId:$,channelId:q},"Entity connected")}async ensureParticipantInRoom($,q){let _=await this.getEntityById($);if(!_&&$!==this.agentId)this.logger.warn({src:"agent",agentId:this.agentId,entityId:$},"Entity not accessible, attempting to add as participant");else if(!_&&$===this.agentId)throw Error(`Agent entity ${$} not found, cannot add as participant.`);else if(!_)throw Error(`User entity ${$} not found, cannot add as participant.`);if(!(await this.adapter.getParticipantsForRoom(q)).includes($)){if(!await this.addParticipant($,q))throw Error(`Failed to add participant ${$} to room ${q}`);if($===this.agentId)this.logger.debug({src:"agent",agentId:this.agentId,channelId:q},"Agent linked to room");else this.logger.debug({src:"agent",agentId:this.agentId,entityId:$,channelId:q},"User linked to room")}}async removeParticipant($,q){return await this.adapter.removeParticipant($,q)}async getParticipantsForEntity($){return await this.adapter.getParticipantsForEntity($)}async getParticipantsForRoom($){return await this.adapter.getParticipantsForRoom($)}async isRoomParticipant($,q){return await this.adapter.isRoomParticipant($,q)}async addParticipant($,q){return await this.adapter.addParticipantsRoom([$],q)}async addParticipantsRoom($,q){return await this.adapter.addParticipantsRoom($,q)}async ensureWorldExists({id:$,name:q,messageServerId:_,metadata:P}){this.logger.debug({src:"agent",agentId:this.agentId,worldId:$,name:q,messageServerId:_},"Ensuring world exists"),await this.adapter.createWorld({id:$,name:q,agentId:this.agentId,messageServerId:_,metadata:P})}async ensureRoomExists({id:$,name:q,source:_,type:P,channelId:K,messageServerId:O,worldId:Y,metadata:v}){if(!Y)throw Error("worldId is required");if(!await this.getRoom($))await this.createRoom({id:$,name:q,agentId:this.agentId,source:_,type:P,channelId:K,messageServerId:O,worldId:Y,metadata:v}),this.logger.debug({src:"agent",agentId:this.agentId,channelId:$},"Room created")}async composeState($,q=null,_=!1,P=!1){let K=_?q:null,O={values:{},data:{},text:""},Y=P||!$.id?O:await this.stateCache.get($.id)||O,v=new Set;if(K&&K.length>0)K.forEach((R)=>v.add(R));else this.providers.filter((R)=>!R.private&&!R.dynamic).forEach((R)=>v.add(R.name));if(!K&&q&&q.length>0)q.forEach((R)=>v.add(R));let W=Array.from(new Set(this.providers.filter((R)=>v.has(R.name)))).sort((R,E)=>(R.position||0)-(E.position||0)),T=await Promise.all(W.map(async(R)=>{let E=Date.now(),D=await R.get(this,$,Y),h=Date.now()-E;if(h>100)this.logger.debug({src:"agent",agentId:this.agentId,provider:R.name,duration:h},"Slow provider");return{...D,providerName:R.name}})),Z={...Y.data?.providers||{}};for(let R of T)Z[R.providerName]=R;let w=[];for(let R of W){let E=Z[R.name];if(E&&E.text&&typeof E.text==="string"&&E.text.trim()!=="")w.push(E.text)}let k=w.join(`
`),M={...Y.values||{}};for(let R of W){let E=Z[R.name];if(E&&E.values&&typeof E.values==="object"&&E.values!==null)Object.assign(M,E.values)}for(let R in Z)if(!W.some((E)=>E.name===R)){let E=Z[R];if(E&&E.values&&typeof E.values==="object"&&E.values!==null)Object.assign(M,E.values)}let N={values:{...M,providers:k},data:{...Y.data||{},providers:Z},text:k};if($.id)this.stateCache.set($.id,N);return N}getService($){let q=this.services.get($);if(!q||q.length===0)return this.logger.debug({src:"agent",agentId:this.agentId,serviceName:$},"Service not found"),null;return q[0]}getTypedService($){return this.getService($)}getServicesByType($){let q=this.services.get($);if(!q||q.length===0)return this.logger.debug({src:"agent",agentId:this.agentId,serviceName:$},"No services found for type"),[];return q}getRegisteredServiceTypes(){return Array.from(this.services.keys())}hasService($){let q=this.services.get($);return q!==void 0&&q.length>0}getServiceRegistrationStatus($){return this.serviceRegistrationStatus.get($)||"unknown"}getServiceHealth(){let $={};for(let[q,_]of this.services)$[q]={status:this.getServiceRegistrationStatus(q),instances:_.length,hasPromise:this.servicePromises.has(q)};for(let[q,_]of this.serviceRegistrationStatus)if(!$[q])$[q]={status:_,instances:0,hasPromise:this.servicePromises.has(q)};return $}async registerService($){let q=$.serviceType,_=$.name||"Unknown";if(!q){this.logger.warn({src:"agent",agentId:this.agentId,serviceName:_},"Service missing serviceType property");return}this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q},"Registering service"),this.serviceRegistrationStatus.set(q,"registering"),this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q},"Service waiting for init");let P=new Promise((Y,v)=>{setTimeout(()=>{v(Error(`Service ${q} registration timed out waiting for runtime initialization (30s timeout)`))},30000)});if(await Promise.race([this.initPromise,P]),typeof $.start!=="function")throw Error(`Service ${q} does not have a static start method. All services must implement static async start(runtime: IAgentRuntime): Promise<Service>.`);let K=await $.start(this);if(!K)throw Error(`Service ${q}  start() method returned null or undefined. It must return a Service instance.`);if(!this.services.has(q))this.services.set(q,[]);if(!this.serviceTypes.has(q))this.serviceTypes.set(q,[]);this.services.get(q).push(K),this.serviceTypes.get(q).push($);let O=this.servicePromiseHandlers.get(q);if(O)O.resolve(K),this.servicePromiseHandlers.delete(q);else this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q},"Service has no promise handler");if($.registerSendHandlers)$.constructor.registerSendHandlers?.(this,K);this.serviceRegistrationStatus.set(q,"registered"),this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q},"Service registered")}_createServiceResolver($){let q,_;if(this.servicePromises.set($,new Promise((P,K)=>{q=P,_=K})),!q)throw Error(`Failed to create resolver for service ${$}`);if(!_)throw Error(`Failed to create rejecter for service ${$}`);return this.servicePromiseHandlers.set($,{resolve:q,reject:_}),this.servicePromises.get($)}getServiceLoadPromise($){let q=this.servicePromises.get($);if(!q)q=this._createServiceResolver($);return q}registerModel($,q,_,P){let K=typeof $==="string"?$:A6[$];if(!this.models.has(K))this.models.set(K,[]);let O=Date.now();this.models.get(K)?.push({handler:q,provider:_,priority:P||0,registrationOrder:O}),this.models.get(K)?.sort((Y,v)=>{if((v.priority||0)!==(Y.priority||0))return(v.priority||0)-(Y.priority||0);return(Y.registrationOrder||0)-(v.registrationOrder||0)})}getModel($){let q=typeof $==="string"?$:A6[$],_=this.models.get(q);if(!_?.length)return;return this.logger.debug({src:"agent",agentId:this.agentId,model:q,provider:_[0].provider},"Using model"),_[0].handler}getModelSettings($){let q={},_=(k,M)=>{if($){let E=`${$}_${k}`,D=this.getSetting(E);if(D!==null&&D!==void 0){let h=Number(D);if(!isNaN(h))return h}}let N=`DEFAULT_${k}`,R=this.getSetting(N);if(R!==null&&R!==void 0){let E=Number(R);if(!isNaN(E))return E}if(M){let E=this.getSetting(M);if(E!==null&&E!==void 0){let D=Number(E);if(!isNaN(D))return D}}return null},P=_("MAX_TOKENS",lP.MODEL_MAX_TOKEN),K=_("TEMPERATURE",lP.MODEL_TEMPERATURE),O=_("TOP_P"),Y=_("TOP_K"),v=_("MIN_P"),W=_("SEED"),T=_("REPETITION_PENALTY"),Z=_("FREQUENCY_PENALTY",lP.MODEL_FREQ_PENALTY),w=_("PRESENCE_PENALTY",lP.MODEL_PRESENCE_PENALTY);if(P!==null)q.maxTokens=P;if(K!==null)q.temperature=K;if(O!==null)q.topP=O;if(Y!==null)q.topK=Y;if(v!==null)q.minP=v;if(W!==null)q.seed=W;if(T!==null)q.repetitionPenalty=T;if(Z!==null)q.frequencyPenalty=Z;if(w!==null)q.presencePenalty=w;return Object.keys(q).length>0?q:null}logModelCall($,q,_,P,K,O,Y){if(q!==A6.TEXT_EMBEDDING&&P){if(this.currentActionContext)this.currentActionContext.prompts.push({modelType:q,prompt:P,timestamp:Date.now()})}this.adapter.log({entityId:this.agentId,roomId:this.currentRoomId??this.agentId,body:{modelType:$,modelKey:q,params:{...typeof _==="object"&&!Array.isArray(_)&&_?_:{},prompt:P},prompt:P,systemPrompt:this.character?.system||null,runId:this.getCurrentRunId(),timestamp:Date.now(),executionTime:K,provider:O||this.models.get(q)?.[0]?.provider||"unknown",actionContext:this.currentActionContext?{actionName:this.currentActionContext.actionName,actionId:this.currentActionContext.actionId}:void 0,response:Array.isArray(Y)&&Y.every((v)=>typeof v==="number")?"[array]":Y},type:`useModel:${q}`})}async useModel($,q,_){let P=typeof $==="string"?$:A6[$],K=q,O=(K&&"prompt"in K&&typeof K.prompt==="string"?K.prompt:null)||(K&&"input"in K&&typeof K.input==="string"?K.input:null)||(K&&"messages"in K&&Array.isArray(K.messages)?JSON.stringify(K.messages):null),Y=this.getModel(P),v=_&&this.models.get(P)?.find((y)=>y.provider===_),W=v?v.handler:Y;if(!W){let y=`No handler found for delegate type: ${P}`;throw Error(y)}if(![A6.TRANSCRIPTION,A6.IMAGE,A6.AUDIO,A6.VIDEO].includes(P))this.logger.trace({src:"agent",agentId:this.agentId,model:P,params:q},"Model input");else{let y="unknown size";if(Buffer.isBuffer(q))y=`${q.length} bytes`;else if(typeof Blob<"u"&&q instanceof Blob)y=`${q.size} bytes`;else if(typeof q==="object"&&q!==null){if("audio"in q&&Buffer.isBuffer(q.audio))y=`${q.audio.length} bytes`;else if("audio"in q&&typeof Blob<"u"&&q.audio instanceof Blob)y=`${q.audio.size} bytes`}this.logger.trace({src:"agent",agentId:this.agentId,model:P,size:y},"Model input (binary)")}let Z;if(q===null||q===void 0||typeof q!=="object"||Array.isArray(q)||AK.isBuffer(q))Z=q;else{let y=this.getModelSettings(P);if(y)Z={...y,...q};else Z=q;if(Q7(Z)){if(Z.user===void 0&&this.character?.name){if(typeof Z==="object"&&Z!==null&&!Array.isArray(Z))Z.user=this.character.name}}}let w=typeof performance<"u"&&typeof performance.now==="function"?performance.now():Date.now(),k=Y4(),M=Q7(Z)?Z.onStreamChunk:void 0,N=k?.onStreamChunk,R=k?.messageId,E=k?.abortSignal,D=Q7(Z)?Z.stream:void 0,h=D===!1?!1:!!(M||N||D);if(Q7(Z))Z.stream=h,delete Z.onStreamChunk;let L=await W(this,Z);if(h&&(M||N)&&L&&typeof L==="object"&&"textStream"in L){let y="";for await(let $$ of L.textStream){if(E?.aborted)break;y+=$$;try{if(M)await M($$,R)}catch{}try{if(N)await N($$,R)}catch{}}let p=Y4()?.onStreamEnd;if(p)p();let i=(typeof performance<"u"&&typeof performance.now==="function"?performance.now():Date.now())-w;return this.logger.trace({src:"agent",agentId:this.agentId,model:P,duration:Number(i.toFixed(2)),streaming:!0},"Model output (stream with callback complete)"),this.logModelCall($,P,q,O,i,_,y),y}let b=(typeof performance<"u"&&typeof performance.now==="function"?performance.now():Date.now())-w;return this.logger.trace({src:"agent",agentId:this.agentId,model:P,duration:Number(b.toFixed(2))},"Model output"),this.logModelCall($,P,q,O,b,_,L),L}async generateText($,q){if(!$?.trim())throw Error("Input cannot be empty");let _=q?.includeCharacter??!0,P=q?.modelType??A6.TEXT_LARGE,K=$;if(_&&this.character){let v=this.character,W=[],T=Array.isArray(v.bio)?v.bio.join(" "):v.bio;if(T)W.push(`# About ${v.name}
${T}`);if(v.system)W.push(v.system);let Z=[...v.style?.all||[],...v.style?.chat||[]];if(Z.length>0)W.push(`Style:
${Z.map((w)=>`- ${w}`).join(`
`)}`);if(W.length>0)K=`${W.join(`

`)}

${$}`}let O={prompt:K,maxTokens:q?.maxTokens,minTokens:q?.minTokens,temperature:q?.temperature,topP:q?.topP,topK:q?.topK,minP:q?.minP,seed:q?.seed,repetitionPenalty:q?.repetitionPenalty,frequencyPenalty:q?.frequencyPenalty,presencePenalty:q?.presencePenalty,stopSequences:q?.stopSequences,user:q?.user!==void 0?q.user:this.character?.name,responseFormat:q?.responseFormat};return{text:await this.useModel(P,O)}}registerEvent($,q){if(!this.events[$])this.events[$]=[];this.events[$].push(q)}getEvent($){return this.events[$]}async emitEvent($,q){let _=Array.isArray($)?$:[$];for(let P of _){let K=this.events[P];if(!K)continue;let O={runtime:this,source:"runtime"};if(typeof q==="object"&&q&&q!==null){let Y=q;O={...Y,runtime:this,source:Y.source||"runtime"}}await Promise.all(K.map((Y)=>Y(O)))}}async ensureEmbeddingDimension(){if(!this.adapter)throw Error("Database adapter not initialized before ensureEmbeddingDimension");if(!this.getModel(A6.TEXT_EMBEDDING))throw Error("No TEXT_EMBEDDING model registered");let $=this.getSetting("EMBEDDING_DIMENSION"),q=Number($),_=q>0,P=_?q:(await this.useModel(A6.TEXT_EMBEDDING,{text:""}))?.length;if(!P)throw Error("Invalid embedding dimension");await this.adapter.ensureEmbeddingDimension(P),this.logger.debug({src:"agent",agentId:this.agentId,dimension:P},_?"Embedding dimension set from config":"Embedding dimension set via API call")}registerTaskWorker($){if(this.taskWorkers.has($.name))this.logger.warn({src:"agent",agentId:this.agentId,task:$.name},"Task worker already registered, overwriting");this.taskWorkers.set($.name,$)}getTaskWorker($){return this.taskWorkers.get($)}get db(){return this.adapter.db}async init(){await this.adapter.init()}async close(){if(this.adapter)await this.adapter.close()}async getAgent($){return await this.adapter.getAgent($)}async getAgents(){return await this.adapter.getAgents()}async createAgent($){return await this.adapter.createAgent($)}async updateAgent($,q){return await this.adapter.updateAgent($,q)}async deleteAgent($){return await this.adapter.deleteAgent($)}async ensureAgentExists($){if(!$.id)throw Error("Agent id is required");let q=await this.adapter.getAgent($.id);if(q){let K={...q.settings,...$.settings},O=typeof q.settings?.secrets==="object"||typeof $.settings?.secrets==="object"?{...typeof q.settings?.secrets==="object"?q.settings.secrets:{},...typeof $.settings?.secrets==="object"?$.settings.secrets:{}}:void 0;if(O)K.secrets=O;let Y={...q,...$,settings:K,id:$.id,updatedAt:Date.now()};await this.adapter.updateAgent($.id,Y);let v=await this.adapter.getAgent($.id);if(!v)throw Error(`Failed to retrieve agent after update: ${$.id}`);return this.logger.debug({src:"agent",agentId:$.id},"Agent updated on restart"),v}let _={...$,id:$.id};if(!await this.adapter.createAgent(_))throw Error(`Failed to create agent: ${$.id}`);return this.logger.debug({src:"agent",agentId:$.id},"Agent created"),_}async getEntityById($){let q=await this.adapter.getEntitiesByIds([$]);if(!q?.length)return null;return q[0]}async getEntitiesByIds($){return await this.adapter.getEntitiesByIds($)}async getEntitiesForRoom($,q){return await this.adapter.getEntitiesForRoom($,q)}async createEntity($){if(!$.agentId)$.agentId=this.agentId;return await this.createEntities([$])}async ensureEntity($){if(!$.id)return null;if(!await this.createEntity($))return null;return $}async createEntities($){return $.forEach((q)=>{q.agentId=this.agentId}),await this.adapter.createEntities($)}async updateEntity($){await this.adapter.updateEntity($)}async getComponent($,q,_,P){return await this.adapter.getComponent($,q,_,P)}async getComponents($,q,_){return await this.adapter.getComponents($,q,_)}async createComponent($){return await this.adapter.createComponent($)}async updateComponent($){await this.adapter.updateComponent($)}async deleteComponent($){await this.adapter.deleteComponent($)}async addEmbeddingToMemory($){if($.embedding)return $;let q=$.content.text;if(!q)throw Error("Cannot generate embedding: Memory content is empty");try{$.embedding=await this.useModel(A6.TEXT_EMBEDDING,{text:q})}catch(_){this.logger.error({src:"agent",agentId:this.agentId,error:_ instanceof Error?_.message:String(_)},"Embedding generation failed"),$.embedding=await this.useModel(A6.TEXT_EMBEDDING,{text:""})}return $}async queueEmbeddingGeneration($,q){if(q=q||"normal",!$)return;if($.embedding)return;if(!$.content?.text)return;await this.emitEvent("EMBEDDING_GENERATION_REQUESTED",{runtime:this,memory:$,priority:q,source:"runtime",retryCount:0,maxRetries:3,runId:this.getCurrentRunId()})}async getMemories($){return await this.adapter.getMemories($)}async getAllMemories(){let $=["memories","messages","facts","documents"],q=[];for(let _ of $)try{let P=await this.adapter.getMemories({agentId:this.agentId,tableName:_,count:1e4});q.push(...P)}catch(P){this.logger.debug({src:"agent",agentId:this.agentId,tableName:_,error:P instanceof Error?P.message:String(P)},"Failed to get memories")}return q}async getMemoryById($){return await this.adapter.getMemoryById($)}async getMemoriesByIds($,q){return await this.adapter.getMemoriesByIds($,q)}async getMemoriesByRoomIds($){return await this.adapter.getMemoriesByRoomIds($)}async getCachedEmbeddings($){return await this.adapter.getCachedEmbeddings($)}async log($){await this.adapter.log($)}async searchMemories($){let q=await this.adapter.searchMemories($);if($.query)return await this.rerankMemories($.query,q);return q}async rerankMemories($,q){let _=q.map((O)=>({title:O.id,content:O.content.text}));return new RZ(_).search($,q.length).map((O)=>q[O.index])}async createMemory($,q,_){if(_!==void 0)$.unique=_;return await this.adapter.createMemory($,q,_)}async updateMemory($){return await this.adapter.updateMemory($)}async deleteMemory($){await this.adapter.deleteMemory($)}async deleteManyMemories($){await this.adapter.deleteManyMemories($)}async clearAllAgentMemories(){this.logger.info({src:"agent",agentId:this.agentId},"Clearing all memories");let q=(await this.getAllMemories()).map((_)=>_.id).filter((_)=>_!==void 0);if(q.length===0){this.logger.debug({src:"agent",agentId:this.agentId},"No memories to delete");return}await this.adapter.deleteManyMemories(q),this.logger.info({src:"agent",agentId:this.agentId,count:q.length},"Memories cleared")}async deleteAllMemories($,q){await this.adapter.deleteAllMemories($,q)}async countMemories($,q,_){return await this.adapter.countMemories($,q,_)}async getLogs($){return await this.adapter.getLogs($)}async deleteLog($){await this.adapter.deleteLog($)}async createWorld($){return await this.adapter.createWorld($)}async getWorld($){return await this.adapter.getWorld($)}async removeWorld($){await this.adapter.removeWorld($)}async getAllWorlds(){return await this.adapter.getAllWorlds()}async updateWorld($){await this.adapter.updateWorld($)}async getRoom($){let q=await this.adapter.getRoomsByIds([$]);if(!q?.length)return null;return q[0]}async getRoomsByIds($){return await this.adapter.getRoomsByIds($)}async createRoom({id:$,name:q,source:_,type:P,channelId:K,messageServerId:O,worldId:Y}){if(!Y)throw Error("worldId is required");let v=await this.adapter.createRooms([{id:$,name:q,source:_,type:P,channelId:K,messageServerId:O,worldId:Y}]);if(!v.length)throw Error("Failed to create room");return v[0]}async createRooms($){return await this.adapter.createRooms($)}async deleteRoom($){await this.adapter.deleteRoom($)}async deleteRoomsByWorldId($){await this.adapter.deleteRoomsByWorldId($)}async updateRoom($){await this.adapter.updateRoom($)}async getRoomsForParticipant($){return await this.adapter.getRoomsForParticipant($)}async getRoomsForParticipants($){return await this.adapter.getRoomsForParticipants($)}async getRooms($){return await this.adapter.getRoomsByWorld($)}async getRoomsByWorld($){return await this.adapter.getRoomsByWorld($)}async getParticipantUserState($,q){return await this.adapter.getParticipantUserState($,q)}async setParticipantUserState($,q,_){await this.adapter.setParticipantUserState($,q,_)}async createRelationship($){return await this.adapter.createRelationship($)}async updateRelationship($){await this.adapter.updateRelationship($)}async getRelationship($){return await this.adapter.getRelationship($)}async getRelationships($){return await this.adapter.getRelationships($)}async getCache($){return await this.adapter.getCache($)}async setCache($,q){return await this.adapter.setCache($,q)}async deleteCache($){return await this.adapter.deleteCache($)}async createTask($){return await this.adapter.createTask($)}async getTasks($){return await this.adapter.getTasks($)}async getTask($){return await this.adapter.getTask($)}async getTasksByName($){return await this.adapter.getTasksByName($)}async updateTask($,q){await this.adapter.updateTask($,q)}async deleteTask($){await this.adapter.deleteTask($)}on($,q){if(!this.eventHandlers.has($))this.eventHandlers.set($,[]);this.eventHandlers.get($)?.push(q)}off($,q){if(!this.eventHandlers.has($))return;let _=this.eventHandlers.get($),P=_.indexOf(q);if(P!==-1)_.splice(P,1)}emit($,q){if(!this.eventHandlers.has($))return;for(let _ of this.eventHandlers.get($))_(q)}async sendControlMessage($){let{roomId:q,action:_,target:P}=$,K={type:"control",payload:{action:_,target:P},roomId:q};try{await this.emitEvent("CONTROL_MESSAGE",{runtime:this,message:K,source:"agent"}),this.logger.debug({src:"agent",agentId:this.agentId,action:_,channelId:q},"Control message sent")}catch(O){this.logger.error({src:"agent",agentId:this.agentId,error:O instanceof Error?O.message:String(O)},"Control message failed")}}registerSendHandler($,q){if(this.sendHandlers.has($))this.logger.warn({src:"agent",agentId:this.agentId,handlerSource:$},"Send handler already registered, overwriting");this.sendHandlers.set($,q),this.logger.debug({src:"agent",agentId:this.agentId,handlerSource:$},"Send handler registered")}async sendMessageToTarget($,q){let _=this.sendHandlers.get($.source);if(!_){let P=`No send handler registered for source: ${$.source}`;throw this.logger.error({src:"agent",agentId:this.agentId,handlerSource:$.source},"Send handler not found"),Error(P)}try{await _(this,$,q)}catch(P){throw this.logger.error({src:"agent",agentId:this.agentId,handlerSource:$.source,error:P instanceof Error?P.message:String(P)},"Send handler failed"),P}}async getMemoriesByWorldId($){return await this.adapter.getMemoriesByWorldId($)}async runMigrations($){if(this.adapter?.runMigrations)await this.adapter.runMigrations($);else this.logger.warn({src:"agent",agentId:this.agentId},"Database adapter does not support migrations")}async isReady(){if(!this.adapter)throw Error("Database adapter not registered");return await this.adapter.isReady()}hasElizaOS(){return this.elizaOS!==void 0}}var nR=null;async function iR($,q){if(NP()!=="node"||q?.skipEnvMerge)return!1;let _={};if(nR!==null)for(let K of nR){let O=process.env[K];if(O!==void 0)_[K]=O}else for(let[K,O]of Object.entries(process.env))if(O!==void 0)_[K]=O;$.settings??={};let P=$.settings.secrets&&typeof $.settings.secrets==="object"?{...$.settings.secrets}:{};return $.settings.secrets={..._,...P},!0}function Va(){return typeof process<"u"&&(process.versions?.node!==void 0||process.versions?.bun!==void 0)}function hZ(){if(Va())return tq(),H6(Uq);return I8("crypto-browserify")}function DZ($){let _=hZ().createHash($);return{update(P){return _.update(P),this},digest(){return new Uint8Array(_.digest())}}}function BR($,q,_){if($!=="aes-256-cbc")throw Error(`Unsupported algorithm: ${$}. Only 'aes-256-cbc' is currently supported.`);let K=hZ().createCipheriv($,q,_);return{update(O,Y,v){let W=K.update(Buffer.from(O,Y),void 0,v);return typeof W==="string"?W:W.toString(v)},final(O){let Y=K.final(O);return typeof Y==="string"?Y:Y.toString(O)}}}function UR($,q,_){if($!=="aes-256-cbc")throw Error(`Unsupported algorithm: ${$}. Only 'aes-256-cbc' is currently supported.`);let K=hZ().createDecipheriv($,q,_);return{update(O,Y,v){let W=K.update(Buffer.from(O,Y),void 0,v);return typeof W==="string"?W:W.toString(v)},final(O){let Y=K.final(O);return typeof Y==="string"?Y:Y.toString(O)}}}function Ma($){return{name:$.name,description:$.description,usageDescription:$.usageDescription||"",value:null,required:$.required,validation:$.validation||void 0,public:$.public||!1,secret:$.secret||!1,dependsOn:$.dependsOn||[],onSetAction:$.onSetAction||void 0,visibleIf:$.visibleIf||void 0}}var pP=null,LZ=!1,Na=300000;function l_(){let $=x_("SECRET_SALT","secretsalt")||"secretsalt",q=Date.now();if(pP!==null){if(q-pP.timestamp<Na&&pP.value===$)return pP.value}if($==="secretsalt"&&!LZ)M6.warn({src:"core:settings"},"SECRET_SALT is not set or using default value"),LZ=!0;return pP={value:$,timestamp:q},$}function tv$(){pP=null,LZ=!1}function FR($,q){if($===void 0||$===null)return $;if(typeof $==="boolean"||typeof $==="number")return $;if(typeof $!=="string")return $;let _=$.split(":");if(_.length===2)try{if(AK.fromHex(_[0]).length===16)return $}catch{}let P=DZ("sha256").update(q).digest().slice(0,32),K=AK.randomBytes(16),O=BR("aes-256-cbc",P,K),Y=O.update($,"utf8","hex");return Y+=O.final("hex"),`${AK.toHex(K)}:${Y}`}function aY($,q){try{let _=$.split(":");if(_.length!==2)return $;let P=AK.fromHex(_[0]),K=_[1];if(P.length!==16)return $;let O=DZ("sha256").update(q).digest().slice(0,32),Y=UR("aes-256-cbc",O,P),v=Y.update(K,"hex","utf8");return v+=Y.final("utf8"),v}catch(_){return M6.error({src:"core:settings",error:_},"Decryption failed"),$}}function Ca($,q){let _={...$};if($.secret===!0&&typeof $.value==="string"&&$.value)_.value=FR($.value,q);return _}function Ea($,q){let _={...$};if($.secret===!0&&typeof $.value==="string"&&$.value)_.value=aY($.value,q);return _}function Ra($,q){let _={};for(let[P,K]of Object.entries($))_[P]=Ca(K,q);return _}function QR($,q){let _={};for(let[P,K]of Object.entries($))_[P]=Ea(K,q);return _}async function Fv$($,q,_){let P=w_($,q),K=await $.getWorld(P);if(!K)return M6.error({src:"core:settings",serverId:q},"World not found"),!1;if(!K.metadata)K.metadata={};let O=l_(),Y=Ra(_,O);return K.metadata.settings=Y,await $.updateWorld(K),!0}async function Qv$($,q){let _=w_($,q),P=await $.getWorld(_);if(!P||!P.metadata?.settings)return null;let K=P.metadata.settings,O=l_();return QR(K,O)}async function av$($,q,_){if(q.metadata?.settings){M6.debug({src:"core:settings",serverId:q.messageServerId},"Onboarding state already exists");let K=q.metadata.settings,O=l_();return QR(K,O)}let P={};if(_.settings)for(let[K,O]of Object.entries(_.settings))P[K]=Ma(O);if(!q.metadata)q.metadata={};return q.metadata.settings=P,await $.updateWorld(q),M6.info({src:"core:settings",serverId:q.messageServerId},"Settings config initialized"),P}function ev$($){let q=JSON.parse(JSON.stringify($)),_=l_();if(q.settings?.secrets)q.settings.secrets=e7(q.settings.secrets,_);if(q.secrets)q.secrets=e7(q.secrets,_);return q}function sv$($,q){let _=JSON.parse(JSON.stringify($)),P=l_();if(_.settings?.secrets)_.settings.secrets=tR(_.settings.secrets,P);if(_.secrets)_.secrets=tR(_.secrets,P);return _}function e7($,q){let _={};for(let[P,K]of Object.entries($))if(typeof K==="string"&&K)_[P]=FR(K,q);else _[P]=K;return _}function tR($,q){let _={};for(let[P,K]of Object.entries($))if(typeof K==="string"&&K)_[P]=aY(K,q);else _[P]=K;return _}class aR{serviceType;startFn;stopFn;description;constructor($){this.serviceType=$,this.description=""}withDescription($){return this.description=$,this}withStart($){return this.startFn=$,this}withStop($){return this.stopFn=$,this}build(){let $=this.serviceType,q=this.description,_=this.startFn,P=this.stopFn;class K extends _O{static serviceType=$;capabilityDescription=q;static async start(O){if(!_)throw Error(`Start function not defined for service ${$}`);return _(O)}async stop(){if(P)await P()}}return K}}function Ia($){return new aR($)}function _z$($){return Ia($.serviceType).withDescription($.description).withStart($.start).withStop($.stop||(()=>Promise.resolve())).build()}var eR=new Set;function ha(){if(process.env.ELIZA_NO_AUTO_INSTALL==="true")return!1;if(process.env.ELIZA_NO_PLUGIN_AUTO_INSTALL==="true")return!1;if(process.env.CI==="true")return!1;if(process.env.ELIZA_TEST_MODE==="true")return!1;return!0}async function Da($){try{if(!ha())return M6.debug({src:"core:plugin",pluginName:$},"Auto-install disabled, skipping"),!1;if(eR.has($))return M6.debug({src:"core:plugin",pluginName:$},"Auto-install already attempted, skipping"),!1;if(eR.add($),typeof Bun>"u"||typeof Bun.spawn!=="function")return M6.warn({src:"core:plugin",pluginName:$},"Bun runtime not available, cannot auto-install"),!1;try{if(await Bun.spawn(["bun","--version"],{stdout:"pipe",stderr:"pipe"}).exited!==0)return M6.warn({src:"core:plugin",pluginName:$},"Bun not available on PATH, cannot auto-install"),!1}catch{return M6.warn({src:"core:plugin",pluginName:$},"Bun not available on PATH, cannot auto-install"),!1}M6.info({src:"core:plugin",pluginName:$},"Auto-installing missing plugin");let _=await Bun.spawn(["bun","add",$],{cwd:process.cwd(),env:process.env,stdout:"inherit",stderr:"inherit"}).exited;if(_===0)return M6.info({src:"core:plugin",pluginName:$},"Plugin installed, retrying import"),!0;return M6.error({src:"core:plugin",pluginName:$,exitCode:_},"Plugin installation failed"),!1}catch(q){let _=q instanceof Error?q.message:String(q);return M6.error({src:"core:plugin",pluginName:$,error:_},"Unexpected error during auto-install"),!1}}function sR($){if(!$||typeof $!=="object")return!1;let q=$;if(!q.name)return!1;return!!(q.init||q.services||q.providers||q.actions||q.evaluators||q.description)}function La($){let q=[];if(!$)return q.push("Plugin is null or undefined"),{isValid:!1,errors:q};let _=$;if(!_.name)q.push("Plugin must have a name");if(_.actions){if(!Array.isArray(_.actions))q.push("Plugin actions must be an array");else if(_.actions.filter((K)=>typeof K!=="object"||!K).length>0)q.push("Plugin actions must be an array of action objects")}if(_.services){if(!Array.isArray(_.services))q.push("Plugin services must be an array");else if(_.services.filter((K)=>typeof K!=="function"&&(typeof K!=="object"||!K)).length>0)q.push("Plugin services must be an array of service classes or objects")}if(_.providers&&!Array.isArray(_.providers))q.push("Plugin providers must be an array");if(_.evaluators&&!Array.isArray(_.evaluators))q.push("Plugin evaluators must be an array");return{isValid:q.length===0,errors:q}}async function ga($){let q;try{q=await import($)}catch(O){if(M6.warn({src:"core:plugin",pluginName:$,error:O},"Failed to load plugin"),!await Da($))return null;try{q=await import($)}catch(v){return M6.error({src:"core:plugin",pluginName:$,error:v},"Import failed after auto-install"),null}}if(!q)return M6.error({src:"core:plugin",pluginName:$},"Failed to load plugin module"),null;let _=`${$.replace(/^@elizaos\/plugin-/,"").replace(/^@elizaos\//,"").replace(/-./g,(O)=>O[1].toUpperCase())}Plugin`,P=q,K=[P[_],P.default,...Object.values(P)];for(let O of K){if(sR(O))return O;if(typeof O==="function"&&O.length===0){let Y=O();if(sR(Y))return Y}}return M6.warn({src:"core:plugin",pluginName:$},"No valid plugin export found"),null}function s7($){let q=$.match(/^@[^/]+\/plugin-(.+)$/);if(q)return q[1];return $}function qI($,q=!1){let _=[],P=new Set,K=new Set,O=new Map;for(let[W,T]of $.entries()){if(O.set(W,T),T.name!==W)O.set(T.name,T);if(!T.name.startsWith("@"))O.set(`@elizaos/plugin-${T.name}`,T);let Z=s7(W);if(Z!==W)O.set(Z,T)}function Y(W){let T=O.get(W);if(!T){let k=s7(W),M=O.get(k);if(!M){M6.warn({src:"core:plugin",pluginName:W},"Plugin dependency not found, skipping");return}return Y(M.name)}let Z=T.name;if(P.has(Z))return;if(K.has(Z)){M6.error({src:"core:plugin",pluginName:Z},"Circular dependency detected");return}K.add(Z);let w=[...T.dependencies||[]];if(q)w.push(...T.testDependencies||[]);for(let k of w)Y(k);K.delete(Z),P.add(Z),_.push(Z)}for(let W of $.values())if(!P.has(W.name))Y(W.name);let v=_.map((W)=>{for(let T of $.values())if(T.name===W)return T;return null}).filter((W)=>Boolean(W));return M6.debug({src:"core:plugin",plugins:v.map((W)=>W.name)},"Plugins resolved"),v}async function ba($){if(typeof $==="string")return ga($);let q=La($);if(!q.isValid)return M6.error({src:"core:plugin",errors:q.errors},"Invalid plugin provided"),null;return $}function $I($,q,_,P){let K=s7($);if(!(q.has($)||q.has(K)||Array.from(_.keys()).some((Y)=>s7(Y)===K)||Array.from(_.values()).some((Y)=>s7(Y.name)===K||Y.name===$||Y.name===K)))q.add($),q.add(K),P.push($)}async function ya($,q=!1){let _=new Map,P=[...$],K=new Set;while(P.length>0){let O=P.shift(),Y=await ba(O);if(!Y)continue;let v=Y.name;if(!_.has(v)){_.set(v,Y);for(let W of Y.dependencies??[])$I(W,K,_,P);if(q)for(let W of Y.testDependencies??[])$I(W,K,_,P)}}return qI(_,q)}async function _I($,q=!1){if(NP()==="node")return ya($,q);let P=$.filter((O)=>typeof O!=="string");if($.some((O)=>typeof O==="string")){let O=$.filter((Y)=>typeof Y==="string");M6.warn({src:"core:plugin",skippedPlugins:O},"Browser environment: String plugin references not supported")}let K=new Map;for(let O of P)K.set(O.name,O);return qI(K,q)}class ua extends EventTarget{runtimes=new Map;initFunctions=new Map;editableMode=!1;async addAgents($,q){let _=[],P=$.map(async(O)=>{let Y=JSON.parse(JSON.stringify(O.character));await iR(Y,{skipEnvMerge:q?.isTestMode});let v=l_();if(Y.settings?.secrets&&typeof Y.settings.secrets==="object")Y.settings.secrets=e7(Y.settings.secrets,v);if(Y.secrets&&typeof Y.secrets==="object")Y.secrets=e7(Y.secrets,v);let W=O.plugins?await _I(O.plugins,q?.isTestMode||!1):[];if(O.databaseAdapter)W=W.filter((N)=>N.name!=="@elizaos/plugin-sql");let T=new IZ({character:Y,plugins:W,settings:O.settings||{}});if(O.databaseAdapter)T.registerDatabaseAdapter(O.databaseAdapter);if(T.elizaOS=this,!q?.ephemeral)this.runtimes.set(T.agentId,T);if(typeof O.init==="function")this.initFunctions.set(T.agentId,O.init);let{settings:Z,...w}=Y,{secrets:k,...M}=Z||{};return this.dispatchEvent(new CustomEvent("agent:added",{detail:{agentId:T.agentId,character:{...w,settings:M},ephemeral:q?.ephemeral}})),_.push(T),T.agentId}),K=await Promise.all(P);if(q?.autoStart)await Promise.all(_.map(async(O)=>{await O.initialize({skipMigrations:q?.skipMigrations});let Y=this.initFunctions.get(O.agentId);if(Y)await Y(O),this.initFunctions.delete(O.agentId);this.dispatchEvent(new CustomEvent("agent:started",{detail:{agentId:O.agentId}}))}));if(this.dispatchEvent(new CustomEvent("agents:added",{detail:{agentIds:K,count:K.length,ephemeral:q?.ephemeral}})),q?.returnRuntimes)return _;return K}registerAgent($){if(this.runtimes.has($.agentId))throw Error(`Agent ${$.agentId} already registered`);$.elizaOS=this,this.runtimes.set($.agentId,$),this.dispatchEvent(new CustomEvent("agent:registered",{detail:{agentId:$.agentId,runtime:$}}))}async updateAgent($,q){if(!this.editableMode)throw Error("Editable mode not enabled");let _=this.runtimes.get($);if(!_)throw Error(`Agent ${$} not found`);Object.assign(_.character,q),this.dispatchEvent(new CustomEvent("agent:updated",{detail:{agentId:$,updates:q}}))}async deleteAgents($){await this.stopAgents($);for(let q of $)this.runtimes.delete(q),this.initFunctions.delete(q);this.dispatchEvent(new CustomEvent("agents:deleted",{detail:{agentIds:$,count:$.length}}))}async startAgents($){let q=$||Array.from(this.runtimes.keys());await Promise.all(q.map(async(_)=>{let P=this.runtimes.get(_);if(!P)throw Error(`Agent ${_} not found`);await P.initialize(),this.dispatchEvent(new CustomEvent("agent:started",{detail:{agentId:_}}))}));for(let _ of q){let P=this.initFunctions.get(_);if(P){let K=this.runtimes.get(_);if(K)await P(K),this.initFunctions.delete(_)}}this.dispatchEvent(new CustomEvent("agents:started",{detail:{agentIds:q,count:q.length}}))}async stopAgents($){let q=$||Array.from(this.runtimes.keys());await Promise.all(q.map(async(_)=>{let P=this.runtimes.get(_);if(P)await P.stop()})),this.dispatchEvent(new CustomEvent("agents:stopped",{detail:{agentIds:q,count:q.length}}))}getAgent($){return this.runtimes.get($)}getAgents(){return Array.from(this.runtimes.values())}getAgentsByIds($){return $.map((q)=>this.runtimes.get(q)).filter((q)=>q!==void 0)}getAgentsByNames($){let q=new Set($.map((_)=>_.toLowerCase()));return this.getAgents().filter((_)=>q.has(_.character.name.toLowerCase()))}getAgentById($){return this.getAgent($)}getAgentByName($){let q=$.toLowerCase();return this.getAgents().find((_)=>_.character.name.toLowerCase()===q)}getAgentByCharacterName($){return this.getAgentByName($)}getAgentByCharacterId($){return this.getAgents().find((q)=>q.character.id===$)}async handleMessage($,q,_){let P,K;if(typeof $==="string"){if(K=$,P=this.runtimes.get(K),!P)throw Error(`Agent ${K} not found in registry`)}else P=$,K=P.agentId;if(!P.messageService)throw Error("messageService is not initialized on runtime");let O=q.id||O8(),Y={...q,id:O,agentId:q.agentId||P.agentId,createdAt:q.createdAt||Date.now(),entityId:q.entityId,roomId:q.roomId,content:q.content};await P.ensureConnection({entityId:Y.entityId,roomId:Y.roomId,worldId:q.worldId||Y.roomId,source:Y.content.source||"unknown",channelId:Y.roomId});let v={maxRetries:_?.maxRetries,timeoutDuration:_?.timeoutDuration,useMultiStep:_?.useMultiStep,maxMultiStepIterations:_?.maxMultiStepIterations,onStreamChunk:_?.onStreamChunk},W=async(Z)=>{if(P.withEntityContext)return await P.withEntityContext(Y.entityId,Z);else return await Z()};if(!!_?.onResponse){let Z=async(w)=>{try{if(_.onResponse)await _.onResponse(w)}catch(k){if(_.onError)await _.onError(k instanceof Error?k:Error(String(k)))}return[]};return W(()=>P.messageService.handleMessage(P,Y,Z,v)).then(()=>{if(_.onComplete)_.onComplete()}).catch((w)=>{if(_.onError)_.onError(w)}),this.dispatchEvent(new CustomEvent("message:sent",{detail:{agentId:K,messageId:O,mode:"async"}})),{messageId:O,userMessage:Y}}else{let Z=await W(()=>P.messageService.handleMessage(P,Y,void 0,v));if(_?.onComplete)await _.onComplete();return this.dispatchEvent(new CustomEvent("message:sent",{detail:{agentId:K,messageId:O,mode:"sync",processing:Z}})),{messageId:O,userMessage:Y,processing:Z}}}async handleMessages($){let q=await Promise.all($.map(async({agentId:_,message:P,options:K})=>{try{let O=await this.handleMessage(_,P,K);return{agentId:_,result:O}}catch(O){return{agentId:_,result:{messageId:P.id||"",userMessage:P},error:O instanceof Error?O:Error(String(O))}}}));return this.dispatchEvent(new CustomEvent("messages:sent",{detail:{results:q,count:$.length}})),q}async validateApiKeys($){let q=new Map,_=$||Array.from(this.runtimes.keys());for(let P of _){let K=this.runtimes.get(P);if(K){let O=!!(K.getSetting("OPENAI_API_KEY")||K.getSetting("ANTHROPIC_API_KEY"));q.set(P,O)}}return q}async healthCheck($){let q=new Map,_=$||Array.from(this.runtimes.keys());for(let P of _){let O={alive:!!this.runtimes.get(P),responsive:!0};if(typeof process<"u")O.memoryUsage=process.memoryUsage().heapUsed,O.uptime=process.uptime();q.set(P,O)}return q}getRuntimeAccessor(){return{getAgent:($)=>this.getAgent($),getAgents:()=>this.getAgents(),getState:($)=>{let q=this.getAgent($);if(!q)return;if(q.stateCache&&q.stateCache.size>0){let _=Array.from(q.stateCache.values());return _[_.length-1]}return}}}enableEditableMode(){this.editableMode=!0,this.dispatchEvent(new CustomEvent("mode:editable",{detail:{editable:!0}}))}}var xa=`# Task: Resolve Entity Name
Message Sender: {{senderName}} (ID: {{senderId}})
Agent: {{agentName}} (ID: {{agentId}})

# Entities in Room:
{{#if entitiesInRoom}}
{{entitiesInRoom}}
{{/if}}

{{recentMessages}}

# Instructions:
1. Analyze the context to identify which entity is being referenced
2. Consider special references like "me" (the message sender) or "you" (agent the message is directed to)
3. Look for usernames/handles in standard formats (e.g. @username, user#1234)
4. Consider context from recent messages for pronouns and references
5. If multiple matches exist, use context to disambiguate
6. Consider recent interactions and relationship strength when resolving ambiguity

Do NOT include any thinking, reasoning, or <think> sections in your response. 
Go directly to the XML response format without any preamble or explanation.

Return an XML response with:
<response>
  <entityId>exact-id-if-known-otherwise-null</entityId>
  <type>EXACT_MATCH | USERNAME_MATCH | NAME_MATCH | RELATIONSHIP_MATCH | AMBIGUOUS | UNKNOWN</type>
  <matches>
    <match>
      <name>matched-name</name>
      <reason>why this entity matches</reason>
    </match>
  </matches>
</response>

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.`;async function pa($,q,_,P,K){let O=[],Y=await $.getMemories({tableName:"messages",roomId:P,count:20});for(let v of _){let W=[],T=0,Z=Y.filter((M)=>M.entityId===q&&M.content.inReplyTo===v.id||M.entityId===v.id&&M.content.inReplyTo===q);W.push(...Z);let w=K.find((M)=>M.sourceEntityId===q&&M.targetEntityId===v.id||M.targetEntityId===q&&M.sourceEntityId===v.id);if(w?.metadata?.interactions)T=w.metadata.interactions;T+=Z.length;let k=[...new Set(W)];O.push({entity:v,interactions:k.slice(-5),count:Math.round(T)})}return O.sort((v,W)=>W.count-v.count)}async function Xz$($,q,_){let P=_.data.room??await $.getRoom(q.roomId);if(!P)return M6.warn({src:"core:entities",roomId:q.roomId},"Room not found for entity search"),null;let K=P.worldId?await $.getWorld(P.worldId):null,O=await $.getEntitiesForRoom(P.id,!0),Y=await Promise.all(O.map(async(E)=>{if(!E.components)return E;let D=K?.metadata?.roles||{};return E.components=E.components.filter((h)=>{if(h.sourceEntityId===q.entityId)return!0;if(K&&h.sourceEntityId){let L=D[h.sourceEntityId];if(L==="OWNER"||L==="ADMIN")return!0}if(h.sourceEntityId===$.agentId)return!0;return!1}),E})),v=await $.getRelationships({entityId:q.entityId}),W=await Promise.all(v.map(async(E)=>{let D=E.sourceEntityId===q.entityId?E.targetEntityId:E.sourceEntityId;return $.getEntityById(D)})),T=[...Y,...W.filter((E)=>E!==null)],Z=await pa($,q.entityId,T,P.id,v),w=ER({state:{roomName:P.name||P.id,worldName:K?.name||"Unknown",entitiesInRoom:JSON.stringify(Y,null,2),entityId:q.entityId,senderId:q.entityId},template:xa}),k=await $.useModel(A6.TEXT_SMALL,{prompt:w,stopSequences:[]}),M=T_(k);if(!M)return M6.warn({src:"core:entities"},"Failed to parse entity resolution result"),null;if(M.type==="EXACT_MATCH"&&M.entityId){let E=await $.getEntityById(M.entityId);if(E){if(E.components){let D=K?.metadata?.roles||{};E.components=E.components.filter((h)=>{if(h.sourceEntityId===q.entityId)return!0;if(K&&h.sourceEntityId){let L=D[h.sourceEntityId];if(L==="OWNER"||L==="ADMIN")return!0}if(h.sourceEntityId===$.agentId)return!0;return!1})}return E}}let N=[],R=M;if(R.matches?.match){let E=R.matches.match;N=Array.isArray(E)?E:[E]}if(N.length>0&&N[0]?.name){let E=N[0].name.toLowerCase(),D=T.find((h)=>{if(h.names.some((L)=>L.toLowerCase()===E))return!0;return h.components?.some((L)=>L.data.username?.toLowerCase()===E||L.data.handle?.toLowerCase()===E)});if(D)if(M.type==="RELATIONSHIP_MATCH"){let h=Z.find((L)=>L.entity.id===D.id);if(h&&h.count>0)return D}else return D}return null}var w_=($,q)=>{if(q===$.agentId)return $.agentId;let _=`${q}:${$.agentId}`;return FY(_)};async function Az$({runtime:$,roomId:q}){let[_,P]=await Promise.all([$.getRoom(q),$.getEntitiesForRoom(q,!0)]),K=new Map;for(let O of P){if(K.has(O.id))continue;let Y={};for(let T of O.components||[])Object.assign(Y,T.data);let v={};for(let[T,Z]of Object.entries(Y)){if(!v[T]){v[T]=Z;continue}if(Array.isArray(v[T])&&Array.isArray(Z))v[T]=[...new Set([...v[T],...Z])];else if(typeof v[T]==="object"&&typeof Z==="object")v[T]={...v[T],...Z}}let W=(T)=>{let Z=O.metadata[T];if(Z&&typeof Z==="object"&&Z!==null){let w=Z;if("name"in w&&typeof w.name==="string")return w.name}return};K.set(O.id,{id:O.id,name:_?.source?W(_.source)||O.names[0]:O.names[0],names:O.names,data:JSON.stringify({...v,...O.metadata})})}return Array.from(K.values())}function kz$({entities:$}){return $.map((_)=>{return`"${_.names.join('" aka "')}"
ID: ${_.id}${_.metadata&&Object.keys(_.metadata).length>0?`
Data: ${JSON.stringify(_.metadata)}
`:`
`}`}).join(`
`)}xZ(cZ());var Mz$=!0,Nz$=!1,Cz$={check:async()=>({status:"not-applicable",environment:"browser"}),isHealthy:()=>!0};export{xQ as validateUuid,yR as validateCharacter,bR as uuidSchema,Fv$ as updateWorldSettings,QR as unsaltWorldSettings,Ea as unsaltSettingValue,hR as truncateToCompleteSentence,Ej$ as trimTokens,eQ as toString,uR as toHex,iQ as templateTypeSchema,BQ as styleSchema,FY as stringToUuid,Cj$ as splitChunks,_a as slice,pR as shouldRespondTemplate,UQ as settingsSchema,xZ as setStreamingContextManager,FY$ as setEnv,Cz$ as serverHealth,tQ as secretsSchema,Ra as saltWorldSettings,Ca as saltSettingValue,Rj$ as safeReplacer,kK as runWithStreamingContext,tY$ as resetEnvironmentCache,zj$ as removeLogListener,Hj$ as recentLogs,Ya as randomBytes,Ij$ as prewarmUuidCache,qv$ as postCreationTemplate,T_ as parseKeyValueXml,Nj$ as parseJSONObjectFromText,F7 as parseBooleanFromText,yj$ as parseAndValidateCharacter,NR as normalizeJsonString,lR as multiStepSummaryTemplate,dR as multiStepDecisionTemplate,cR as messageHandlerTemplate,rQ as messageExampleSchema,dQ as mediaSchema,M6 as logger,$O$ as loadEnvFilesWithPrecedence,IF as loadEnvFile,nQ as knowledgeItemSchema,uj$ as isValidCharacter,Qa as isStreamableModelType,Nz$ as isNode,tj$ as isMessageMetadata,Uj$ as isFragmentMetadata,ej$ as isFragmentMemory,Bj$ as isDocumentMetadata,aj$ as isDocumentMemory,Fj$ as isDescriptionMetadata,Qj$ as isCustomMetadata,wZ as isBuffer,Mz$ as isBrowser,av$ as initializeOnboarding,eY$ as initBrowserEnvironment,mR as imageDescriptionTemplate,QY$ as hasEnv,Qv$ as getWorldSettings,Ov$ as getUserServerRole,Ua as getTypedService,ma as getStreamingContextManager,Y4 as getStreamingContext,l_ as getSalt,IE as getNumberEnv,sj$ as getMemoryText,gR as getLocalServerUrl,CP as getEnvironment,x_ as getEnv,Az$ as getEntityDetails,hj$ as getContentTypeFromMimeType,aY$ as getBooleanEnv,aQ as fromString,QQ as fromHex,$a as fromBytes,IR as formatTimestamp,Sj$ as formatPosts,Mj$ as formatMessages,kz$ as formatEntities,lj$ as formatActions,dj$ as formatActionNames,jv$ as findWorldsForOwner,RF as findEnvFile,Xz$ as findEntityByName,hF as findAllEnvFiles,Ka as equals,ev$ as encryptedCharacter,FR as encryptStringValue,e7 as encryptObjectValues,Wj$ as elizaLogger,oQ as directoryItemSchema,NP as detectEnvironment,_z$ as defineService,sv$ as decryptedCharacter,aY as decryptStringValue,aY as decryptSecret,tR as decryptObjectValues,Jj$ as customLevels,sY$ as currentRuntime,w_ as createUniqueUuid,Ma as createSettingFromConfig,ta as createServiceError,Ia as createService,ij$ as createMessageMemory,U7 as createLogger,lQ as contentSchema,qa as concat,t7 as composePromptFromState,ER as composePrompt,mj$ as composeActionExamples,tv$ as clearSaltCache,FQ as characterSchema,Pa as byteLength,_v$ as booleanFooter,qO as asUUID,sQ as alloc,vj$ as addLogListener,Vj$ as addHeader,Yj$ as __loggerTestHooks,ea as VECTOR_DIMS,WI as TeeType,JI as TEEMode,Ba as ServiceType,aR as ServiceBuilder,_O as Service,Ga as Semaphore,HI as SOCKET_MESSAGE_TYPE,OI as Role,zI as PlatformPrefix,A6 as ModelType,jI as MemoryType,lP as MODEL_SETTINGS,_e as MESSAGE_STREAM_EVENT,KO as EventType,yw as Environment,ua as ElizaOS,CZ as DefaultMessageService,ja as DatabaseAdapter,mP as ContentType,dP as ChannelType,AK as BufferUtils,RZ as BM25,vI as AgentStatus,IZ as AgentRuntime};

//# debugId=3B798F9C7899335B64756E2164756E21
//# sourceMappingURL=index.browser.js.map
