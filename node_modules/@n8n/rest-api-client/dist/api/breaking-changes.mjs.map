{"version":3,"file":"breaking-changes.mjs","names":[],"sources":["../../src/api/breaking-changes.ts"],"sourcesContent":["import type {\n\tBreakingChangeLightReportResult,\n\tBreakingChangeWorkflowRuleResult,\n\tBreakingChangeVersion,\n} from '@n8n/api-types';\n\nimport type { IRestApiContext } from '../types';\nimport { makeRestApiRequest, get } from '../utils';\n\ntype BreakingChangeQuery = {\n\tversion?: BreakingChangeVersion;\n};\n\nexport async function getReport(\n\tcontext: IRestApiContext,\n\tquery?: BreakingChangeQuery,\n): Promise<BreakingChangeLightReportResult> {\n\treturn (await get(context.baseUrl, '/breaking-changes/report', query)).data;\n}\n\nexport async function refreshReport(\n\tcontext: IRestApiContext,\n\tquery?: BreakingChangeQuery,\n): Promise<BreakingChangeLightReportResult> {\n\tconst refreshUrl = query?.version\n\t\t? `/breaking-changes/report/refresh?version=${query.version}`\n\t\t: '/breaking-changes/report/refresh';\n\n\treturn await makeRestApiRequest(context, 'POST', refreshUrl);\n}\n\nexport async function getReportForRule(\n\tcontext: IRestApiContext,\n\truleId: string,\n): Promise<BreakingChangeWorkflowRuleResult> {\n\treturn (await get(context.baseUrl, `/breaking-changes/report/${ruleId}`)).data;\n}\n"],"mappings":";;;AAaA,eAAsB,UACrB,SACA,OAC2C;AAC3C,SAAQ,MAAM,IAAI,QAAQ,SAAS,4BAA4B,MAAM,EAAE;;AAGxE,eAAsB,cACrB,SACA,OAC2C;AAK3C,QAAO,MAAM,mBAAmB,SAAS,QAJtB,OAAO,UACvB,4CAA4C,MAAM,YAClD,mCAEyD;;AAG7D,eAAsB,iBACrB,SACA,QAC4C;AAC5C,SAAQ,MAAM,IAAI,QAAQ,SAAS,4BAA4B,SAAS,EAAE"}