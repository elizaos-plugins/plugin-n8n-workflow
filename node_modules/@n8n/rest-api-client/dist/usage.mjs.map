{"version":3,"file":"usage.mjs","names":[],"sources":["../src/api/usage.ts"],"sourcesContent":["import type { CommunityRegisteredRequestDto, UsageState } from '@n8n/api-types';\n\nimport type { IRestApiContext } from '../types';\nimport { makeRestApiRequest } from '../utils';\n\nexport const getLicense = async (context: IRestApiContext): Promise<UsageState['data']> => {\n\treturn await makeRestApiRequest(context, 'GET', '/license');\n};\n\nexport const activateLicenseKey = async (\n\tcontext: IRestApiContext,\n\tdata: {\n\t\tactivationKey: string;\n\t\teulaUri?: string;\n\t},\n): Promise<UsageState['data']> => {\n\treturn await makeRestApiRequest(context, 'POST', '/license/activate', data);\n};\n\nexport const renewLicense = async (context: IRestApiContext): Promise<UsageState['data']> => {\n\treturn await makeRestApiRequest(context, 'POST', '/license/renew');\n};\n\nexport const requestLicenseTrial = async (\n\tcontext: IRestApiContext,\n): Promise<UsageState['data']> => {\n\treturn await makeRestApiRequest(context, 'POST', '/license/enterprise/request_trial');\n};\n\nexport const registerCommunityEdition = async (\n\tcontext: IRestApiContext,\n\tparams: CommunityRegisteredRequestDto,\n): Promise<{ title: string; text: string }> => {\n\treturn await makeRestApiRequest(\n\t\tcontext,\n\t\t'POST',\n\t\t'/license/enterprise/community-registered',\n\t\tparams,\n\t);\n};\n"],"mappings":";;;AAKA,MAAa,aAAa,OAAO,YAA0D;AAC1F,QAAO,MAAM,mBAAmB,SAAS,OAAO,WAAW;;AAG5D,MAAa,qBAAqB,OACjC,SACA,SAIiC;AACjC,QAAO,MAAM,mBAAmB,SAAS,QAAQ,qBAAqB,KAAK;;AAG5E,MAAa,eAAe,OAAO,YAA0D;AAC5F,QAAO,MAAM,mBAAmB,SAAS,QAAQ,iBAAiB;;AAGnE,MAAa,sBAAsB,OAClC,YACiC;AACjC,QAAO,MAAM,mBAAmB,SAAS,QAAQ,oCAAoC;;AAGtF,MAAa,2BAA2B,OACvC,SACA,WAC8C;AAC9C,QAAO,MAAM,mBACZ,SACA,QACA,4CACA,OACA"}